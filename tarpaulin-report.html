<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <style>html, body {
  margin: 0;
  padding: 0;
}

.app {
  margin: 10px;
  padding: 0;
}

.files-list {
  margin: 10px 0 0;
  width: 100%;
  border-collapse: collapse;
}
.files-list__head {
  border: 1px solid #999;
}
.files-list__head > tr > th {
  padding: 10px;
  border: 1px solid #999;
  text-align: left;
  font-weight: normal;
  background: #ddd;
}
.files-list__body {
}
.files-list__file {
  cursor: pointer;
}
.files-list__file:hover {
  background: #ccf;
}
.files-list__file > td {
  padding: 10px;
  border: 1px solid #999;
}
.files-list__file > td:first-child::before {
  content: '\01F4C4';
  margin-right: 1em;
}
.files-list__file_low {
  background: #fcc;
}
.files-list__file_medium {
  background: #ffc;
}
.files-list__file_high {
  background: #cfc;
}
.files-list__file_folder > td:first-child::before {
  content: '\01F4C1';
  margin-right: 1em;
}

.file-header {
  border: 1px solid #999;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.file-header__back {
  margin: 10px;
  cursor: pointer;
  flex-shrink: 0;
  flex-grow: 0;
  text-decoration: underline;
  color: #338;
}

.file-header__name {
  margin: 10px;
  flex-shrink: 2;
  flex-grow: 2;
}

.file-header__stat {
  margin: 10px;
  flex-shrink: 0;
  flex-grow: 0;
}

.file-content {
  margin: 10px 0 0;
  border: 1px solid #999;
  padding: 10px;
}

.code-line {
  margin: 0;
  padding: 0.3em;
  height: 1em;
}
.code-line_covered {
  background: #cfc;
}
.code-line_uncovered {
  background: #fcc;
}
</style>
</head>
<body>
    <div id="root"></div>
    <script>
        var data = {"files":[{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","reql-macros","src","func","mod.rs"],"content":"#[cfg(test)]\nmod tests;\n\nuse proc_macro2::{TokenStream, TokenTree};\nuse quote::quote;\nuse std::iter::FromIterator;\nuse syn::Ident;\n\n#[derive(Debug)]\npub(super) struct Func {\n    mv: Option\u003cIdent\u003e,\n    args: Vec\u003cIdent\u003e,\n    body: TokenStream,\n}\n\nimpl Func {\n    pub(super) fn new(input: TokenStream) -\u003e Self {\n        let mut iter = input.into_iter();\n        let mv = iter.next().map(first).unwrap();\n        if mv.is_some() {\n            iter.next().filter(is_pipe).unwrap();\n        }\n        let mut args = Vec::new();\n        while let Some(token) = iter.next() {\n            if is_pipe(\u0026token) {\n                break;\n            }\n            args.push(ident(token));\n            let token = iter.next().unwrap();\n            if is_pipe(\u0026token) {\n                break;\n            }\n            assert_comma(\u0026token);\n        }\n        let body = TokenStream::from_iter(iter);\n        Self { mv, args, body }\n    }\n\n    pub(super) fn process(self) -\u003e TokenStream {\n        let Self { mv, args, body } = self;\n        let mut header = quote!(#mv |);\n        let mut params = TokenStream::new();\n        let func_args = args.len();\n        for (i, arg) in args.into_iter().enumerate() {\n            let var = quote!(Command::var(*ids.get(#i).unwrap()));\n            if i == func_args - 1 {\n                header.extend(quote!(#arg: Command));\n                params.extend(quote!(#var));\n            } else {\n                header.extend(quote!(#arg: Command, ));\n                params.extend(quote!(#var, ));\n            }\n        }\n        header.extend(quote!(|));\n        let closure = quote!(#header #body);\n        quote!({\n            let closure = #closure;\n            let mut ids = Vec::with_capacity(#func_args);\n            for _ in 0..#func_args {\n                let id = var_counter();\n                ids.push(id);\n            }\n            let func = closure(#params);\n            Func::new(ids, func)\n        })\n    }\n}\n\nfn first(token: TokenTree) -\u003e Option\u003cIdent\u003e {\n    if is_pipe(\u0026token) {\n        return None;\n    }\n    match token {\n        TokenTree::Ident(ident) if ident == \"move\" =\u003e Some(ident),\n        _ =\u003e panic!(\"invalid closure\"),\n    }\n}\n\nfn ident(token: TokenTree) -\u003e Ident {\n    match token {\n        TokenTree::Ident(ident) =\u003e ident,\n        _ =\u003e panic!(\"invalid closure\"),\n    }\n}\n\nfn is_pipe(token: \u0026TokenTree) -\u003e bool {\n    matches!(token, TokenTree::Punct(punct) if punct.as_char() == '|')\n}\n\nfn assert_comma(token: \u0026TokenTree) {\n    match token {\n        TokenTree::Punct(punct) if punct.as_char() == ',' =\u003e {}\n        _ =\u003e panic!(\"invalid closure\"),\n    }\n}\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","reql-macros","src","func","tests.rs"],"content":"use super::*;\n\n#[test]\nfn with_move() {\n    Func::new(quote!(move |doc| {\n        doc.get_field(\"author\").bracket(\"name\")\n    }))\n    .process();\n}\n\n#[test]\nfn with_no_arg() {\n    Func::new(quote!(|| r.expr(\"Hello world!\"))).process();\n}\n\n#[test]\nfn with_one_arg() {\n    Func::new(quote!(|doc| { doc.get_field(\"author\").bracket(\"name\") })).process();\n}\n\n#[test]\nfn with_multiple_args() {\n    Func::new(quote!(|with, multiple, args| r.expr(with, multiple, args))).process();\n}\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","reql-macros","src","geometry.rs"],"content":"use quote::quote;\nuse syn::{parse_macro_input, DeriveInput};\n\npub(super) fn parse(input: proc_macro::TokenStream) -\u003e proc_macro::TokenStream {\n    let DeriveInput { ident, .. } = parse_macro_input!(input);\n\n    let output = quote! {\n        impl Geometry for #ident {}\n    };\n\n    output.into()\n}\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","reql-macros","src","lib.rs"],"content":"use func::Func;\nuse proc_macro::TokenStream;\n\nmod geometry;\nmod func;\nmod options;\n\n#[proc_macro]\npub fn func(input: TokenStream) -\u003e TokenStream {\n    Func::new(input.into()).process().into()\n}\n\n#[proc_macro_derive(CommandOptions)]\npub fn command_opts(input: TokenStream) -\u003e TokenStream {\n    options::parse(input)\n}\n\n#[proc_macro_derive(Geometry)]\npub fn make_document(input: TokenStream) -\u003e TokenStream {\n    geometry::parse(input)\n}\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","reql-macros","src","options.rs"],"content":"use proc_macro2::TokenStream;\nuse quote::{quote, ToTokens};\nuse syn::{parse_macro_input, Data, DeriveInput, Fields, GenericArgument, PathArguments, Type};\n\npub(super) fn parse(input: proc_macro::TokenStream) -\u003e proc_macro::TokenStream {\n    let input = parse_macro_input!(input as DeriveInput);\n\n    let mut methods = TokenStream::new();\n\n    match input.data {\n        Data::Struct(data) =\u003e match data.fields {\n            Fields::Named(fields) =\u003e {\n                for field in fields.named {\n                    let name = field.ident;\n                    let mut generics = TokenStream::new();\n                    let mut where_clause = TokenStream::new();\n                    let mut value = quote!(#name);\n                    let mut param = param(\u0026field.ty);\n\n                    if param.is_cow || param.is_db {\n                        generics = quote!(\u003cT\u003e);\n                        where_clause = quote!(where T: crate::cmd::StaticString);\n                        param.ty = quote!(T);\n                        value = quote!(#name.static_string());\n                    }\n\n                    if param.is_db {\n                        value = quote!(Db(#value))\n                    }\n\n                    if param.is_option {\n                        value = quote!(Some(#value))\n                    }\n\n                    let ty = param.ty;\n\n                    methods.extend(quote! {\n                        pub fn #name #generics(mut self, #name: #ty) -\u003e Self #where_clause {\n                            self.#name = #value;\n                            self\n                        }\n                    });\n                }\n            }\n            _ =\u003e unimplemented!(),\n        },\n        Data::Enum(_) | Data::Union(_) =\u003e unimplemented!(),\n    }\n\n    let name = input.ident;\n    let generics = input.generics;\n\n    let options = quote! {\n        impl #generics #name #generics {\n            pub fn new() -\u003e Self {\n                Default::default()\n            }\n\n            #methods\n        }\n    };\n\n    options.into()\n}\n\nstruct Param {\n    ty: TokenStream,\n    is_option: bool,\n    is_cow: bool,\n    is_db: bool,\n}\n\nfn param(typ: \u0026Type) -\u003e Param {\n    if let Type::Path(typ) = typ {\n        if let Some(typ) = typ.path.segments.first() {\n            let mut param = Param {\n                ty: typ.to_token_stream(),\n                is_option: typ.ident == \"Option\",\n                is_cow: typ.ident == \"Cow\",\n                is_db: false,\n            };\n            if !param.is_option {\n                return param;\n            } else if let PathArguments::AngleBracketed(path) = \u0026typ.arguments {\n                if let Some(typ) = path.args.first() {\n                    param.ty = typ.to_token_stream();\n                    if let GenericArgument::Type(Type::Path(typ)) = typ {\n                        if let Some(typ) = typ.path.segments.first() {\n                            param.is_cow = typ.ident == \"Cow\";\n                            param.is_db = typ.ident == \"Db\";\n                        }\n                    }\n                    return param;\n                }\n            }\n        }\n    }\n    unimplemented!()\n}\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","arguments","any_param.rs"],"content":"use serde::Serialize;\n\nuse crate::Command;\n\n#[derive(Debug, Clone)]\npub struct AnyParam(Command);\n\nimpl AnyParam {\n    pub fn new(arg: impl Serialize) -\u003e Self {\n        Self(Command::from_json(arg))\n    }\n}\n\nimpl From\u003cAnyParam\u003e for Command {\n    fn from(param: AnyParam) -\u003e Self {\n        param.0\n    }\n}\n","traces":[{"line":9,"address":[4791712,4791584],"length":1,"stats":{"Line":2},"fn_name":"new\u003c[\u0026str; 2]\u003e"},{"line":10,"address":[4791600,4791744],"length":1,"stats":{"Line":2},"fn_name":null},{"line":15,"address":[4037856],"length":1,"stats":{"Line":1},"fn_name":"from"},{"line":16,"address":[4037864],"length":1,"stats":{"Line":1},"fn_name":null}],"covered":4,"coverable":4},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","arguments","mod.rs"],"content":"use std::{borrow::Cow, collections::HashMap};\n\nuse reql_macros::CommandOptions;\nuse serde::{Deserialize, Serialize};\n\npub use any_param::AnyParam;\npub use return_changes::ReturnChanges;\n\nmod any_param;\nmod return_changes;\n\n#[derive(Debug, Clone, Copy, Eq, PartialEq, Ord, PartialOrd, Hash)]\npub struct Args\u003cT\u003e(pub T);\n\n#[derive(Debug, Clone, Copy, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct Permission {\n    /// allows reading the data in tables.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub read: Option\u003cbool\u003e,\n    /// allows modifying data, including inserting, replacing/updating, and deleting.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub write: Option\u003cbool\u003e,\n    /// allows a user to open HTTP connections via the [http](crate::r::http)\n    /// command. This permission can only be granted in global scope.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub connect: Option\u003cbool\u003e,\n    /// allows users to create/drop\n    /// [secondary indexes](https://rethinkdb.com/docs/secondary-indexes/python/)\n    /// on a table and changing the cluster configuration;\n    /// to create and drop tables, if granted on a database;\n    /// and to create and drop databases, if granted globally.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub config: Option\u003cbool\u003e,\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Deserialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\n#[serde(rename_all = \"lowercase\")]\npub enum Status {\n    Open,\n    Closed,\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Deserialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\n#[serde(rename_all = \"lowercase\")]\npub enum Durability {\n    Hard,\n    Soft,\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Deserialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\n#[serde(rename_all = \"lowercase\")]\npub enum ReadMode {\n    Single,\n    /// will only return values that are safely committed on disk on a majority of replicas.\n    /// This requires sending a message to every replica on each read,\n    /// so it is the slowest but most consistent.\n    Majority,\n    /// will return values that are in memory on an arbitrarily-selected replica.\n    /// This is the fastest but least consistent.\n    Outdated,\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Deserialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\n#[serde(rename_all = \"lowercase\")]\npub enum Format {\n    Native,\n    Raw,\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Deserialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\n#[serde(rename_all = \"lowercase\")]\npub enum Conflict {\n    Error,\n    Replace,\n    Update,\n}\n\n#[derive(Debug, Clone, Serialize, Deserialize, PartialEq)]\n#[non_exhaustive]\npub enum Replicas {\n    Int(usize),\n    Map {\n        replicas: HashMap\u003cCow\u003c'static, str\u003e, usize\u003e,\n        primary_replica_tag: Cow\u003c'static, str\u003e,\n    },\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Deserialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\n#[serde(rename_all = \"snake_case\")]\npub enum EmergencyRepair {\n    UnsafeRollback,\n    UnsafeRollbackOrErase,\n}\n\n#[derive(Debug, Clone, Copy, Serialize, PartialEq, PartialOrd)]\n#[non_exhaustive]\n#[serde(rename_all = \"lowercase\")]\npub enum IdentifierFormat {\n    Name,\n    Uuid,\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Deserialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\n#[serde(rename_all = \"snake_case\")]\npub enum WaitFor {\n    ReadyForOutdatedReads,\n    ReadyForReads,\n    ReadyForWrites,\n    AllReplicasReady,\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Deserialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\npub enum Unit {\n    #[serde(rename = \"m\")]\n    Meter,\n    #[serde(rename = \"km\")]\n    Kilometer,\n    #[serde(rename = \"mi\")]\n    InternationalMile,\n    #[serde(rename = \"nm\")]\n    NauticalMile,\n    #[serde(rename = \"ft\")]\n    InternationalFoot,\n}\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","arguments","return_changes.rs"],"content":"use serde::{Deserialize, Serialize, Serializer};\n\n#[derive(Debug, Clone, Copy, Deserialize, PartialEq, PartialOrd)]\n#[non_exhaustive]\npub enum ReturnChanges {\n    Bool(bool),\n    Always,\n}\n\nimpl Serialize for ReturnChanges {\n    fn serialize\u003cS\u003e(\u0026self, serializer: S) -\u003e Result\u003cS::Ok, S::Error\u003e\n    where\n        S: Serializer,\n    {\n        match self {\n            Self::Bool(boolean) =\u003e boolean.serialize(serializer),\n            Self::Always =\u003e \"always\".serialize(serializer),\n        }\n    }\n}\n","traces":[{"line":11,"address":[7010080],"length":1,"stats":{"Line":1},"fn_name":"serialize\u003cserde_json::value::ser::Serializer\u003e"},{"line":15,"address":[7010104],"length":1,"stats":{"Line":1},"fn_name":null},{"line":16,"address":[7010132],"length":1,"stats":{"Line":1},"fn_name":null},{"line":17,"address":[7010149],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":3,"coverable":4},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","add.rs"],"content":"use std::ops::Add;\n\nuse ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\nimpl\u003cT: AddArg\u003e Add\u003cT\u003e for Command {\n    type Output = Self;\n\n    fn add(self, arg: T) -\u003e Self {\n        Command::new(TermType::Add)\n            .with_arg(arg.into_add_opts())\n            .with_parent(self)\n    }\n}\n\npub trait AddArg {\n    fn into_add_opts(self) -\u003e Command;\n}\n\nimpl\u003cT: Serialize\u003e AddArg for T {\n    fn into_add_opts(self) -\u003e Command {\n        Command::from_json(self)\n    }\n}\n\nimpl AddArg for Command {\n    fn into_add_opts(self) -\u003e Command {\n        self\n    }\n}\n\n// TODO write test\n","traces":[{"line":11,"address":[2189601,2189553,2189184],"length":1,"stats":{"Line":0},"fn_name":"add\u003creql_rust::proto::Command\u003e"},{"line":12,"address":[2189431,2189211,2189330,2189528],"length":1,"stats":{"Line":0},"fn_name":null},{"line":13,"address":[2189338,2189472,2189543],"length":1,"stats":{"Line":0},"fn_name":null},{"line":14,"address":[2189480],"length":1,"stats":{"Line":0},"fn_name":null},{"line":23,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":24,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":29,"address":[4037888],"length":1,"stats":{"Line":0},"fn_name":"into_add_opts"},{"line":30,"address":[4037896],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":8},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","and.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl AndArg) -\u003e Command {\n    args.into_and_opts().add_to_cmd(Command::new(TermType::And))\n}\n\npub trait AndArg {\n    fn into_and_opts(self) -\u003e CmdOpts;\n}\n\nimpl AndArg for bool {\n    fn into_and_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(Command::from_json(self))\n    }\n}\n\nimpl AndArg for Vec\u003cbool\u003e {\n    fn into_and_opts(self) -\u003e CmdOpts {\n        let commands = self.iter().map(Command::from_json).collect();\n\n        CmdOpts::Many(commands)\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_and_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let data_obtained: bool = r\n            .and(vec![true, true, true])\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained);\n\n        Ok(())\n    }\n}\n","traces":[{"line":7,"address":[4532349,4532144,4532376],"length":1,"stats":{"Line":1},"fn_name":"new\u003calloc::vec::Vec\u003cbool, alloc::alloc::Global\u003e\u003e"},{"line":8,"address":[4532160,4532369],"length":1,"stats":{"Line":1},"fn_name":null},{"line":16,"address":[2672528],"length":1,"stats":{"Line":0},"fn_name":"into_and_opts"},{"line":17,"address":[2698128],"length":1,"stats":{"Line":0},"fn_name":null},{"line":22,"address":[4437040,4437289],"length":1,"stats":{"Line":1},"fn_name":"into_and_opts"},{"line":23,"address":[4437139,4437070],"length":1,"stats":{"Line":2},"fn_name":null},{"line":25,"address":[4437217],"length":1,"stats":{"Line":1},"fn_name":null},{"line":35,"address":[4195369,4195572,4195437,4195871,4195289,4195280,4195312],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":36,"address":[4195427,4195532,4195693,4195882,4196150,4195461],"length":1,"stats":{"Line":4},"fn_name":null},{"line":37,"address":[4197100,4197137,4196639,4196824,4197043,4196457,4197327,4196568,4196425],"length":1,"stats":{"Line":6},"fn_name":null},{"line":38,"address":[4196378,4196135],"length":1,"stats":{"Line":2},"fn_name":null},{"line":39,"address":[4196437,4195476,4196767,4196480,4196598],"length":1,"stats":{"Line":4},"fn_name":null},{"line":40,"address":[4196947],"length":1,"stats":{"Line":0},"fn_name":null},{"line":44,"address":[4197216,4197439],"length":1,"stats":{"Line":1},"fn_name":null},{"line":46,"address":[2253084,2253144,2253424,2253039],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":12,"coverable":15},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","append.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(value: impl Serialize) -\u003e Command {\n    let arg = Command::from_json(value);\n\n    Command::new(TermType::Append).with_arg(arg)\n}\n\n// TODO write test\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","args.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new\u003cT, S\u003e(values: T) -\u003e Command\nwhere\n    S: Serialize,\n    T: AsRef\u003c[S]\u003e + Serialize,\n{\n    let args = Command::from_json(values);\n\n    Command::new(TermType::Args).with_arg(args)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::{prelude::Converter, r, Result};\n\n    #[tokio::test]\n    async fn test_args_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let data = vec![1, 2, 3];\n        let response: Vec\u003cu8\u003e = r.args(\u0026data).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == data);\n\n        Ok(())\n    }\n}\n","traces":[{"line":6,"address":[6642789,6642560,6642762],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026alloc::vec::Vec\u003cu8, alloc::alloc::Global\u003e, u8\u003e"},{"line":11,"address":[6642585],"length":1,"stats":{"Line":1},"fn_name":null},{"line":13,"address":[6642611,6642678],"length":1,"stats":{"Line":2},"fn_name":null},{"line":21,"address":[1780516,1780815,1780313,1780233,1780224,1780256,1780381],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":22,"address":[1780826,1780637,1781094,1780371,1780405,1780476],"length":1,"stats":{"Line":4},"fn_name":null},{"line":23,"address":[1781341,1781079],"length":1,"stats":{"Line":2},"fn_name":null},{"line":24,"address":[1781373,1780420,1782128,1782276,1781424],"length":1,"stats":{"Line":3},"fn_name":null},{"line":26,"address":[1782246,1782521,1782558],"length":1,"stats":{"Line":2},"fn_name":null},{"line":28,"address":[1782527],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":9,"coverable":9},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","asc.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::prelude::Func;\nuse crate::Command;\n\npub(crate) fn new(args: impl AscArg) -\u003e Command {\n    Command::new(TermType::Asc).with_arg(args.into_asc_opts())\n}\n\npub trait AscArg {\n    fn into_asc_opts(self) -\u003e Command;\n}\n\nimpl\u003cT\u003e AscArg for T\nwhere\n    T: Into\u003cT\u003e + Serialize,\n{\n    fn into_asc_opts(self) -\u003e Command {\n        Command::from_json(self)\n    }\n}\n\nimpl AscArg for Func {\n    fn into_asc_opts(self) -\u003e Command {\n        self.0\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::*;\n    use crate::spec::*;\n    use crate::{args, r, Result};\n\n    #[tokio::test]\n    async fn test_asc_ops() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let response: Vec\u003cPost\u003e = table\n            .order_by(args!(r.expr(\"view\"), r.asc(\"title\")))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response.len() \u003e 1);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":7,"address":[6408378,6408096],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":8,"address":[6408244,6408368,6408139],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[6408416],"length":1,"stats":{"Line":1},"fn_name":"into_asc_opts\u003c\u0026str\u003e"},{"line":20,"address":[6408437],"length":1,"stats":{"Line":1},"fn_name":null},{"line":25,"address":[2744784],"length":1,"stats":{"Line":0},"fn_name":"into_asc_opts"},{"line":26,"address":[7017416],"length":1,"stats":{"Line":0},"fn_name":null},{"line":37,"address":[1672624,1672663,1673077,1673029],"length":1,"stats":{"Line":6},"fn_name":"test_asc_ops"},{"line":38,"address":[2363805,2364425,2363411,2363484,2363983,2363637],"length":1,"stats":{"Line":4},"fn_name":null},{"line":39,"address":[2364844,2365665,2365345,2365073,2365150,2364373,2364907,2365564,2365621,2365896],"length":1,"stats":{"Line":7},"fn_name":null},{"line":40,"address":[2364932,2364914,2364883,2364395,2364631],"length":1,"stats":{"Line":2},"fn_name":null},{"line":41,"address":[2365106,2364982,2363505,2365278,2363588],"length":1,"stats":{"Line":5},"fn_name":null},{"line":42,"address":[2365468],"length":1,"stats":{"Line":0},"fn_name":null},{"line":46,"address":[2365785,2366094,2366155],"length":1,"stats":{"Line":2},"fn_name":null},{"line":48,"address":[1673040,1672655,1672700,1672760],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":11,"coverable":14},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","avg.rs"],"content":"use ql2::term::TermType;\n\nuse crate::prelude::Func;\nuse crate::Command;\n\npub(crate) fn new(args: impl AvgArg) -\u003e Command {\n    let (arg1, arg2) = args.into_avg_opts();\n    let mut command = Command::new(TermType::Avg);\n\n    if let Some(arg) = arg1 {\n        command = command.with_arg(arg)\n    }\n\n    if let Some(arg) = arg2 {\n        command = command.with_arg(arg)\n    }\n\n    command\n}\n\npub trait AvgArg {\n    fn into_avg_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e);\n}\n\nimpl AvgArg for () {\n    fn into_avg_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        (None, None)\n    }\n}\n\nimpl AvgArg for \u0026str {\n    fn into_avg_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        let arg = Command::from_json(self);\n\n        (None, Some(arg))\n    }\n}\n\nimpl AvgArg for Func {\n    fn into_avg_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        (None, Some(self.0))\n    }\n}\n\nimpl AvgArg for Command {\n    fn into_avg_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        (Some(self), None)\n    }\n}\n\nimpl AvgArg for (Command, \u0026str) {\n    fn into_avg_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        let arg = Command::from_json(self.1);\n\n        (Some(self.0), Some(arg))\n    }\n}\n\nimpl AvgArg for (Command, Func) {\n    fn into_avg_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        let Func(func) = self.1;\n\n        (Some(self.0), Some(func))\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_avg_data() -\u003e Result\u003c()\u003e {\n        let data: Vec\u003cu8\u003e = Post::get_many_data().iter().map(|post| post.view).collect();\n        let avg = data.iter().sum::\u003cu8\u003e() as f32 / data.len() as f32;\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: f32 = table.avg(\"view\").run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained == avg);\n\n        tear_down(conn, table_name.as_str()).await\n    }\n}\n","traces":[{"line":6,"address":[1754384,1755255,1755144],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":7,"address":[1754417],"length":1,"stats":{"Line":1},"fn_name":null},{"line":8,"address":[1754527],"length":1,"stats":{"Line":1},"fn_name":null},{"line":10,"address":[1754624,1754860],"length":1,"stats":{"Line":1},"fn_name":null},{"line":11,"address":[1754739,1754834],"length":1,"stats":{"Line":0},"fn_name":null},{"line":14,"address":[1755085,1754862,1754796],"length":1,"stats":{"Line":3},"fn_name":null},{"line":15,"address":[1754945,1755059],"length":1,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[1755006],"length":1,"stats":{"Line":1},"fn_name":null},{"line":26,"address":[1683648],"length":1,"stats":{"Line":0},"fn_name":"into_avg_opts"},{"line":27,"address":[1683667],"length":1,"stats":{"Line":0},"fn_name":null},{"line":32,"address":[1683760],"length":1,"stats":{"Line":1},"fn_name":"into_avg_opts"},{"line":33,"address":[1683793],"length":1,"stats":{"Line":1},"fn_name":null},{"line":35,"address":[1683803],"length":1,"stats":{"Line":1},"fn_name":null},{"line":40,"address":[2826464],"length":1,"stats":{"Line":0},"fn_name":"into_avg_opts"},{"line":41,"address":[2826480],"length":1,"stats":{"Line":0},"fn_name":null},{"line":46,"address":[4037920],"length":1,"stats":{"Line":0},"fn_name":"into_avg_opts"},{"line":47,"address":[2253168],"length":1,"stats":{"Line":0},"fn_name":null},{"line":52,"address":[4038064,4038316],"length":1,"stats":{"Line":0},"fn_name":"into_avg_opts"},{"line":53,"address":[2253321],"length":1,"stats":{"Line":0},"fn_name":null},{"line":55,"address":[4038157],"length":1,"stats":{"Line":0},"fn_name":null},{"line":60,"address":[2253584],"length":1,"stats":{"Line":0},"fn_name":"into_avg_opts"},{"line":61,"address":[4038374],"length":1,"stats":{"Line":0},"fn_name":null},{"line":63,"address":[2253633],"length":1,"stats":{"Line":0},"fn_name":null},{"line":74,"address":[2366944,2366953,2367045,2367363,2367137,2367664,2366976],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":75,"address":[2367107,2367480,2370797,2370784],"length":1,"stats":{"Line":4},"fn_name":"{closure#0}"},{"line":76,"address":[2367727],"length":1,"stats":{"Line":1},"fn_name":null},{"line":77,"address":[2368619,2368002,2367167,2367320],"length":1,"stats":{"Line":3},"fn_name":null},{"line":78,"address":[2368565,2367271,2369670,2368831,2367188,2369560],"length":1,"stats":{"Line":5},"fn_name":null},{"line":80,"address":[2369643,2370025],"length":1,"stats":{"Line":1},"fn_name":null},{"line":82,"address":[2367206,2370368,2370123,2370502,2369981,2370307,2370247],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":17,"coverable":30},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","between.rs"],"content":"use std::borrow::Cow;\n\nuse ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::arguments::{Args, Status};\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl BetweenArg) -\u003e Command {\n    let (min_key, max_key, opts) = args.into_between_opts();\n    let min_key: Option\u003cCommand\u003e = min_key.into();\n    let max_key: Option\u003cCommand\u003e = max_key.into();\n\n    Command::new(TermType::Between)\n        .with_arg(min_key.unwrap())\n        .with_arg(max_key.unwrap())\n        .with_opts(opts)\n}\n\npub trait BetweenArg {\n    fn into_between_opts(self) -\u003e (CmdOpts, CmdOpts, BetweenOption);\n}\n\nimpl BetweenArg for Args\u003c(Command, Command)\u003e {\n    fn into_between_opts(self) -\u003e (CmdOpts, CmdOpts, BetweenOption) {\n        (\n            CmdOpts::Single(self.0 .0),\n            CmdOpts::Single(self.0 .1),\n            Default::default(),\n        )\n    }\n}\n\nimpl BetweenArg for Args\u003c(Command, Command, BetweenOption)\u003e {\n    fn into_between_opts(self) -\u003e (CmdOpts, CmdOpts, BetweenOption) {\n        (\n            CmdOpts::Single(self.0 .0),\n            CmdOpts::Single(self.0 .1),\n            self.0 .2,\n        )\n    }\n}\n\n#[derive(\n    Debug, Clone, Serialize, Default, Eq, PartialEq, Ord, PartialOrd, Hash, CommandOptions,\n)]\npub struct BetweenOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub index: Option\u003cCow\u003c'static, str\u003e\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub left_bound: Option\u003cStatus\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub right_bound: Option\u003cStatus\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::arguments::Status;\n    use crate::prelude::*;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::{args, r, Result};\n\n    use super::BetweenOption;\n\n    #[tokio::test]\n    async fn test_get_data_between() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_get: Vec\u003cPost\u003e = table\n            .between(args!(r.expr(2), r.expr(4)))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_get.len() == 2);\n        assert!(data_get.first() == data.get(2));\n        assert!(data_get.last() == data.get(1));\n\n        tear_down(conn, table_name.as_str()).await\n    }\n\n    #[tokio::test]\n    async fn test_get_data_between_by_minval() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_get: Vec\u003cPost\u003e = table\n            .between(args!(r::min_val(), r.expr(4)))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_get.len() == 3);\n        assert!(data_get.first() == data.get(2));\n        assert!(data_get.last() == data.first());\n\n        tear_down(conn, table_name.as_str()).await\n    }\n\n    #[tokio::test]\n    async fn test_get_data_between_by_maxval() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_get: Vec\u003cPost\u003e = table\n            .between(args!(r.expr(2), r::max_val()))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_get.len() == 4);\n        assert!(data_get.first() == data.get(3));\n        assert!(data_get.last() == data.get(1));\n\n        tear_down(conn, table_name.as_str()).await\n    }\n\n    #[tokio::test]\n    async fn test_get_data_between_with_opts() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let between_option = BetweenOption::default().right_bound(Status::Closed);\n        let data_get: Vec\u003cPost\u003e = table\n            .between(args!(r.expr(2), r.expr(4), between_option))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_get.len() == 3);\n        assert!(data_get.first() == data.get(3));\n        assert!(data_get.last() == data.get(1));\n\n        tear_down(conn, table_name.as_str()).await\n    }\n\n    #[tokio::test]\n    async fn test_get_data_between_by_minval_and_max_val_with_opts() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let between_option = BetweenOption::default()\n            .right_bound(Status::Closed)\n            .left_bound(Status::Closed)\n            .index(\"title\");\n        let data_get: Vec\u003cPost\u003e = table\n            .between(args!(r::min_val(), r::max_val(), between_option))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_get.len() == data.len());\n        assert!(data_get.first() == data.get(3));\n        assert!(data_get.last() == data.first());\n\n        tear_down(conn, table_name.as_str()).await\n    }\n}\n","traces":[{"line":12,"address":[4900435,4900779,4898448,4899251,4899595,4899632],"length":1,"stats":{"Line":2},"fn_name":"new\u003creql_rust::arguments::Args\u003c(reql_rust::proto::Command, reql_rust::proto::Command)\u003e\u003e"},{"line":13,"address":[4898465,4899649],"length":1,"stats":{"Line":2},"fn_name":null},{"line":14,"address":[4898801,4899985,4899901,4898717],"length":1,"stats":{"Line":4},"fn_name":null},{"line":15,"address":[4898910,4900094,4898809,4899993],"length":1,"stats":{"Line":4},"fn_name":null},{"line":17,"address":[4900173,4898918,4900611,4898989,4899303,4899427,4899108,4900487,4900292,4900102],"length":1,"stats":{"Line":10},"fn_name":null},{"line":18,"address":[4899241,4900425,4900331,4898997,4900181,4899147],"length":1,"stats":{"Line":4},"fn_name":null},{"line":19,"address":[4900347,4899347,4899442,4899262,4900531,4900626,4899163,4900446],"length":1,"stats":{"Line":4},"fn_name":null},{"line":20,"address":[4900539,4899355],"length":1,"stats":{"Line":2},"fn_name":null},{"line":28,"address":[6656677,6656368,6656700],"length":1,"stats":{"Line":1},"fn_name":"into_between_opts"},{"line":30,"address":[6656425],"length":1,"stats":{"Line":1},"fn_name":null},{"line":31,"address":[6656473],"length":1,"stats":{"Line":1},"fn_name":null},{"line":32,"address":[6656540],"length":1,"stats":{"Line":1},"fn_name":null},{"line":38,"address":[6656720],"length":1,"stats":{"Line":1},"fn_name":"into_between_opts"},{"line":40,"address":[6656742],"length":1,"stats":{"Line":1},"fn_name":null},{"line":41,"address":[6656801],"length":1,"stats":{"Line":1},"fn_name":null},{"line":42,"address":[6656873],"length":1,"stats":{"Line":1},"fn_name":null},{"line":69,"address":[2843153,2843061,2843725,2843379,2842960,2842992,2842969],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":70,"address":[2843123],"length":1,"stats":{"Line":1},"fn_name":null},{"line":71,"address":[2843501,2844190,2843183,2843336,2843736,2843561],"length":1,"stats":{"Line":4},"fn_name":null},{"line":72,"address":[2845383,2845107,2845326,2844912,2844145,2844663,2844829,2845427,2844596,2845661],"length":1,"stats":{"Line":7},"fn_name":null},{"line":73,"address":[2844180,2844635,2844363,2844670,2844688],"length":1,"stats":{"Line":2},"fn_name":null},{"line":74,"address":[2844868,2845040,2843204,2844643,2843287,2844738],"length":1,"stats":{"Line":6},"fn_name":null},{"line":75,"address":[2845230],"length":1,"stats":{"Line":0},"fn_name":null},{"line":79,"address":[2845547,2845920,2845968],"length":1,"stats":{"Line":2},"fn_name":null},{"line":80,"address":[2846016,2846202,2845941],"length":1,"stats":{"Line":2},"fn_name":null},{"line":81,"address":[2846181,2846245,2846421],"length":1,"stats":{"Line":2},"fn_name":null},{"line":83,"address":[2846755,2846380,2843222,2846619,2846885,2846495,2846675],"length":1,"stats":{"Line":7},"fn_name":null},{"line":87,"address":[2847232,2847241,2847651,2847997,2847425,2847333,2847264],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":88,"address":[2847395],"length":1,"stats":{"Line":1},"fn_name":null},{"line":89,"address":[2847773,2847608,2848457,2847833,2847455,2848008],"length":1,"stats":{"Line":4},"fn_name":null},{"line":90,"address":[2849650,2849374,2849179,2848930,2849096,2848863,2848417,2849928,2849694,2849593],"length":1,"stats":{"Line":7},"fn_name":null},{"line":91,"address":[2848937,2848447,2848630,2848902,2848955],"length":1,"stats":{"Line":2},"fn_name":null},{"line":92,"address":[2849307,2849005,2849135,2847476,2848910,2847559],"length":1,"stats":{"Line":6},"fn_name":null},{"line":93,"address":[2849497],"length":1,"stats":{"Line":0},"fn_name":null},{"line":97,"address":[2850187,2849814,2850235],"length":1,"stats":{"Line":2},"fn_name":null},{"line":98,"address":[2850469,2850283,2850208],"length":1,"stats":{"Line":2},"fn_name":null},{"line":99,"address":[2850448,2850512,2850683],"length":1,"stats":{"Line":2},"fn_name":null},{"line":101,"address":[2850937,2851017,2850642,2850757,2851147,2847494,2850881],"length":1,"stats":{"Line":7},"fn_name":null},{"line":105,"address":[2851497,2851520,2851589,2851488,2851681,2851907,2852253],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":106,"address":[2851651],"length":1,"stats":{"Line":1},"fn_name":null},{"line":107,"address":[2852029,2851864,2852264,2851711,2852718,2852089],"length":1,"stats":{"Line":4},"fn_name":null},{"line":108,"address":[2853906,2854184,2853849,2853352,2853630,2853950,2852673,2853186,2853119,2853435],"length":1,"stats":{"Line":7},"fn_name":null},{"line":109,"address":[2853158,2852708,2852891,2853211,2853193],"length":1,"stats":{"Line":2},"fn_name":null},{"line":110,"address":[2853391,2853563,2851815,2851732,2853166,2853261],"length":1,"stats":{"Line":6},"fn_name":null},{"line":111,"address":[2853753],"length":1,"stats":{"Line":0},"fn_name":null},{"line":115,"address":[2854443,2854491,2854070],"length":1,"stats":{"Line":2},"fn_name":null},{"line":116,"address":[2854464,2854725,2854539],"length":1,"stats":{"Line":2},"fn_name":null},{"line":117,"address":[2854944,2854704,2854768],"length":1,"stats":{"Line":2},"fn_name":null},{"line":119,"address":[2851750,2855142,2855408,2854903,2855198,2855278,2855018],"length":1,"stats":{"Line":7},"fn_name":null},{"line":123,"address":[2856167,2855744,2856513,2855776,2855845,2855753,2855941],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":124,"address":[2855907],"length":1,"stats":{"Line":1},"fn_name":null},{"line":125,"address":[2855971,2856289,2856349,2856524,2856124,2856911],"length":1,"stats":{"Line":4},"fn_name":null},{"line":126,"address":[2856901,2857136],"length":1,"stats":{"Line":2},"fn_name":null},{"line":127,"address":[2857906,2858659,2857187,2857590,2858425,2858377,2858320,2858101,2857657,2857823],"length":1,"stats":{"Line":7},"fn_name":null},{"line":128,"address":[2857629,2857682,2857664,2857242],"length":1,"stats":{"Line":2},"fn_name":null},{"line":129,"address":[2855992,2857732,2857637,2857862,2858034,2856075],"length":1,"stats":{"Line":6},"fn_name":null},{"line":130,"address":[2858224],"length":1,"stats":{"Line":0},"fn_name":null},{"line":134,"address":[2858966,2858545,2858918],"length":1,"stats":{"Line":2},"fn_name":null},{"line":135,"address":[2858939,2859014,2859206],"length":1,"stats":{"Line":2},"fn_name":null},{"line":136,"address":[2859179,2859255,2859431],"length":1,"stats":{"Line":2},"fn_name":null},{"line":138,"address":[2859917,2859523,2856010,2859390,2859703,2859787,2859647],"length":1,"stats":{"Line":7},"fn_name":null},{"line":142,"address":[2860373,2860469,2860281,2860695,2860304,2861041,2860272],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":143,"address":[2860435],"length":1,"stats":{"Line":1},"fn_name":null},{"line":144,"address":[2861439,2860652,2860499,2861052,2860877,2860817],"length":1,"stats":{"Line":4},"fn_name":null},{"line":145,"address":[2861429,2861711,2861672],"length":1,"stats":{"Line":3},"fn_name":null},{"line":146,"address":[2861664],"length":1,"stats":{"Line":1},"fn_name":null},{"line":147,"address":[2861703],"length":1,"stats":{"Line":1},"fn_name":null},{"line":149,"address":[2862415,2862693,2862498,2861789,2862182,2862249,2863251,2862912,2862969,2863017],"length":1,"stats":{"Line":7},"fn_name":null},{"line":150,"address":[2861839,2862256,2862274,2862221],"length":1,"stats":{"Line":2},"fn_name":null},{"line":151,"address":[2862626,2860603,2860520,2862229,2862324,2862454],"length":1,"stats":{"Line":6},"fn_name":null},{"line":152,"address":[2862816],"length":1,"stats":{"Line":0},"fn_name":null},{"line":156,"address":[2863588,2863137,2863510],"length":1,"stats":{"Line":2},"fn_name":null},{"line":157,"address":[2863636,2863561,2863825],"length":1,"stats":{"Line":2},"fn_name":null},{"line":158,"address":[2864042,2863871,2863801],"length":1,"stats":{"Line":2},"fn_name":null},{"line":160,"address":[2864258,2864398,2864314,2864001,2860538,2864134,2864528],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":70,"coverable":75},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","binary.rs"],"content":"use crate::types::Binary;\n\npub(crate) fn new(bytes: \u0026[u8]) -\u003e Binary {\n    Binary::new(bytes)\n}\n\n#[cfg(test)]\nmod tests {\n    use serde::{Deserialize, Serialize};\n\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::Binary;\n    use crate::{r, Result};\n\n    #[derive(Debug, Serialize, Deserialize)]\n    struct User {\n        id: u8,\n        name: String,\n        avatar: Binary,\n    }\n\n    #[tokio::test]\n    async fn test_binary_ops() -\u003e Result\u003c()\u003e {\n        let avatar_img = std::fs::read(\"logo.png\")?;\n        let user = User {\n            id: 1,\n            name: \"John Doe\".to_string(),\n            avatar: r.binary(\u0026avatar_img),\n        };\n\n        let (conn, table, table_name) = set_up(false).await?;\n        table.clone().insert(\u0026user).run(\u0026conn).await?;\n        let response: User = table.get(1).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response.id == user.id);\n        assert!(response.name == user.name);\n        assert!(!response.avatar.data.is_empty());\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":3,"address":[6929152],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":4,"address":[2042885],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[4109952,4109991,4110357,4110405],"length":1,"stats":{"Line":6},"fn_name":"test_binary_ops"},{"line":25,"address":[4345878,4346472,4346353],"length":1,"stats":{"Line":2},"fn_name":null},{"line":28,"address":[4346442],"length":1,"stats":{"Line":1},"fn_name":null},{"line":29,"address":[4346645,4346737],"length":1,"stats":{"Line":2},"fn_name":null},{"line":32,"address":[6883457],"length":1,"stats":{"Line":4},"fn_name":null},{"line":33,"address":[4346131,4347664,4347442,4345974],"length":1,"stats":{"Line":4},"fn_name":null},{"line":34,"address":[4348548,4349268,4345995,4346080,4349415,4348424],"length":1,"stats":{"Line":5},"fn_name":null},{"line":36,"address":[4349388,4349789],"length":1,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[4349872,4349904,4349764],"length":1,"stats":{"Line":2},"fn_name":null},{"line":38,"address":[4349886,4349998,4349938],"length":1,"stats":{"Line":2},"fn_name":null},{"line":40,"address":[4109983,4110368,4110028,4110088],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":13,"coverable":13},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","bit_and.rs"],"content":"use std::ops::BitAnd;\n\nuse ql2::term::TermType;\n\nuse crate::Command;\n\nimpl\u003cT: BitAndArg\u003e BitAnd\u003cT\u003e for Command {\n    type Output = Self;\n\n    fn bitand(self, arg: T) -\u003e Self {\n        Command::new(TermType::BitAnd)\n            .with_arg(arg.into_bit_and_opts())\n            .with_parent(self)\n    }\n}\n\npub trait BitAndArg {\n    fn into_bit_and_opts(self) -\u003e Command;\n}\n\nimpl BitAndArg for i32 {\n    fn into_bit_and_opts(self) -\u003e Command {\n        Command::from_json(self)\n    }\n}\n\nimpl BitAndArg for Command {\n    fn into_bit_and_opts(self) -\u003e Command {\n        self\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_bit_and_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: u8 = r.expr(5).bit_and(3).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == 1);\n\n        Ok(())\n    }\n\n    #[tokio::test]\n    async fn test_bit_and_ops_with_command() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: u8 = r\n            .bit_and(r.expr(5), r.expr(3))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response == 1);\n\n        Ok(())\n    }\n\n    #[tokio::test]\n    async fn test_bit_and_ops_with_syntax() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: u8 = (r.expr(5) \u0026 r.expr(3)).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == 1);\n\n        Ok(())\n    }\n}\n","traces":[{"line":10,"address":[2189974,2190465,2189632,2190012,2190048,2190417],"length":1,"stats":{"Line":2},"fn_name":"bitand\u003ci32\u003e"},{"line":11,"address":[2189949,2189783,2189665,2190295,2190075,2190392,2189852,2190194],"length":1,"stats":{"Line":8},"fn_name":null},{"line":12,"address":[],"length":0,"stats":{"Line":4},"fn_name":null},{"line":13,"address":[2190344,2189901],"length":1,"stats":{"Line":2},"fn_name":null},{"line":22,"address":[2039376],"length":1,"stats":{"Line":1},"fn_name":"into_bit_and_opts"},{"line":23,"address":[2039392],"length":1,"stats":{"Line":1},"fn_name":null},{"line":28,"address":[4038560],"length":1,"stats":{"Line":1},"fn_name":"into_bit_and_opts"},{"line":29,"address":[2172152],"length":1,"stats":{"Line":1},"fn_name":null},{"line":39,"address":[3586144,3586549,3586183,3586597],"length":1,"stats":{"Line":6},"fn_name":"test_bit_and_ops"},{"line":40,"address":[3577923,3578189,3578644,3578378,3577957,3578028],"length":1,"stats":{"Line":4},"fn_name":null},{"line":41,"address":[6889389,6889321],"length":1,"stats":{"Line":4},"fn_name":null},{"line":43,"address":[3579669,3579897],"length":1,"stats":{"Line":1},"fn_name":null},{"line":45,"address":[3579871],"length":1,"stats":{"Line":5},"fn_name":null},{"line":49,"address":[3586640,3587093,3586679,3587045],"length":1,"stats":{"Line":6},"fn_name":"test_bit_and_ops_with_command"},{"line":50,"address":[3580141,3580373,3580562,3580828,3580091,3580212],"length":1,"stats":{"Line":4},"fn_name":null},{"line":51,"address":[3581915,3581821,3581121,3581417,3581193,3581878,3581346,3582100,3581602],"length":1,"stats":{"Line":6},"fn_name":null},{"line":52,"address":[3581024,3580818,3581059,3581165,3581208],"length":1,"stats":{"Line":3},"fn_name":null},{"line":53,"address":[3581261,3581376,3580156,3581545,3581173],"length":1,"stats":{"Line":5},"fn_name":null},{"line":54,"address":[3581725],"length":1,"stats":{"Line":0},"fn_name":null},{"line":58,"address":[3582212,3581984],"length":1,"stats":{"Line":1},"fn_name":null},{"line":60,"address":[3582186],"length":1,"stats":{"Line":5},"fn_name":null},{"line":64,"address":[3582361,3582572,3582871,3582437,3582304,3582272,3582281],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":65,"address":[3582693,3583148,3582882,3582411,3582461,3582532],"length":1,"stats":{"Line":4},"fn_name":null},{"line":66,"address":[3584324,3583138,3583379,3583581,3582476,3584235,3583344],"length":1,"stats":{"Line":5},"fn_name":null},{"line":68,"address":[3584532,3584304],"length":1,"stats":{"Line":1},"fn_name":null},{"line":70,"address":[3584506],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":25,"coverable":26},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","bit_not.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::BitNot)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_bit_not_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: i32 = r.expr(7).bit_not().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == -8);\n\n        Ok(())\n    }\n\n    #[tokio::test]\n    async fn test_bit_not_ops_with_command() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: i32 = r.bit_not(r.expr(7)).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == -8);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2832256],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2750620],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[1800468,1800265,1800767,1800208,1800176,1800185,1800333],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":16,"address":[1801044,1800323,1800357,1800428,1800589,1800778],"length":1,"stats":{"Line":4},"fn_name":null},{"line":17,"address":[1800372,1801283,1801995,1802085,1801034],"length":1,"stats":{"Line":4},"fn_name":null},{"line":19,"address":[1802293,1802064],"length":1,"stats":{"Line":1},"fn_name":null},{"line":21,"address":[6684108,6684448,6684063,6684168],"length":1,"stats":{"Line":5},"fn_name":null},{"line":25,"address":[1802644,1802943,1802384,1802509,1802352,1802441,1802361],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":26,"address":[1802533,1803220,1802765,1802499,1802604,1802954],"length":1,"stats":{"Line":4},"fn_name":null},{"line":27,"address":[1804171,1803210,1803459,1802548,1804261],"length":1,"stats":{"Line":4},"fn_name":null},{"line":29,"address":[1804240,1804469],"length":1,"stats":{"Line":1},"fn_name":null},{"line":31,"address":[1804443],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":12,"coverable":12},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","bit_or.rs"],"content":"use std::ops::BitOr;\n\nuse ql2::term::TermType;\n\nuse crate::Command;\n\nimpl\u003cT: BitOrArg\u003e BitOr\u003cT\u003e for Command {\n    type Output = Self;\n\n    fn bitor(self, arg: T) -\u003e Self {\n        Command::new(TermType::BitOr)\n            .with_arg(arg.into_bit_or_opts())\n            .with_parent(self)\n    }\n}\n\npub trait BitOrArg {\n    fn into_bit_or_opts(self) -\u003e Command;\n}\n\nimpl BitOrArg for i32 {\n    fn into_bit_or_opts(self) -\u003e Command {\n        Command::from_json(self)\n    }\n}\n\nimpl BitOrArg for Command {\n    fn into_bit_or_opts(self) -\u003e Command {\n        self\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_bit_or_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: u8 = r.expr(5).bit_or(3).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == 7);\n\n        Ok(())\n    }\n\n    #[tokio::test]\n    async fn test_bit_or_ops_with_command() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: u8 = r\n            .bit_or(r.expr(5), r.expr(3))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response == 7);\n\n        Ok(())\n    }\n\n    #[tokio::test]\n    async fn test_bit_or_ops_with_syntax() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: u8 = (r.expr(5) | r.expr(3)).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == 7);\n\n        Ok(())\n    }\n}\n","traces":[{"line":10,"address":[2191281,2190876,2190496,2190838,2190912,2191329],"length":1,"stats":{"Line":2},"fn_name":"bitor\u003ci32\u003e"},{"line":11,"address":[2190939,2190529,2190813,2191159,2190716,2190647,2191256,2191058],"length":1,"stats":{"Line":8},"fn_name":null},{"line":12,"address":[],"length":0,"stats":{"Line":4},"fn_name":null},{"line":13,"address":[2191208,2190765],"length":1,"stats":{"Line":2},"fn_name":null},{"line":22,"address":[2039408],"length":1,"stats":{"Line":1},"fn_name":"into_bit_or_opts"},{"line":23,"address":[2039424],"length":1,"stats":{"Line":1},"fn_name":null},{"line":28,"address":[4038592],"length":1,"stats":{"Line":1},"fn_name":"into_bit_or_opts"},{"line":29,"address":[2172184],"length":1,"stats":{"Line":1},"fn_name":null},{"line":39,"address":[7037712,7038165,7037751,7038117],"length":1,"stats":{"Line":6},"fn_name":"test_bit_or_ops"},{"line":40,"address":[2316586,2316397,2316852,2316165,2316236,2316131],"length":1,"stats":{"Line":4},"fn_name":null},{"line":41,"address":[2316842,2317897,2317096,2316180,2317808],"length":1,"stats":{"Line":4},"fn_name":null},{"line":43,"address":[2317877,2318105],"length":1,"stats":{"Line":1},"fn_name":null},{"line":45,"address":[2318079],"length":1,"stats":{"Line":5},"fn_name":null},{"line":49,"address":[7038208,7038247,7038613,7038661],"length":1,"stats":{"Line":6},"fn_name":"test_bit_or_ops_with_command"},{"line":50,"address":[2318349,2318420,2318581,2318770,2319036,2318299],"length":1,"stats":{"Line":4},"fn_name":null},{"line":51,"address":[2320029,2320308,2320086,2319625,2320123,2319329,2319401,2319810,2319554],"length":1,"stats":{"Line":6},"fn_name":null},{"line":52,"address":[2319373,2319232,2319267,2319416,2319026],"length":1,"stats":{"Line":3},"fn_name":null},{"line":53,"address":[2319469,2319753,2319381,2319584,2318364],"length":1,"stats":{"Line":5},"fn_name":null},{"line":54,"address":[2319933],"length":1,"stats":{"Line":0},"fn_name":null},{"line":58,"address":[2320192,2320420],"length":1,"stats":{"Line":1},"fn_name":null},{"line":60,"address":[2320394],"length":1,"stats":{"Line":5},"fn_name":null},{"line":64,"address":[2320480,2320569,2320512,2320489,2320645,2321079,2320780],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":65,"address":[2320619,2320901,2321090,2321356,2320740,2320669],"length":1,"stats":{"Line":4},"fn_name":null},{"line":66,"address":[2320684,2321587,2321789,2322443,2322532,2321552,2321346],"length":1,"stats":{"Line":5},"fn_name":null},{"line":68,"address":[2322512,2322740],"length":1,"stats":{"Line":1},"fn_name":null},{"line":70,"address":[2322714],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":25,"coverable":26},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","bit_sal.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(args: impl BitSalArg) -\u003e Command {\n    Command::new(TermType::BitSal).with_arg(args.into_bit_sal_opts())\n}\n\npub trait BitSalArg {\n    fn into_bit_sal_opts(self) -\u003e Command;\n}\n\nimpl BitSalArg for i32 {\n    fn into_bit_sal_opts(self) -\u003e Command {\n        Command::from_json(self)\n    }\n}\n\nimpl BitSalArg for Command {\n    fn into_bit_sal_opts(self) -\u003e Command {\n        self\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_bit_sal_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: u8 = r.expr(5).bit_sal(4).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == 80);\n\n        Ok(())\n    }\n\n    #[tokio::test]\n    async fn test_bit_sal_ops_with_command() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: u8 = r\n            .bit_sal(r.expr(5), r.expr(4))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response == 80);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[4457566,4457237,4457280,4456976],"length":1,"stats":{"Line":2},"fn_name":"new\u003ci32\u003e"},{"line":6,"address":[4457556,4457227,4457402,4457004,4457103,4457302],"length":1,"stats":{"Line":4},"fn_name":null},{"line":14,"address":[2121088],"length":1,"stats":{"Line":1},"fn_name":"into_bit_sal_opts"},{"line":15,"address":[2039456],"length":1,"stats":{"Line":1},"fn_name":null},{"line":20,"address":[2253856],"length":1,"stats":{"Line":1},"fn_name":"into_bit_sal_opts"},{"line":21,"address":[2172216],"length":1,"stats":{"Line":1},"fn_name":null},{"line":31,"address":[4412341,4412293,4411888,4411927],"length":1,"stats":{"Line":6},"fn_name":"test_bit_sal_ops"},{"line":32,"address":[4441418,4441068,4440963,4440997,4441229,4441684],"length":1,"stats":{"Line":4},"fn_name":null},{"line":33,"address":[4441674,4441928,4441012,4442640,4442729],"length":1,"stats":{"Line":4},"fn_name":null},{"line":35,"address":[4442937,4442709],"length":1,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[4411964,4412304,4412024,4411919],"length":1,"stats":{"Line":5},"fn_name":null},{"line":41,"address":[4412423,4412789,4412384,4412837],"length":1,"stats":{"Line":6},"fn_name":"test_bit_sal_ops_with_command"},{"line":42,"address":[4443868,4443181,4443131,4443602,4443252,4443413],"length":1,"stats":{"Line":4},"fn_name":null},{"line":43,"address":[4444457,4444161,4444918,4445140,4444386,4444233,4444642,4444955,4444861],"length":1,"stats":{"Line":6},"fn_name":null},{"line":44,"address":[4443858,4444099,4444064,4444248,4444205],"length":1,"stats":{"Line":3},"fn_name":null},{"line":45,"address":[4444213,4444301,4443196,4444585,4444416],"length":1,"stats":{"Line":5},"fn_name":null},{"line":46,"address":[4444765],"length":1,"stats":{"Line":0},"fn_name":null},{"line":50,"address":[4445024,4445252],"length":1,"stats":{"Line":1},"fn_name":null},{"line":52,"address":[4412520,4412460,4412415,4412800],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":18,"coverable":19},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","bit_sar.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(args: impl BitSarArg) -\u003e Command {\n    Command::new(TermType::BitSar).with_arg(args.into_bit_sar_opts())\n}\n\npub trait BitSarArg {\n    fn into_bit_sar_opts(self) -\u003e Command;\n}\n\nimpl BitSarArg for i32 {\n    fn into_bit_sar_opts(self) -\u003e Command {\n        Command::from_json(self)\n    }\n}\n\nimpl BitSarArg for Command {\n    fn into_bit_sar_opts(self) -\u003e Command {\n        self\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_bit_sar_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: u8 = r.expr(32).bit_sar(3).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == 4);\n\n        Ok(())\n    }\n\n    #[tokio::test]\n    async fn test_bit_sar_ops_with_command() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: u8 = r\n            .bit_sar(r.expr(32), r.expr(3))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response == 4);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[4207429,4207758,4207168,4207472],"length":1,"stats":{"Line":2},"fn_name":"new\u003ci32\u003e"},{"line":6,"address":[4207196,4207594,4207494,4207419,4207748,4207295],"length":1,"stats":{"Line":4},"fn_name":null},{"line":14,"address":[2121120],"length":1,"stats":{"Line":1},"fn_name":"into_bit_sar_opts"},{"line":15,"address":[2039488],"length":1,"stats":{"Line":1},"fn_name":null},{"line":20,"address":[2253888],"length":1,"stats":{"Line":1},"fn_name":"into_bit_sar_opts"},{"line":21,"address":[2172248],"length":1,"stats":{"Line":1},"fn_name":null},{"line":31,"address":[4199984,4200073,4200016,4199993,4200141,4200276,4200575],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":32,"address":[4200397,4200131,4200586,4200165,4200236,4200852],"length":1,"stats":{"Line":4},"fn_name":null},{"line":33,"address":[4201096,4201897,4200842,4201808,4200180],"length":1,"stats":{"Line":4},"fn_name":null},{"line":35,"address":[4202105,4201877],"length":1,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[6685055,6685160,6685100,6685440],"length":1,"stats":{"Line":5},"fn_name":null},{"line":41,"address":[4202759,4202249,4202192,4202169,4202160,4202325,4202460],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":42,"address":[4202299,4202349,4202581,4202420,4203036,4202770],"length":1,"stats":{"Line":4},"fn_name":null},{"line":43,"address":[4203401,4204308,4203625,4203329,4203554,4203810,4204029,4204086,4204123],"length":1,"stats":{"Line":6},"fn_name":null},{"line":44,"address":[4203232,4203267,4203373,4203416,4203026],"length":1,"stats":{"Line":3},"fn_name":null},{"line":45,"address":[4202364,4203381,4203753,4203584,4203469],"length":1,"stats":{"Line":5},"fn_name":null},{"line":46,"address":[4203933],"length":1,"stats":{"Line":0},"fn_name":null},{"line":50,"address":[4204192,4204420],"length":1,"stats":{"Line":1},"fn_name":null},{"line":52,"address":[4204394],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":18,"coverable":19},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","bit_xor.rs"],"content":"use std::ops::BitXor;\n\nuse ql2::term::TermType;\n\nuse crate::Command;\n\nimpl\u003cT: BitXorArg\u003e BitXor\u003cT\u003e for Command {\n    type Output = Self;\n\n    fn bitxor(self, arg: T) -\u003e Self {\n        Command::new(TermType::BitXor)\n            .with_arg(arg.into_bit_xor_opts())\n            .with_parent(self)\n    }\n}\n\npub trait BitXorArg {\n    fn into_bit_xor_opts(self) -\u003e Command;\n}\n\nimpl BitXorArg for i32 {\n    fn into_bit_xor_opts(self) -\u003e Command {\n        Command::from_json(self)\n    }\n}\n\nimpl BitXorArg for Command {\n    fn into_bit_xor_opts(self) -\u003e Command {\n        self\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_bit_xor_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: u8 = r.expr(6).bit_xor(4).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == 2);\n\n        Ok(())\n    }\n\n    #[tokio::test]\n    async fn test_bit_xor_ops_with_command() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: u8 = r\n            .bit_xor(r.expr(6), r.expr(4))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response == 2);\n\n        Ok(())\n    }\n\n    #[tokio::test]\n    async fn test_bit_xor_ops_with_syntax() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: u8 = (r.expr(6) ^ r.expr(4)).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == 2);\n\n        Ok(())\n    }\n}\n","traces":[{"line":10,"address":[2192193,2191360,2191702,2191740,2191776,2192145],"length":1,"stats":{"Line":2},"fn_name":"bitxor\u003ci32\u003e"},{"line":11,"address":[2191393,2191677,2192023,2191580,2191511,2191803,2191922,2192120],"length":1,"stats":{"Line":10},"fn_name":null},{"line":12,"address":[],"length":0,"stats":{"Line":5},"fn_name":null},{"line":13,"address":[2192072,2191629],"length":1,"stats":{"Line":3},"fn_name":null},{"line":22,"address":[2039504],"length":1,"stats":{"Line":1},"fn_name":"into_bit_xor_opts"},{"line":23,"address":[2039520],"length":1,"stats":{"Line":1},"fn_name":null},{"line":28,"address":[4038688],"length":1,"stats":{"Line":1},"fn_name":"into_bit_xor_opts"},{"line":29,"address":[2172280],"length":1,"stats":{"Line":2},"fn_name":null},{"line":39,"address":[3587671,3588085,3588037,3587632],"length":1,"stats":{"Line":6},"fn_name":"test_bit_xor_ops"},{"line":40,"address":[1638867,1638972,1639133,1639322,1639588,1638901],"length":1,"stats":{"Line":4},"fn_name":null},{"line":41,"address":[6890537,6890605],"length":1,"stats":{"Line":4},"fn_name":null},{"line":43,"address":[1640841,1640613],"length":1,"stats":{"Line":1},"fn_name":null},{"line":45,"address":[1640815],"length":1,"stats":{"Line":5},"fn_name":null},{"line":49,"address":[3588167,3588128,3588581,3588533],"length":1,"stats":{"Line":6},"fn_name":"test_bit_xor_ops_with_command"},{"line":50,"address":[1641156,1641035,1641085,1641317,1641772,1641506],"length":1,"stats":{"Line":4},"fn_name":null},{"line":51,"address":[1642137,1642822,1642765,1642065,1642361,1642290,1642859,1642546,1643044],"length":1,"stats":{"Line":6},"fn_name":null},{"line":52,"address":[1642109,1641968,1642003,1642152,1641762],"length":1,"stats":{"Line":3},"fn_name":null},{"line":53,"address":[1642205,1641100,1642117,1642489,1642320],"length":1,"stats":{"Line":5},"fn_name":null},{"line":54,"address":[1642669],"length":1,"stats":{"Line":0},"fn_name":null},{"line":58,"address":[1642928,1643156],"length":1,"stats":{"Line":1},"fn_name":null},{"line":60,"address":[1643130],"length":1,"stats":{"Line":5},"fn_name":null},{"line":64,"address":[1643216,1643381,1643305,1643516,1643815,1643225,1643248],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":65,"address":[1643826,1644092,1643405,1643637,1643476,1643355],"length":1,"stats":{"Line":4},"fn_name":null},{"line":66,"address":[1644525,1644288,1644082,1645179,1644323,1645268,1643420],"length":1,"stats":{"Line":5},"fn_name":null},{"line":68,"address":[1645248,1645476],"length":1,"stats":{"Line":1},"fn_name":null},{"line":70,"address":[1645450],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":25,"coverable":26},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","bracket.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(attr: impl Serialize) -\u003e Command {\n    let arg = Command::from_json(attr);\n\n    Command::new(TermType::Bracket).with_arg(arg)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_bracket_data() -\u003e Result\u003c()\u003e {\n        let data = Post::get_one_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: String = table\n            .get(1)\n            .bracket(\"title\")\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained == data.title);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":6,"address":[6643039,6642800,6643012],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":7,"address":[6642833],"length":1,"stats":{"Line":1},"fn_name":null},{"line":9,"address":[6642859,6642926],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[1673159,1673525,1673573,1673120],"length":1,"stats":{"Line":6},"fn_name":"test_bracket_data"},{"line":20,"address":[4407203],"length":1,"stats":{"Line":1},"fn_name":null},{"line":21,"address":[4407255,4408246,4407408,4407633,4407808,4407573],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[4408446,4409117,4408509,4408193,4409218,4409174,4408626,4408703,4408898,4409448],"length":1,"stats":{"Line":7},"fn_name":null},{"line":25,"address":[4407276,4408532,4408659,4408489,4408831,4407359],"length":1,"stats":{"Line":6},"fn_name":null},{"line":26,"address":[4409021],"length":1,"stats":{"Line":0},"fn_name":null},{"line":30,"address":[4409762,4409707,4409338],"length":1,"stats":{"Line":2},"fn_name":null},{"line":32,"address":[1673151,1673196,1673256,1673536],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":10,"coverable":11},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","branch.rs"],"content":"use ql2::term::TermType;\n\nuse crate::{arguments::Args, Command};\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl BranchArg) -\u003e Command {\n    let (test, true_action, false_action) = args.into_branch_opts();\n    let mut command = Command::new(TermType::Branch);\n\n    if let Some(arg) = test {\n        command = command.with_arg(arg)\n    }\n\n    true_action.add_to_cmd(command).with_arg(false_action)\n}\n\npub trait BranchArg {\n    fn into_branch_opts(self) -\u003e (Option\u003cCommand\u003e, CmdOpts, Command);\n}\n\nimpl BranchArg for Args\u003c(Command, Command)\u003e {\n    fn into_branch_opts(self) -\u003e (Option\u003cCommand\u003e, CmdOpts, Command) {\n        (None, CmdOpts::Single(self.0 .0), self.0 .1)\n    }\n}\n\nimpl\u003cconst N: usize\u003e BranchArg for Args\u003c(Command, [(Command, Command); N], Command)\u003e {\n    fn into_branch_opts(self) -\u003e (Option\u003cCommand\u003e, CmdOpts, Command) {\n        let actions = self\n            .0\n             .1\n            .into_iter()\n            .flat_map(|(test, true_action)| [test, true_action])\n            .collect();\n        (Some(self.0 .0), CmdOpts::Many(actions), self.0 .2)\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{args, r, Result};\n\n    #[tokio::test]\n    async fn test_branch_data() -\u003e Result\u003c()\u003e {\n        let x = 10;\n        let conn = r.connection().connect().await?;\n        let response: String = r\n            .branch(r.expr(x \u003e 5), args!(r.expr(\"big\"), r.expr(\"small\")))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response.eq(\"big\"));\n\n        Ok(())\n    }\n\n    #[tokio::test]\n    async fn test_branch_data_with_infix() -\u003e Result\u003c()\u003e {\n        let x = 10;\n        let conn = r.connection().connect().await?;\n        let response: String = r\n            .expr(x \u003e 5)\n            .branch(args!(r.expr(\"big\"), r.expr(\"small\")))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response.eq(\"big\"));\n\n        Ok(())\n    }\n}\n","traces":[{"line":7,"address":[2702660,2701936,2702728],"length":1,"stats":{"Line":1},"fn_name":"new\u003creql_rust::arguments::Args\u003c(reql_rust::proto::Command, reql_rust::proto::Command)\u003e\u003e"},{"line":8,"address":[2701953],"length":1,"stats":{"Line":1},"fn_name":null},{"line":9,"address":[2702133],"length":1,"stats":{"Line":1},"fn_name":null},{"line":11,"address":[2702511,2702207],"length":1,"stats":{"Line":1},"fn_name":null},{"line":12,"address":[2702485,2702322],"length":1,"stats":{"Line":0},"fn_name":null},{"line":15,"address":[2702516,2702379],"length":1,"stats":{"Line":2},"fn_name":null},{"line":23,"address":[6656992],"length":1,"stats":{"Line":1},"fn_name":"into_branch_opts"},{"line":24,"address":[2736678],"length":1,"stats":{"Line":1},"fn_name":null},{"line":29,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":30,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":31,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":32,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":34,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":36,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":46,"address":[6686469,6686016,6686421,6686055],"length":1,"stats":{"Line":6},"fn_name":"test_branch_data"},{"line":47,"address":[1701297],"length":1,"stats":{"Line":1},"fn_name":null},{"line":48,"address":[6885458],"length":1,"stats":{"Line":4},"fn_name":null},{"line":49,"address":[1702999,1702742,1703555,1702589,1702813,1702525,1703218,1703312,1703275],"length":1,"stats":{"Line":6},"fn_name":null},{"line":50,"address":[1702019,1702604,1702561,1702280,1702245],"length":1,"stats":{"Line":3},"fn_name":null},{"line":51,"address":[6885322],"length":1,"stats":{"Line":5},"fn_name":null},{"line":52,"address":[1703122],"length":1,"stats":{"Line":0},"fn_name":null},{"line":56,"address":[1703681,1703718,1703425],"length":1,"stats":{"Line":2},"fn_name":null},{"line":58,"address":[1703687],"length":1,"stats":{"Line":5},"fn_name":null},{"line":62,"address":[1703808,1703840,1703817,1703897,1704120,1703985,1704420],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":63,"address":[1703953],"length":1,"stats":{"Line":1},"fn_name":null},{"line":64,"address":[1704080,1704242,1704009,1704431,1704704,1703975],"length":1,"stats":{"Line":4},"fn_name":null},{"line":65,"address":[1705398,1706211,1705874,1705245,1705968,1705181,1704683,1705469,1705655,1705931],"length":1,"stats":{"Line":7},"fn_name":null},{"line":66,"address":[1704936,1704675],"length":1,"stats":{"Line":2},"fn_name":null},{"line":67,"address":[1705217,1704944,1705260,1704901],"length":1,"stats":{"Line":2},"fn_name":null},{"line":68,"address":[1705313,1705225,1704024,1705428,1705597],"length":1,"stats":{"Line":5},"fn_name":null},{"line":69,"address":[1705778],"length":1,"stats":{"Line":0},"fn_name":null},{"line":73,"address":[1706081,1706337,1706374],"length":1,"stats":{"Line":2},"fn_name":null},{"line":75,"address":[1706343],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":24,"coverable":33},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","ceil.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(args: impl CeilArg) -\u003e Command {\n    let mut command = Command::new(TermType::Ceil);\n\n    if let Some(arg) = args.into_ceil_opts() {\n        command = command.with_arg(arg)\n    }\n\n    command\n}\n\npub trait CeilArg {\n    fn into_ceil_opts(self) -\u003e Option\u003cCommand\u003e;\n}\n\nimpl CeilArg for () {\n    fn into_ceil_opts(self) -\u003e Option\u003cCommand\u003e {\n        None\n    }\n}\n\nimpl CeilArg for f64 {\n    fn into_ceil_opts(self) -\u003e Option\u003cCommand\u003e {\n        Some(Command::from_json(self))\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_ceil_data() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let data_obtained: u8 = r.ceil(12.345).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained == 13);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[7026607,7026080,7025488,7026038],"length":1,"stats":{"Line":1},"fn_name":"new\u003cf64\u003e"},{"line":6,"address":[7025523,7026192,7026100,7025621],"length":1,"stats":{"Line":2},"fn_name":null},{"line":8,"address":[2674081,2674143,2674668,2675007,2674730,2674422],"length":1,"stats":{"Line":3},"fn_name":null},{"line":9,"address":[2756044,2755898,2756629,2756484],"length":1,"stats":{"Line":2},"fn_name":null},{"line":12,"address":[2675032,2674447],"length":1,"stats":{"Line":1},"fn_name":null},{"line":20,"address":[2839344],"length":1,"stats":{"Line":0},"fn_name":"into_ceil_opts"},{"line":21,"address":[2839348],"length":1,"stats":{"Line":0},"fn_name":null},{"line":26,"address":[4750720],"length":1,"stats":{"Line":1},"fn_name":"into_ceil_opts"},{"line":27,"address":[4750746],"length":1,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[4588905,4588985,4588896,4589053,4589188,4589487,4588928],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":38,"address":[4589767,4589309,4589043,4589498,4589077,4589148],"length":1,"stats":{"Line":4},"fn_name":null},{"line":39,"address":[4589092,4589995,4589757,4590695,4590784],"length":1,"stats":{"Line":4},"fn_name":null},{"line":41,"address":[4590764,4590992],"length":1,"stats":{"Line":1},"fn_name":null},{"line":43,"address":[4590966],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":12,"coverable":14},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","change_at.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(offset: isize, value: impl Serialize) -\u003e Command {\n    let arg_offset = Command::from_json(offset);\n    let arg_value = Command::from_json(value);\n\n    Command::new(TermType::ChangeAt)\n        .with_arg(arg_offset)\n        .with_arg(arg_value)\n}\n\n// TODO write test\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","changes.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::types::Squash;\nuse crate::Command;\n\npub(crate) fn new(args: impl ChangesArg) -\u003e Command {\n    Command::new(TermType::Changes)\n        .with_opts(args.into_changes_opts())\n        .mark_change_feed()\n}\n\npub trait ChangesArg {\n    fn into_changes_opts(self) -\u003e ChangesOption;\n}\n\nimpl ChangesArg for () {\n    fn into_changes_opts(self) -\u003e ChangesOption {\n        Default::default()\n    }\n}\n\nimpl ChangesArg for ChangesOption {\n    fn into_changes_opts(self) -\u003e ChangesOption {\n        self\n    }\n}\n\n#[derive(Debug, Clone, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct ChangesOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub squash: Option\u003cSquash\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub changefeed_queue_size: Option\u003cu32\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub include_initial: Option\u003cbool\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub include_states: Option\u003cbool\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub include_offsets: Option\u003cbool\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub include_types: Option\u003cbool\u003e,\n}\n","traces":[{"line":19,"address":[4030768],"length":1,"stats":{"Line":0},"fn_name":"into_changes_opts"},{"line":20,"address":[4030780],"length":1,"stats":{"Line":0},"fn_name":null},{"line":25,"address":[4030800],"length":1,"stats":{"Line":0},"fn_name":"into_changes_opts"},{"line":26,"address":[4030803],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":4},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","circle.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::arguments::{Args, Unit};\nuse crate::types::{GeoSystem, Point};\nuse crate::Command;\n\npub(crate) fn new(args: impl CircleArg) -\u003e Command {\n    let (arg_point, arg_radius, opts) = args.into_circle_opts();\n\n    Command::new(TermType::Circle)\n        .with_arg(arg_point)\n        .with_arg(arg_radius)\n        .with_opts(opts)\n}\n\npub trait CircleArg {\n    fn into_circle_opts(self) -\u003e (Command, Command, CircleOption);\n}\n\nimpl CircleArg for Args\u003c(Point, f64)\u003e {\n    fn into_circle_opts(self) -\u003e (Command, Command, CircleOption) {\n        (\n            Command::from_json(self.0 .0),\n            Command::from_json(self.0 .1),\n            Default::default(),\n        )\n    }\n}\n\nimpl CircleArg for Args\u003c(Command, f64)\u003e {\n    fn into_circle_opts(self) -\u003e (Command, Command, CircleOption) {\n        (self.0 .0, Command::from_json(self.0 .1), Default::default())\n    }\n}\n\nimpl CircleArg for Args\u003c(Point, f64, CircleOption)\u003e {\n    fn into_circle_opts(self) -\u003e (Command, Command, CircleOption) {\n        (\n            Command::from_json(self.0 .0),\n            Command::from_json(self.0 .1),\n            self.0 .2,\n        )\n    }\n}\n\nimpl CircleArg for Args\u003c(Command, f64, CircleOption)\u003e {\n    fn into_circle_opts(self) -\u003e (Command, Command, CircleOption) {\n        (self.0 .0, Command::from_json(self.0 .1), self.0 .2)\n    }\n}\n\n#[derive(\n    Debug, Clone, Serialize, Default, PartialEq, Eq, PartialOrd, Ord, Hash, CommandOptions,\n)]\npub struct CircleOption {\n    /// the number of vertices in the polygon or line. Defaults to 32.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub num_vertices: Option\u003cusize\u003e,\n    /// the reference ellipsoid to use for geographic coordinates.\n    /// Possible values are `WGS84` (the default), a common standard\n    /// for Earths geometry, or `UnitSphere`, a perfect sphere of 1 meter radius.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub geo_system: Option\u003cGeoSystem\u003e,\n    /// Unit for the radius distance.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub unit: Option\u003cUnit\u003e,\n    /// if `true` (the default) the circle is filled, creating a polygon;\n    /// if `false` the circle is unfilled (creating a line).\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub fill: Option\u003cbool\u003e,\n}\n\n// TODO write test\n","traces":[{"line":9,"address":[2328704,2329245],"length":1,"stats":{"Line":1},"fn_name":"new\u003creql_rust::arguments::Args\u003c(reql_rust::cmd::point::Point, f64)\u003e\u003e"},{"line":10,"address":[2328721],"length":1,"stats":{"Line":1},"fn_name":null},{"line":12,"address":[2329122,2329182,2329053,2328918],"length":1,"stats":{"Line":4},"fn_name":null},{"line":13,"address":[2328992],"length":1,"stats":{"Line":1},"fn_name":null},{"line":14,"address":[2329060],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[2329134],"length":1,"stats":{"Line":1},"fn_name":null},{"line":23,"address":[2655545,2655232],"length":1,"stats":{"Line":1},"fn_name":"into_circle_opts"},{"line":25,"address":[6657237],"length":1,"stats":{"Line":1},"fn_name":null},{"line":26,"address":[2655311],"length":1,"stats":{"Line":1},"fn_name":null},{"line":27,"address":[6657359],"length":1,"stats":{"Line":1},"fn_name":null},{"line":33,"address":[2737232,2737515],"length":1,"stats":{"Line":0},"fn_name":"into_circle_opts"},{"line":34,"address":[6657591],"length":1,"stats":{"Line":0},"fn_name":null},{"line":39,"address":[6658144,6657856],"length":1,"stats":{"Line":0},"fn_name":"into_circle_opts"},{"line":41,"address":[6657877],"length":1,"stats":{"Line":0},"fn_name":null},{"line":42,"address":[6657934],"length":1,"stats":{"Line":0},"fn_name":null},{"line":43,"address":[6658000],"length":1,"stats":{"Line":0},"fn_name":null},{"line":49,"address":[6658445,6658176],"length":1,"stats":{"Line":0},"fn_name":"into_circle_opts"},{"line":50,"address":[6658215],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":10,"coverable":18},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","coerce_to.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(value: impl Serialize) -\u003e Command {\n    Command::new(TermType::CoerceTo).with_arg(Command::from_json(value))\n}\n\n#[cfg(test)]\nmod tests {\n    use serde_json::json;\n\n    use crate::prelude::Converter;\n    use crate::spec::Post;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_coerce_to_ops() -\u003e Result\u003c()\u003e {\n        let data = Post::get_one_data();\n        let conn = r.connection().connect().await?;\n        let response: Post = r\n            .expr(json!([\n                [\"id\", 1],\n                [\"title\", \"title1\"],\n                [\"content\", \"content1\"],\n                [\"view\", 0]\n            ]))\n            .coerce_to(\"object\")\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        let response2: char = r\n            .expr(1)\n            .coerce_to(\"string\")\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response == data);\n        assert!(response2 == '1');\n\n        Ok(())\n    }\n}\n","traces":[{"line":6,"address":[1837360,1837642],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":7,"address":[1837403,1837508,1837632],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[2253543,2253504,2253909,2253957],"length":1,"stats":{"Line":6},"fn_name":"test_coerce_to_ops"},{"line":20,"address":[6644851],"length":1,"stats":{"Line":1},"fn_name":null},{"line":21,"address":[6644891,6645266,6645470,6645757,6645046,6645206],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[6648362,6648439,6648933,6648853,6648910,6649224,6648245,6648634,6648175],"length":1,"stats":{"Line":6},"fn_name":null},{"line":23,"address":[6645739,6645983],"length":1,"stats":{"Line":2},"fn_name":null},{"line":30,"address":[6648268,6648395,6648567,6644912,6648225,6644997],"length":1,"stats":{"Line":6},"fn_name":null},{"line":31,"address":[6648757],"length":1,"stats":{"Line":0},"fn_name":null},{"line":35,"address":[6649357,6650031,6649118,6650128,6649540,6649617,6649812,6649420,6650088,6650326],"length":1,"stats":{"Line":7},"fn_name":null},{"line":38,"address":[6649400,6649573,6649443,6649745,6644930],"length":1,"stats":{"Line":5},"fn_name":null},{"line":39,"address":[6649935],"length":1,"stats":{"Line":0},"fn_name":null},{"line":43,"address":[6650209,6650512,6650536],"length":1,"stats":{"Line":2},"fn_name":null},{"line":44,"address":[6650599,6650522],"length":1,"stats":{"Line":1},"fn_name":null},{"line":46,"address":[2253640,2253535,2253580,2253920],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":13,"coverable":15},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","concat_map.rs"],"content":"use ql2::term::TermType;\n\nuse crate::prelude::Func;\nuse crate::Command;\n\npub(crate) fn new(func: Func) -\u003e Command {\n    Command::new(TermType::ConcatMap).with_arg(func.0)\n}\n\n// TODO write test\n","traces":[{"line":6,"address":[4583948,4583744,4583921],"length":1,"stats":{"Line":0},"fn_name":"new"},{"line":7,"address":[4583766,4583851],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":2},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","config.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Config)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::ConfigResponse;\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_get_config_info() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(false).await?;\n        let response: ConfigResponse = table.config().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response.name == table_name);\n\n        tear_down(conn, table_name.as_str()).await\n    }\n}\n","traces":[{"line":5,"address":[2718656],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2718668],"length":1,"stats":{"Line":1},"fn_name":null},{"line":17,"address":[4213813,4213765,4213399,4213360],"length":1,"stats":{"Line":6},"fn_name":"test_get_config_info"},{"line":18,"address":[6688380,6688726,6688225,6689158,6688163,6688548],"length":1,"stats":{"Line":4},"fn_name":null},{"line":19,"address":[6688246,6690280,6689415,6690124,6688331,6689110],"length":1,"stats":{"Line":5},"fn_name":null},{"line":21,"address":[6690573,6690627,6690255],"length":1,"stats":{"Line":2},"fn_name":null},{"line":23,"address":[4213391,4213496,4213436,4213776],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":7,"coverable":7},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","connect.rs"],"content":"#![allow(clippy::unused_io_amount)]\n\n//! Create a new connection to the database server\n\nuse std::borrow::Cow;\nuse std::fs::File;\nuse std::io::Read;\nuse std::sync::atomic::{AtomicBool, AtomicU64};\nuse std::sync::Arc;\nuse std::time::Duration;\n\nuse async_native_tls::{Certificate, TlsConnector};\nuse async_net::TcpStream;\nuse dashmap::DashMap;\nuse futures::channel::oneshot;\nuse futures::lock::Mutex;\nuse tokio::task;\nuse tokio::time;\n\nuse super::{StaticString, TcpStreamConnection};\nuse crate::constants::{\n    DEFAULT_RETHINKDB_DBNAME, DEFAULT_RETHINKDB_HOSTNAME, DEFAULT_RETHINKDB_PASSWORD,\n    DEFAULT_RETHINKDB_PORT, DEFAULT_RETHINKDB_USER,\n};\nuse crate::{InnerSession, Result, Session};\n\n#[derive(Debug)]\n#[non_exhaustive]\npub struct ConnectionCommand {\n    /// Host of the RethinkDB instance. The default value is `localhost`.\n    host: Cow\u003c'static, str\u003e,\n\n    /// The driver port, by default `28015`.\n    port: u16,\n\n    /// The database used if not explicitly specified in a query, by default `test`.\n    db: Cow\u003c'static, str\u003e,\n\n    /// The user account to connect as (default `admin`).\n    user: Cow\u003c'static, str\u003e,\n\n    /// The password for the user account to connect as (default `\"\"`, empty).\n    password: Cow\u003c'static, str\u003e,\n\n    timeout: Option\u003cDuration\u003e,\n\n    tls_connector: Option\u003cTlsConnector\u003e,\n}\n\n#[derive(Debug, Clone)]\n#[non_exhaustive]\npub struct SslContext\u003c'a\u003e {\n    pub ca_certs: \u0026'a str,\n    pub auth_key: Option\u003c\u0026'a str\u003e,\n}\n\nimpl ConnectionCommand {\n    /// This method connect to database\n    pub async fn connect(self) -\u003e Result\u003cSession\u003e {\n        if let Some(timeout) = self.timeout {\n            let (sender, reciever) = oneshot::channel();\n\n            task::spawn(async move { sender.send(self.create_session().await) });\n\n            let session = time::timeout(timeout, reciever)\n                .await\n                .unwrap_or_else(|_| {\n                    panic!(\n                        \"It took {} seconds to open the connection\",\n                        timeout.as_secs_f32()\n                    )\n                })\n                .expect(\"The connection has been closed\");\n\n            session\n        } else {\n            self.create_session().await\n        }\n    }\n\n    /// This method set database host\n    pub fn host(mut self, host: \u0026'static str) -\u003e Self {\n        self.host = host.static_string();\n        self\n    }\n\n    /// This method set database port\n    pub fn port(mut self, port: u16) -\u003e Self {\n        self.port = port;\n        self\n    }\n\n    /// This method set database name\n    pub fn dbname(mut self, dbname: \u0026'static str) -\u003e Self {\n        self.db = Cow::from(dbname);\n        self\n    }\n\n    /// This method set database user\n    pub fn user(mut self, user: \u0026'static str, password: \u0026'static str) -\u003e Self {\n        self.user = user.static_string();\n        self.password = password.static_string();\n        self\n    }\n\n    /// Timeout period in seconds for the connection to be opened\n    pub fn timeout(mut self, timeout: Duration) -\u003e Self {\n        self.timeout = Some(timeout);\n        self\n    }\n\n    /// This method set ssl connection\n    pub fn ssl_context(mut self, ssl_context: SslContext) -\u003e Self {\n        let mut file = File::open(ssl_context.ca_certs).unwrap();\n        let mut certificate = Vec::new();\n\n        file.read_to_end(\u0026mut certificate).unwrap();\n\n        let certificate = if let Ok(cert) = Certificate::from_pem(\u0026certificate) {\n            cert\n        } else {\n            Certificate::from_der(\u0026certificate).unwrap()\n        };\n\n        self.tls_connector = Some(TlsConnector::new().add_root_certificate(certificate));\n\n        self\n    }\n\n    async fn create_session(self) -\u003e Result\u003cSession\u003e {\n        let stream = TcpStream::connect((self.host.as_ref(), self.port)).await?;\n        let mut stream = TcpStreamConnection {\n            tls_stream: if let Some(connector) = \u0026self.tls_connector {\n                let stream = connector\n                    .connect(self.host.as_ref(), stream.clone())\n                    .await?;\n                Some(stream)\n            } else {\n                None\n            },\n            stream,\n        };\n\n        if let Some(tcp_stream) = stream.tls_stream {\n            stream.tls_stream = Some(tools::handshake(tcp_stream, \u0026self).await?);\n        } else {\n            stream.stream = tools::handshake(stream.stream, \u0026self).await?;\n        }\n\n        let inner = InnerSession {\n            stream: Mutex::new(stream),\n            db: Mutex::new(self.db),\n            channels: DashMap::new(),\n            token: AtomicU64::new(0),\n            broken: AtomicBool::new(false),\n            change_feed: AtomicBool::new(false),\n        };\n\n        Ok(Session {\n            inner: Arc::new(inner),\n        })\n    }\n}\n\nimpl Default for ConnectionCommand {\n    fn default() -\u003e Self {\n        Self {\n            host: DEFAULT_RETHINKDB_HOSTNAME.static_string(),\n            port: DEFAULT_RETHINKDB_PORT,\n            db: DEFAULT_RETHINKDB_DBNAME.static_string(),\n            user: DEFAULT_RETHINKDB_USER.static_string(),\n            password: DEFAULT_RETHINKDB_PASSWORD.static_string(),\n            timeout: None,\n            tls_connector: None,\n        }\n    }\n}\n\nmod tools {\n    use futures::io::{AsyncReadExt, AsyncWriteExt};\n    use futures::{AsyncRead, AsyncWrite};\n    use ql2::version_dummy::Version;\n    use scram::client::{ScramClient, ServerFinal, ServerFirst};\n    use serde::{Deserialize, Serialize};\n    use tracing::trace;\n\n    use super::ConnectionCommand;\n    use crate::cmd::bytes_to_string;\n    use crate::constants::{\n        BUFFER_SIZE, DEFAULT_AUTHENTICATION_METHOD, NULL_BYTE, PROTOCOL_VERSION,\n    };\n    use crate::{err, Result};\n\n    // Performs the actual handshake\n    //\n    // This method optimises message exchange as suggested in the RethinkDB\n    // documentation by sending message 3 right after message 1, without waiting\n    // for message 2 first.\n    pub async fn handshake\u003cT\u003e(mut stream: T, opts: \u0026ConnectionCommand) -\u003e Result\u003cT\u003e\n    where\n        T: Unpin + AsyncWrite + AsyncReadExt + AsyncRead + AsyncReadExt,\n    {\n        trace!(\"sending supported version to RethinkDB\");\n\n        stream\n            .write_all(\u0026(Version::V10 as i32).to_le_bytes())\n            .await?; // message 1\n\n        let scram = ScramClient::new(opts.user.as_ref(), opts.password.as_ref(), None);\n        let (scram, msg) = client_first(scram)?;\n        trace!(\"sending client first message\");\n        stream.write_all(\u0026msg).await?; // message 3\n\n        let mut buf = [0u8; BUFFER_SIZE];\n\n        trace!(\"receiving message(s) from RethinkDB\");\n        stream.read(\u0026mut buf).await?; // message 2\n        let (len, resp) = bytes(\u0026buf, 0);\n        trace!(\"received server info; info: {}\", bytes_to_string(resp));\n        ServerInfo::validate(resp)?;\n\n        let offset = len + 1;\n        let resp = if offset \u003c BUFFER_SIZE \u0026\u0026 buf[offset] != NULL_BYTE {\n            bytes(\u0026buf, offset).1\n        } else {\n            trace!(\"reading auth response\");\n            stream.read(\u0026mut buf).await?; // message 4\n            bytes(\u0026buf, 0).1\n        };\n        trace!(\"received auth response\");\n        let info = AuthResponse::from_slice(resp)?;\n        let auth = match info.authentication {\n            Some(auth) =\u003e auth,\n            None =\u003e {\n                let msg = String::from(\"server did not send authentication info\");\n                return Err(err::ReqlDriverError::Other(msg).into());\n            }\n        };\n\n        let (scram, msg) = client_final(scram, \u0026auth)?;\n        trace!(\"sending client final message\");\n        stream.write_all(\u0026msg).await?; // message 5\n\n        trace!(\"reading server final message\");\n        stream.read(\u0026mut buf).await?; // message 6\n        let resp = bytes(\u0026buf, 0).1;\n        trace!(\"received server final message\");\n        server_final(scram, resp)?;\n\n        trace!(\"client connected successfully\");\n\n        Ok(stream)\n    }\n    fn bytes(buf: \u0026[u8], offset: usize) -\u003e (usize, \u0026[u8]) {\n        let len = (\u0026buf[offset..])\n            .iter()\n            .take_while(|x| **x != NULL_BYTE)\n            .count();\n        let max = offset + len;\n        (max, \u0026buf[offset..max])\n    }\n\n    // We are going to use \u0026str for `server_version` because it is safe to do so.\n    // Unfortunately, the other fields that are using String, are doing so because\n    // because they can potentially contain an escaped double quote which is not\n    // supported by serde in \u0026str.\n    #[derive(Serialize, Deserialize, Debug)]\n    struct ServerInfo\u003c'a\u003e {\n        success: bool,\n        min_protocol_version: usize,\n        max_protocol_version: usize,\n        server_version: \u0026'a str,\n    }\n\n    impl ServerInfo\u003c'_\u003e {\n        fn validate(resp: \u0026[u8]) -\u003e Result\u003c()\u003e {\n            let info = serde_json::from_slice::\u003cServerInfo\u003e(resp)?;\n            if !info.success {\n                return Err(err::ReqlRuntimeError::Internal(bytes_to_string(resp)).into());\n            }\n            #[allow(clippy::absurd_extreme_comparisons)]\n            if PROTOCOL_VERSION \u003c info.min_protocol_version\n                || info.max_protocol_version \u003c PROTOCOL_VERSION\n            {\n                let msg = format!(\n                    \"unsupported protocol version {version}, expected between {min} and {max}\",\n                    version = PROTOCOL_VERSION,\n                    min = info.min_protocol_version,\n                    max = info.max_protocol_version,\n                );\n                return Err(err::ReqlDriverError::Other(msg).into());\n            }\n            Ok(())\n        }\n    }\n\n    #[derive(Serialize, Deserialize, Debug)]\n    struct AuthRequest {\n        protocol_version: usize,\n        authentication_method: \u0026'static str,\n        authentication: String,\n    }\n\n    fn client_first(scram: ScramClient\u003c'_\u003e) -\u003e Result\u003c(ServerFirst\u003c'_\u003e, Vec\u003cu8\u003e)\u003e {\n        let (scram, client_first) = scram.client_first();\n        let ar = AuthRequest {\n            protocol_version: PROTOCOL_VERSION,\n            authentication_method: DEFAULT_AUTHENTICATION_METHOD,\n            authentication: client_first,\n        };\n        let mut msg = serde_json::to_vec(\u0026ar)?;\n        msg.push(NULL_BYTE);\n        Ok((scram, msg))\n    }\n\n    #[derive(Serialize, Deserialize, Debug)]\n    struct AuthConfirmation {\n        authentication: String,\n    }\n\n    fn client_final(scram: ServerFirst\u003c'_\u003e, auth: \u0026str) -\u003e Result\u003c(ServerFinal, Vec\u003cu8\u003e)\u003e {\n        let scram = scram\n            .handle_server_first(auth)\n            .map_err(|x| x.to_string())\n            .map_err(err::ReqlDriverError::Other)?;\n        let (scram, client_final) = scram.client_final();\n        let conf = AuthConfirmation {\n            authentication: client_final,\n        };\n        let mut msg = serde_json::to_vec(\u0026conf)?;\n        msg.push(NULL_BYTE);\n        Ok((scram, msg))\n    }\n\n    #[derive(Serialize, Deserialize, Debug)]\n    struct AuthResponse {\n        success: bool,\n        authentication: Option\u003cString\u003e,\n        error_code: Option\u003cusize\u003e,\n        error: Option\u003cString\u003e,\n    }\n\n    impl AuthResponse {\n        fn from_slice(resp: \u0026[u8]) -\u003e Result\u003cSelf\u003e {\n            let info = serde_json::from_slice::\u003cAuthResponse\u003e(resp)?;\n            if !info.success {\n                // If error code is between 10 and 20, this is an auth error\n                if let Some(10..=20) = info.error_code {\n                    if let Some(msg) = info.error {\n                        return Err(err::ReqlDriverError::Auth(msg).into());\n                    }\n                }\n                return Err(err::ReqlRuntimeError::Internal(bytes_to_string(resp)).into());\n            }\n            Ok(info)\n        }\n    }\n\n    fn server_final(scram: ServerFinal, resp: \u0026[u8]) -\u003e Result\u003c()\u003e {\n        let info = AuthResponse::from_slice(resp)?;\n        if let Some(auth) = info.authentication {\n            if let Err(error) = scram.handle_server_final(\u0026auth) {\n                return Err(err::ReqlDriverError::Other(error.to_string()).into());\n            }\n        }\n        Ok(())\n    }\n}\n\n#[cfg(test)]\nmod test {\n    use crate::{ReqlDriverError, ReqlError};\n\n    use super::ConnectionCommand;\n\n    #[tokio::test]\n    async fn test_default_connection() {\n        execute_test(ConnectionCommand::default()).await\n    }\n\n    #[tokio::test]\n    async fn test_custom_connection() {\n        let connection_command = ConnectionCommand::default()\n            .host(\"127.0.0.1\")\n            .port(28015)\n            .user(\"admin\", \"\")\n            .dbname(\"test\");\n\n        execute_test(connection_command).await\n    }\n\n    async fn execute_test(connection_command: ConnectionCommand) {\n        let db_expected = connection_command.db.clone();\n\n        match connection_command.connect().await {\n            Ok(session) =\u003e {\n                let db_obtained = \u0026session.inner.db.lock().await;\n                assert!(db_obtained.eq(\u0026db_expected));\n            }\n            Err(err) =\u003e {\n                if let ReqlError::Driver(err) = err {\n                    match err {\n                        ReqlDriverError::Io(err, msg) =\u003e {\n                            assert!(std::io::ErrorKind::ConnectionRefused.eq(\u0026err), \"{}\", msg)\n                        }\n                        ReqlDriverError::Auth(msg) =\u003e assert!(true, \"{}\", msg),\n                        _ =\u003e (),\n                    }\n                }\n            }\n        };\n    }\n}\n","traces":[{"line":59,"address":[2375456,2376459,2376014,2375525,2375814,2376237,2375656,2377446],"length":1,"stats":{"Line":27},"fn_name":"{async_fn#0}"},{"line":60,"address":[2375882,2377357,2375636],"length":1,"stats":{"Line":4},"fn_name":null},{"line":61,"address":[2376536,2375910],"length":1,"stats":{"Line":0},"fn_name":null},{"line":63,"address":[2377758,2376566,2377553,2377504,2376705],"length":1,"stats":{"Line":0},"fn_name":"{async_block#0}"},{"line":65,"address":[2375686,2375771,2376786,2377236],"length":1,"stats":{"Line":0},"fn_name":null},{"line":67,"address":[2377222,2378448],"length":1,"stats":{"Line":0},"fn_name":"{closure#1}"},{"line":68,"address":[2378481],"length":1,"stats":{"Line":0},"fn_name":null},{"line":70,"address":[2378470],"length":1,"stats":{"Line":0},"fn_name":null},{"line":75,"address":[2377309],"length":1,"stats":{"Line":0},"fn_name":null},{"line":77,"address":[2375944,2376070,2375704,2376248],"length":1,"stats":{"Line":13},"fn_name":null},{"line":82,"address":[1777451,1777216],"length":1,"stats":{"Line":1},"fn_name":"host"},{"line":83,"address":[1777317,1777274],"length":1,"stats":{"Line":2},"fn_name":null},{"line":84,"address":[1777431],"length":1,"stats":{"Line":1},"fn_name":null},{"line":88,"address":[1777488],"length":1,"stats":{"Line":1},"fn_name":"port"},{"line":89,"address":[1777508],"length":1,"stats":{"Line":1},"fn_name":null},{"line":90,"address":[1777515],"length":1,"stats":{"Line":1},"fn_name":null},{"line":94,"address":[1777536,1777777],"length":1,"stats":{"Line":1},"fn_name":"dbname"},{"line":95,"address":[1777594,1777637],"length":1,"stats":{"Line":2},"fn_name":null},{"line":96,"address":[1777757],"length":1,"stats":{"Line":1},"fn_name":null},{"line":100,"address":[1778229,1777808],"length":1,"stats":{"Line":1},"fn_name":"user"},{"line":101,"address":[1777899,1777948],"length":1,"stats":{"Line":2},"fn_name":null},{"line":102,"address":[1778065],"length":1,"stats":{"Line":1},"fn_name":null},{"line":103,"address":[1778206],"length":1,"stats":{"Line":1},"fn_name":null},{"line":107,"address":[1778256],"length":1,"stats":{"Line":0},"fn_name":"timeout"},{"line":108,"address":[1778277],"length":1,"stats":{"Line":0},"fn_name":null},{"line":109,"address":[1778331],"length":1,"stats":{"Line":0},"fn_name":null},{"line":113,"address":[1778916,1779581,1778352],"length":1,"stats":{"Line":0},"fn_name":"ssl_context"},{"line":114,"address":[1778374,1778486],"length":1,"stats":{"Line":0},"fn_name":null},{"line":115,"address":[1778517],"length":1,"stats":{"Line":0},"fn_name":null},{"line":117,"address":[1778635,1778571],"length":1,"stats":{"Line":0},"fn_name":null},{"line":119,"address":[1778654,1778768,1778914],"length":1,"stats":{"Line":0},"fn_name":null},{"line":120,"address":[1778752],"length":1,"stats":{"Line":0},"fn_name":null},{"line":122,"address":[1778849,1778773],"length":1,"stats":{"Line":0},"fn_name":null},{"line":125,"address":[1779052,1779014],"length":1,"stats":{"Line":0},"fn_name":null},{"line":127,"address":[1779352],"length":1,"stats":{"Line":0},"fn_name":null},{"line":130,"address":[2379132,2382999,2378592,2378653,2383788,2378830,2379207,2379947,2383962,2379514],"length":1,"stats":{"Line":27},"fn_name":"{async_fn#0}"},{"line":131,"address":[2378860,2379089,2379525,2379274,2379865,2378800],"length":1,"stats":{"Line":29},"fn_name":null},{"line":133,"address":[2379980,2380877,2379806],"length":1,"stats":{"Line":11},"fn_name":null},{"line":144,"address":[2381092,2380192,2381744,2382600],"length":1,"stats":{"Line":22},"fn_name":null},{"line":145,"address":[2378902,2382059,2381129,2378987,2382605],"length":1,"stats":{"Line":0},"fn_name":null},{"line":147,"address":[2381749,2378920,2381162,2381302],"length":1,"stats":{"Line":24},"fn_name":null},{"line":151,"address":[2381938],"length":1,"stats":{"Line":11},"fn_name":null},{"line":152,"address":[2383130],"length":1,"stats":{"Line":11},"fn_name":null},{"line":153,"address":[2383238],"length":1,"stats":{"Line":11},"fn_name":null},{"line":154,"address":[2383286,2383340],"length":1,"stats":{"Line":22},"fn_name":null},{"line":155,"address":[2383366],"length":1,"stats":{"Line":11},"fn_name":null},{"line":156,"address":[2383404],"length":1,"stats":{"Line":11},"fn_name":null},{"line":159,"address":[2383724],"length":1,"stats":{"Line":11},"fn_name":null},{"line":160,"address":[2383692],"length":1,"stats":{"Line":11},"fn_name":null},{"line":166,"address":[1780192,1779696],"length":1,"stats":{"Line":4},"fn_name":"default"},{"line":168,"address":[1779713],"length":1,"stats":{"Line":4},"fn_name":null},{"line":170,"address":[1779735],"length":1,"stats":{"Line":4},"fn_name":null},{"line":171,"address":[1779800],"length":1,"stats":{"Line":4},"fn_name":null},{"line":172,"address":[1779862],"length":1,"stats":{"Line":4},"fn_name":null},{"line":199,"address":[2405422,2426254,2405104,2405200],"length":1,"stats":{"Line":22},"fn_name":"handshake\u003casync_native_tls::tls_stream::TlsStream\u003casync_net::tcp::TcpStream\u003e\u003e"},{"line":203,"address":[2406683,2427795,2427879,2406157,2427534,2407028,2406833,2427684,2406519,2406944,2427008,2427370],"length":1,"stats":{"Line":33},"fn_name":null},{"line":205,"address":[2407537,2428390,2428486,2428591,2428775,2428212,2428680,2407361,2407633,2407738,2407827,2407919],"length":1,"stats":{"Line":55},"fn_name":null},{"line":206,"address":[2428413,2407664,2426477,2405626,2407373,2407560,2426850,2428650,2407797,2428226,2428517,2405999],"length":1,"stats":{"Line":44},"fn_name":null},{"line":207,"address":[2407903,2428759,2428797,2407941],"length":1,"stats":{"Line":0},"fn_name":null},{"line":209,"address":[2428721,2428895,2408032,2407868],"length":1,"stats":{"Line":22},"fn_name":null},{"line":210,"address":[2408577,2429018,2429446,2408152],"length":1,"stats":{"Line":11},"fn_name":null},{"line":211,"address":[2430338,2429662,2430533,2409319,2408793,2430024,2430188,2409664,2409155,2409469,2409580,2430449],"length":1,"stats":{"Line":33},"fn_name":null},{"line":212,"address":[2410543,2405647,2430866,2405948,2426498,2426799,2409997,2431414],"length":1,"stats":{"Line":22},"fn_name":null},{"line":214,"address":[2410412,2431283],"length":1,"stats":{"Line":11},"fn_name":null},{"line":216,"address":[2411433,2431879,2432304,2411008,2411517,2411322,2411172,2431517,2410646,2432043,2432193,2432388],"length":1,"stats":{"Line":33},"fn_name":null},{"line":217,"address":[2433098,2426519,2405897,2412224,2411850,2426748,2432721,2405668],"length":1,"stats":{"Line":23},"fn_name":null},{"line":218,"address":[2433168,2433067,2412294,2412193],"length":1,"stats":{"Line":22},"fn_name":null},{"line":219,"address":[2434033,2433883,2413354,2413849,2412845,2412483,2413009,2433357,2434144,2434228,2413159,2434723,2413270,2433719],"length":1,"stats":{"Line":33},"fn_name":null},{"line":220,"address":[2434841,2413875,2413967,2434749],"length":1,"stats":{"Line":11},"fn_name":null},{"line":222,"address":[2414151,2414133,2435007,2435025,2413939,2434813],"length":1,"stats":{"Line":22},"fn_name":null},{"line":223,"address":[2435015,2414141,2414184,2435058,2416291,2437168],"length":1,"stats":{"Line":12},"fn_name":null},{"line":224,"address":[2414430,2435304],"length":1,"stats":{"Line":11},"fn_name":null},{"line":226,"address":[2414611,2415287,2415398,2435485,2415482,2436161,2414973,2436356,2436272,2435847,2436011,2415137],"length":1,"stats":{"Line":3},"fn_name":null},{"line":227,"address":[2415815,2416189,2436689,2437066,2426540,2405689,2426697,2405846],"length":1,"stats":{"Line":3},"fn_name":null},{"line":228,"address":[2437035,2437136,2416158,2416259],"length":1,"stats":{"Line":2},"fn_name":null},{"line":230,"address":[2437706,2416979,2416829,2416303,2437856,2437180,2416665,2417174,2437542,2417090,2437967,2438051],"length":1,"stats":{"Line":33},"fn_name":null},{"line":231,"address":[2417499,2438465,2417588,2438376,2417816,2438693],"length":1,"stats":{"Line":22},"fn_name":null},{"line":232,"address":[2438664,2438868,2417787,2417991],"length":1,"stats":{"Line":11},"fn_name":null},{"line":233,"address":[2438908,2418031],"length":1,"stats":{"Line":11},"fn_name":null},{"line":234,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":235,"address":[2438870,2417993],"length":1,"stats":{"Line":0},"fn_name":null},{"line":236,"address":[2425682,2446659],"length":1,"stats":{"Line":0},"fn_name":null},{"line":240,"address":[2439305,2439235,2418108,2438985,2418413,2439584,2418343,2418692],"length":1,"stats":{"Line":22},"fn_name":null},{"line":241,"address":[2440352,2440502,2439826,2419296,2418934,2419610,2440188,2440613,2419805,2440697,2419460,2419721],"length":1,"stats":{"Line":33},"fn_name":null},{"line":242,"address":[2420138,2426561,2420654,2405710,2426646,2441548,2405795,2441030],"length":1,"stats":{"Line":22},"fn_name":null},{"line":244,"address":[2421544,2421628,2442327,2442438,2421119,2441651,2420757,2421283,2442522,2421433,2442013,2442177],"length":1,"stats":{"Line":33},"fn_name":null},{"line":245,"address":[2405728,2426579,2443232,2421961,2422335,2442855],"length":1,"stats":{"Line":12},"fn_name":null},{"line":246,"address":[2443302,2443201,2422304,2422405],"length":1,"stats":{"Line":22},"fn_name":null},{"line":247,"address":[2443467,2422932,2423441,2422570,2443993,2444143,2423096,2423246,2443829,2444254,2444338,2423357],"length":1,"stats":{"Line":33},"fn_name":null},{"line":248,"address":[2423790,2444687,2444949,2424043],"length":1,"stats":{"Line":11},"fn_name":null},{"line":250,"address":[2424911,2445551,2424298,2425082,2445835,2445934,2425010,2424627,2446006,2445703,2424779,2445207],"length":1,"stats":{"Line":33},"fn_name":null},{"line":252,"address":[2425409,2446333],"length":1,"stats":{"Line":11},"fn_name":null},{"line":254,"address":[2397200],"length":1,"stats":{"Line":11},"fn_name":"bytes"},{"line":255,"address":[2397272],"length":1,"stats":{"Line":11},"fn_name":null},{"line":257,"address":[2447120,2447133],"length":1,"stats":{"Line":22},"fn_name":"{closure#0}"},{"line":259,"address":[2397390,2397490],"length":1,"stats":{"Line":11},"fn_name":null},{"line":260,"address":[2397545,2397433],"length":1,"stats":{"Line":22},"fn_name":null},{"line":276,"address":[2397568],"length":1,"stats":{"Line":11},"fn_name":"validate"},{"line":277,"address":[2397611,2397725],"length":1,"stats":{"Line":11},"fn_name":null},{"line":278,"address":[2397708],"length":1,"stats":{"Line":11},"fn_name":null},{"line":279,"address":[2397796],"length":1,"stats":{"Line":0},"fn_name":null},{"line":282,"address":[2397768,2397927],"length":1,"stats":{"Line":22},"fn_name":null},{"line":283,"address":[2397918],"length":1,"stats":{"Line":11},"fn_name":null},{"line":285,"address":[2397973],"length":1,"stats":{"Line":0},"fn_name":null},{"line":291,"address":[2398225],"length":1,"stats":{"Line":0},"fn_name":null},{"line":293,"address":[2397961],"length":1,"stats":{"Line":11},"fn_name":null},{"line":304,"address":[2399509,2398384,2399449],"length":1,"stats":{"Line":11},"fn_name":"client_first"},{"line":305,"address":[2398400],"length":1,"stats":{"Line":11},"fn_name":null},{"line":311,"address":[2398884,2398703,2398766],"length":1,"stats":{"Line":22},"fn_name":null},{"line":312,"address":[2398856],"length":1,"stats":{"Line":11},"fn_name":null},{"line":313,"address":[2399085],"length":1,"stats":{"Line":11},"fn_name":null},{"line":321,"address":[2399552,2401141,2401195],"length":1,"stats":{"Line":11},"fn_name":"client_final"},{"line":322,"address":[2399594,2400171],"length":1,"stats":{"Line":11},"fn_name":null},{"line":324,"address":[2447168,2447152],"length":1,"stats":{"Line":0},"fn_name":"{closure#0}"},{"line":325,"address":[2400043],"length":1,"stats":{"Line":0},"fn_name":null},{"line":326,"address":[2399927,2400247],"length":1,"stats":{"Line":22},"fn_name":null},{"line":330,"address":[2400518,2400636,2400455],"length":1,"stats":{"Line":22},"fn_name":null},{"line":331,"address":[2400608],"length":1,"stats":{"Line":11},"fn_name":null},{"line":332,"address":[2400823],"length":1,"stats":{"Line":11},"fn_name":null},{"line":344,"address":[2401232,2401989,2401945],"length":1,"stats":{"Line":11},"fn_name":"from_slice"},{"line":345,"address":[2401408,2401274],"length":1,"stats":{"Line":11},"fn_name":null},{"line":346,"address":[2401387],"length":1,"stats":{"Line":11},"fn_name":null},{"line":348,"address":[2401578,2401531],"length":1,"stats":{"Line":0},"fn_name":null},{"line":349,"address":[2401586],"length":1,"stats":{"Line":0},"fn_name":null},{"line":350,"address":[2401643,2401784],"length":1,"stats":{"Line":0},"fn_name":null},{"line":353,"address":[2401837,2401568],"length":1,"stats":{"Line":0},"fn_name":null},{"line":355,"address":[2401448],"length":1,"stats":{"Line":11},"fn_name":null},{"line":359,"address":[2402176,2402994],"length":1,"stats":{"Line":11},"fn_name":"server_final"},{"line":360,"address":[2402240,2402390],"length":1,"stats":{"Line":11},"fn_name":null},{"line":361,"address":[2402362,2402491],"length":1,"stats":{"Line":22},"fn_name":null},{"line":362,"address":[2402525,2402707],"length":1,"stats":{"Line":22},"fn_name":null},{"line":363,"address":[2402812,2403085],"length":1,"stats":{"Line":0},"fn_name":null},{"line":366,"address":[2402614],"length":1,"stats":{"Line":11},"fn_name":null},{"line":377,"address":[4534048,4534077,4534438,4534481],"length":1,"stats":{"Line":6},"fn_name":"test_default_connection"},{"line":378,"address":[4534449,4534174,4534114,4534069],"length":1,"stats":{"Line":7},"fn_name":null},{"line":382,"address":[4534541,4534512,4534902,4534945],"length":1,"stats":{"Line":6},"fn_name":"test_custom_connection"},{"line":383,"address":[4786391,4786578],"length":1,"stats":{"Line":2},"fn_name":null},{"line":389,"address":[4534578,4534913,4534638,4534533],"length":1,"stats":{"Line":6},"fn_name":null},{"line":392,"address":[4532432,4532457],"length":1,"stats":{"Line":5},"fn_name":"execute_test"},{"line":393,"address":[4783164],"length":1,"stats":{"Line":1},"fn_name":null},{"line":395,"address":[4783225,4783603,4783787,4783310,4783469],"length":1,"stats":{"Line":4},"fn_name":null},{"line":396,"address":[4784009],"length":1,"stats":{"Line":1},"fn_name":null},{"line":397,"address":[4783243,4785032,4784033],"length":1,"stats":{"Line":2},"fn_name":null},{"line":398,"address":[4785428,4785475,4785363],"length":1,"stats":{"Line":2},"fn_name":null},{"line":400,"address":[4784059],"length":1,"stats":{"Line":0},"fn_name":null},{"line":401,"address":[4784804,4784096,4784202],"length":1,"stats":{"Line":0},"fn_name":null},{"line":402,"address":[4784163],"length":1,"stats":{"Line":0},"fn_name":null},{"line":403,"address":[4784300],"length":1,"stats":{"Line":0},"fn_name":null},{"line":404,"address":[4784481,4784354,4784506],"length":1,"stats":{"Line":0},"fn_name":null},{"line":406,"address":[4784595,4784229],"length":1,"stats":{"Line":0},"fn_name":null},{"line":407,"address":[4784224],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":110,"coverable":151},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","contains.rs"],"content":"use ql2::term::TermType;\n\nuse crate::arguments::AnyParam;\nuse crate::prelude::Func;\nuse crate::Command;\n\npub(crate) fn new(args: impl ContainsArg) -\u003e Command {\n    let (sequence, arg) = args.into_contains_opts();\n    let mut command = Command::new(TermType::Contains);\n\n    if let Some(seq) = sequence {\n        command = command.with_arg(seq)\n    }\n\n    command.with_arg(arg)\n}\n\npub trait ContainsArg {\n    fn into_contains_opts(self) -\u003e (Option\u003cCommand\u003e, Command);\n}\n\nimpl ContainsArg for AnyParam {\n    fn into_contains_opts(self) -\u003e (Option\u003cCommand\u003e, Command) {\n        (None, self.into())\n    }\n}\n\nimpl ContainsArg for Func {\n    fn into_contains_opts(self) -\u003e (Option\u003cCommand\u003e, Command) {\n        (None, self.0)\n    }\n}\n\nimpl ContainsArg for (Command, AnyParam) {\n    fn into_contains_opts(self) -\u003e (Option\u003cCommand\u003e, Command) {\n        (Some(self.0), self.1.into())\n    }\n}\n\nimpl ContainsArg for (Command, Func) {\n    fn into_contains_opts(self) -\u003e (Option\u003cCommand\u003e, Command) {\n        let Func(func) = self.1;\n\n        (Some(self.0), func)\n    }\n}\n\n// TODO write test\n","traces":[{"line":23,"address":[2855856,2856034],"length":1,"stats":{"Line":0},"fn_name":"into_contains_opts"},{"line":24,"address":[5125041],"length":1,"stats":{"Line":0},"fn_name":null},{"line":29,"address":[2744960],"length":1,"stats":{"Line":0},"fn_name":"into_contains_opts"},{"line":30,"address":[7017601],"length":1,"stats":{"Line":0},"fn_name":null},{"line":35,"address":[4038720,4038952],"length":1,"stats":{"Line":0},"fn_name":"into_contains_opts"},{"line":36,"address":[4038776],"length":1,"stats":{"Line":0},"fn_name":null},{"line":41,"address":[4038992],"length":1,"stats":{"Line":0},"fn_name":"into_contains_opts"},{"line":42,"address":[4039013],"length":1,"stats":{"Line":0},"fn_name":null},{"line":44,"address":[4039039],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":9},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","count.rs"],"content":"use ql2::term::TermType;\n\nuse crate::arguments::Args;\nuse crate::prelude::Func;\nuse crate::Command;\n\npub(crate) fn new(args: impl CountArg) -\u003e Command {\n    let mut command = Command::new(TermType::Count);\n    let (arg1, arg2) = args.into_count_arg();\n\n    if let Some(arg) = arg1 {\n        command = command.with_arg(arg)\n    }\n\n    if let Some(arg) = arg2 {\n        command = command.with_arg(arg)\n    }\n\n    command\n}\n\npub trait CountArg {\n    fn into_count_arg(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e);\n}\n\nimpl CountArg for () {\n    fn into_count_arg(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        (None, None)\n    }\n}\n\nimpl CountArg for Command {\n    fn into_count_arg(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        (Some(self), None)\n    }\n}\n\nimpl CountArg for Func {\n    fn into_count_arg(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        (Some(self.0), None)\n    }\n}\n\nimpl CountArg for Args\u003c(Command, Func)\u003e {\n    fn into_count_arg(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        let Func(func) = self.0 .1;\n\n        (Some(self.0 .0), Some(func))\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_count_data() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: usize = table.count(()).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained == data.len());\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":7,"address":[4438431,4437328,4438226],"length":1,"stats":{"Line":1},"fn_name":"new\u003c()\u003e"},{"line":8,"address":[4437345,4437456],"length":1,"stats":{"Line":2},"fn_name":null},{"line":9,"address":[4437464,4437525],"length":1,"stats":{"Line":2},"fn_name":null},{"line":11,"address":[4437600,4437916],"length":1,"stats":{"Line":1},"fn_name":null},{"line":12,"address":[4437700,4437885],"length":1,"stats":{"Line":0},"fn_name":null},{"line":15,"address":[4437783,4437921,4438161],"length":1,"stats":{"Line":1},"fn_name":null},{"line":16,"address":[4437984,4438130],"length":1,"stats":{"Line":0},"fn_name":null},{"line":19,"address":[4438072],"length":1,"stats":{"Line":1},"fn_name":null},{"line":27,"address":[2718704],"length":1,"stats":{"Line":1},"fn_name":"into_count_arg"},{"line":28,"address":[2881859],"length":1,"stats":{"Line":1},"fn_name":null},{"line":33,"address":[2172768],"length":1,"stats":{"Line":0},"fn_name":"into_count_arg"},{"line":34,"address":[2254432],"length":1,"stats":{"Line":0},"fn_name":null},{"line":39,"address":[2745072],"length":1,"stats":{"Line":0},"fn_name":"into_count_arg"},{"line":40,"address":[2745088],"length":1,"stats":{"Line":0},"fn_name":null},{"line":45,"address":[6658480],"length":1,"stats":{"Line":0},"fn_name":"into_count_arg"},{"line":46,"address":[2656566],"length":1,"stats":{"Line":0},"fn_name":null},{"line":48,"address":[6658529],"length":1,"stats":{"Line":0},"fn_name":null},{"line":59,"address":[4792197,4791792,4791831,4792245],"length":1,"stats":{"Line":6},"fn_name":"test_count_data"},{"line":60,"address":[2356611],"length":1,"stats":{"Line":1},"fn_name":null},{"line":61,"address":[2357216,2357041,2356816,2356663,2356981,2357649],"length":1,"stats":{"Line":4},"fn_name":null},{"line":62,"address":[2356684,2357857,2358687,2356767,2358586,2357601],"length":1,"stats":{"Line":5},"fn_name":null},{"line":64,"address":[2359086,2358672,2359025],"length":1,"stats":{"Line":2},"fn_name":null},{"line":66,"address":[2356702,2359045,2359159,2359400,2359534,2359283,2359343],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":14,"coverable":23},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","date.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Date)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::types::Time;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_date_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let datetime = r.now().date();\n        let date1 = datetime.clone().value();\n        let date2: Time = datetime.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(date1 == date2);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2718816],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2718828],"length":1,"stats":{"Line":1},"fn_name":null},{"line":16,"address":[4752432,4752735,4752521,4752464,4753034,4752598,4752441],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":17,"address":[4752622,4752856,4752695,4752576,4753045,4753306],"length":1,"stats":{"Line":4},"fn_name":null},{"line":19,"address":[4753552,4753296],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[4753643,4753580],"length":1,"stats":{"Line":2},"fn_name":null},{"line":21,"address":[4754651,4752637,4754469,4753757,4753670],"length":1,"stats":{"Line":4},"fn_name":null},{"line":23,"address":[4754928,4754622,4754895],"length":1,"stats":{"Line":2},"fn_name":null},{"line":25,"address":[4754901],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":9,"coverable":9},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","day.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Day)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_day_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let day = r.now().day();\n        let day1 = day.clone().value();\n        let day2: u8 = day.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(day1 == day2);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[4750800],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[4750812],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[2254405,2254453,2254039,2254000],"length":1,"stats":{"Line":6},"fn_name":"test_day_ops"},{"line":16,"address":[2545408,2545688,2546138,2545877,2545527,2545454],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[2546384,2546128],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[2546412,2546475],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[2546519,2545469,2547319,2547414,2546606],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[2547393,2547607],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[2254416,2254076,2254031,2254136],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":9,"coverable":9},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","day_of_week.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::DayOfWeek)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_day_of_week_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let day_of_week = r.now().day_of_week();\n        let day_of_week1 = day_of_week.clone().value();\n        let day_of_week2: u8 = day_of_week.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(day_of_week1 == day_of_week2);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2718864],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2718876],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[1712437,1711984,1712389,1712023],"length":1,"stats":{"Line":6},"fn_name":"test_day_of_week_ops"},{"line":16,"address":[4536602,4535918,4535991,4535872,4536152,4536341],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[4536592,4536848],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[4536876,4536939],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[4537070,4535933,4537783,4536983,4537878],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[4538071,4537857],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[1712060,1712015,1712120,1712400],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":9,"coverable":9},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","day_of_year.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::DayOfYear)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_day_of_year_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let day_of_year = r.now().day_of_year();\n        let day_of_year1 = day_of_year.clone().value();\n        let day_of_year2: u16 = day_of_year.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(day_of_year1 == day_of_year2);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2718912],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2718924],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[1534608,1534665,1534576,1534742,1534585,1534879,1535178],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":16,"address":[1535450,1534720,1535189,1534839,1535000,1534766],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[1535440,1535696],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[1535724,1535787],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[1535834,1535921,1536734,1536634,1534781],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[1536712,1536927],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[1536897],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":9,"coverable":9},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","db.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(db_name: \u0026str) -\u003e Command {\n    let arg = Command::from_json(db_name);\n\n    Command::new(TermType::Db).with_arg(arg)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::{r, ReqlError, ReqlRuntimeError, Result};\n\n    #[tokio::test]\n    async fn test_select_db() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response = r.db(\"test\").run(\u0026conn).await.err().unwrap();\n\n        if let ReqlError::Runtime(err) = response {\n            if let ReqlRuntimeError::QueryLogic(msg) = err {\n                assert!(true, \"{}\", msg);\n                return Ok(());\n            }\n        }\n\n        assert!(false);\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2584016,2584241,2584272],"length":1,"stats":{"Line":3},"fn_name":"new"},{"line":6,"address":[4352321],"length":1,"stats":{"Line":3},"fn_name":null},{"line":8,"address":[2502428,2502503],"length":1,"stats":{"Line":6},"fn_name":null},{"line":16,"address":[1673655,1674069,1674021,1673616],"length":1,"stats":{"Line":6},"fn_name":"test_select_db"},{"line":17,"address":[4755316,4755245,4755195,4755477,4755666,4755939],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[6856566],"length":1,"stats":{"Line":3},"fn_name":null},{"line":20,"address":[4756683,4756621],"length":1,"stats":{"Line":1},"fn_name":null},{"line":21,"address":[4756697,4756670],"length":1,"stats":{"Line":2},"fn_name":null},{"line":22,"address":[4756974,4756745],"length":1,"stats":{"Line":1},"fn_name":null},{"line":23,"address":[4756943],"length":1,"stats":{"Line":1},"fn_name":null},{"line":27,"address":[4756842,4756685],"length":1,"stats":{"Line":0},"fn_name":null},{"line":28,"address":[1674032,1673692,1673647,1673752],"length":1,"stats":{"Line":4},"fn_name":null}],"covered":11,"coverable":12},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","db_create.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(db_name: \u0026str) -\u003e Command {\n    let arg = Command::from_json(db_name);\n\n    Command::new(TermType::DbCreate).with_arg(arg)\n}\n\n#[cfg(test)]\nmod tests {\n    use uuid::Uuid;\n\n    use crate::prelude::*;\n    use crate::types::DbResponse;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_create_db() -\u003e Result\u003c()\u003e {\n        let dbname = Uuid::new_v4().to_string();\n        let conn = r.connection().connect().await?;\n        let db_created: DbResponse = r\n            .db_create(dbname.as_str())\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(db_created.dbs_created == Some(1));\n\n        r.db_drop(\u0026dbname).run(\u0026conn).await?;\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[4352544,4352756,4352783],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2231265],"length":1,"stats":{"Line":1},"fn_name":null},{"line":8,"address":[2313015,2312940],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[2839417,2839585,2839813,2839509,2840210,2839408,2839440],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":21,"address":[2839563,2839938],"length":1,"stats":{"Line":2},"fn_name":null},{"line":22,"address":[2840017,2839615,2840221,2839770,2840506,2839953],"length":1,"stats":{"Line":4},"fn_name":null},{"line":23,"address":[2841440,2841463,2841383,2840769,2840734,2840886,2841164,2840969,2841819],"length":1,"stats":{"Line":6},"fn_name":null},{"line":24,"address":[2840480],"length":1,"stats":{"Line":1},"fn_name":null},{"line":25,"address":[2839721,2840792,2840925,2841097,2839636,2840749],"length":1,"stats":{"Line":6},"fn_name":null},{"line":26,"address":[2841287],"length":1,"stats":{"Line":0},"fn_name":null},{"line":30,"address":[2841973,2841691,2842010],"length":1,"stats":{"Line":2},"fn_name":null},{"line":32,"address":[2842090,2839654,2841987],"length":1,"stats":{"Line":3},"fn_name":null},{"line":33,"address":[2842888],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":12,"coverable":13},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","db_drop.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(db_name: \u0026str) -\u003e Command {\n    let arg = Command::from_json(db_name);\n\n    Command::new(TermType::DbDrop).with_arg(arg)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::*;\n    use crate::types::DbResponse;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_drop_db() -\u003e Result\u003c()\u003e {\n        let dbname = \"zuma\";\n        let conn = r.connection().connect().await?;\n        r.db_create(dbname).run(\u0026conn).await?;\n\n        let db_dropped: DbResponse = r.db_drop(dbname).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(db_dropped.dbs_dropped == Some(1));\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2314256,2314225,2314000],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[4352833],"length":1,"stats":{"Line":1},"fn_name":null},{"line":8,"address":[2232412,2232487],"length":1,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[1674112,1674151,1674517,1674565],"length":1,"stats":{"Line":6},"fn_name":"test_drop_db"},{"line":19,"address":[5121601],"length":1,"stats":{"Line":1},"fn_name":null},{"line":20,"address":[6870801],"length":1,"stats":{"Line":4},"fn_name":null},{"line":21,"address":[5121679,5122642,5122388,5121750],"length":1,"stats":{"Line":4},"fn_name":null},{"line":23,"address":[5124352,5121694,5124075,5123391,5123321],"length":1,"stats":{"Line":4},"fn_name":null},{"line":25,"address":[5124587,5124319,5124554],"length":1,"stats":{"Line":2},"fn_name":null},{"line":26,"address":[1674188,1674248,1674528,1674143],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":10,"coverable":10},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","db_list.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::DbList)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::*;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_list_db() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let db_list: Vec\u003cString\u003e = r.db_list().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(db_list.len() \u003e 0);\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2718960],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2718972],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[2550297,2550320,2550288,2550445,2550580,2550377,2550879],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":16,"address":[2550469,2550890,2550701,2551151,2550435,2550540],"length":1,"stats":{"Line":4},"fn_name":null},{"line":17,"address":[2551379,2550484,2552079,2552219,2551141],"length":1,"stats":{"Line":4},"fn_name":null},{"line":19,"address":[2552192,2552442,2552486],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[2552455],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":7,"coverable":7},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","default.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(args: impl Serialize) -\u003e Command {\n    Command::new(TermType::Default).with_arg(Command::from_json(args))\n}\n\n#[cfg(test)]\nmod tests {\n    use std::collections::HashMap;\n\n    use serde::{Deserialize, Serialize};\n\n    use crate::prelude::*;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::{r, Result};\n\n    #[derive(Debug, Serialize, Deserialize, PartialEq, Eq)]\n    struct InnerPost {\n        title: String,\n        content: String,\n    }\n\n    #[tokio::test]\n    async fn test_default_ops() -\u003e Result\u003c()\u003e {\n        let data: Vec\u003cInnerPost\u003e = Post::get_many_data()\n            .into_iter()\n            .map(|post| InnerPost {\n                title: post.title,\n                content: if let Some(content) = post.content {\n                    content\n                } else {\n                    \"Anonymous\".to_owned()\n                },\n            })\n            .collect();\n        let (conn, table, table_name) = set_up(true).await?;\n        let response: Vec\u003cInnerPost\u003e = table\n            .order_by(r.expr(\"title\"))\n            .map(func!(|doc| {\n                let mut post = HashMap::new();\n                post.insert(\"title\", doc.clone().g(\"title\"));\n                post.insert(\"content\", doc.g(\"content\").default(\"Anonymous\"));\n                r.hash_map(post)\n            }))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response == data);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":6,"address":[4457898,4457616],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":7,"address":[4457888,4457659,4457764],"length":1,"stats":{"Line":2},"fn_name":null},{"line":27,"address":[3081549,3080720,3080688,3080697,3080789,3080905,3081131],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":28,"address":[3080851,3081256],"length":1,"stats":{"Line":2},"fn_name":null},{"line":30,"address":[3085367,3085152,3085398],"length":1,"stats":{"Line":1},"fn_name":"{closure#0}"},{"line":31,"address":[3085179],"length":1,"stats":{"Line":1},"fn_name":null},{"line":32,"address":[3085304,3085215],"length":1,"stats":{"Line":2},"fn_name":null},{"line":33,"address":[3085274],"length":1,"stats":{"Line":1},"fn_name":null},{"line":35,"address":[3085365,3085306],"length":1,"stats":{"Line":2},"fn_name":null},{"line":39,"address":[6891800],"length":1,"stats":{"Line":4},"fn_name":null},{"line":40,"address":[3083702,3083211,3083803,3082918,3083483,3083759,3084033,3081969,3083288,3083052,3082228],"length":1,"stats":{"Line":8},"fn_name":null},{"line":41,"address":[3082303,3081991,3082194,3082267,3082321],"length":1,"stats":{"Line":2},"fn_name":null},{"line":42,"address":[3082376,3082296,3082341,3082957,3085536,3086058],"length":1,"stats":{"Line":3},"fn_name":"{closure#1}"},{"line":43,"address":[3085566],"length":1,"stats":{"Line":1},"fn_name":null},{"line":44,"address":[3085709,3085648],"length":1,"stats":{"Line":2},"fn_name":null},{"line":45,"address":[3085798],"length":1,"stats":{"Line":1},"fn_name":null},{"line":46,"address":[3085960],"length":1,"stats":{"Line":1},"fn_name":null},{"line":48,"address":[3083244,3083416,3080956,3083032,3081039,3083120],"length":1,"stats":{"Line":6},"fn_name":null},{"line":49,"address":[3083606],"length":1,"stats":{"Line":0},"fn_name":null},{"line":53,"address":[3083923,3084288,3084343],"length":1,"stats":{"Line":2},"fn_name":null},{"line":55,"address":[2269551,2269596,2269656,2269936],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":20,"coverable":21},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","delete.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::arguments::{Durability, ReturnChanges};\nuse crate::Command;\n\npub(crate) fn new(args: impl DeleteArg) -\u003e Command {\n    Command::new(TermType::Delete).with_opts(args.into_delete_opts())\n}\n\npub trait DeleteArg {\n    fn into_delete_opts(self) -\u003e DeleteOption;\n}\n\nimpl DeleteArg for () {\n    fn into_delete_opts(self) -\u003e DeleteOption {\n        Default::default()\n    }\n}\nimpl DeleteArg for DeleteOption {\n    fn into_delete_opts(self) -\u003e DeleteOption {\n        self\n    }\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct DeleteOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub durability: Option\u003cDurability\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub return_changes: Option\u003cReturnChanges\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub non_atomic: Option\u003cbool\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub ignore_write_hook: Option\u003cbool\u003e,\n}\n\n// TODO write test\n","traces":[{"line":8,"address":[2353984,2354250],"length":1,"stats":{"Line":1},"fn_name":"new\u003c()\u003e"},{"line":9,"address":[2354240,2354096,2354001],"length":1,"stats":{"Line":2},"fn_name":null},{"line":17,"address":[2697872],"length":1,"stats":{"Line":1},"fn_name":"into_delete_opts"},{"line":18,"address":[2697876],"length":1,"stats":{"Line":1},"fn_name":null},{"line":22,"address":[2697904],"length":1,"stats":{"Line":0},"fn_name":"into_delete_opts"},{"line":23,"address":[2697919],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":4,"coverable":6},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","delete_at.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(args: impl DeleteAtArg) -\u003e Command {\n    let (start_offset, end_offset) = args.into_delete_at_opts();\n    let mut command = Command::new(TermType::DeleteAt).with_arg(start_offset);\n\n    if let Some(end_offset) = end_offset {\n        command = command.with_arg(end_offset);\n    }\n\n    command\n}\n\npub trait DeleteAtArg {\n    fn into_delete_at_opts(self) -\u003e (Command, Option\u003cCommand\u003e);\n}\n\nimpl DeleteAtArg for isize {\n    fn into_delete_at_opts(self) -\u003e (Command, Option\u003cCommand\u003e) {\n        (Command::from_json(self), None)\n    }\n}\n\nimpl DeleteAtArg for (isize, isize) {\n    fn into_delete_at_opts(self) -\u003e (Command, Option\u003cCommand\u003e) {\n        (Command::from_json(self.0), Some(Command::from_json(self.0)))\n    }\n}\n\n// TODO write test\n","traces":[{"line":21,"address":[1550752],"length":1,"stats":{"Line":0},"fn_name":"into_delete_at_opts"},{"line":22,"address":[1550776],"length":1,"stats":{"Line":0},"fn_name":null},{"line":27,"address":[1550864,1551055],"length":1,"stats":{"Line":0},"fn_name":"into_delete_at_opts"},{"line":28,"address":[1550902],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":4},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","desc.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::prelude::Func;\nuse crate::Command;\n\npub(crate) fn new(args: impl DescArg) -\u003e Command {\n    Command::new(TermType::Desc).with_arg(args.into_desc_opts())\n}\n\npub trait DescArg {\n    fn into_desc_opts(self) -\u003e Command;\n}\n\nimpl\u003cT\u003e DescArg for T\nwhere\n    T: Into\u003cT\u003e + Serialize,\n{\n    fn into_desc_opts(self) -\u003e Command {\n        Command::from_json(self)\n    }\n}\n\nimpl DescArg for Func {\n    fn into_desc_opts(self) -\u003e Command {\n        self.0\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::*;\n    use crate::spec::*;\n    use crate::{args, r, Result};\n\n    #[tokio::test]\n    async fn test_desc_ops() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let response: Vec\u003cPost\u003e = table\n            .order_by(args!(r.expr(\"view\"), r.desc(\"title\")))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response.len() \u003e 1);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":7,"address":[6934906,6934624],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":8,"address":[6934667,6934772,6934896],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[6934944],"length":1,"stats":{"Line":1},"fn_name":"into_desc_opts\u003c\u0026str\u003e"},{"line":20,"address":[6934965],"length":1,"stats":{"Line":1},"fn_name":null},{"line":25,"address":[2745216],"length":1,"stats":{"Line":0},"fn_name":"into_desc_opts"},{"line":26,"address":[7017848],"length":1,"stats":{"Line":0},"fn_name":null},{"line":37,"address":[1755760,1755328,1755337,1755429,1755360,1755534,1756052],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":38,"address":[1756063,1756505,1755491,1755717,1755885,1755564],"length":1,"stats":{"Line":4},"fn_name":null},{"line":39,"address":[1757644,1757976,1757153,1756987,1757425,1757230,1757745,1757701,1756453,1756924],"length":1,"stats":{"Line":7},"fn_name":null},{"line":40,"address":[1756711,1756475,1756963,1756994,1757012],"length":1,"stats":{"Line":2},"fn_name":null},{"line":41,"address":[1757062,1757186,1757358,1755585,1755668],"length":1,"stats":{"Line":5},"fn_name":null},{"line":42,"address":[1757548],"length":1,"stats":{"Line":0},"fn_name":null},{"line":46,"address":[1757865,1758174,1758235],"length":1,"stats":{"Line":2},"fn_name":null},{"line":48,"address":[1758689,1758304,1758428,1755603,1758484,1758559,1758195],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":11,"coverable":14},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","difference.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(values: Vec\u003cimpl Serialize\u003e) -\u003e Command {\n    let arg = Command::from_json(values);\n\n    Command::new(TermType::Difference).with_arg(arg)\n}\n\n// TODO write test\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","distance.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::arguments::{Args, Unit};\nuse crate::prelude::Geometry;\nuse crate::types::GeoSystem;\nuse crate::Command;\n\npub(crate) fn new(args: impl DistanceArg) -\u003e Command {\n    let (arg1, arg2, opts) = args.into_distance_opts();\n    let mut command = Command::new(TermType::Distance).with_arg(arg1);\n\n    if let Some(arg) = arg2 {\n        command = command.with_arg(arg)\n    }\n\n    command.with_opts(opts)\n}\n\npub trait DistanceArg {\n    fn into_distance_opts(self) -\u003e (Command, Option\u003cCommand\u003e, DistanceOption);\n}\n\nimpl\u003cT: Geometry\u003e DistanceArg for T {\n    fn into_distance_opts(self) -\u003e (Command, Option\u003cCommand\u003e, DistanceOption) {\n        (self.into(), None, Default::default())\n    }\n}\n\nimpl\u003cT: Geometry\u003e DistanceArg for Args\u003c(T, DistanceOption)\u003e {\n    fn into_distance_opts(self) -\u003e (Command, Option\u003cCommand\u003e, DistanceOption) {\n        (self.0 .0.into(), None, self.0 .1)\n    }\n}\n\n#[derive(\n    Debug, Clone, Copy, Serialize, Default, PartialEq, Eq, PartialOrd, Ord, CommandOptions,\n)]\npub struct DistanceOption {\n    /// the reference ellipsoid to use for geographic coordinates.\n    /// Possible values are `GeoSystem::WGS84` (the default),\n    /// a common standard for Earths geometry, or `GeoSystem::UnitSphere`,\n    /// a perfect sphere of 1 meter radius.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub geo_system: Option\u003cGeoSystem\u003e,\n    /// Unit to return the distance in.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub unit: Option\u003cUnit\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::arguments::Unit;\n    use crate::prelude::*;\n    use crate::{args, r, Result};\n\n    use super::DistanceOption;\n\n    #[tokio::test]\n    async fn test_distance_data() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let point1 = r.point(-122.423246, 37.779388);\n        let point2 = r.point(-117.220406, 32.719464);\n        let distance_option = DistanceOption::default().unit(Unit::Kilometer);\n\n        let response: f64 = r\n            .distance(point1.cmd(), args!(point2, distance_option))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response == 734.125249602186);\n\n        Ok(())\n    }\n}\n","traces":[{"line":10,"address":[3502864,3503591,3503678],"length":1,"stats":{"Line":1},"fn_name":"new\u003creql_rust::arguments::Args\u003c(reql_rust::cmd::point::Point, reql_rust::cmd::distance::DistanceOption)\u003e\u003e"},{"line":11,"address":[3502881],"length":1,"stats":{"Line":1},"fn_name":null},{"line":12,"address":[3503082,3503179],"length":1,"stats":{"Line":2},"fn_name":null},{"line":14,"address":[3503247,3503517],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[3503491,3503368],"length":1,"stats":{"Line":0},"fn_name":null},{"line":18,"address":[3503458],"length":1,"stats":{"Line":1},"fn_name":null},{"line":26,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":27,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":32,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":33,"address":[1817142],"length":1,"stats":{"Line":1},"fn_name":null},{"line":61,"address":[4774409,4774911,4774320,4774477,4774612,4774329,4774352],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":62,"address":[4774467,4774572,4775199,4774501,4774922,4774733],"length":1,"stats":{"Line":4},"fn_name":null},{"line":63,"address":[4775189],"length":1,"stats":{"Line":1},"fn_name":null},{"line":64,"address":[4775460],"length":1,"stats":{"Line":1},"fn_name":null},{"line":65,"address":[4775467],"length":1,"stats":{"Line":1},"fn_name":null},{"line":67,"address":[4776184,4776403,4776704,4775999,4775928,4776460,4776497,4775785,4775817],"length":1,"stats":{"Line":6},"fn_name":null},{"line":68,"address":[4775561,4775651],"length":1,"stats":{"Line":2},"fn_name":null},{"line":69,"address":[4774516,4775958,4775840,4776127,4775797],"length":1,"stats":{"Line":5},"fn_name":null},{"line":70,"address":[4776307],"length":1,"stats":{"Line":0},"fn_name":null},{"line":74,"address":[4776797,4776573],"length":1,"stats":{"Line":1},"fn_name":null},{"line":76,"address":[4214383,4214428,4214768,4214488],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":17,"coverable":21},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","distinct.rs"],"content":"use std::borrow::Cow;\n\nuse ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(args: impl DistinctArg) -\u003e Command {\n    let (args, opts) = args.into_distinct_opts();\n    let mut command = Command::new(TermType::Distinct);\n\n    if let Some(arg) = args {\n        command = command.with_arg(arg)\n    }\n\n    command.with_opts(opts)\n}\n\npub trait DistinctArg {\n    fn into_distinct_opts(self) -\u003e (Option\u003cCommand\u003e, DistinctOption);\n}\n\nimpl DistinctArg for () {\n    fn into_distinct_opts(self) -\u003e (Option\u003cCommand\u003e, DistinctOption) {\n        (None, Default::default())\n    }\n}\n\nimpl DistinctArg for DistinctOption {\n    fn into_distinct_opts(self) -\u003e (Option\u003cCommand\u003e, DistinctOption) {\n        (None, self)\n    }\n}\n\nimpl DistinctArg for Command {\n    fn into_distinct_opts(self) -\u003e (Option\u003cCommand\u003e, DistinctOption) {\n        (Some(self), Default::default())\n    }\n}\n\nimpl DistinctArg for (Command, DistinctOption) {\n    fn into_distinct_opts(self) -\u003e (Option\u003cCommand\u003e, DistinctOption) {\n        (Some(self.0), self.1)\n    }\n}\n\n#[derive(Debug, Clone, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct DistinctOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub index: Option\u003cCow\u003c'static, str\u003e\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    use super::DistinctOption;\n\n    #[tokio::test]\n    async fn test_distinct_data() -\u003e Result\u003c()\u003e {\n        let mut data = Post::get_many_data()\n            .into_iter()\n            .map(|post| post.title)\n            .collect::\u003cVec\u003cString\u003e\u003e();\n        data.pop();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: Vec\u003cString\u003e = table\n            .distinct(DistinctOption::default().index(\"title\"))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained == data);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":9,"address":[1546210,1546189,1545552],"length":1,"stats":{"Line":1},"fn_name":"new\u003creql_rust::cmd::distinct::DistinctOption\u003e"},{"line":10,"address":[1545569],"length":1,"stats":{"Line":1},"fn_name":null},{"line":11,"address":[1545728],"length":1,"stats":{"Line":1},"fn_name":null},{"line":13,"address":[1545802,1546100],"length":1,"stats":{"Line":1},"fn_name":null},{"line":14,"address":[1545917,1546074],"length":1,"stats":{"Line":0},"fn_name":null},{"line":17,"address":[1546007],"length":1,"stats":{"Line":1},"fn_name":null},{"line":25,"address":[2744036,2743856],"length":1,"stats":{"Line":0},"fn_name":"into_distinct_opts"},{"line":26,"address":[2743873],"length":1,"stats":{"Line":0},"fn_name":null},{"line":31,"address":[2744064],"length":1,"stats":{"Line":1},"fn_name":"into_distinct_opts"},{"line":32,"address":[2825731],"length":1,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[2172912,2173139],"length":1,"stats":{"Line":0},"fn_name":"into_distinct_opts"},{"line":38,"address":[4039379],"length":1,"stats":{"Line":0},"fn_name":null},{"line":43,"address":[2173168],"length":1,"stats":{"Line":0},"fn_name":"into_distinct_opts"},{"line":44,"address":[2173189],"length":1,"stats":{"Line":0},"fn_name":null},{"line":63,"address":[4767335,4767749,4767296,4767701],"length":1,"stats":{"Line":6},"fn_name":"test_distinct_data"},{"line":64,"address":[4014451,4014840],"length":1,"stats":{"Line":2},"fn_name":null},{"line":66,"address":[4018096,4018124],"length":1,"stats":{"Line":2},"fn_name":"{closure#0}"},{"line":68,"address":[4014960,4014909],"length":1,"stats":{"Line":2},"fn_name":null},{"line":69,"address":[6760432],"length":1,"stats":{"Line":3},"fn_name":null},{"line":70,"address":[4016672,4016716,4016396,4016946,4016615,4015883,4016124,4015590,4015958,4016201],"length":1,"stats":{"Line":7},"fn_name":null},{"line":71,"address":[4015807,4015965,4015983,4015620,4015930],"length":1,"stats":{"Line":2},"fn_name":null},{"line":72,"address":[4014540,4015938,4016033,4016157,4014623,4016329],"length":1,"stats":{"Line":6},"fn_name":null},{"line":73,"address":[4016519],"length":1,"stats":{"Line":0},"fn_name":null},{"line":77,"address":[4016836,4017205,4017260],"length":1,"stats":{"Line":2},"fn_name":null},{"line":79,"address":[4017219,4017517,4017333,4014558,4017601,4017457,4017735],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":17,"coverable":25},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","div.rs"],"content":"use std::ops::Div;\n\nuse ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\nimpl\u003cT: DivArg\u003e Div\u003cT\u003e for Command {\n    type Output = Self;\n\n    fn div(self, arg: T) -\u003e Self {\n        Command::new(TermType::Div)\n            .with_arg(arg.into_div_opts())\n            .with_parent(self)\n    }\n}\n\npub trait DivArg {\n    fn into_div_opts(self) -\u003e Command;\n}\n\nimpl\u003cT: Serialize\u003e DivArg for T {\n    fn into_div_opts(self) -\u003e Command {\n        Command::from_json(self)\n    }\n}\n\nimpl DivArg for Command {\n    fn into_div_opts(self) -\u003e Command {\n        self\n    }\n}\n\n// TODO write test\n","traces":[{"line":11,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":12,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":13,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":14,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":23,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":24,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":29,"address":[4039808],"length":1,"stats":{"Line":0},"fn_name":"into_div_opts"},{"line":30,"address":[4039816],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":8},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","do_.rs"],"content":"use ql2::term::TermType;\n\nuse crate::arguments::Args;\nuse crate::prelude::Func;\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl DoArg) -\u003e Command {\n    args.into_do_opts()\n        .add_to_cmd(Command::new(TermType::Funcall))\n}\n\npub trait DoArg {\n    fn into_do_opts(self) -\u003e CmdOpts;\n}\n\nimpl DoArg for Command {\n    fn into_do_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(self)\n    }\n}\n\nimpl DoArg for Func {\n    fn into_do_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(self.0)\n    }\n}\n\nimpl DoArg for Args\u003c(Command, Command)\u003e {\n    fn into_do_opts(self) -\u003e CmdOpts {\n        CmdOpts::Many(vec![self.0 .0, self.0 .1])\n    }\n}\n\nimpl DoArg for Args\u003c(Command, Func)\u003e {\n    fn into_do_opts(self) -\u003e CmdOpts {\n        let Func(func) = self.0 .1;\n\n        CmdOpts::Many(vec![self.0 .0, func])\n    }\n}\n\nimpl\u003cconst N: usize\u003e DoArg for Args\u003c([Command; N], Func)\u003e {\n    fn into_do_opts(self) -\u003e CmdOpts {\n        let Func(func) = self.0 .1;\n        let mut args = self.0 .0.to_vec();\n\n        args.push(func);\n        CmdOpts::Many(args)\n    }\n}\n\nimpl\u003cconst N: usize\u003e DoArg for Args\u003c([Command; N], Command)\u003e {\n    fn into_do_opts(self) -\u003e CmdOpts {\n        let mut args = self.0 .0.to_vec();\n\n        args.push(self.0 .1);\n        CmdOpts::Many(args)\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use std::ops::Add;\n\n    use crate::prelude::*;\n    use crate::spec::*;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    #[ignore = \"not work\"]\n    async fn test_do_opts() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let response = table\n            .get(1)\n            .do_(func!(|post| post.g(\"view\").add(r.expr(5))))\n            .run(\u0026conn)\n            .await;\n\n        dbg!(\u0026response);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":9,"address":[4532700,4532512,4532727],"length":1,"stats":{"Line":0},"fn_name":"new\u003creql_rust::cmd::func::Func\u003e"},{"line":10,"address":[4532528,4532651],"length":1,"stats":{"Line":0},"fn_name":null},{"line":11,"address":[4532720,4532684,4532580],"length":1,"stats":{"Line":0},"fn_name":null},{"line":19,"address":[2255072],"length":1,"stats":{"Line":0},"fn_name":"into_do_opts"},{"line":20,"address":[2173440],"length":1,"stats":{"Line":0},"fn_name":null},{"line":25,"address":[2826896],"length":1,"stats":{"Line":0},"fn_name":"into_do_opts"},{"line":26,"address":[2745264],"length":1,"stats":{"Line":0},"fn_name":null},{"line":31,"address":[2738766,2738400],"length":1,"stats":{"Line":0},"fn_name":"into_do_opts"},{"line":32,"address":[2738522,2738422],"length":1,"stats":{"Line":0},"fn_name":null},{"line":37,"address":[6659104,6659502],"length":1,"stats":{"Line":0},"fn_name":"into_do_opts"},{"line":38,"address":[6659126],"length":1,"stats":{"Line":0},"fn_name":null},{"line":40,"address":[6659194,6659252],"length":1,"stats":{"Line":0},"fn_name":null},{"line":45,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":46,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":47,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":49,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":50,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":55,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":56,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":58,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":59,"address":[],"length":0,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":21},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","downcase.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Downcase)\n}\n\n// TODO write test\n","traces":[{"line":5,"address":[2719008],"length":1,"stats":{"Line":0},"fn_name":"new"},{"line":6,"address":[2719020],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":2},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","during.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::arguments::{Args, Status};\nuse crate::types::DateTime;\nuse crate::Command;\n\npub(crate) fn new(args: impl DuringArg) -\u003e Command {\n    let (arg1, arg2, opts) = args.into_during_opts();\n\n    Command::new(TermType::During)\n        .with_arg(arg1)\n        .with_arg(arg2)\n        .with_opts(opts)\n}\n\npub trait DuringArg {\n    fn into_during_opts(self) -\u003e (Command, Command, DuringOption);\n}\n\nimpl DuringArg for Args\u003c(DateTime, DateTime)\u003e {\n    fn into_during_opts(self) -\u003e (Command, Command, DuringOption) {\n        (self.0 .0.into(), self.0 .1.into(), Default::default())\n    }\n}\n\nimpl DuringArg for Args\u003c(DateTime, DateTime, DuringOption)\u003e {\n    fn into_during_opts(self) -\u003e (Command, Command, DuringOption) {\n        (self.0 .0.into(), self.0 .1.into(), self.0 .2)\n    }\n}\n\nimpl DuringArg for Args\u003c(DateTime, DateTime, Option\u003cDuringOption\u003e)\u003e {\n    fn into_during_opts(self) -\u003e (Command, Command, DuringOption) {\n        (\n            self.0 .0.into(),\n            self.0 .1.into(),\n            self.0 .2.unwrap_or_default(),\n        )\n    }\n}\n\nimpl DuringArg for Args\u003c(Command, Command)\u003e {\n    fn into_during_opts(self) -\u003e (Command, Command, DuringOption) {\n        (self.0 .0, self.0 .1, Default::default())\n    }\n}\n\nimpl DuringArg for Args\u003c(Command, Command, DuringOption)\u003e {\n    fn into_during_opts(self) -\u003e (Command, Command, DuringOption) {\n        (self.0 .0, self.0 .1, self.0 .2)\n    }\n}\n\n/// By default, this is inclusive of the start time and exclusive of the end time.\n/// Set left_bound and right_bound to explicitly include\n/// (closed) or exclude (open) that endpoint of the range.\n#[derive(Debug, Clone, Copy, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct DuringOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub left_bound: Option\u003cStatus\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub right_bound: Option\u003cStatus\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use time::macros::{date, offset};\n\n    use crate::prelude::Converter;\n    use crate::{args, r, Result};\n\n    #[tokio::test]\n    async fn test_during_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let start_date = r.time(args!(date!(2022 - 08 - 01), offset!(UTC)));\n        let end_date = r.time(args!(date!(2022 - 12 - 31), offset!(UTC)));\n\n        let datetime = r.epoch_time(1661990400)?;\n\n        let response = datetime\n            .clone()\n            .during(start_date.clone(), end_date.clone(), None);\n        let response2: bool = response.clone().cmd().run(\u0026conn).await?.unwrap().parse()?;\n        let response3: bool = datetime\n            .cmd()\n            .during(args!(start_date, end_date))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response2 == response3 \u0026\u0026 response2 == response.value());\n\n        Ok(())\n    }\n}\n","traces":[{"line":9,"address":[2567344,2567855],"length":1,"stats":{"Line":2},"fn_name":"new\u003creql_rust::arguments::Args\u003c(reql_rust::types::datetime::DateTime, reql_rust::types::datetime::DateTime, core::option::Option\u003creql_rust::cmd::during::DuringOption\u003e)\u003e\u003e"},{"line":10,"address":[2567361],"length":1,"stats":{"Line":2},"fn_name":null},{"line":12,"address":[2567657,2567534,2567730],"length":1,"stats":{"Line":6},"fn_name":null},{"line":13,"address":[2567612],"length":1,"stats":{"Line":2},"fn_name":null},{"line":14,"address":[1794059,1794603],"length":1,"stats":{"Line":2},"fn_name":null},{"line":23,"address":[6659918,6659552],"length":1,"stats":{"Line":1},"fn_name":"into_during_opts"},{"line":24,"address":[6659680,6659574],"length":1,"stats":{"Line":2},"fn_name":null},{"line":29,"address":[6660307,6659968],"length":1,"stats":{"Line":0},"fn_name":"into_during_opts"},{"line":30,"address":[6659990,6660096],"length":1,"stats":{"Line":0},"fn_name":null},{"line":35,"address":[6660352,6660736],"length":1,"stats":{"Line":1},"fn_name":"into_during_opts"},{"line":37,"address":[6660374],"length":1,"stats":{"Line":1},"fn_name":null},{"line":38,"address":[6660480],"length":1,"stats":{"Line":1},"fn_name":null},{"line":39,"address":[6660581],"length":1,"stats":{"Line":1},"fn_name":null},{"line":45,"address":[2740789,2740560,2740816],"length":1,"stats":{"Line":0},"fn_name":"into_during_opts"},{"line":46,"address":[6660833,6661025],"length":1,"stats":{"Line":0},"fn_name":null},{"line":51,"address":[6661056],"length":1,"stats":{"Line":0},"fn_name":"into_during_opts"},{"line":52,"address":[6661078],"length":1,"stats":{"Line":0},"fn_name":null},{"line":75,"address":[4472442,4472766,4471993,4472016,4472085,4471984,4472212],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":76,"address":[4473138,4472399,4472242,4472150,4472570,4472777],"length":1,"stats":{"Line":4},"fn_name":null},{"line":77,"address":[4473402,4473041],"length":1,"stats":{"Line":2},"fn_name":null},{"line":78,"address":[4473409,4473569],"length":1,"stats":{"Line":2},"fn_name":null},{"line":80,"address":[4473829,4473589,4473664],"length":1,"stats":{"Line":2},"fn_name":null},{"line":82,"address":[4474225,4473819],"length":1,"stats":{"Line":2},"fn_name":null},{"line":84,"address":[4474068,4474305,4474017,4474358],"length":1,"stats":{"Line":2},"fn_name":null},{"line":85,"address":[6884130,6884184],"length":1,"stats":{"Line":5},"fn_name":null},{"line":86,"address":[4475808,4476039,4476459,4476516,4476240,4476539,4475275,4475962,4476731],"length":1,"stats":{"Line":6},"fn_name":null},{"line":88,"address":[4475586],"length":1,"stats":{"Line":1},"fn_name":null},{"line":89,"address":[4475862,4472281,4475995,4476167],"length":1,"stats":{"Line":4},"fn_name":null},{"line":90,"address":[4476363],"length":1,"stats":{"Line":0},"fn_name":null},{"line":94,"address":[4476616,4476963,4477138],"length":1,"stats":{"Line":1},"fn_name":null},{"line":96,"address":[1675024,1674639,1674744,1674684],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":24,"coverable":31},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","epoch_time.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn epoch_time(timestamp: i64) -\u003e Command {\n    Command::new(TermType::EpochTime).with_arg(Command::from_json(timestamp))\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::types::Time;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_time_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let date_time = r.epoch_time(531360000)?;\n        let time1 = date_time.clone().value();\n        let time2: Time = date_time.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(time2 == time1);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[1651905,1651878,1651696],"length":1,"stats":{"Line":1},"fn_name":"epoch_time"},{"line":6,"address":[1651726,1651898],"length":1,"stats":{"Line":1},"fn_name":null},{"line":16,"address":[1675509,1675557,1675104,1675143],"length":1,"stats":{"Line":6},"fn_name":"test_time_ops"},{"line":17,"address":[4210128,4210408,4210174,4210247,4210597,4210863],"length":1,"stats":{"Line":4},"fn_name":null},{"line":19,"address":[4211249,4210853,4211120],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[4211239,4211474],"length":1,"stats":{"Line":2},"fn_name":null},{"line":21,"address":[4211588,4210189,4212482,4211501,4212300],"length":1,"stats":{"Line":4},"fn_name":null},{"line":23,"address":[4212453,4212736,4212703],"length":1,"stats":{"Line":2},"fn_name":null},{"line":25,"address":[1675135,1675520,1675240,1675180],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":9,"coverable":9},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","eq.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl EqArg) -\u003e Command {\n    args.into_eq_opts().add_to_cmd(Command::new(TermType::Eq))\n}\n\npub trait EqArg {\n    fn into_eq_opts(self) -\u003e CmdOpts;\n}\n\nimpl EqArg for Command {\n    fn into_eq_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(self)\n    }\n}\n\nimpl\u003cT: Serialize\u003e EqArg for Vec\u003cT\u003e {\n    fn into_eq_opts(self) -\u003e CmdOpts {\n        let commands = self.iter().map(Command::from_json).collect();\n\n        CmdOpts::Many(commands)\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_eq_data() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: bool = table\n            .get(1)\n            .g(\"title\")\n            .eq(r.expr(\"title1\"))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained);\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_eq_data_r() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let data_obtained: bool = r.eq(vec![5, 5, 5]).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained);\n\n        Ok(())\n    }\n}\n","traces":[{"line":8,"address":[4532752,4532957,4532984,4533223,4533008,4533196],"length":1,"stats":{"Line":2},"fn_name":"new\u003calloc::vec::Vec\u003ci32, alloc::alloc::Global\u003e\u003e"},{"line":9,"address":[4533024,4532768,4532977,4533216],"length":1,"stats":{"Line":2},"fn_name":null},{"line":17,"address":[2173504],"length":1,"stats":{"Line":1},"fn_name":"into_eq_opts"},{"line":18,"address":[2173520],"length":1,"stats":{"Line":1},"fn_name":null},{"line":23,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[],"length":0,"stats":{"Line":2},"fn_name":null},{"line":26,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[4412880,4412919,4413333,4413285],"length":1,"stats":{"Line":6},"fn_name":"test_eq_data"},{"line":38,"address":[6650908,6650835,6651061,6651229,6651407,6651844],"length":1,"stats":{"Line":4},"fn_name":null},{"line":39,"address":[6652967,6652496,6652691,6652910,6653201,6653011,6652260,6652189,6652085,6652419,6651791],"length":1,"stats":{"Line":8},"fn_name":null},{"line":42,"address":[6652128,6652050,6652275,6652236],"length":1,"stats":{"Line":2},"fn_name":null},{"line":43,"address":[6850608],"length":1,"stats":{"Line":5},"fn_name":null},{"line":44,"address":[6652814],"length":1,"stats":{"Line":0},"fn_name":null},{"line":48,"address":[6653404,6653090],"length":1,"stats":{"Line":1},"fn_name":null},{"line":50,"address":[4413016,4413296,4412911,4412956],"length":1,"stats":{"Line":7},"fn_name":null},{"line":54,"address":[4413781,4413829,4413415,4413376],"length":1,"stats":{"Line":6},"fn_name":"test_eq_data_r"},{"line":55,"address":[6654557,6654746,6655014,6654325,6654291,6654396],"length":1,"stats":{"Line":4},"fn_name":null},{"line":56,"address":[6654340,6656010,6656104,6654999,6655242],"length":1,"stats":{"Line":4},"fn_name":null},{"line":58,"address":[6656312,6656089],"length":1,"stats":{"Line":1},"fn_name":null},{"line":60,"address":[4413407,4413512,4413452,4413792],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":19,"coverable":20},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","eq_join.rs"],"content":"use std::borrow::Cow;\n\nuse ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::arguments::AnyParam;\nuse crate::prelude::Func;\nuse crate::Command;\n\npub(crate) fn new(args: impl EqJoinArg) -\u003e Command {\n    let (arg, right_table, opts) = args.into_eq_join_opts();\n\n    Command::new(TermType::EqJoin)\n        .with_arg(arg)\n        .with_arg(right_table)\n        .with_opts(opts)\n}\n\npub trait EqJoinArg {\n    fn into_eq_join_opts(self) -\u003e (Command, Command, EqJoinOption);\n}\n\nimpl EqJoinArg for (AnyParam, Command) {\n    fn into_eq_join_opts(self) -\u003e (Command, Command, EqJoinOption) {\n        (self.0.into(), self.1, Default::default())\n    }\n}\n\nimpl EqJoinArg for (Func, Command) {\n    fn into_eq_join_opts(self) -\u003e (Command, Command, EqJoinOption) {\n        let Func(func) = self.0;\n\n        (func, self.1, Default::default())\n    }\n}\n\nimpl EqJoinArg for (Command, Command) {\n    fn into_eq_join_opts(self) -\u003e (Command, Command, EqJoinOption) {\n        (self.0, self.1, Default::default())\n    }\n}\n\nimpl EqJoinArg for (AnyParam, Command, EqJoinOption) {\n    fn into_eq_join_opts(self) -\u003e (Command, Command, EqJoinOption) {\n        (self.0.into(), self.1, self.2)\n    }\n}\n\nimpl EqJoinArg for (Func, Command, EqJoinOption) {\n    fn into_eq_join_opts(self) -\u003e (Command, Command, EqJoinOption) {\n        let Func(func) = self.0;\n\n        (func, self.1, self.2)\n    }\n}\n\nimpl EqJoinArg for (Command, Command, EqJoinOption) {\n    fn into_eq_join_opts(self) -\u003e (Command, Command, EqJoinOption) {\n        (self.0, self.1, self.2)\n    }\n}\n\n#[derive(\n    Debug, Clone, Serialize, Default, Eq, PartialEq, Ord, PartialOrd, Hash, CommandOptions,\n)]\n#[non_exhaustive]\npub struct EqJoinOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub index: Option\u003cCow\u003c'static, str\u003e\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub ordered: Option\u003cbool\u003e,\n}\n\n// TODO write test\n","traces":[{"line":25,"address":[5125232,5125540,5125566],"length":1,"stats":{"Line":0},"fn_name":"into_eq_join_opts"},{"line":26,"address":[5125358,5125556,5125253],"length":1,"stats":{"Line":0},"fn_name":null},{"line":31,"address":[2745328,2745596,2745626],"length":1,"stats":{"Line":0},"fn_name":"into_eq_join_opts"},{"line":32,"address":[7018006],"length":1,"stats":{"Line":0},"fn_name":null},{"line":34,"address":[2745607,2745407],"length":1,"stats":{"Line":0},"fn_name":null},{"line":39,"address":[4040000,4040228,4040251],"length":1,"stats":{"Line":0},"fn_name":"into_eq_join_opts"},{"line":40,"address":[4040244,4040049],"length":1,"stats":{"Line":0},"fn_name":null},{"line":45,"address":[5125600,5125863,5125893],"length":1,"stats":{"Line":0},"fn_name":"into_eq_join_opts"},{"line":46,"address":[5125647,5125715],"length":1,"stats":{"Line":0},"fn_name":null},{"line":51,"address":[7018272],"length":1,"stats":{"Line":0},"fn_name":"into_eq_join_opts"},{"line":52,"address":[7018293],"length":1,"stats":{"Line":0},"fn_name":null},{"line":54,"address":[7018308],"length":1,"stats":{"Line":0},"fn_name":null},{"line":59,"address":[4040272],"length":1,"stats":{"Line":0},"fn_name":"into_eq_join_opts"},{"line":60,"address":[4040294],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":14},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","error.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(message: impl Into\u003cString\u003e) -\u003e Command {\n    let arg = Command::from_json(message.into());\n\n    Command::new(TermType::Error).with_arg(arg)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::{r, ReqlError, ReqlRuntimeError, Result};\n\n    #[tokio::test]\n    async fn test_error_ops() -\u003e Result\u003c()\u003e {\n        let msg = \"Error\";\n        let conn = r.connection().connect().await?;\n        let err = r.error(msg).run(\u0026conn).await.err().unwrap();\n\n        if let ReqlError::Runtime(err) = err {\n            if let ReqlRuntimeError::User(err) = err {\n                assert!(err == msg);\n\n                return Ok(());\n            }\n        }\n\n        assert!(false);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2719315,2719056,2719288],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":6,"address":[2719089],"length":1,"stats":{"Line":1},"fn_name":null},{"line":8,"address":[2719137,2719204],"length":1,"stats":{"Line":2},"fn_name":null},{"line":16,"address":[1838164,1837840,1838464,1837872,1837929,1837849,1838029],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":17,"address":[1837985],"length":1,"stats":{"Line":1},"fn_name":null},{"line":18,"address":[1838019,1838053,1838475,1838744,1838124,1838286],"length":1,"stats":{"Line":4},"fn_name":null},{"line":19,"address":[1838068,1838719,1838995],"length":1,"stats":{"Line":3},"fn_name":null},{"line":21,"address":[1839428,1839490],"length":1,"stats":{"Line":1},"fn_name":null},{"line":22,"address":[1839477,1839509],"length":1,"stats":{"Line":2},"fn_name":null},{"line":23,"address":[1839791,1839828,1839549],"length":1,"stats":{"Line":2},"fn_name":null},{"line":25,"address":[1839797],"length":1,"stats":{"Line":1},"fn_name":null},{"line":29,"address":[1839645,1839492],"length":1,"stats":{"Line":0},"fn_name":null},{"line":31,"address":[1839620],"length":1,"stats":{"Line":4},"fn_name":null}],"covered":12,"coverable":13},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","expr.rs"],"content":"use serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(value: impl Serialize) -\u003e Command {\n    Command::from_json(value)\n}\n\n#[cfg(test)]\nmod tests {\n    use serde::{Deserialize, Serialize};\n    use serde_json::json;\n\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[derive(Debug, Serialize, Deserialize, PartialEq, Eq)]\n    struct Dummy {\n        a: char,\n        b: [u8; 3],\n    }\n\n    #[tokio::test]\n    async fn test_expr_ops() -\u003e Result\u003c()\u003e {\n        let data = Dummy {\n            a: 'b',\n            b: [1, 2, 3],\n        };\n        let conn = r.connection().connect().await?;\n        let response: Dummy = r\n            .expr(json!({'a':'b'}))\n            .merge(r.expr(json!({'b':[1, 2, 3]})))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data == response);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[4353184,4353104,4353232,4353056,4353280],"length":1,"stats":{"Line":6},"fn_name":"new\u003c[i32; 3]\u003e"},{"line":6,"address":[4353205,4353256,4353067,4353296,4353115],"length":1,"stats":{"Line":6},"fn_name":null},{"line":24,"address":[2271029,2271077,2270663,2270624],"length":1,"stats":{"Line":6},"fn_name":"test_expr_ops"},{"line":27,"address":[3497075],"length":1,"stats":{"Line":1},"fn_name":null},{"line":29,"address":[3497240,3497853,3497402,3497169,3497591,3497135],"length":1,"stats":{"Line":4},"fn_name":null},{"line":30,"address":[3498476,3500485,3500245,3499712,3499559,3500188,3499487,3499969,3500282,3499783],"length":1,"stats":{"Line":7},"fn_name":null},{"line":31,"address":[3498344,3497843,3498137,3498098,3498483],"length":1,"stats":{"Line":4},"fn_name":null},{"line":32,"address":[3498050,3498979,3499348,3498842,3498599,3499574,3499531,3498499],"length":1,"stats":{"Line":3},"fn_name":null},{"line":33,"address":[3497184,3499742,3499627,3499911,3499539],"length":1,"stats":{"Line":5},"fn_name":null},{"line":34,"address":[3500092],"length":1,"stats":{"Line":0},"fn_name":null},{"line":38,"address":[3500592,3500629,3500375],"length":1,"stats":{"Line":2},"fn_name":null},{"line":40,"address":[2271040,2270760,2270700,2270655],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":11,"coverable":12},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","fill.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Fill)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::types::{Point, Polygon};\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_fill_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let rectangle = r.line(\u0026[\n            Point::new(-122.423246, 37.779388),\n            Point::new(-122.423246, 37.329898),\n            Point::new(-121.886420, 37.329898),\n            Point::new(-121.886420, 37.779388),\n        ]);\n        let data = Polygon::new(\u0026[\n            Point::new(-122.423246, 37.779388),\n            Point::new(-122.423246, 37.329898),\n            Point::new(-121.88642, 37.329898),\n            Point::new(-121.88642, 37.779388),\n            Point::new(-122.423246, 37.779388),\n        ]);\n\n        let response: Polygon = rectangle.fill().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == data);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2110176],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2028540],"length":1,"stats":{"Line":1},"fn_name":null},{"line":16,"address":[4215253,4215301,4214848,4214887],"length":1,"stats":{"Line":6},"fn_name":"test_fill_ops"},{"line":17,"address":[4483408,4483686,4483525,4483875,4484152,4483454],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[4484486],"length":1,"stats":{"Line":1},"fn_name":null},{"line":19,"address":[4484142],"length":1,"stats":{"Line":1},"fn_name":null},{"line":20,"address":[4484417],"length":1,"stats":{"Line":1},"fn_name":null},{"line":21,"address":[4484448],"length":1,"stats":{"Line":1},"fn_name":null},{"line":22,"address":[4484479],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[4484853],"length":1,"stats":{"Line":1},"fn_name":null},{"line":25,"address":[4484675],"length":1,"stats":{"Line":1},"fn_name":null},{"line":26,"address":[4484748],"length":1,"stats":{"Line":1},"fn_name":null},{"line":27,"address":[4484779],"length":1,"stats":{"Line":1},"fn_name":null},{"line":28,"address":[4484810],"length":1,"stats":{"Line":1},"fn_name":null},{"line":29,"address":[4484841],"length":1,"stats":{"Line":1},"fn_name":null},{"line":32,"address":[4483469,4485042,4485977,4485133,4485833],"length":1,"stats":{"Line":4},"fn_name":null},{"line":34,"address":[4485951,4486218,4486251],"length":1,"stats":{"Line":2},"fn_name":null},{"line":36,"address":[4214984,4215264,4214879,4214924],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":18,"coverable":18},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","filter.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::arguments::Args;\nuse crate::prelude::Func;\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl FilterArg) -\u003e Command {\n    let (args, opts) = args.into_filter_opts();\n\n    args.add_to_cmd(Command::new(TermType::Filter))\n        .with_opts(opts)\n}\n\npub trait FilterArg {\n    fn into_filter_opts(self) -\u003e (CmdOpts, FilterOption);\n}\n\nimpl FilterArg for Func {\n    fn into_filter_opts(self) -\u003e (CmdOpts, FilterOption) {\n        (CmdOpts::Single(self.0), Default::default())\n    }\n}\n\nimpl FilterArg for Command {\n    fn into_filter_opts(self) -\u003e (CmdOpts, FilterOption) {\n        (CmdOpts::Single(self), Default::default())\n    }\n}\n\nimpl FilterArg for Args\u003c(Func, FilterOption)\u003e {\n    fn into_filter_opts(self) -\u003e (CmdOpts, FilterOption) {\n        let Func(func) = self.0 .0;\n\n        (CmdOpts::Single(func), self.0 .1)\n    }\n}\n\nimpl FilterArg for Args\u003c(Command, FilterOption)\u003e {\n    fn into_filter_opts(self) -\u003e (CmdOpts, FilterOption) {\n        (CmdOpts::Single(self.0 .0), self.0 .1)\n    }\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Default, Eq, PartialEq, Ord, PartialOrd, Hash)]\npub struct FilterOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub default: Option\u003cbool\u003e,\n}\n\nimpl FilterOption {\n    pub fn default_(mut self, default: bool) -\u003e Self {\n        self.default = Some(default);\n        self\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use serde_json::json;\n\n    use crate::prelude::*;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_filter_data() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_filtered: Vec\u003cPost\u003e = table\n            .clone()\n            .filter(r.expr(json!({\"view\": 2})))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_filtered.len() == 2);\n        assert!(data_filtered.first() == data.get(3));\n        assert!(data_filtered.last() == data.get(1));\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_filter_data_with_func() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_filtered: Vec\u003cPost\u003e = table\n            .clone()\n            .filter(func!(|user| user.g(\"view\").eq(r.expr(2))))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_filtered.len() == 2);\n        assert!(data_filtered.first() == data.get(3));\n        assert!(data_filtered.last() == data.get(1));\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":10,"address":[1700689,1700288,1700720,1700635,1701121,1701067],"length":1,"stats":{"Line":2},"fn_name":"new\u003creql_rust::cmd::func::Func\u003e"},{"line":11,"address":[1700737,1700305],"length":1,"stats":{"Line":2},"fn_name":null},{"line":13,"address":[1700441,1701060,1700873,1700628],"length":1,"stats":{"Line":2},"fn_name":null},{"line":22,"address":[7018671,7018496],"length":1,"stats":{"Line":1},"fn_name":"into_filter_opts"},{"line":23,"address":[2827571],"length":1,"stats":{"Line":1},"fn_name":null},{"line":28,"address":[4040464,4040639],"length":1,"stats":{"Line":1},"fn_name":"into_filter_opts"},{"line":29,"address":[4040515],"length":1,"stats":{"Line":1},"fn_name":null},{"line":34,"address":[6661248],"length":1,"stats":{"Line":0},"fn_name":"into_filter_opts"},{"line":35,"address":[6661270],"length":1,"stats":{"Line":0},"fn_name":null},{"line":37,"address":[6661285],"length":1,"stats":{"Line":0},"fn_name":null},{"line":42,"address":[6661424],"length":1,"stats":{"Line":0},"fn_name":"into_filter_opts"},{"line":43,"address":[6661445],"length":1,"stats":{"Line":0},"fn_name":null},{"line":54,"address":[5125920],"length":1,"stats":{"Line":0},"fn_name":"default_"},{"line":55,"address":[5125942],"length":1,"stats":{"Line":0},"fn_name":null},{"line":56,"address":[5125955],"length":1,"stats":{"Line":0},"fn_name":null},{"line":69,"address":[4413872,4414277,4414325,4413911],"length":1,"stats":{"Line":6},"fn_name":"test_filter_data"},{"line":70,"address":[2555030],"length":1,"stats":{"Line":1},"fn_name":null},{"line":71,"address":[2555479,2555251,2556064,2555094,2555419,2555657],"length":1,"stats":{"Line":4},"fn_name":null},{"line":72,"address":[2556982,2557485,2556742,2557542,2556817,2557065,2557589,2557832,2557266,2556054],"length":1,"stats":{"Line":7},"fn_name":null},{"line":74,"address":[2556237,2556396,2556789,2556832,2556603,2556288],"length":1,"stats":{"Line":3},"fn_name":null},{"line":75,"address":[2555200,2555115,2556797,2557021,2556885,2557193],"length":1,"stats":{"Line":6},"fn_name":null},{"line":76,"address":[2557389],"length":1,"stats":{"Line":0},"fn_name":null},{"line":80,"address":[2558203,2558155,2557718],"length":1,"stats":{"Line":2},"fn_name":null},{"line":81,"address":[2558176,2558248,2558407],"length":1,"stats":{"Line":2},"fn_name":null},{"line":82,"address":[2558629,2558450,2558383],"length":1,"stats":{"Line":2},"fn_name":null},{"line":84,"address":[6885636],"length":1,"stats":{"Line":7},"fn_name":null},{"line":88,"address":[2559918,2559488,2560270,2559497,2559589,2559520,2559688],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":89,"address":[2559654],"length":1,"stats":{"Line":1},"fn_name":null},{"line":90,"address":[6777135],"length":1,"stats":{"Line":4},"fn_name":null},{"line":91,"address":[2562710,2562467,2562144,2561561,2560678,2561860,2561943,2562363,2562420,2561695],"length":1,"stats":{"Line":7},"fn_name":null},{"line":93,"address":[2560959,2561600,2560917,2564400,2561710,2560861,2564438],"length":1,"stats":{"Line":4},"fn_name":"{closure#0}"},{"line":94,"address":[2559739,2559824,2561899,2561675,2562071,2561763],"length":1,"stats":{"Line":6},"fn_name":null},{"line":95,"address":[2562267],"length":1,"stats":{"Line":0},"fn_name":null},{"line":99,"address":[2562596,2563033,2563084],"length":1,"stats":{"Line":2},"fn_name":null},{"line":100,"address":[2563054,2563132,2563315],"length":1,"stats":{"Line":2},"fn_name":null},{"line":101,"address":[2563291,2563537,2563358],"length":1,"stats":{"Line":2},"fn_name":null},{"line":103,"address":[2563694,2559757,2563753,2563570,2563493,2563854,2563990],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":27,"coverable":37},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","floor.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(args: impl FloorArg) -\u003e Command {\n    let mut command = Command::new(TermType::Floor);\n\n    if let Some(arg) = args.into_floor_opts() {\n        command = command.with_arg(arg)\n    }\n\n    command\n}\n\npub trait FloorArg {\n    fn into_floor_opts(self) -\u003e Option\u003cCommand\u003e;\n}\n\nimpl FloorArg for () {\n    fn into_floor_opts(self) -\u003e Option\u003cCommand\u003e {\n        None\n    }\n}\n\nimpl FloorArg for f64 {\n    fn into_floor_opts(self) -\u003e Option\u003cCommand\u003e {\n        Some(Command::from_json(self))\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_floor_data() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let data_obtained: i8 = r.floor(-12.345).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained == -13);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[7027167,7026640,7027200,7027750],"length":1,"stats":{"Line":1},"fn_name":"new\u003c()\u003e"},{"line":6,"address":[7026660,7026752,7027235,7027333],"length":1,"stats":{"Line":2},"fn_name":null},{"line":8,"address":[2386031,2385434,2386310,2385711,2385372,2385969],"length":1,"stats":{"Line":3},"fn_name":null},{"line":9,"address":[2467932,2467188,2467333,2467786],"length":1,"stats":{"Line":2},"fn_name":null},{"line":12,"address":[2386335,2385736],"length":1,"stats":{"Line":1},"fn_name":null},{"line":20,"address":[2469232],"length":1,"stats":{"Line":0},"fn_name":"into_floor_opts"},{"line":21,"address":[2469236],"length":1,"stats":{"Line":0},"fn_name":null},{"line":26,"address":[4750864],"length":1,"stats":{"Line":1},"fn_name":"into_floor_opts"},{"line":27,"address":[4750890],"length":1,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[2255031,2254992,2255397,2255445],"length":1,"stats":{"Line":6},"fn_name":"test_floor_data"},{"line":38,"address":[4591927,4591203,4591469,4591658,4591308,4591237],"length":1,"stats":{"Line":4},"fn_name":null},{"line":39,"address":[4592944,4592155,4592855,4591252,4591917],"length":1,"stats":{"Line":4},"fn_name":null},{"line":41,"address":[4593152,4592924],"length":1,"stats":{"Line":1},"fn_name":null},{"line":43,"address":[2255128,2255023,2255068,2255408],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":12,"coverable":14},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","fold.rs"],"content":"use ql2::term::TermType;\n\nuse crate::arguments::AnyParam;\nuse crate::prelude::Func;\nuse crate::Command;\n\npub(crate) fn new(base: AnyParam, func: Func) -\u003e Command {\n    let Func(func) = func;\n    let arg: Command = base.into();\n\n    Command::new(TermType::Fold).with_arg(arg).with_arg(func)\n}\n\n// #[derive(Debug, Clone, Serialize, Default)]\n// #[non_exhaustive]\n// pub struct FoldOption {\n//     pub emit: Option\u003cCommand\u003e,\n//     pub final_emit: Option\u003cCommand\u003e,\n// }\n\n// TODO write test\n","traces":[{"line":7,"address":[2672768,2673209],"length":1,"stats":{"Line":0},"fn_name":"new"},{"line":8,"address":[2672803],"length":1,"stats":{"Line":0},"fn_name":null},{"line":9,"address":[2672884,2672947],"length":1,"stats":{"Line":0},"fn_name":null},{"line":11,"address":[2673026,2672955],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":4},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","for_each.rs"],"content":"use ql2::term::TermType;\n\nuse crate::prelude::Func;\nuse crate::Command;\n\npub(crate) fn new(arg: Func) -\u003e Command {\n    Command::new(TermType::ForEach).with_arg(arg.0)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::*;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::MutationResponse;\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_for_each_opts() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let response: MutationResponse = table\n            .clone()\n            .for_each(func!(|doc| table.get(doc.g(\"id\")).delete(())))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response.deleted == 5);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":6,"address":[4583968,4584145,4584172],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":7,"address":[4584075,4583990],"length":1,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[1675600,1676005,1675639,1676053],"length":1,"stats":{"Line":6},"fn_name":"test_for_each_opts"},{"line":19,"address":[4117127,4116946,4117540,4116775,4116518,4116618],"length":1,"stats":{"Line":4},"fn_name":null},{"line":20,"address":[4119480,4118926,4118606,4119204,4119527,4119769,4119003,4117530,4118761,4119423],"length":1,"stats":{"Line":7},"fn_name":null},{"line":22,"address":[4118583,4120885,4118645,4120864,4117800,4117749,4118685,4118776],"length":1,"stats":{"Line":3},"fn_name":"{closure#0}"},{"line":23,"address":[4118959,4116639,4119131,4118829,4116724],"length":1,"stats":{"Line":5},"fn_name":null},{"line":24,"address":[4119327],"length":1,"stats":{"Line":0},"fn_name":null},{"line":28,"address":[4119647,4119984],"length":1,"stats":{"Line":1},"fn_name":null},{"line":30,"address":[1675676,1675631,1675736,1676016],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":9,"coverable":10},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","func.rs"],"content":"use crate::Command;\nuse ql2::term::TermType;\n\n#[derive(Debug, Clone)]\npub struct Func(pub(crate) Command);\n\nimpl Func {\n    pub fn new\u003cT\u003e(ids: Vec\u003cu64\u003e, body: T) -\u003e Self\n    where\n        T: Into\u003cCommand\u003e,\n    {\n        Func(\n            Command::new(TermType::Func)\n                .with_arg(Command::from_json(ids))\n                .with_arg(body),\n        )\n    }\n}\n","traces":[{"line":8,"address":[2703242,2702800,2703174],"length":1,"stats":{"Line":1},"fn_name":"new\u003creql_rust::proto::Command\u003e"},{"line":13,"address":[2702946,2703046,2702827,2703149],"length":1,"stats":{"Line":4},"fn_name":null},{"line":14,"address":[2703164,2702954,2703090],"length":1,"stats":{"Line":2},"fn_name":null},{"line":15,"address":[2703098],"length":1,"stats":{"Line":1},"fn_name":null}],"covered":4,"coverable":4},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","ge.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::arguments::Args;\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl GeArg) -\u003e Command {\n    args.into_ge_opts().add_to_cmd(Command::new(TermType::Ge))\n}\n\npub trait GeArg {\n    fn into_ge_opts(self) -\u003e CmdOpts;\n}\n\nimpl\u003cT: Serialize\u003e GeArg for T {\n    fn into_ge_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(Command::from_json(self))\n    }\n}\n\nimpl\u003cT: Serialize\u003e GeArg for Args\u003cVec\u003cT\u003e\u003e {\n    fn into_ge_opts(self) -\u003e CmdOpts {\n        let commands = self.0.iter().map(Command::from_json).collect();\n\n        CmdOpts::Many(commands)\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::{args, r, Result};\n\n    #[tokio::test]\n    async fn test_ge_data() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: bool = table\n            .get(1)\n            .g(\"view\")\n            .ge(10)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained);\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_ge_data_r() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let data_obtained: bool = r\n            .ge(args!(vec![7, 6, 5]))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained);\n\n        Ok(())\n    }\n}\n","traces":[{"line":9,"address":[2391245,2391272,2391028,2391040,2390832,2391001],"length":1,"stats":{"Line":2},"fn_name":"new\u003ci32\u003e"},{"line":10,"address":[2390855,2391021,2391056,2391265],"length":1,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":19,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":25,"address":[],"length":0,"stats":{"Line":2},"fn_name":null},{"line":27,"address":[1817501],"length":1,"stats":{"Line":1},"fn_name":null},{"line":38,"address":[2579461,2579056,2579095,2579509],"length":1,"stats":{"Line":6},"fn_name":"test_ge_data"},{"line":39,"address":[2336149,2335828,2335763,2336327,2336764,2335981],"length":1,"stats":{"Line":4},"fn_name":null},{"line":40,"address":[2337793,2336997,2336711,2337473,2337749,2337278,2337983,2337201,2337692],"length":1,"stats":{"Line":6},"fn_name":null},{"line":44,"address":[2335932,2337234,2337406,2335849,2337107],"length":1,"stats":{"Line":5},"fn_name":null},{"line":45,"address":[2337596],"length":1,"stats":{"Line":0},"fn_name":null},{"line":49,"address":[2337872,2338186],"length":1,"stats":{"Line":1},"fn_name":null},{"line":51,"address":[6850977],"length":1,"stats":{"Line":7},"fn_name":null},{"line":55,"address":[2339069,2339503,2339204,2338921,2338912,2338944,2339001],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":56,"address":[2339164,2339059,2339325,2339514,2339093,2339782],"length":1,"stats":{"Line":4},"fn_name":null},{"line":57,"address":[2340241,2340130,2341000,2340773,2340312,2340810,2340098,2340716,2340497],"length":1,"stats":{"Line":6},"fn_name":null},{"line":58,"address":[2340010,2339767],"length":1,"stats":{"Line":2},"fn_name":null},{"line":59,"address":[2340110,2340153,2340271,2340440,2339108],"length":1,"stats":{"Line":5},"fn_name":null},{"line":60,"address":[2340620],"length":1,"stats":{"Line":0},"fn_name":null},{"line":64,"address":[2340889,2341112],"length":1,"stats":{"Line":1},"fn_name":null},{"line":66,"address":[2341086],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":20,"coverable":22},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","geojson.rs"],"content":"use ql2::term::TermType;\nuse serde::{Deserialize, Serialize};\n\nuse crate::prelude::Geometry;\nuse crate::types::{GeoJson, GeoType, ReqlType};\nuse crate::Command;\n\n#[derive(Debug, Clone, Serialize, Deserialize, PartialEq, PartialOrd)]\npub struct ReqlGeoJson\u003cT\u003e {\n    #[serde(rename = \"$reql_type$\")]\n    pub reql_type: ReqlType,\n    pub coordinates: T,\n    #[serde(rename = \"type\")]\n    pub typ: GeoType,\n}\n\nimpl\u003cT: Serialize\u003e ReqlGeoJson\u003cT\u003e {\n    pub fn new(geojson: GeoJson\u003cT\u003e) -\u003e Self {\n        Self {\n            reql_type: ReqlType::Geometry,\n            typ: geojson.typ,\n            coordinates: geojson.coordinates,\n        }\n    }\n}\n\nimpl\u003cT: Serialize\u003e From\u003cReqlGeoJson\u003cT\u003e\u003e for Command {\n    fn from(geo: ReqlGeoJson\u003cT\u003e) -\u003e Self {\n        let geo: GeoJson\u003cT\u003e = geo.into();\n        let arg = Command::from_json(geo);\n\n        Command::new(TermType::Geojson).with_arg(arg)\n    }\n}\n\nimpl\u003cT: Serialize\u003e From\u003cReqlGeoJson\u003cT\u003e\u003e for GeoJson\u003cT\u003e {\n    fn from(geo: ReqlGeoJson\u003cT\u003e) -\u003e Self {\n        Self {\n            typ: geo.typ,\n            coordinates: geo.coordinates,\n        }\n    }\n}\n\nimpl\u003cT: Serialize\u003e Geometry for ReqlGeoJson\u003cT\u003e {\n    fn cmd(self) -\u003e Command {\n        self.into()\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use serde::{Deserialize, Serialize};\n\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::{GeoJson, GeoType};\n    use crate::{r, Result};\n\n    use super::ReqlGeoJson;\n\n    #[derive(Debug, Serialize, Deserialize, PartialEq)]\n    struct User {\n        id: u8,\n        name: String,\n        location: ReqlGeoJson\u003c[f64; 2]\u003e,\n    }\n\n    #[tokio::test]\n    async fn test_geojson_data() -\u003e Result\u003c()\u003e {\n        let geo_json = GeoJson {\n            typ: GeoType::Point,\n            coordinates: [-122.423246, 37.779388],\n        };\n        let user = User {\n            id: 1,\n            name: \"Yaound\".to_string(),\n            location: r.geojson(geo_json),\n        };\n        let (conn, table, table_name) = set_up(false).await?;\n        table.clone().insert(\u0026user).run(\u0026conn).await?;\n        let response: User = table.get(1).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == user);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":18,"address":[4686912],"length":1,"stats":{"Line":1},"fn_name":"new\u003c[f64; 2]\u003e"},{"line":21,"address":[4686924],"length":1,"stats":{"Line":1},"fn_name":null},{"line":22,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":28,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":29,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":30,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":32,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":37,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":39,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":40,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":46,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":47,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":70,"address":[4227728,4228013,4228315,4227829,4227760,4228599,4227737],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":73,"address":[4227927],"length":1,"stats":{"Line":1},"fn_name":null},{"line":77,"address":[4227983],"length":1,"stats":{"Line":1},"fn_name":null},{"line":78,"address":[4228427],"length":1,"stats":{"Line":1},"fn_name":null},{"line":80,"address":[4228666,4229247,4228272,4228592,4228043],"length":1,"stats":{"Line":4},"fn_name":null},{"line":81,"address":[4228221,4229471,4229237,4228064],"length":1,"stats":{"Line":4},"fn_name":null},{"line":82,"address":[4230217,4231061,4231269,4228085,4228170,4230341],"length":1,"stats":{"Line":5},"fn_name":null},{"line":84,"address":[4231751,4231693,4231255],"length":1,"stats":{"Line":2},"fn_name":null},{"line":86,"address":[4232077,4232213,4231805,4228103,4231707,4231929,4231988],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":12,"coverable":21},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","get.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(args: impl GetArg) -\u003e Command {\n    Command::new(TermType::Get).with_arg(args.into_get_opts())\n}\n\npub trait GetArg {\n    fn into_get_opts(self) -\u003e Command;\n}\n\nimpl GetArg for Command {\n    fn into_get_opts(self) -\u003e Command {\n        self\n    }\n}\n\nimpl\u003cT\u003e GetArg for T\nwhere\n    T: Serialize,\n{\n    fn into_get_opts(self) -\u003e Command {\n        Command::from_json(self)\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_get_data() -\u003e Result\u003c()\u003e {\n        let expected_post = Post::get_many_data().get(3).unwrap().to_owned();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_inserted: Option\u003cPost\u003e = table\n            .get(expected_post.id)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_inserted == Some(expected_post));\n\n        tear_down(conn, table_name.as_str()).await\n    }\n}\n","traces":[{"line":6,"address":[2219066,2219408,2218784,2219712,2219365,2219998,2219104,2219673],"length":1,"stats":{"Line":4},"fn_name":"new\u003c\u0026str\u003e"},{"line":7,"address":[2219834,2219231,2219988,2219355,2218932,2219537,2218827,2219056,2219663,2219132,2219734,2219438],"length":1,"stats":{"Line":8},"fn_name":null},{"line":15,"address":[2174272],"length":1,"stats":{"Line":1},"fn_name":"into_get_opts"},{"line":16,"address":[2255928],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[],"length":0,"stats":{"Line":3},"fn_name":null},{"line":25,"address":[2220067,2220112,2220149],"length":1,"stats":{"Line":3},"fn_name":null},{"line":36,"address":[1693413,1693737,1694014,1693344,1693321,1696516,1693509,1693312],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":37,"address":[1693844,1693475],"length":1,"stats":{"Line":2},"fn_name":null},{"line":38,"address":[1693694,1693539,1694083,1694675],"length":1,"stats":{"Line":3},"fn_name":null},{"line":39,"address":[1694622,1695612,1695020,1696030,1695568,1695097,1695511,1695292,1694903],"length":1,"stats":{"Line":6},"fn_name":null},{"line":41,"address":[1695053,1695225,1693560,1693645,1694883,1694926],"length":1,"stats":{"Line":6},"fn_name":null},{"line":42,"address":[1695415],"length":1,"stats":{"Line":0},"fn_name":null},{"line":46,"address":[1695797,1696257,1696359,1696417],"length":1,"stats":{"Line":2},"fn_name":null},{"line":48,"address":[1696659,1696928,1696373,1696535,1693578,1696715,1696797],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":13,"coverable":14},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","get_all.rs"],"content":"use std::borrow::Cow;\n\nuse ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl GetAllArg) -\u003e Command {\n    let (args, opts) = args.into_get_all_opts();\n\n    args.add_to_cmd(Command::new(TermType::GetAll))\n        .with_opts(opts)\n}\n\npub trait GetAllArg {\n    fn into_get_all_opts(self) -\u003e (CmdOpts, GetAllOption);\n}\n\nimpl\u003cT: Serialize\u003e GetAllArg for Vec\u003cT\u003e {\n    fn into_get_all_opts(self) -\u003e (CmdOpts, GetAllOption) {\n        let keys = self\n            .into_iter()\n            .map(|key| Command::from_json(key))\n            .collect();\n\n        (CmdOpts::Many(keys), Default::default())\n    }\n}\n\nimpl\u003cT: Serialize\u003e GetAllArg for (Vec\u003cT\u003e, GetAllOption) {\n    fn into_get_all_opts(self) -\u003e (CmdOpts, GetAllOption) {\n        let keys = self\n            .0\n            .into_iter()\n            .map(|key| Command::from_json(key))\n            .collect();\n\n        (CmdOpts::Many(keys), self.1)\n    }\n}\n\n#[derive(Debug, Clone, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct GetAllOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub index: Option\u003cCow\u003c'static, str\u003e\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::*;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    use super::GetAllOption;\n\n    #[tokio::test]\n    async fn test_get_all() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n\n        table.clone().sync().run(\u0026conn).await?;\n\n        let data_get: Vec\u003cPost\u003e = table\n            .get_all((vec![\"title4\"], GetAllOption::default().index(\"title\")))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_get.len() == 2);\n        assert!(data_get.first() == data.get(3));\n        assert!(data_get.last() == data.last());\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":11,"address":[2373003,2372576,2373092],"length":1,"stats":{"Line":1},"fn_name":"new\u003c(alloc::vec::Vec\u003c\u0026str, alloc::alloc::Global\u003e, reql_rust::cmd::get_all::GetAllOption)\u003e"},{"line":12,"address":[2372593],"length":1,"stats":{"Line":1},"fn_name":null},{"line":14,"address":[2372996,2372969,2372761],"length":1,"stats":{"Line":2},"fn_name":null},{"line":15,"address":[2372913],"length":1,"stats":{"Line":1},"fn_name":null},{"line":23,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":24,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":26,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":29,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":34,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":35,"address":[],"length":0,"stats":{"Line":2},"fn_name":null},{"line":36,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":38,"address":[2373120,2373173],"length":1,"stats":{"Line":2},"fn_name":"{closure#0}\u003c\u0026str\u003e"},{"line":41,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":60,"address":[4445344,4445511,4445813,4445312,4446165,4445413,4445321],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":61,"address":[4445478],"length":1,"stats":{"Line":1},"fn_name":null},{"line":62,"address":[4445938,4445541,4445998,4446176,4445770,4446590],"length":1,"stats":{"Line":4},"fn_name":null},{"line":64,"address":[4446806,4445562,4446580,4445719],"length":1,"stats":{"Line":4},"fn_name":null},{"line":66,"address":[4448639,4448719,4447964,4447889,4448136,4448962,4448219,4448696,4448420,4447552],"length":1,"stats":{"Line":7},"fn_name":null},{"line":67,"address":[4447603,4447647,4447989,4447936,4447971],"length":1,"stats":{"Line":2},"fn_name":null},{"line":68,"address":[4448347,4445583,4447944,4448175,4445668,4448039],"length":1,"stats":{"Line":6},"fn_name":null},{"line":69,"address":[4448543],"length":1,"stats":{"Line":0},"fn_name":null},{"line":73,"address":[4448848,4449294,4449345],"length":1,"stats":{"Line":2},"fn_name":null},{"line":74,"address":[4449315,4449393,4449588],"length":1,"stats":{"Line":2},"fn_name":null},{"line":75,"address":[4449841,4449558,4449637],"length":1,"stats":{"Line":2},"fn_name":null},{"line":77,"address":[2255564,2255904,2255519,2255624],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":19,"coverable":25},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","get_field.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(attr: impl Serialize) -\u003e Command {\n    let arg = Command::from_json(attr);\n\n    Command::new(TermType::GetField).with_arg(arg)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_get_fields() -\u003e Result\u003c()\u003e {\n        let data = Post::get_one_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: String = table.get(1).g(\"title\").run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained == data.title);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":6,"address":[4481380,4481168,4481407],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":7,"address":[4481201],"length":1,"stats":{"Line":1},"fn_name":null},{"line":9,"address":[4481294,4481227],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[1676135,1676501,1676549,1676096],"length":1,"stats":{"Line":6},"fn_name":"test_get_fields"},{"line":20,"address":[2704051],"length":1,"stats":{"Line":1},"fn_name":null},{"line":21,"address":[2704481,2705094,2704103,2704256,2704656,2704421],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[2705294,2705041,2706200,2706066,2704207,2704124],"length":1,"stats":{"Line":5},"fn_name":null},{"line":24,"address":[2706555,2706610,2706186],"length":1,"stats":{"Line":2},"fn_name":null},{"line":26,"address":[1676172,1676512,1676127,1676232],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":9,"coverable":9},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","get_intersecting.rs"],"content":"use std::borrow::Cow;\n\nuse ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::prelude::Geometry;\nuse crate::Command;\n\npub(crate) fn new(args: impl GetIntersectingArg, index: \u0026'static str) -\u003e Command {\n    let opts = GetIntersectingOption::default().index(index);\n\n    Command::new(TermType::GetIntersecting)\n        .with_arg(args.into_get_intersecting_opts())\n        .with_opts(opts)\n}\n\npub trait GetIntersectingArg {\n    fn into_get_intersecting_opts(self) -\u003e Command;\n}\n\nimpl GetIntersectingArg for Command {\n    fn into_get_intersecting_opts(self) -\u003e Command {\n        self\n    }\n}\n\nimpl\u003cT\u003e GetIntersectingArg for T\nwhere\n    T: Geometry,\n{\n    fn into_get_intersecting_opts(self) -\u003e Command {\n        self.cmd()\n    }\n}\n\n#[derive(Debug, Clone, Serialize, Default, CommandOptions)]\npub struct GetIntersectingOption {\n    pub index: Option\u003cCow\u003c'static, str\u003e\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use serde::{Deserialize, Serialize};\n    use uuid::Uuid;\n\n    use crate::cmd::index_create::IndexCreateOption;\n    use crate::cmd::point::Point;\n    use crate::cmd::polygon::Polygon;\n    use crate::prelude::Converter;\n    use crate::{args, r, Result};\n\n    #[derive(Debug, Serialize, Deserialize, PartialEq)]\n    struct Park {\n        id: u8,\n        area: Point,\n    }\n\n    impl Park {\n        fn new(id: u8, area: Point) -\u003e Self {\n            Self { id, area }\n        }\n    }\n\n    #[tokio::test]\n    async fn test_get_intersecting_ops() -\u003e Result\u003c()\u003e {\n        let data = vec![\n            Park::new(1, r.point(-0.1, 5.3)),\n            Park::new(2, r.point(-117.220406, 32.719464)),\n            Park::new(2, r.point(-120.6, 58.9)),\n            Park::new(3, r.point(-11.220, 25.764)),\n        ];\n        let table_name = Uuid::new_v4().to_string();\n        let conn = r.connection().connect().await?;\n        let table = r.table(table_name.as_str());\n        let circle: Polygon = r\n            .circle(args!(r.point(-117.220406, 32.719464), 10.))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n        r.table_create(table_name.as_str()).run(\u0026conn).await?;\n        table\n            .clone()\n            .index_create((\"area\", IndexCreateOption::default().geo(true)))\n            .run(\u0026conn)\n            .await?;\n        table.clone().index_wait(()).run(\u0026conn).await?;\n        table.clone().insert(\u0026data).run(\u0026conn).await?;\n\n        let response: Vec\u003cPark\u003e = table\n            .get_intersecting(circle, \"area\")\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response.len() == 1);\n\n        r.table_drop(table_name.as_str()).run(\u0026conn).await?;\n        Ok(())\n    }\n}\n","traces":[{"line":10,"address":[1652381,1651920,1652428],"length":1,"stats":{"Line":1},"fn_name":"new\u003creql_rust::cmd::polygon::Polygon\u003e"},{"line":11,"address":[1651968,1652073],"length":1,"stats":{"Line":2},"fn_name":null},{"line":13,"address":[1652260,1652088,1652164,1652356],"length":1,"stats":{"Line":4},"fn_name":null},{"line":14,"address":[1652172,1652371,1652301],"length":1,"stats":{"Line":2},"fn_name":null},{"line":15,"address":[1652309],"length":1,"stats":{"Line":1},"fn_name":null},{"line":23,"address":[2255952],"length":1,"stats":{"Line":0},"fn_name":"into_get_intersecting_opts"},{"line":24,"address":[4040712],"length":1,"stats":{"Line":0},"fn_name":null},{"line":32,"address":[2062240],"length":1,"stats":{"Line":1},"fn_name":"into_get_intersecting_opts\u003creql_rust::cmd::polygon::Polygon\u003e"},{"line":33,"address":[2062251],"length":1,"stats":{"Line":1},"fn_name":null},{"line":60,"address":[2047216],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":66,"address":[2048583,2048997,2048949,2048544],"length":1,"stats":{"Line":6},"fn_name":"test_get_intersecting_ops"},{"line":67,"address":[1663366,1664173,1664423],"length":1,"stats":{"Line":2},"fn_name":null},{"line":68,"address":[1664158,1664223],"length":1,"stats":{"Line":2},"fn_name":null},{"line":69,"address":[1664254],"length":1,"stats":{"Line":1},"fn_name":null},{"line":70,"address":[1664313],"length":1,"stats":{"Line":1},"fn_name":null},{"line":71,"address":[1664372],"length":1,"stats":{"Line":1},"fn_name":null},{"line":73,"address":[1664608,1664541],"length":1,"stats":{"Line":2},"fn_name":null},{"line":74,"address":[1664635,1663446,1663963,1664703,1665194],"length":1,"stats":{"Line":4},"fn_name":null},{"line":75,"address":[1665450,1665164],"length":1,"stats":{"Line":2},"fn_name":null},{"line":76,"address":[1666074,1666293,1666373,1665632,1665873,1665790,1666625,1666350,1665667],"length":1,"stats":{"Line":6},"fn_name":null},{"line":77,"address":[1665500,1665534],"length":1,"stats":{"Line":2},"fn_name":null},{"line":78,"address":[6789786],"length":1,"stats":{"Line":6},"fn_name":null},{"line":79,"address":[1666197],"length":1,"stats":{"Line":0},"fn_name":null},{"line":82,"address":[6789640,6789583],"length":1,"stats":{"Line":4},"fn_name":null},{"line":83,"address":[1668527,1667870,1667795,1668035,1668118,1668319,1667547],"length":1,"stats":{"Line":6},"fn_name":null},{"line":85,"address":[1667842,1667635,1667885,1667592],"length":1,"stats":{"Line":2},"fn_name":null},{"line":86,"address":[6789500],"length":1,"stats":{"Line":6},"fn_name":null},{"line":87,"address":[6789557,6789514],"length":1,"stats":{"Line":1},"fn_name":null},{"line":88,"address":[6789474,6789417],"length":1,"stats":{"Line":4},"fn_name":null},{"line":89,"address":[6789394,6789340],"length":1,"stats":{"Line":4},"fn_name":null},{"line":91,"address":[1670980,1671303,1670560,1670477,1671060,1670354,1670169,1670761,1671037,1670263],"length":1,"stats":{"Line":7},"fn_name":null},{"line":92,"address":[1670226],"length":1,"stats":{"Line":1},"fn_name":null},{"line":93,"address":[1670334,1670377,1670688,1663572,1663657,1670516],"length":1,"stats":{"Line":6},"fn_name":null},{"line":94,"address":[1670884],"length":1,"stats":{"Line":0},"fn_name":null},{"line":98,"address":[1671468,1671420,1671189],"length":1,"stats":{"Line":2},"fn_name":null},{"line":100,"address":[1671441,1671551,1663590],"length":1,"stats":{"Line":3},"fn_name":null},{"line":101,"address":[1672477],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":33,"coverable":37},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","get_nearest.rs"],"content":"use std::borrow::Cow;\n\nuse ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::arguments::{Args, Unit};\nuse crate::prelude::Geometry;\nuse crate::types::GeoSystem;\nuse crate::Command;\n\npub(crate) fn new(args: impl GetNearestArg) -\u003e Command {\n    let (arg, opts) = args.into_get_nearest_opts();\n\n    Command::new(TermType::GetNearest)\n        .with_arg(arg)\n        .with_opts(opts)\n}\n\npub trait GetNearestArg {\n    fn into_get_nearest_opts(self) -\u003e (Command, GetNearestOption);\n}\n\nimpl\u003cT: Geometry\u003e GetNearestArg for Args\u003c(T, \u0026str)\u003e {\n    fn into_get_nearest_opts(self) -\u003e (Command, GetNearestOption) {\n        let index_name = GetNearestOption::default().index(self.0 .1.to_owned());\n\n        (self.0 .0.into(), index_name)\n    }\n}\n\nimpl GetNearestArg for Args\u003c(Command, \u0026str)\u003e {\n    fn into_get_nearest_opts(self) -\u003e (Command, GetNearestOption) {\n        let index_name = GetNearestOption::default().index(self.0 .1.to_owned());\n\n        (self.0 .0, index_name)\n    }\n}\n\nimpl\u003cT: Geometry\u003e GetNearestArg for Args\u003c(T, \u0026str, GetNearestOption)\u003e {\n    fn into_get_nearest_opts(self) -\u003e (Command, GetNearestOption) {\n        let index_name = self.0 .2.index(self.0 .1.to_owned());\n\n        (self.0 .0.into(), index_name)\n    }\n}\n\nimpl GetNearestArg for Args\u003c(Command, \u0026str, GetNearestOption)\u003e {\n    fn into_get_nearest_opts(self) -\u003e (Command, GetNearestOption) {\n        let index_name = self.0 .2.index(self.0 .1.to_owned());\n\n        (self.0 .0, index_name)\n    }\n}\n\n#[derive(Debug, Clone, Serialize, Default, CommandOptions)]\npub struct GetNearestOption {\n    pub index: Cow\u003c'static, str\u003e,\n    /// the maximum number of results to return (default 100).\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub max_results: Option\u003cusize\u003e,\n    /// Unit for the distance.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub unit: Option\u003cUnit\u003e,\n    /// distance from an object to the specified point (default 100 km).\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub max_dist: Option\u003cusize\u003e,\n    /// the reference ellipsoid to use for geographic coordinates.\n    /// Possible values are `GeoSystem::WGS84` (the default),\n    /// a common standard for Earths geometry, or `GeoSystem::UnitSphere`,\n    /// a perfect sphere of 1 meter radius.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub geo_system: Option\u003cGeoSystem\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use serde::{Deserialize, Serialize};\n    use uuid::Uuid;\n\n    use crate::cmd::index_create::IndexCreateOption;\n    use crate::cmd::point::Point;\n    use crate::prelude::Converter;\n    use crate::types::ClosestDocumentResponse;\n    use crate::{args, r, Result};\n\n    #[derive(Debug, Serialize, Deserialize, PartialEq)]\n    struct Park {\n        id: u8,\n        area: Point,\n    }\n\n    impl Park {\n        fn new(id: u8, area: Point) -\u003e Self {\n            Self { id, area }\n        }\n    }\n\n    #[tokio::test]\n    async fn test_get_nearest_ops() -\u003e Result\u003c()\u003e {\n        let data = vec![\n            Park::new(1, r.point(-121.886420, 37.329898)),\n            Park::new(2, r.point(-117.220406, 32.719464)),\n            Park::new(3, r.point(-122.422876, 37.777128)),\n            Park::new(4, r.point(-122.423246, 37.779388)),\n        ];\n        let table_name = Uuid::new_v4().to_string();\n        let conn = r.connection().connect().await?;\n        let table = r.table(table_name.as_str());\n        r.table_create(table_name.as_str()).run(\u0026conn).await?;\n        table\n            .clone()\n            .index_create((\"area\", IndexCreateOption::default().geo(true)))\n            .run(\u0026conn)\n            .await?;\n        table.clone().index_wait(()).run(\u0026conn).await?;\n        table.clone().insert(\u0026data).run(\u0026conn).await?;\n\n        let secret_base = r.point(-122.422876, 37.777128);\n        let response: Vec\u003cClosestDocumentResponse\u003cPark\u003e\u003e = table\n            .get_nearest(args!(secret_base, \"area\"))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response.len() \u003e 0);\n\n        r.table_drop(table_name.as_str()).run(\u0026conn).await?;\n        Ok(())\n    }\n}\n","traces":[{"line":12,"address":[4535168,4535675],"length":1,"stats":{"Line":1},"fn_name":"new\u003creql_rust::arguments::Args\u003c(reql_rust::cmd::point::Point, \u0026str)\u003e\u003e"},{"line":13,"address":[4535185],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[4535363,4535496,4535612],"length":1,"stats":{"Line":3},"fn_name":null},{"line":16,"address":[4535437],"length":1,"stats":{"Line":1},"fn_name":null},{"line":17,"address":[4535508],"length":1,"stats":{"Line":1},"fn_name":null},{"line":25,"address":[1818037,1817616,1817900],"length":1,"stats":{"Line":1},"fn_name":"into_get_nearest_opts\u003creql_rust::cmd::point::Point\u003e"},{"line":26,"address":[1817720,1817638,1817890],"length":1,"stats":{"Line":2},"fn_name":null},{"line":28,"address":[1817948,1817831],"length":1,"stats":{"Line":2},"fn_name":null},{"line":33,"address":[6661568,6661891],"length":1,"stats":{"Line":0},"fn_name":"into_get_nearest_opts"},{"line":34,"address":[6661649,6661589,6661881],"length":1,"stats":{"Line":0},"fn_name":null},{"line":36,"address":[6661769],"length":1,"stats":{"Line":0},"fn_name":null},{"line":41,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":42,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":44,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":49,"address":[6661920,6662274],"length":1,"stats":{"Line":0},"fn_name":"into_get_nearest_opts"},{"line":50,"address":[6662267,6661944],"length":1,"stats":{"Line":0},"fn_name":null},{"line":52,"address":[6662144],"length":1,"stats":{"Line":0},"fn_name":null},{"line":94,"address":[2047296],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":100,"address":[2050085,2050037,2049671,2049632],"length":1,"stats":{"Line":6},"fn_name":"test_get_nearest_ops"},{"line":101,"address":[4428630,4429608,4429358],"length":1,"stats":{"Line":2},"fn_name":null},{"line":102,"address":[4429343,4429408],"length":1,"stats":{"Line":2},"fn_name":null},{"line":103,"address":[4429439],"length":1,"stats":{"Line":1},"fn_name":null},{"line":104,"address":[4429498],"length":1,"stats":{"Line":1},"fn_name":null},{"line":105,"address":[4429557],"length":1,"stats":{"Line":1},"fn_name":null},{"line":107,"address":[4429793,4429726],"length":1,"stats":{"Line":2},"fn_name":null},{"line":108,"address":[6774063],"length":1,"stats":{"Line":4},"fn_name":null},{"line":109,"address":[4430623,4430349],"length":1,"stats":{"Line":2},"fn_name":null},{"line":110,"address":[6773818,6773875],"length":1,"stats":{"Line":4},"fn_name":null},{"line":111,"address":[4431676,4431751,4431916,4431993,4431452,4432402,4432194],"length":1,"stats":{"Line":6},"fn_name":null},{"line":113,"address":[4431497,4431540,4431766,4431723],"length":1,"stats":{"Line":2},"fn_name":null},{"line":114,"address":[6773735],"length":1,"stats":{"Line":6},"fn_name":null},{"line":115,"address":[4432432,4432284],"length":1,"stats":{"Line":1},"fn_name":null},{"line":116,"address":[6773709,6773652],"length":1,"stats":{"Line":4},"fn_name":null},{"line":117,"address":[4428787,4433318,4433248,4428944],"length":1,"stats":{"Line":4},"fn_name":null},{"line":119,"address":[4434048],"length":1,"stats":{"Line":1},"fn_name":null},{"line":120,"address":[4435025,4435288,4434968,4434088,4434749,4435048,4434471,4434548,4434286,4434348],"length":1,"stats":{"Line":7},"fn_name":null},{"line":121,"address":[4434131],"length":1,"stats":{"Line":1},"fn_name":null},{"line":122,"address":[4428808,4434371,4434328,4434676,4434504,4428893],"length":1,"stats":{"Line":6},"fn_name":null},{"line":123,"address":[4434872],"length":1,"stats":{"Line":0},"fn_name":null},{"line":127,"address":[4435444,4435177,4435402],"length":1,"stats":{"Line":2},"fn_name":null},{"line":129,"address":[4428826,4435423,4435518],"length":1,"stats":{"Line":3},"fn_name":null},{"line":130,"address":[2050048,2049663,2049708,2049768],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":32,"coverable":42},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","get_write_hook.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::GetWriteHook)\n}\n\n// WriteHookResponse\n\n// TODO Write test\n","traces":[{"line":5,"address":[2719376],"length":1,"stats":{"Line":0},"fn_name":"new"},{"line":6,"address":[2719388],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":2},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","grant.rs"],"content":"use ql2::term::TermType;\n\nuse crate::arguments::Permission;\nuse crate::Command;\n\npub(crate) fn new(username: \u0026str, permission: Permission) -\u003e Command {\n    Command::new(TermType::Grant)\n        .with_arg(Command::from_json(username))\n        .with_arg(Command::from_json(permission))\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::arguments::Permission;\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::{ConfigChange, GrantChangeValue, GrantResponse};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_grant_permission() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(false).await?;\n        let expected = GrantResponse {\n            granted: 1,\n            permissions_changes: vec![ConfigChange {\n                old_val: None,\n                new_val: Some(GrantChangeValue {\n                    write: Some(true),\n                    read: Some(true),\n                    config: None,\n                    connect: None,\n                }),\n            }],\n        };\n        let permissions = Permission::default().read(true).write(true);\n        // TODO Replace current user when test user should be created\n        let response: GrantResponse = table\n            .grant(\"bob\", permissions)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response == expected);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":6,"address":[3069088,3069340,3069370],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":7,"address":[2686065,2685766,2685888],"length":1,"stats":{"Line":3},"fn_name":null},{"line":8,"address":[2685831,2685996,2685928],"length":1,"stats":{"Line":2},"fn_name":null},{"line":9,"address":[2767750,2767674,2767766,2767592],"length":1,"stats":{"Line":2},"fn_name":null},{"line":21,"address":[7012112,7012080,7012181,7012089,7012501,7012793,7012275],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":22,"address":[7012243,7012626,7012804,7013188,7012305,7012458],"length":1,"stats":{"Line":4},"fn_name":null},{"line":25,"address":[7013170,7013560],"length":1,"stats":{"Line":2},"fn_name":null},{"line":35,"address":[7013655,7013714],"length":1,"stats":{"Line":2},"fn_name":null},{"line":37,"address":[7014100,7013897,7014688,7014372,7014648,7013983,7013839,7014591,7014922,7014177],"length":1,"stats":{"Line":7},"fn_name":null},{"line":38,"address":[7013883],"length":1,"stats":{"Line":1},"fn_name":null},{"line":39,"address":[6761500],"length":1,"stats":{"Line":5},"fn_name":null},{"line":40,"address":[7014495],"length":1,"stats":{"Line":0},"fn_name":null},{"line":44,"address":[7014808,7015122,7015176],"length":1,"stats":{"Line":2},"fn_name":null},{"line":46,"address":[4768319,4768704,4768424,4768364],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":13,"coverable":14},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","group.rs"],"content":"use std::borrow::Cow;\n\nuse ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::prelude::Func;\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl GroupArg) -\u003e Command {\n    let (args, opts) = args.into_group_opts();\n\n    args.add_to_cmd(Command::new(TermType::Group))\n        .with_opts(opts)\n}\n\npub trait GroupArg {\n    fn into_group_opts(self) -\u003e (CmdOpts, GroupOption);\n}\n\nimpl GroupArg for \u0026str {\n    fn into_group_opts(self) -\u003e (CmdOpts, GroupOption) {\n        let arg = Command::from_json(self);\n\n        (CmdOpts::Single(arg), Default::default())\n    }\n}\n\nimpl GroupArg for Vec\u003c\u0026str\u003e {\n    fn into_group_opts(self) -\u003e (CmdOpts, GroupOption) {\n        let args = self.into_iter().map(Command::from_json).collect();\n\n        (CmdOpts::Many(args), Default::default())\n    }\n}\n\nimpl GroupArg for Func {\n    fn into_group_opts(self) -\u003e (CmdOpts, GroupOption) {\n        (CmdOpts::Single(self.0), Default::default())\n    }\n}\n\nimpl GroupArg for (\u0026str, GroupOption) {\n    fn into_group_opts(self) -\u003e (CmdOpts, GroupOption) {\n        let arg = Command::from_json(self.0);\n\n        (CmdOpts::Single(arg), self.1)\n    }\n}\n\nimpl GroupArg for (Vec\u003c\u0026str\u003e, GroupOption) {\n    fn into_group_opts(self) -\u003e (CmdOpts, GroupOption) {\n        let args = self.0.into_iter().map(Command::from_json).collect();\n\n        (CmdOpts::Many(args), self.1)\n    }\n}\n\nimpl GroupArg for (Func, GroupOption) {\n    fn into_group_opts(self) -\u003e (CmdOpts, GroupOption) {\n        let Func(func) = self.0;\n\n        (CmdOpts::Single(func), self.1)\n    }\n}\n\n#[derive(Debug, Clone, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct GroupOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub index: Option\u003cCow\u003c'static, str\u003e\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub multi: Option\u003cbool\u003e,\n}\n\n// GroupStream\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::types::GroupStream;\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_group_data() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: GroupStream\u003cString, Post\u003e =\n            table.group(\"title\").run(\u0026conn).await?.unwrap().parse()?;\n\n        let data_obtained = data_obtained.collect();\n\n        assert!(data_obtained.len() == 4);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":12,"address":[4373936,4374474,4374385],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":13,"address":[4373969],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[4374127,4374351,4374378],"length":1,"stats":{"Line":2},"fn_name":null},{"line":16,"address":[4374279],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[2882309,2882064],"length":1,"stats":{"Line":1},"fn_name":"into_group_opts"},{"line":25,"address":[2800449],"length":1,"stats":{"Line":1},"fn_name":null},{"line":27,"address":[2800500],"length":1,"stats":{"Line":1},"fn_name":null},{"line":32,"address":[4438448,4438722],"length":1,"stats":{"Line":0},"fn_name":"into_group_opts"},{"line":33,"address":[4438464],"length":1,"stats":{"Line":0},"fn_name":null},{"line":35,"address":[4438536],"length":1,"stats":{"Line":0},"fn_name":null},{"line":40,"address":[2827728,2827926],"length":1,"stats":{"Line":0},"fn_name":"into_group_opts"},{"line":41,"address":[2827779],"length":1,"stats":{"Line":0},"fn_name":null},{"line":46,"address":[2882336,2882583],"length":1,"stats":{"Line":0},"fn_name":"into_group_opts"},{"line":47,"address":[2882361],"length":1,"stats":{"Line":0},"fn_name":null},{"line":49,"address":[2882425],"length":1,"stats":{"Line":0},"fn_name":null},{"line":54,"address":[4438752,4439079],"length":1,"stats":{"Line":0},"fn_name":"into_group_opts"},{"line":55,"address":[4438864,4438773],"length":1,"stats":{"Line":0},"fn_name":null},{"line":57,"address":[4438892],"length":1,"stats":{"Line":0},"fn_name":null},{"line":62,"address":[7018928],"length":1,"stats":{"Line":0},"fn_name":"into_group_opts"},{"line":63,"address":[7018950],"length":1,"stats":{"Line":0},"fn_name":null},{"line":65,"address":[2827989],"length":1,"stats":{"Line":0},"fn_name":null},{"line":87,"address":[1712885,1712519,1712933,1712480],"length":1,"stats":{"Line":6},"fn_name":"test_group_data"},{"line":88,"address":[4759563,4758547,4758620,4758941,4758773,4759119],"length":1,"stats":{"Line":4},"fn_name":null},{"line":89,"address":[4759820,4758641,4759503,4758724,4760537,4760731],"length":1,"stats":{"Line":5},"fn_name":null},{"line":92,"address":[4760669],"length":1,"stats":{"Line":1},"fn_name":null},{"line":94,"address":[4761033,4761095,4761156],"length":1,"stats":{"Line":2},"fn_name":null},{"line":96,"address":[1712556,1712511,1712896,1712616],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":13,"coverable":27},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","gt.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::arguments::Args;\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl GtArg) -\u003e Command {\n    args.into_gt_opts().add_to_cmd(Command::new(TermType::Gt))\n}\n\npub trait GtArg {\n    fn into_gt_opts(self) -\u003e CmdOpts;\n}\n\nimpl\u003cT: Serialize\u003e GtArg for T {\n    fn into_gt_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(Command::from_json(self))\n    }\n}\n\nimpl\u003cT: Serialize\u003e GtArg for Args\u003cVec\u003cT\u003e\u003e {\n    fn into_gt_opts(self) -\u003e CmdOpts {\n        let commands = self.0.iter().map(Command::from_json).collect();\n\n        CmdOpts::Many(commands)\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::{args, r, Result};\n\n    #[tokio::test]\n    async fn test_gt_data() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: bool = table\n            .get(1)\n            .g(\"view\")\n            .gt(5)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained);\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_gt_data_r() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let data_obtained: bool = r\n            .gt(args!(vec![7, 6, 5]))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained);\n\n        Ok(())\n    }\n}\n","traces":[{"line":9,"address":[2391817,2391844,2391392,2391597,2391648,2391624],"length":1,"stats":{"Line":2},"fn_name":"new\u003creql_rust::arguments::Args\u003calloc::vec::Vec\u003ci32, alloc::alloc::Global\u003e\u003e\u003e"},{"line":10,"address":[2391408,2391837,2391671,2391617],"length":1,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":19,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":25,"address":[],"length":0,"stats":{"Line":2},"fn_name":null},{"line":27,"address":[1818237],"length":1,"stats":{"Line":1},"fn_name":null},{"line":38,"address":[6687413,6687008,6687047,6687461],"length":1,"stats":{"Line":6},"fn_name":"test_gt_data"},{"line":39,"address":[7039428,7039749,7039363,7039927,7040364,7039581],"length":1,"stats":{"Line":4},"fn_name":null},{"line":40,"address":[7040311,7040801,7041393,7041292,7041349,7040878,7040597,7041073,7041583],"length":1,"stats":{"Line":6},"fn_name":null},{"line":44,"address":[7040707,7039532,7040834,7039449,7041006],"length":1,"stats":{"Line":5},"fn_name":null},{"line":45,"address":[7041196],"length":1,"stats":{"Line":0},"fn_name":null},{"line":49,"address":[7041786,7041472],"length":1,"stats":{"Line":1},"fn_name":null},{"line":51,"address":[7042064,7042116,7041743,7039467,7041880,7042004,7042250],"length":1,"stats":{"Line":7},"fn_name":null},{"line":55,"address":[6687543,6687504,6687957,6687909],"length":1,"stats":{"Line":6},"fn_name":"test_gt_data_r"},{"line":56,"address":[7043114,7043382,7042925,7042659,7042693,7042764],"length":1,"stats":{"Line":4},"fn_name":null},{"line":57,"address":[7044097,7043841,7043698,7043730,7044373,7043912,7044600,7044316,7044410],"length":1,"stats":{"Line":6},"fn_name":null},{"line":58,"address":[7043610,7043367],"length":1,"stats":{"Line":2},"fn_name":null},{"line":59,"address":[6858105],"length":1,"stats":{"Line":5},"fn_name":null},{"line":60,"address":[7044220],"length":1,"stats":{"Line":0},"fn_name":null},{"line":64,"address":[7044712,7044489],"length":1,"stats":{"Line":1},"fn_name":null},{"line":66,"address":[6687580,6687920,6687535,6687640],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":20,"coverable":22},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","has_fields.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(selector: impl Serialize) -\u003e Command {\n    let arg = Command::from_json(selector);\n\n    Command::new(TermType::HasFields).with_arg(arg)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_has_fields() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: bool = table\n            .get(1)\n            .has_fields(\"title\")\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":6,"address":[4353551,4353312,4353524],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":7,"address":[4353345],"length":1,"stats":{"Line":1},"fn_name":null},{"line":9,"address":[4353438,4353371],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[2255984,2256023,2256389,2256437],"length":1,"stats":{"Line":6},"fn_name":"test_has_fields"},{"line":20,"address":[4100373,4100988,4100205,4100551,4100052,4099987],"length":1,"stats":{"Line":4},"fn_name":null},{"line":21,"address":[4101221,4100935,4101989,4102179,4101397,4101945,4101474,4101888,4101669],"length":1,"stats":{"Line":6},"fn_name":null},{"line":24,"address":[4101303,4100073,4101430,4101602,4100156],"length":1,"stats":{"Line":5},"fn_name":null},{"line":25,"address":[4101792],"length":1,"stats":{"Line":0},"fn_name":null},{"line":29,"address":[4102068,4102382],"length":1,"stats":{"Line":1},"fn_name":null},{"line":31,"address":[2256060,2256120,2256015,2256400],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":9,"coverable":10},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","hash_map.rs"],"content":"use std::collections::HashMap;\n\nuse ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new\u003cT\u003e(args: HashMap\u003cT, Command\u003e) -\u003e Command\nwhere\n    T: Into\u003cString\u003e,\n{\n    args.into_iter()\n        .flat_map(|(key, value)| [Command::from_json(key.into()), value])\n        .fold(Command::new(TermType::Object), |command, arg| {\n            command.with_arg(arg)\n        })\n}\n","traces":[{"line":7,"address":[5126179,5126206,5125968],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":11,"address":[5125985,5126130],"length":1,"stats":{"Line":2},"fn_name":null},{"line":12,"address":[5126262,5126050,5126224],"length":1,"stats":{"Line":3},"fn_name":"{closure#0}\u003c\u0026str\u003e"},{"line":13,"address":[5126058,5126528],"length":1,"stats":{"Line":2},"fn_name":"{closure#1}\u003c\u0026str\u003e"},{"line":14,"address":[5126569],"length":1,"stats":{"Line":1},"fn_name":null}],"covered":5,"coverable":5},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","hours.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Hours)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_hours_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let hours = r.now().hours();\n        let hours1 = hours.clone().value();\n        let hours2: u8 = hours.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(hours1 == hours2);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2719424],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2719436],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[1537158,1537081,1537295,1537024,1537001,1537594,1536992],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":16,"address":[1537605,1537866,1537136,1537182,1537255,1537416],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[1537856,1538112],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[1538140,1538203],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[1538247,1538334,1537197,1539047,1539142],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[1539121,1539335],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[1539305],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":9,"coverable":9},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","http.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::arguments::Args;\nuse crate::Command;\n\npub(crate) fn new\u003cT\u003e(args: impl HttpArg\u003cT\u003e) -\u003e Command\nwhere\n    T: Serialize,\n{\n    let (arg, opts) = args.into_http_opts();\n    let mut command = Command::new(TermType::Http).with_arg(arg);\n\n    if let Some(opts) = opts {\n        command = command.with_opts(opts);\n    }\n\n    command\n}\n\npub trait HttpArg\u003cT: Serialize\u003e {\n    fn into_http_opts(self) -\u003e (Command, Option\u003cT\u003e);\n}\n\nimpl\u003cT\u003e HttpArg\u003cT\u003e for T\nwhere\n    T: Into\u003cString\u003e + Serialize,\n{\n    fn into_http_opts(self) -\u003e (Command, Option\u003cT\u003e) {\n        (Command::from_json(self.into()), None)\n    }\n}\n\nimpl\u003cS, T\u003e HttpArg\u003cT\u003e for Args\u003c(S, T)\u003e\nwhere\n    S: Into\u003cString\u003e,\n    T: Serialize,\n{\n    fn into_http_opts(self) -\u003e (Command, Option\u003cT\u003e) {\n        (Command::from_json(self.0 .0.into()), Some(self.0 .1))\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use serde_json::json;\n\n    use crate::{args, r, Result};\n\n    #[tokio::test]\n    async fn test_http_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response = r.http(\"http://httpbin.org/get\").run(\u0026conn).await?;\n\n        assert!(response.is_some());\n\n        Ok(())\n    }\n\n    #[tokio::test]\n    async fn test_http_ops_with_params() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response = r\n            .http(args!(\n                \"http://httpbin.org/get\",\n                json!({\n                    \"params\": {\n                        \"user\": 1\n                    }\n                })\n            ))\n            .run(\u0026conn)\n            .await?;\n\n        assert!(response.is_some());\n\n        Ok(())\n    }\n}\n","traces":[{"line":7,"address":[2220896,2220778,2220869,2220176,2221501,2221474],"length":1,"stats":{"Line":2},"fn_name":"new\u003cserde_json::value::Value, reql_rust::arguments::Args\u003c(\u0026str, serde_json::value::Value)\u003e\u003e"},{"line":11,"address":[2220929,2220193],"length":1,"stats":{"Line":2},"fn_name":null},{"line":12,"address":[],"length":0,"stats":{"Line":4},"fn_name":null},{"line":14,"address":[2221407,2220485,2221191,2220735],"length":1,"stats":{"Line":3},"fn_name":null},{"line":15,"address":[],"length":0,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[],"length":0,"stats":{"Line":2},"fn_name":null},{"line":29,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":30,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":39,"address":[1818352,1818680],"length":1,"stats":{"Line":1},"fn_name":"into_http_opts\u003c\u0026str, serde_json::value::Value\u003e"},{"line":40,"address":[],"length":0,"stats":{"Line":2},"fn_name":null},{"line":51,"address":[1553183,1552592,1552624,1552749,1552601,1552681,1552884],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":52,"address":[1552739,1553005,1552844,1553467,1552773,1553194],"length":1,"stats":{"Line":4},"fn_name":null},{"line":53,"address":[1554208,1552788,1553437,1553709],"length":1,"stats":{"Line":3},"fn_name":null},{"line":55,"address":[1554465,1554194,1554428],"length":1,"stats":{"Line":2},"fn_name":null},{"line":57,"address":[1554434],"length":1,"stats":{"Line":5},"fn_name":null},{"line":61,"address":[1554537,1554617,1554560,1554528,1555135,1554836,1554701],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":62,"address":[1554725,1555146,1554796,1554667,1555407,1554957],"length":1,"stats":{"Line":4},"fn_name":null},{"line":63,"address":[1556492,1556891,1556524,1556706,1557099,1556635],"length":1,"stats":{"Line":5},"fn_name":null},{"line":64,"address":[1556369],"length":1,"stats":{"Line":1},"fn_name":null},{"line":66,"address":[1555834,1555397,1555644,1556041,1555710],"length":1,"stats":{"Line":4},"fn_name":null},{"line":72,"address":[1556504,1556547,1556665,1556834,1554740],"length":1,"stats":{"Line":5},"fn_name":null},{"line":73,"address":[1557129,1557003],"length":1,"stats":{"Line":0},"fn_name":null},{"line":75,"address":[1556989,1557260,1557223],"length":1,"stats":{"Line":2},"fn_name":null},{"line":77,"address":[1557229],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":23,"coverable":24},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","in_timezone.rs"],"content":"use ql2::term::TermType;\nuse time::UtcOffset;\n\nuse crate::types::timezone_to_string;\nuse crate::Command;\n\npub(crate) fn new(timezone: UtcOffset) -\u003e Command {\n    Command::new(TermType::InTimezone).with_arg(Command::from_json(timezone_to_string(timezone)))\n}\n\n#[cfg(test)]\nmod tests {\n    use time::macros::offset;\n\n    use crate::prelude::Converter;\n    use crate::types::Time;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_in_timezone_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let date_time = r.now().in_timezone(offset!(-08:00));\n        let time1 = date_time.clone().value();\n        let time2: Time = date_time.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(time1.is_valid());\n        assert!(time2.is_valid());\n\n        Ok(())\n    }\n}\n","traces":[{"line":7,"address":[4481692,4481424,4481719],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":8,"address":[4481712,4481477],"length":1,"stats":{"Line":1},"fn_name":null},{"line":20,"address":[4183158,4183295,4183081,4183024,4183001,4183594,4182992],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":21,"address":[4183255,4183605,4183136,4183866,4183182,4183416],"length":1,"stats":{"Line":4},"fn_name":null},{"line":23,"address":[4183856,4184112],"length":1,"stats":{"Line":2},"fn_name":null},{"line":24,"address":[4184189,4184255],"length":1,"stats":{"Line":2},"fn_name":null},{"line":25,"address":[4183197,4184282,4184369,4185252,4185081],"length":1,"stats":{"Line":4},"fn_name":null},{"line":27,"address":[4185521,4185231,4185496],"length":1,"stats":{"Line":2},"fn_name":null},{"line":28,"address":[4185590,4185510,4185557],"length":1,"stats":{"Line":2},"fn_name":null},{"line":30,"address":[4185563],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":10,"coverable":10},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","includes.rs"],"content":"use ql2::term::TermType;\n\nuse crate::{prelude::Geometry, Command};\n\nuse super::CmdOpts;\n\npub(crate) fn new(geometry: impl IncludesArg) -\u003e Command {\n    geometry\n        .into_includes_opts()\n        .add_to_cmd(Command::new(TermType::Includes))\n}\n\npub trait IncludesArg {\n    fn into_includes_opts(self) -\u003e CmdOpts;\n}\n\nimpl\u003cT: Geometry\u003e IncludesArg for T {\n    fn into_includes_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(self.into())\n    }\n}\n\nimpl IncludesArg for Command {\n    fn into_includes_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(self)\n    }\n}\n\nimpl\u003cT: Geometry\u003e IncludesArg for Vec\u003cT\u003e {\n    fn into_includes_opts(self) -\u003e CmdOpts {\n        CmdOpts::Many(self.into_iter().map(|geo| geo.cmd()).collect())\n    }\n}\n\nimpl IncludesArg for Vec\u003cCommand\u003e {\n    fn into_includes_opts(self) -\u003e CmdOpts {\n        CmdOpts::Many(self)\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{args, r, Result};\n\n    #[tokio::test]\n    async fn test_includes_geo() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let point1 = r.point(-117.220406, 32.719464);\n        let point2 = r.point(-117.206201, 32.725186);\n\n        let response: bool = r\n            .circle(args!(point1, 2000.))\n            .includes(point2)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response);\n\n        Ok(())\n    }\n}\n","traces":[{"line":7,"address":[4533453,4533480,4533248],"length":1,"stats":{"Line":1},"fn_name":"new\u003creql_rust::cmd::point::Point\u003e"},{"line":8,"address":[4533404,4533264],"length":1,"stats":{"Line":2},"fn_name":null},{"line":10,"address":[4533473,4533333,4533437],"length":1,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[1646704],"length":1,"stats":{"Line":1},"fn_name":"into_includes_opts\u003creql_rust::cmd::point::Point\u003e"},{"line":19,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[2174336],"length":1,"stats":{"Line":0},"fn_name":"into_includes_opts"},{"line":25,"address":[2174352],"length":1,"stats":{"Line":0},"fn_name":null},{"line":30,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":31,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":36,"address":[4439120],"length":1,"stats":{"Line":0},"fn_name":"into_includes_opts"},{"line":37,"address":[4439127],"length":1,"stats":{"Line":0},"fn_name":null},{"line":47,"address":[4793776,4793815,4794181,4794229],"length":1,"stats":{"Line":6},"fn_name":"test_includes_geo"},{"line":48,"address":[2668245,2668666,2668943,2668477,2668211,2668316],"length":1,"stats":{"Line":4},"fn_name":null},{"line":49,"address":[2668933],"length":1,"stats":{"Line":1},"fn_name":null},{"line":50,"address":[2669204],"length":1,"stats":{"Line":1},"fn_name":null},{"line":52,"address":[2670049,2669645,2670333,2669574,2669341,2669431,2669463,2669830,2670143,2670106],"length":1,"stats":{"Line":7},"fn_name":null},{"line":53,"address":[2669211],"length":1,"stats":{"Line":1},"fn_name":null},{"line":54,"address":[2669375],"length":1,"stats":{"Line":1},"fn_name":null},{"line":55,"address":[2669443,2668260,2669486,2669773,2669604],"length":1,"stats":{"Line":5},"fn_name":null},{"line":56,"address":[2669953],"length":1,"stats":{"Line":0},"fn_name":null},{"line":60,"address":[2670426,2670222],"length":1,"stats":{"Line":1},"fn_name":null},{"line":62,"address":[2670400],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":15,"coverable":22},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","index_create.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::prelude::Func;\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl IndexCreateArg) -\u003e Command {\n    let (args, func, opts) = args.into_table_create_opts();\n\n    let mut command = args\n        .add_to_cmd(Command::new(TermType::IndexCreate))\n        .with_opts(opts);\n\n    if let Some(Func(func)) = func {\n        command = command.with_arg(func);\n    }\n\n    command\n}\n\npub trait IndexCreateArg {\n    fn into_table_create_opts(self) -\u003e (CmdOpts, Option\u003cFunc\u003e, IndexCreateOption);\n}\n\nimpl IndexCreateArg for \u0026str {\n    fn into_table_create_opts(self) -\u003e (CmdOpts, Option\u003cFunc\u003e, IndexCreateOption) {\n        let arg = Command::from_json(self);\n\n        (CmdOpts::Single(arg), None, Default::default())\n    }\n}\n\nimpl IndexCreateArg for (\u0026str, Func) {\n    fn into_table_create_opts(self) -\u003e (CmdOpts, Option\u003cFunc\u003e, IndexCreateOption) {\n        let arg = Command::from_json(self.0);\n\n        (CmdOpts::Single(arg), Some(self.1), Default::default())\n    }\n}\n\nimpl IndexCreateArg for (\u0026str, IndexCreateOption) {\n    fn into_table_create_opts(self) -\u003e (CmdOpts, Option\u003cFunc\u003e, IndexCreateOption) {\n        let arg = Command::from_json(self.0);\n\n        (CmdOpts::Single(arg), None, self.1)\n    }\n}\n\nimpl IndexCreateArg for (\u0026str, Func, IndexCreateOption) {\n    fn into_table_create_opts(self) -\u003e (CmdOpts, Option\u003cFunc\u003e, IndexCreateOption) {\n        let arg = Command::from_json(self.0);\n\n        (CmdOpts::Single(arg), Some(self.1), self.2)\n    }\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct IndexCreateOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub multi: Option\u003cbool\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub geo: Option\u003cbool\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use uuid::Uuid;\n\n    use crate::prelude::*;\n    use crate::types::IndexResponse;\n    use crate::{r, Command, Result, Session};\n\n    use super::IndexCreateOption;\n\n    #[tokio::test]\n    async fn test_create_index() -\u003e Result\u003c()\u003e {\n        let table_name = Uuid::new_v4().to_string();\n        let conn = r.connection().connect().await?;\n        let index_created = r.table(table_name.as_str()).index_create(\"author\");\n\n        setup(\u0026table_name, index_created, \u0026conn).await\n    }\n\n    #[tokio::test]\n    async fn test_create_index_with_options() -\u003e Result\u003c()\u003e {\n        let table_name = Uuid::new_v4().to_string();\n        let conn = r.connection().connect().await?;\n        let index_option = IndexCreateOption::default().multi(true);\n        let index_created = r\n            .table(table_name.as_str())\n            .index_create((\"author\", index_option));\n\n        setup(\u0026table_name, index_created, \u0026conn).await\n    }\n\n    /* #[tokio::test]\n    async fn test_create_index_with_func() -\u003e Result\u003c()\u003e {\n        let table_name = Uuid::new_v4().to_string();\n        let conn = r.connection().connect().await?;\n        let index_created = r\n            .table(table_name.as_str())\n            .index_create((\"author\", func!(|row| row.bracket(\"author\").bracket(\"name\"))));\n\n        setup(\u0026table_name, index_created, \u0026conn).await\n    }\n\n    #[tokio::test]\n    async fn test_create_index_with_func_and_options() -\u003e Result\u003c()\u003e {\n        let table_name = Uuid::new_v4().to_string();\n        let conn = r.connection().connect().await?;\n        let index_option = IndexCreateOption::default().multi(true);\n        let index_created = r.table(table_name.as_str()).index_create((\n            \"author\",\n            func!(|row| row.bracket(\"author\").bracket(\"name\")),\n            index_option,\n        ));\n\n        setup(\u0026table_name, index_created, \u0026conn).await\n    } */\n\n    async fn setup(table_name: \u0026str, index_created: Command, conn: \u0026Session) -\u003e Result\u003c()\u003e {\n        r.table_create(table_name).run(conn).await?;\n\n        let index_created: IndexResponse = index_created.run(conn).await?.unwrap().parse()?;\n\n        assert!(index_created.created \u003e Some(0));\n\n        r.table_drop(table_name).run(conn).await?;\n        Ok(())\n    }\n}\n","traces":[{"line":10,"address":[4458320,4460090,4459232,4459680,4458795,4459203],"length":1,"stats":{"Line":2},"fn_name":"new\u003c(\u0026str, reql_rust::cmd::index_create::IndexCreateOption)\u003e"},{"line":11,"address":[4458337,4459265],"length":1,"stats":{"Line":2},"fn_name":null},{"line":13,"address":[4458654,4458709,4459442,4459539,4459594,4458557],"length":1,"stats":{"Line":6},"fn_name":null},{"line":14,"address":[4458788,4458701,4459468,4459586,4459673,4458583],"length":1,"stats":{"Line":4},"fn_name":null},{"line":17,"address":[4458828,4459975,4459088,4459713],"length":1,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[4458948,4459949,4459834,4459062],"length":1,"stats":{"Line":0},"fn_name":null},{"line":21,"address":[4459009,4459896],"length":1,"stats":{"Line":2},"fn_name":null},{"line":29,"address":[4574997,4574720,4575023],"length":1,"stats":{"Line":1},"fn_name":"into_table_create_opts"},{"line":30,"address":[4574753],"length":1,"stats":{"Line":1},"fn_name":null},{"line":32,"address":[4575016,4574802],"length":1,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[7019136,7019526,7019555],"length":1,"stats":{"Line":0},"fn_name":"into_table_create_opts"},{"line":38,"address":[7019161],"length":1,"stats":{"Line":0},"fn_name":null},{"line":40,"address":[7019545,7019276],"length":1,"stats":{"Line":0},"fn_name":null},{"line":45,"address":[4575040],"length":1,"stats":{"Line":1},"fn_name":"into_table_create_opts"},{"line":46,"address":[4575065],"length":1,"stats":{"Line":1},"fn_name":null},{"line":48,"address":[4575082],"length":1,"stats":{"Line":1},"fn_name":null},{"line":53,"address":[7019600,7019917],"length":1,"stats":{"Line":0},"fn_name":"into_table_create_opts"},{"line":54,"address":[7019625],"length":1,"stats":{"Line":0},"fn_name":null},{"line":56,"address":[7019681],"length":1,"stats":{"Line":0},"fn_name":null},{"line":79,"address":[6643735,6643696,6644101,6644149],"length":1,"stats":{"Line":6},"fn_name":"test_create_index"},{"line":80,"address":[2568134,2568404],"length":1,"stats":{"Line":2},"fn_name":null},{"line":81,"address":[6767585],"length":1,"stats":{"Line":4},"fn_name":null},{"line":82,"address":[2568913,2569203],"length":1,"stats":{"Line":2},"fn_name":null},{"line":84,"address":[2569654,2569467,2569337,2568192,2569530,2569250],"length":1,"stats":{"Line":8},"fn_name":null},{"line":88,"address":[2570081,2569936,2569913,2570005,2570237,2570634,2569904],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":89,"address":[2570362,2570059],"length":1,"stats":{"Line":2},"fn_name":null},{"line":90,"address":[2570194,2570645,2570928,2570441,2570377,2570111],"length":1,"stats":{"Line":4},"fn_name":null},{"line":91,"address":[2571209,2570904],"length":1,"stats":{"Line":2},"fn_name":null},{"line":92,"address":[2571342,2571428],"length":1,"stats":{"Line":2},"fn_name":null},{"line":93,"address":[2571295],"length":1,"stats":{"Line":1},"fn_name":null},{"line":94,"address":[2571363],"length":1,"stats":{"Line":1},"fn_name":null},{"line":96,"address":[2571892,2570129,2571690,2571539,2571443,2571762],"length":1,"stats":{"Line":8},"fn_name":null},{"line":124,"address":[2564656,2567958,2564699,2564866,2567809,2565841,2565942,2565362,2565066],"length":1,"stats":{"Line":5},"fn_name":"{async_fn#0}"},{"line":125,"address":[2565026,2564834,2565373,2565158,2564893],"length":1,"stats":{"Line":4},"fn_name":null},{"line":127,"address":[2566656,2566000,2564908,2565864,2566837,2564981],"length":1,"stats":{"Line":5},"fn_name":null},{"line":129,"address":[2567064,2566816,2567024],"length":1,"stats":{"Line":2},"fn_name":null},{"line":131,"address":[2567128,2564923,2567035],"length":1,"stats":{"Line":3},"fn_name":null},{"line":132,"address":[2567946],"length":1,"stats":{"Line":1},"fn_name":null}],"covered":31,"coverable":38},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","index_drop.rs"],"content":"use crate::Command;\nuse ql2::term::TermType;\n\npub(crate) fn new(index_name: \u0026str) -\u003e Command {\n    let args = Command::from_json(index_name);\n\n    Command::new(TermType::IndexDrop).with_arg(args)\n}\n\n#[cfg(test)]\nmod tests {\n    use uuid::Uuid;\n\n    use crate::prelude::*;\n    use crate::types::IndexResponse;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_drop_db() -\u003e Result\u003c()\u003e {\n        let table_name = Uuid::new_v4().to_string();\n        let index_name = \"author\";\n        let conn = r.connection().connect().await?;\n        let table = r.table(table_name.as_str());\n\n        r.table_create(table_name.as_str()).run(\u0026conn).await?;\n        table.clone().index_create(index_name).run(\u0026conn).await?;\n\n        let index_dropped: IndexResponse = table\n            .index_drop(index_name)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(index_dropped.dropped \u003e Some(0));\n\n        r.table_drop(table_name.as_str()).run(\u0026conn).await?;\n        Ok(())\n    }\n}\n","traces":[{"line":4,"address":[2231504,2231729,2231760],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":5,"address":[2231537],"length":1,"stats":{"Line":1},"fn_name":null},{"line":7,"address":[2231564,2231639],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[4110448,4110643,4111450,4110457,4110549,4111017,4110480],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":20,"address":[4110614,4111145],"length":1,"stats":{"Line":2},"fn_name":null},{"line":21,"address":[4111160],"length":1,"stats":{"Line":1},"fn_name":null},{"line":22,"address":[4111461,4110673,4111187,4110974,4111254,4111752],"length":1,"stats":{"Line":4},"fn_name":null},{"line":23,"address":[4112004,4111726],"length":1,"stats":{"Line":2},"fn_name":null},{"line":25,"address":[6886708,6886765],"length":1,"stats":{"Line":4},"fn_name":null},{"line":26,"address":[4110872,4110715,4112841,4112918],"length":1,"stats":{"Line":4},"fn_name":null},{"line":28,"address":[4114405,4113985,4113908,4114462,4114485,4113656,4113723,4114762,4113785,4114186],"length":1,"stats":{"Line":7},"fn_name":null},{"line":29,"address":[4113707],"length":1,"stats":{"Line":1},"fn_name":null},{"line":30,"address":[4110821,4113765,4110736,4114113,4113808,4113941],"length":1,"stats":{"Line":6},"fn_name":null},{"line":31,"address":[4114309],"length":1,"stats":{"Line":0},"fn_name":null},{"line":35,"address":[4114884,4114853,4114645],"length":1,"stats":{"Line":2},"fn_name":null},{"line":37,"address":[4110754,4114961,4114867],"length":1,"stats":{"Line":3},"fn_name":null},{"line":38,"address":[4115777],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":16,"coverable":17},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","index_list.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::IndexList)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::*;\n    use crate::spec::{set_up, tear_down};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_list_index() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(false).await?;\n        table.clone().index_create(\"author\").run(\u0026conn).await?;\n        let index_list: Vec\u003cString\u003e = table\n            .clone()\n            .index_list()\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(index_list.len() \u003e 0);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":5,"address":[2719472],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2719484],"length":1,"stats":{"Line":1},"fn_name":null},{"line":16,"address":[2256519,2256480,2256885,2256933],"length":1,"stats":{"Line":6},"fn_name":"test_list_index"},{"line":17,"address":[6999016,6999245,6999597,7000003,6999416,6998958],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[6756042,6755988],"length":1,"stats":{"Line":4},"fn_name":null},{"line":19,"address":[7001251,7001097,7001334,7001834,7002078,7001754,7001535,7001009,7001811],"length":1,"stats":{"Line":6},"fn_name":null},{"line":22,"address":[6755865],"length":1,"stats":{"Line":5},"fn_name":null},{"line":23,"address":[7001658],"length":1,"stats":{"Line":0},"fn_name":null},{"line":27,"address":[7002378,7001963,7002314],"length":1,"stats":{"Line":2},"fn_name":null},{"line":29,"address":[2256556,2256511,2256616,2256896],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":9,"coverable":10},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","index_rename.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl IndexRenameArg) -\u003e Command {\n    let (old_index_arg, new_index_arg, opts) = args.into_index_rename_opts();\n    let arg_1: Option\u003cCommand\u003e = old_index_arg.into();\n    let arg_2: Option\u003cCommand\u003e = new_index_arg.into();\n\n    Command::new(TermType::IndexRename)\n        .with_arg(arg_1.unwrap())\n        .with_arg(arg_2.unwrap())\n        .with_opts(opts)\n}\n\npub trait IndexRenameArg {\n    fn into_index_rename_opts(self) -\u003e (CmdOpts, CmdOpts, IndexRenameOption);\n}\n\nimpl IndexRenameArg for (\u0026str, \u0026str) {\n    fn into_index_rename_opts(self) -\u003e (CmdOpts, CmdOpts, IndexRenameOption) {\n        let old_arg = Command::from_json(self.0);\n        let new_arg = Command::from_json(self.1);\n\n        (\n            CmdOpts::Single(old_arg),\n            CmdOpts::Single(new_arg),\n            Default::default(),\n        )\n    }\n}\n\nimpl IndexRenameArg for (\u0026str, \u0026str, IndexRenameOption) {\n    fn into_index_rename_opts(self) -\u003e (CmdOpts, CmdOpts, IndexRenameOption) {\n        let old_arg = Command::from_json(self.0);\n        let new_arg = Command::from_json(self.1);\n\n        (CmdOpts::Single(old_arg), CmdOpts::Single(new_arg), self.2)\n    }\n}\n\n#[derive(Debug, Default, Clone, PartialEq, Serialize, CommandOptions)]\n#[non_exhaustive]\npub struct IndexRenameOption {\n    pub overwrite: Option\u003cbool\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::*;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::IndexResponse;\n    use crate::Result;\n\n    use super::IndexRenameOption;\n\n    #[tokio::test]\n    async fn test_rename_index() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(false).await?;\n        table.clone().index_create(\"author\").run(\u0026conn).await?;\n        let index_renamed: IndexResponse = table\n            .clone()\n            .index_rename((\"author\", \"author_name\"))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(index_renamed.renamed \u003e Some(0));\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_rename_index_with_overwrite() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(false).await?;\n        table.clone().index_create(\"author\").run(\u0026conn).await?;\n        table.clone().index_create(\"author_name\").run(\u0026conn).await?;\n\n        let index_renamed: IndexResponse = table\n            .clone()\n            .index_rename((\n                \"author\",\n                \"author_name\",\n                IndexRenameOption::default().overwrite(true),\n            ))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(index_renamed.renamed \u003e Some(0));\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":9,"address":[1636016,1637088,1638091,1637843,1636802,1637050],"length":1,"stats":{"Line":2},"fn_name":"new\u003c(\u0026str, \u0026str)\u003e"},{"line":10,"address":[1636033,1637105],"length":1,"stats":{"Line":2},"fn_name":null},{"line":11,"address":[1637395,1636268,1636352,1637311],"length":1,"stats":{"Line":4},"fn_name":null},{"line":12,"address":[1636461,1637504,1637403,1636360],"length":1,"stats":{"Line":4},"fn_name":null},{"line":14,"address":[1637583,1637891,1637947,1636850,1636906,1636540,1636659,1636469,1637702,1637512],"length":1,"stats":{"Line":10},"fn_name":null},{"line":15,"address":[1637741,1637833,1636792,1637591,1636698,1636548],"length":1,"stats":{"Line":4},"fn_name":null},{"line":16,"address":[1637973,1637757,1637939,1636714,1636898,1637854,1636813,1636932],"length":1,"stats":{"Line":4},"fn_name":null},{"line":25,"address":[2673248,2673696,2673667],"length":1,"stats":{"Line":1},"fn_name":"into_index_rename_opts"},{"line":26,"address":[2673273],"length":1,"stats":{"Line":1},"fn_name":null},{"line":27,"address":[2673311],"length":1,"stats":{"Line":1},"fn_name":null},{"line":30,"address":[2673375],"length":1,"stats":{"Line":1},"fn_name":null},{"line":31,"address":[2673491],"length":1,"stats":{"Line":1},"fn_name":null},{"line":32,"address":[2673530],"length":1,"stats":{"Line":1},"fn_name":null},{"line":38,"address":[2673728,2674061],"length":1,"stats":{"Line":1},"fn_name":"into_index_rename_opts"},{"line":39,"address":[2673753],"length":1,"stats":{"Line":1},"fn_name":null},{"line":40,"address":[2673775],"length":1,"stats":{"Line":1},"fn_name":null},{"line":42,"address":[2673835],"length":1,"stats":{"Line":1},"fn_name":null},{"line":62,"address":[2580501,2580048,2580453,2580087],"length":1,"stats":{"Line":6},"fn_name":"test_rename_index"},{"line":63,"address":[4168232,4168632,4168813,4169219,4168461,4168174],"length":1,"stats":{"Line":4},"fn_name":null},{"line":64,"address":[4168410,4168253,4169209,4169455],"length":1,"stats":{"Line":4},"fn_name":null},{"line":65,"address":[4171112,4170529,4170225,4171089,4171032,4170375,4170612,4171389,4170813],"length":1,"stats":{"Line":6},"fn_name":null},{"line":67,"address":[4170297],"length":1,"stats":{"Line":1},"fn_name":null},{"line":68,"address":[6768005],"length":1,"stats":{"Line":5},"fn_name":null},{"line":69,"address":[4170936],"length":1,"stats":{"Line":0},"fn_name":null},{"line":73,"address":[4171272,4171655,4171598],"length":1,"stats":{"Line":2},"fn_name":null},{"line":75,"address":[6767817],"length":1,"stats":{"Line":7},"fn_name":null},{"line":79,"address":[2580544,2580997,2580583,2580949],"length":1,"stats":{"Line":6},"fn_name":"test_rename_index_with_overwrite"},{"line":80,"address":[4173064,4173245,4172893,4172526,4173651,4172592],"length":1,"stats":{"Line":4},"fn_name":null},{"line":81,"address":[6793713,6793656],"length":1,"stats":{"Line":4},"fn_name":null},{"line":82,"address":[4174657,4172634,4174729,4172791],"length":1,"stats":{"Line":4},"fn_name":null},{"line":84,"address":[4176456,4176756,4175979,4175666,4176180,4176399,4175902,4175737,4175467,4176479],"length":1,"stats":{"Line":7},"fn_name":null},{"line":86,"address":[4175605],"length":1,"stats":{"Line":1},"fn_name":null},{"line":89,"address":[4175582,4175529],"length":1,"stats":{"Line":2},"fn_name":null},{"line":91,"address":[4172740,4172655,4175805,4175935,4176107],"length":1,"stats":{"Line":5},"fn_name":null},{"line":92,"address":[4176303],"length":1,"stats":{"Line":0},"fn_name":null},{"line":96,"address":[4176639,4176965,4177022],"length":1,"stats":{"Line":2},"fn_name":null},{"line":98,"address":[2580680,2580620,2580575,2580960],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":35,"coverable":37},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","index_status.rs"],"content":"use crate::Command;\nuse ql2::term::TermType;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl IndexStatusArg) -\u003e Command {\n    let mut command = Command::new(TermType::IndexStatus);\n    let args = args.into_index_status_opts();\n\n    if let Some(args) = args {\n        command = args.add_to_cmd(command)\n    }\n\n    command\n}\n\npub trait IndexStatusArg {\n    fn into_index_status_opts(self) -\u003e Option\u003cCmdOpts\u003e;\n}\n\nimpl IndexStatusArg for () {\n    fn into_index_status_opts(self) -\u003e Option\u003cCmdOpts\u003e {\n        None\n    }\n}\n\nimpl IndexStatusArg for \u0026str {\n    fn into_index_status_opts(self) -\u003e Option\u003cCmdOpts\u003e {\n        let arg = Command::from_json(self);\n\n        Some(CmdOpts::Single(arg))\n    }\n}\n\nimpl IndexStatusArg for Vec\u003c\u0026str\u003e {\n    fn into_index_status_opts(self) -\u003e Option\u003cCmdOpts\u003e {\n        let args = self.into_iter().map(Command::from_json).collect();\n\n        Some(CmdOpts::Many(args))\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::spec::{set_up, tear_down};\n    use crate::types::IndexStatusResponse;\n    use crate::Result;\n    use crate::{prelude::*, Command, Session};\n\n    #[tokio::test]\n    async fn test_get_index_status() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(false).await?;\n        generate_index(\u0026conn, \u0026table).await?;\n\n        let index_status: Vec\u003cIndexStatusResponse\u003e = table\n            .clone()\n            .index_status(())\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(index_status.len() == 3);\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_get_index_status_with_param() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(false).await?;\n        generate_index(\u0026conn, \u0026table).await?;\n\n        let index_status: Vec\u003cIndexStatusResponse\u003e = table\n            .clone()\n            .index_status(\"author\")\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(index_status.len() == 1);\n        assert!(index_status.first().unwrap().index == \"author\");\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_get_index_status_with_params() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(false).await?;\n        generate_index(\u0026conn, \u0026table).await?;\n\n        let index_status: Vec\u003cIndexStatusResponse\u003e = table\n            .clone()\n            .index_status(vec![\"age\", \"name\"])\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(index_status.len() == 2);\n        assert!(index_status.first().unwrap().index == \"age\");\n        assert!(index_status.last().unwrap().index == \"name\");\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    async fn generate_index(conn: \u0026Session, table: \u0026Command) -\u003e Result\u003c()\u003e {\n        table.clone().index_create(\"author\").run(conn).await?;\n        table.clone().index_create(\"name\").run(conn).await?;\n        table.clone().index_create(\"age\").run(conn).await?;\n\n        Ok(())\n    }\n}\n","traces":[{"line":6,"address":[7011427,7010816,7011472,7012042,7010176,7010784],"length":1,"stats":{"Line":3},"fn_name":"new\u003c\u0026str\u003e"},{"line":7,"address":[7010219,7011592,7010838,7010332,7010946,7011489],"length":1,"stats":{"Line":6},"fn_name":null},{"line":8,"address":[7011046,7010401,7010954,7011661,7010340,7011600],"length":1,"stats":{"Line":6},"fn_name":null},{"line":10,"address":[7011054,7011669,7010409,7011356,7011971,7010713],"length":1,"stats":{"Line":5},"fn_name":null},{"line":11,"address":[7011325,7011785,7011940,7011170,7010682,7010527],"length":1,"stats":{"Line":4},"fn_name":null},{"line":14,"address":[7010597,7011240,7011855],"length":1,"stats":{"Line":3},"fn_name":null},{"line":22,"address":[2578240],"length":1,"stats":{"Line":1},"fn_name":"into_index_status_opts"},{"line":23,"address":[2578244],"length":1,"stats":{"Line":1},"fn_name":null},{"line":28,"address":[2578256],"length":1,"stats":{"Line":1},"fn_name":"into_index_status_opts"},{"line":29,"address":[2578289],"length":1,"stats":{"Line":1},"fn_name":null},{"line":31,"address":[2578299],"length":1,"stats":{"Line":1},"fn_name":null},{"line":36,"address":[4439200],"length":1,"stats":{"Line":1},"fn_name":"into_index_status_opts"},{"line":37,"address":[4439216],"length":1,"stats":{"Line":1},"fn_name":null},{"line":39,"address":[4439292],"length":1,"stats":{"Line":1},"fn_name":null},{"line":51,"address":[2053344,2053797,2053383,2053749],"length":1,"stats":{"Line":6},"fn_name":"test_get_index_status"},{"line":52,"address":[2754008,2754595,2753550,2753608,2753837,2754189],"length":1,"stats":{"Line":4},"fn_name":null},{"line":53,"address":[2753629,2754871,2755283,2753786,2754585],"length":1,"stats":{"Line":4},"fn_name":null},{"line":55,"address":[2756224,2756247,2755664,2756487,2756167,2755510,2755747,2755948,2755261],"length":1,"stats":{"Line":6},"fn_name":null},{"line":58,"address":[2755564,2755703,2755875,2753650,2753735],"length":1,"stats":{"Line":5},"fn_name":null},{"line":59,"address":[2756071],"length":1,"stats":{"Line":0},"fn_name":null},{"line":63,"address":[2756376,2756719,2756783],"length":1,"stats":{"Line":2},"fn_name":null},{"line":65,"address":[2053375,2053420,2053760,2053480],"length":1,"stats":{"Line":7},"fn_name":null},{"line":69,"address":[2054293,2053879,2054245,2053840],"length":1,"stats":{"Line":6},"fn_name":"test_get_index_status_with_param"},{"line":70,"address":[2757742,2757800,2758787,2758029,2758200,2758381],"length":1,"stats":{"Line":4},"fn_name":null},{"line":71,"address":[2759475,2758777,2757821,2757978,2759063],"length":1,"stats":{"Line":4},"fn_name":null},{"line":73,"address":[2759453,2760428,2760152,2760691,2760451,2759951,2759686,2759868,2760371],"length":1,"stats":{"Line":6},"fn_name":null},{"line":76,"address":[2759907,2759768,2760079,2757842,2757927],"length":1,"stats":{"Line":5},"fn_name":null},{"line":77,"address":[2760275],"length":1,"stats":{"Line":0},"fn_name":null},{"line":81,"address":[2760580,2760923,2760968],"length":1,"stats":{"Line":2},"fn_name":null},{"line":82,"address":[2760944,2761010,2761134],"length":1,"stats":{"Line":2},"fn_name":null},{"line":84,"address":[2053916,2053871,2053976,2054256],"length":1,"stats":{"Line":7},"fn_name":null},{"line":88,"address":[2054375,2054336,2054789,2054741],"length":1,"stats":{"Line":6},"fn_name":"test_get_index_status_with_params"},{"line":89,"address":[2762160,2762741,2762094,2762560,2762389,2763147],"length":1,"stats":{"Line":4},"fn_name":null},{"line":90,"address":[2762338,2763137,2762181,2763423,2763835],"length":1,"stats":{"Line":4},"fn_name":null},{"line":92,"address":[2764969,2765289,2764228,2764472,2763813,2765049,2764299,2764750,2764549,2765026],"length":1,"stats":{"Line":7},"fn_name":null},{"line":94,"address":[2764324,2764275,2764019,2764194,2764306,2764072],"length":1,"stats":{"Line":2},"fn_name":null},{"line":95,"address":[2762202,2764677,2764372,2762287,2764505],"length":1,"stats":{"Line":5},"fn_name":null},{"line":96,"address":[2764873],"length":1,"stats":{"Line":0},"fn_name":null},{"line":100,"address":[2765521,2765566,2765178],"length":1,"stats":{"Line":2},"fn_name":null},{"line":101,"address":[2765713,2765608,2765542],"length":1,"stats":{"Line":2},"fn_name":null},{"line":102,"address":[2765756,2765880,2765689],"length":1,"stats":{"Line":2},"fn_name":null},{"line":104,"address":[2054752,2054412,2054472,2054367],"length":1,"stats":{"Line":7},"fn_name":null},{"line":107,"address":[2053264,2053294],"length":1,"stats":{"Line":5},"fn_name":"generate_index"},{"line":108,"address":[2751099,2750974,2751345,2750796,2750845],"length":1,"stats":{"Line":4},"fn_name":null},{"line":109,"address":[2751916,2751849,2750860,2750931],"length":1,"stats":{"Line":4},"fn_name":null},{"line":110,"address":[2750875,2752622,2752668],"length":1,"stats":{"Line":3},"fn_name":null},{"line":112,"address":[2753369],"length":1,"stats":{"Line":1},"fn_name":null}],"covered":44,"coverable":47},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","index_wait.rs"],"content":"use crate::Command;\nuse ql2::term::TermType;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl IndexWaitArg) -\u003e Command {\n    let mut command = Command::new(TermType::IndexWait);\n\n    if let Some(args) = args.into_index_wait_opts() {\n        command = args.add_to_cmd(command)\n    }\n\n    command\n}\n\npub trait IndexWaitArg {\n    fn into_index_wait_opts(self) -\u003e Option\u003cCmdOpts\u003e;\n}\n\nimpl IndexWaitArg for () {\n    fn into_index_wait_opts(self) -\u003e Option\u003cCmdOpts\u003e {\n        None\n    }\n}\n\nimpl IndexWaitArg for \u0026str {\n    fn into_index_wait_opts(self) -\u003e Option\u003cCmdOpts\u003e {\n        let arg = Command::from_json(self);\n\n        Some(CmdOpts::Single(arg))\n    }\n}\n\nimpl IndexWaitArg for Vec\u003c\u0026str\u003e {\n    fn into_index_wait_opts(self) -\u003e Option\u003cCmdOpts\u003e {\n        let args = self.into_iter().map(Command::from_json).collect();\n\n        Some(CmdOpts::Many(args))\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::spec::{set_up, tear_down};\n    use crate::types::IndexStatusResponse;\n    use crate::Result;\n    use crate::{prelude::*, Command, Session};\n\n    #[tokio::test]\n    async fn test_get_index_waited() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(false).await?;\n        generate_data(\u0026conn, \u0026table).await?;\n\n        let indexes_waited: Vec\u003cIndexStatusResponse\u003e = table\n            .clone()\n            .index_wait(())\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(indexes_waited.len() == 3);\n        indexes_waited\n            .iter()\n            .for_each(|index_waited| assert!(index_waited.ready));\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_get_index_status_with_param() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(false).await?;\n        generate_data(\u0026conn, \u0026table).await?;\n\n        let index_waited = table\n            .clone()\n            .index_wait(\"author\")\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse::\u003cVec\u003cIndexStatusResponse\u003e\u003e()?;\n\n        let index_waited = index_waited.first().unwrap();\n\n        assert!(index_waited.index == \"author\");\n        assert!(index_waited.ready);\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_get_index_status_with_params() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(false).await?;\n        generate_data(\u0026conn, \u0026table).await?;\n\n        let indexes_waited: Vec\u003cIndexStatusResponse\u003e = table\n            .clone()\n            .index_wait(vec![\"age\", \"name\"])\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(indexes_waited.len() == 2);\n        indexes_waited\n            .iter()\n            .for_each(|index_waited| assert!(index_waited.ready));\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    async fn generate_data(conn: \u0026Session, table: \u0026Command) -\u003e Result\u003c()\u003e {\n        table.clone().index_create(\"author\").run(conn).await?;\n        table.clone().index_create(\"name\").run(conn).await?;\n        table.clone().index_create(\"age\").run(conn).await?;\n        Ok(())\n    }\n}\n","traces":[{"line":6,"address":[2699120,2699683,2698496,2698465,2699066,2697936],"length":1,"stats":{"Line":3},"fn_name":"new\u003c()\u003e"},{"line":7,"address":[2697956,2698048,2698618,2699166,2698521,2699268],"length":1,"stats":{"Line":6},"fn_name":null},{"line":9,"address":[2698715,2699607,2698626,2699276,2698114,2698056,2698990,2699334,2698389],"length":1,"stats":{"Line":8},"fn_name":null},{"line":10,"address":[2699581,2699452,2698234,2698363,2698835,2698964],"length":1,"stats":{"Line":4},"fn_name":null},{"line":13,"address":[2699015,2699632,2698414],"length":1,"stats":{"Line":3},"fn_name":null},{"line":21,"address":[2578400],"length":1,"stats":{"Line":1},"fn_name":"into_index_wait_opts"},{"line":22,"address":[2578404],"length":1,"stats":{"Line":1},"fn_name":null},{"line":27,"address":[2578416],"length":1,"stats":{"Line":1},"fn_name":"into_index_wait_opts"},{"line":28,"address":[2578449],"length":1,"stats":{"Line":1},"fn_name":null},{"line":30,"address":[2578459],"length":1,"stats":{"Line":1},"fn_name":null},{"line":35,"address":[4439424],"length":1,"stats":{"Line":1},"fn_name":"into_index_wait_opts"},{"line":36,"address":[4439440],"length":1,"stats":{"Line":1},"fn_name":null},{"line":38,"address":[4439516],"length":1,"stats":{"Line":1},"fn_name":null},{"line":50,"address":[4326368,4326400,4326856,4326554,4327154,4326469,4326377],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":51,"address":[4326584,4326984,4327165,4327571,4326526,4326813],"length":1,"stats":{"Line":4},"fn_name":null},{"line":52,"address":[4326605,4327561,4326762,4327847,4328259],"length":1,"stats":{"Line":4},"fn_name":null},{"line":54,"address":[4329463,4328640,4329143,4328924,4328237,4328486,4329223,4329200,4328723],"length":1,"stats":{"Line":6},"fn_name":null},{"line":57,"address":[4328540,4328679,4328851,4326626,4326711],"length":1,"stats":{"Line":5},"fn_name":null},{"line":58,"address":[4329047],"length":1,"stats":{"Line":0},"fn_name":null},{"line":62,"address":[4329352,4329740,4329695],"length":1,"stats":{"Line":2},"fn_name":null},{"line":63,"address":[4329782,4329716],"length":1,"stats":{"Line":2},"fn_name":null},{"line":65,"address":[4330624,4330638],"length":1,"stats":{"Line":2},"fn_name":"{closure#0}"},{"line":67,"address":[4330272,4326644,4329824,4329991,4330050,4330136],"length":1,"stats":{"Line":7},"fn_name":null},{"line":71,"address":[4330697,4330688,4330789,4330720,4331474,4331176,4330874],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":72,"address":[4330904,4331133,4331304,4331485,4330846,4331891],"length":1,"stats":{"Line":4},"fn_name":null},{"line":73,"address":[4332579,4330925,4331082,4331881,4332167],"length":1,"stats":{"Line":4},"fn_name":null},{"line":75,"address":[4333800,4332972,4333475,4332557,4333532,4333055,4332790,4333256,4333555],"length":1,"stats":{"Line":6},"fn_name":null},{"line":78,"address":[4331031,4332872,4333011,4333183,4330946],"length":1,"stats":{"Line":5},"fn_name":null},{"line":79,"address":[4333379],"length":1,"stats":{"Line":0},"fn_name":null},{"line":83,"address":[4333684,4334037],"length":1,"stats":{"Line":2},"fn_name":null},{"line":85,"address":[4334134,4334086],"length":1,"stats":{"Line":1},"fn_name":null},{"line":86,"address":[4334123,4334217],"length":1,"stats":{"Line":1},"fn_name":null},{"line":88,"address":[4334371,4334430,4334516,4330964,4334652,4334247,4334174],"length":1,"stats":{"Line":7},"fn_name":null},{"line":92,"address":[4335040,4335109,4335008,4335202,4335504,4335802,4335017],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":93,"address":[4335813,4335232,4335461,4335166,4336219,4335632],"length":1,"stats":{"Line":4},"fn_name":null},{"line":94,"address":[4335410,4335253,4336495,4336209,4336907],"length":1,"stats":{"Line":4},"fn_name":null},{"line":96,"address":[4337621,4336885,4337371,4337544,4337822,4338361,4338098,4338121,4338041,4337300],"length":1,"stats":{"Line":7},"fn_name":null},{"line":98,"address":[4337378,4337396,4337091,4337347,4337144,4337266],"length":1,"stats":{"Line":2},"fn_name":null},{"line":99,"address":[4337577,4337444,4335274,4335359,4337749],"length":1,"stats":{"Line":5},"fn_name":null},{"line":100,"address":[4337945],"length":1,"stats":{"Line":0},"fn_name":null},{"line":104,"address":[4338593,4338250,4338638],"length":1,"stats":{"Line":2},"fn_name":null},{"line":105,"address":[4338680,4338614],"length":1,"stats":{"Line":2},"fn_name":null},{"line":107,"address":[4339534,4339520],"length":1,"stats":{"Line":2},"fn_name":"{closure#0}"},{"line":109,"address":[4339170,4335292,4338722,4338889,4338948,4339034],"length":1,"stats":{"Line":7},"fn_name":null},{"line":112,"address":[4323794,4323664,4323707,4326357,4323988,4324849,4324310],"length":1,"stats":{"Line":5},"fn_name":"{async_fn#0}"},{"line":113,"address":[4323950,4323821,4324075,4323772,4324321],"length":1,"stats":{"Line":4},"fn_name":null},{"line":114,"address":[4323836,4323907,4324825,4324892],"length":1,"stats":{"Line":4},"fn_name":null},{"line":115,"address":[4325598,4325644,4323851],"length":1,"stats":{"Line":3},"fn_name":null},{"line":116,"address":[4326345],"length":1,"stats":{"Line":1},"fn_name":null}],"covered":46,"coverable":49},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","info.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Info)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::{InfoResponse, TypeOf};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_info_table() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(false).await?;\n        let data_obtained: InfoResponse = table.info().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained.typ == TypeOf::Table);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":5,"address":[2719520],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2719532],"length":1,"stats":{"Line":1},"fn_name":null},{"line":17,"address":[2256976,2257381,2257429,2257015],"length":1,"stats":{"Line":6},"fn_name":"test_info_table"},{"line":18,"address":[2295459,2295676,2296022,2296454,2295521,2295844],"length":1,"stats":{"Line":4},"fn_name":null},{"line":19,"address":[2297579,2296711,2296406,2295542,2295627,2297420],"length":1,"stats":{"Line":5},"fn_name":null},{"line":21,"address":[2297872,2297551,2297926],"length":1,"stats":{"Line":2},"fn_name":null},{"line":23,"address":[2257007,2257052,2257112,2257392],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":7,"coverable":7},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","inner_join.rs"],"content":"use ql2::term::TermType;\n\nuse crate::prelude::Func;\nuse crate::Command;\n\npub(crate) fn new(other_table: Command, func: Func) -\u003e Command {\n    let Func(func) = func;\n\n    Command::new(TermType::InnerJoin)\n        .with_arg(other_table)\n        .with_arg(func)\n}\n\n// TODO write test\n","traces":[{"line":6,"address":[1551088,1551424],"length":1,"stats":{"Line":0},"fn_name":"new"},{"line":7,"address":[1551123],"length":1,"stats":{"Line":0},"fn_name":null},{"line":9,"address":[1551174,1551309,1551372],"length":1,"stats":{"Line":0},"fn_name":null},{"line":10,"address":[1551253],"length":1,"stats":{"Line":0},"fn_name":null},{"line":11,"address":[1551316],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":5},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","insert.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::arguments::{Args, Conflict, Durability, ReturnChanges};\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl InsertArg) -\u003e Command {\n    let (args, opts) = args.into_insert_opts();\n\n    args.add_to_cmd(Command::new(TermType::Insert))\n        .with_opts(opts)\n}\n\npub trait InsertArg {\n    fn into_insert_opts(self) -\u003e (CmdOpts, InsertOption);\n}\n\nimpl\u003cT\u003e InsertArg for T\nwhere\n    T: Serialize,\n{\n    fn into_insert_opts(self) -\u003e (CmdOpts, InsertOption) {\n        (\n            CmdOpts::Single(Command::from_json(self)),\n            Default::default(),\n        )\n    }\n}\n\nimpl\u003cT\u003e InsertArg for Args\u003c(T, InsertOption)\u003e\nwhere\n    T: Serialize,\n{\n    fn into_insert_opts(self) -\u003e (CmdOpts, InsertOption) {\n        (CmdOpts::Single(Command::from_json(self.0 .0)), self.0 .1)\n    }\n}\n\nimpl InsertArg for Command {\n    fn into_insert_opts(self) -\u003e (CmdOpts, InsertOption) {\n        (CmdOpts::Single(self), Default::default())\n    }\n}\n\nimpl InsertArg for Args\u003c(Command, InsertOption)\u003e {\n    fn into_insert_opts(self) -\u003e (CmdOpts, InsertOption) {\n        (CmdOpts::Single(self.0 .0), self.0 .1)\n    }\n}\n\n// TODO finish this struct\n#[derive(Debug, Clone, Copy, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\n#[non_exhaustive]\npub struct InsertOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub durability: Option\u003cDurability\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub return_changes: Option\u003cReturnChanges\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub conflict: Option\u003cConflict\u003e,\n    // #[serde(skip_serializing_if = \"Option::is_none\")]\n    // pub conflict_func: Command,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub ignore_write_hook: Option\u003cbool\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use uuid::Uuid;\n\n    use crate::arguments::ReturnChanges;\n    use crate::prelude::*;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::types::MutationResponse;\n    use crate::{args, r, Result};\n\n    use super::InsertOption;\n\n    #[tokio::test]\n    async fn test_insert_data() -\u003e Result\u003c()\u003e {\n        let data = Post::get_one_data();\n        let (conn, table, table_name) = set_up(false).await?;\n        let data_inserted: MutationResponse = table\n            .clone()\n            .insert(\u0026data)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_inserted.inserted == 1);\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_insert_many_data() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(false).await?;\n        let data_inserted: MutationResponse = table\n            .clone()\n            .insert(\u0026data)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_inserted.inserted == data.len());\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_insert_data_by_copy() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let table_name2 = Uuid::new_v4().to_string();\n        let (conn, table, table_name) = set_up(false).await?;\n\n        r.table_create(table_name2.as_str()).run(\u0026conn).await?;\n        table.clone().insert(\u0026data).run(\u0026conn).await?;\n\n        let data_inserted: MutationResponse = r\n            .table(table_name2.as_str())\n            .insert(table.clone())\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_inserted.inserted == data.len());\n\n        r.table_drop(table_name2.as_str()).run(\u0026conn).await?;\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_insert_data_with_opts() -\u003e Result\u003c()\u003e {\n        let data = Post::get_one_data();\n        let (conn, table, table_name) = set_up(false).await?;\n        let insert_options = InsertOption::default().return_changes(ReturnChanges::Bool(true));\n        let data_inserted: MutationResponse = table\n            .clone()\n            .insert(args!(\u0026data, insert_options))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!((\u0026data_inserted).inserted == 1);\n        let expected_data: Post = data_inserted\n            .changes\n            .unwrap()\n            .first()\n            .unwrap()\n            .clone()\n            .new_val\n            .unwrap()\n            .parse()?;\n        assert!(expected_data == data);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":10,"address":[4602880,4603253,4599392,4598512,4601509,4601131,4601941,4599355,4602427,4600165,4598960,4597941,4597509,4602826,4600256,4598871,4600696,4602464,4601168,4599301,4598418,4600736,4599787,4598472,4602912,4600642,4601600,4601563,4597563,4602373,4603307,4597995,4598032,4597168,4599824,4598925,4597600,4599733,4600219,4601077,4601995,4602032],"length":1,"stats":{"Line":14},"fn_name":"new\u003c\u0026reql_rust::cmd::geojson::tests::User\u003e"},{"line":11,"address":[4602937,4602481,4598529,4597625,4600761,4601625,4598049,4598985,4599417,4601193,4599849,4600273,4602057,4597193],"length":1,"stats":{"Line":14},"fn_name":null},{"line":13,"address":[4597733,4597892,4601892,4601934,4602366,4601070,4599726,4603204,4600635,4597934,4598663,4600869,4602324,4599093,4600116,4598411,4601733,4598369,4600158,4601301,4599294,4602777,4603045,4597502,4597460,4598210,4599525,4598822,4598864,4599684,4599957,4601460,4602618,4603246,4602819,4600593,4601028,4602165,4597301,4599252,4601502,4600434],"length":1,"stats":{"Line":28},"fn_name":null},{"line":14,"address":[4598355,4597446,4601878,4603190,4599670,4599238,4598808,4597878,4600579,4601446,4602310,4602763,4600102,4601014],"length":1,"stats":{"Line":14},"fn_name":null},{"line":25,"address":[1320544,1320739],"length":1,"stats":{"Line":11},"fn_name":"into_insert_opts\u003c\u0026reql_rust::cmd::polygon::tests::Rectangle\u003e"},{"line":27,"address":[1320569],"length":1,"stats":{"Line":11},"fn_name":null},{"line":28,"address":[1320672,1320618],"length":1,"stats":{"Line":22},"fn_name":null},{"line":37,"address":[1818864,1818720],"length":1,"stats":{"Line":2},"fn_name":"into_insert_opts\u003c\u0026reql_rust::spec::Post\u003e"},{"line":38,"address":[1818741,1818886],"length":1,"stats":{"Line":2},"fn_name":null},{"line":43,"address":[4040816,4041019],"length":1,"stats":{"Line":1},"fn_name":"into_insert_opts"},{"line":44,"address":[4040867],"length":1,"stats":{"Line":1},"fn_name":null},{"line":49,"address":[6662304],"length":1,"stats":{"Line":0},"fn_name":"into_insert_opts"},{"line":50,"address":[6662325],"length":1,"stats":{"Line":0},"fn_name":null},{"line":83,"address":[2731216,2731225,2731248,2731400,2731630,2731317,2731979],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":84,"address":[2731382],"length":1,"stats":{"Line":1},"fn_name":null},{"line":85,"address":[2731990,2732397,2731812,2731752,2731430,2731587],"length":1,"stats":{"Line":4},"fn_name":null},{"line":86,"address":[2733282,2733339,2732621,2732779,2733386,2732387,2732656,2733063,2733628,2732862],"length":1,"stats":{"Line":7},"fn_name":null},{"line":89,"address":[2732990,2731536,2732636,2732679,2731451,2732818],"length":1,"stats":{"Line":6},"fn_name":null},{"line":90,"address":[2733186],"length":1,"stats":{"Line":0},"fn_name":null},{"line":94,"address":[2733954,2733506],"length":1,"stats":{"Line":1},"fn_name":null},{"line":96,"address":[2734163,2734323,2734033,2734459,2733904,2734222,2731469],"length":1,"stats":{"Line":7},"fn_name":null},{"line":100,"address":[2735627,2734896,2734965,2735048,2734873,2734864,2735278],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":101,"address":[2735030],"length":1,"stats":{"Line":1},"fn_name":null},{"line":102,"address":[2735078,2735638,2735400,2735235,2736045,2735460],"length":1,"stats":{"Line":4},"fn_name":null},{"line":103,"address":[2736930,2736269,2736987,2736304,2736035,2736510,2736711,2736427,2737034,2737297],"length":1,"stats":{"Line":7},"fn_name":null},{"line":106,"address":[2735099,2736284,2736327,2736466,2736638,2735184],"length":1,"stats":{"Line":6},"fn_name":null},{"line":107,"address":[2736834],"length":1,"stats":{"Line":0},"fn_name":null},{"line":111,"address":[2737168,2737628,2737692],"length":1,"stats":{"Line":2},"fn_name":null},{"line":113,"address":[2737848,2738008,2738144,2737724,2735117,2737648,2737907],"length":1,"stats":{"Line":7},"fn_name":null},{"line":117,"address":[2738752,2739638,2738661,2738592,2738560,2738569,2739198],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":118,"address":[2738726],"length":1,"stats":{"Line":1},"fn_name":null},{"line":119,"address":[2739310,2739374],"length":1,"stats":{"Line":2},"fn_name":null},{"line":120,"address":[2738782,2739403,2739649,2740052,2739471,2739155],"length":1,"stats":{"Line":4},"fn_name":null},{"line":122,"address":[2740284,2740022,2739104,2738803],"length":1,"stats":{"Line":4},"fn_name":null},{"line":123,"address":[2738824,2741126,2739053,2741030],"length":1,"stats":{"Line":4},"fn_name":null},{"line":125,"address":[2742331,2742808,2742083,2742831,2743115,2742248,2742008,2741932,2742532,2742751],"length":1,"stats":{"Line":7},"fn_name":null},{"line":126,"address":[2741846,2741947],"length":1,"stats":{"Line":2},"fn_name":null},{"line":127,"address":[2741955,2742098,2741873,2742055],"length":1,"stats":{"Line":2},"fn_name":null},{"line":128,"address":[2742151,2742063,2738845,2739002,2742287,2742459],"length":1,"stats":{"Line":6},"fn_name":null},{"line":129,"address":[2742655],"length":1,"stats":{"Line":0},"fn_name":null},{"line":133,"address":[2742986,2743287,2743240],"length":1,"stats":{"Line":2},"fn_name":null},{"line":135,"address":[2738951,2743370,2738866,2743260],"length":1,"stats":{"Line":4},"fn_name":null},{"line":136,"address":[2744817,2744498,2744330,2744557,2738884,2744681],"length":1,"stats":{"Line":7},"fn_name":null},{"line":140,"address":[2745718,2745296,2745305,2746067,2745397,2745328,2745488],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":141,"address":[2745462],"length":1,"stats":{"Line":1},"fn_name":null},{"line":142,"address":[2745900,2746468,2746078,2745840,2745675,2745518],"length":1,"stats":{"Line":4},"fn_name":null},{"line":143,"address":[2746699,2746451],"length":1,"stats":{"Line":2},"fn_name":null},{"line":144,"address":[2746793,2747365,2746958,2746923,2747081,2747164,2747584,2747914,2747641,2747664],"length":1,"stats":{"Line":7},"fn_name":null},{"line":146,"address":[2746847],"length":1,"stats":{"Line":1},"fn_name":null},{"line":147,"address":[2745624,2746938,2745539,2746981,2747120,2747292],"length":1,"stats":{"Line":6},"fn_name":null},{"line":148,"address":[2747488],"length":1,"stats":{"Line":0},"fn_name":null},{"line":152,"address":[2747792,2748102],"length":1,"stats":{"Line":1},"fn_name":null},{"line":153,"address":[2748441,2748193,2748263,2748743,2748034],"length":1,"stats":{"Line":4},"fn_name":null},{"line":162,"address":[2749310,2749396],"length":1,"stats":{"Line":1},"fn_name":null},{"line":164,"address":[2749349,2749512,2749636,2749695,2745557,2750010,2749874],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":49,"coverable":55},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","insert_at.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(offset: isize, value: impl Serialize) -\u003e Command {\n    let arg_offset = Command::from_json(offset);\n    let arg_value = Command::from_json(value);\n\n    Command::new(TermType::InsertAt)\n        .with_arg(arg_offset)\n        .with_arg(arg_value)\n}\n\n// TODO write test\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","intersects.rs"],"content":"use ql2::term::TermType;\n\nuse crate::prelude::Geometry;\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(geometry: impl IntersectsArg) -\u003e Command {\n    let (arg1, arg) = geometry.into_intersects_opts();\n    let mut command = Command::new(TermType::Intersects);\n\n    if let Some(arg) = arg1 {\n        command = arg.add_to_cmd(command);\n    }\n\n    command.with_arg(arg)\n}\n\npub trait IntersectsArg {\n    fn into_intersects_opts(self) -\u003e (Option\u003cCmdOpts\u003e, Command);\n}\n\nimpl IntersectsArg for Command {\n    fn into_intersects_opts(self) -\u003e (Option\u003cCmdOpts\u003e, Command) {\n        (None, self)\n    }\n}\n\nimpl\u003cT\u003e IntersectsArg for T\nwhere\n    T: Geometry,\n{\n    fn into_intersects_opts(self) -\u003e (Option\u003cCmdOpts\u003e, Command) {\n        (None, self.into())\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{args, r, Result};\n\n    #[tokio::test]\n    async fn test_intersects_geo() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let point1 = r.point(-117.220406, 32.719464);\n        let point2 = r.point(-117.206201, 32.725186);\n\n        let response: bool = r\n            .circle(args!(point1, 2000.))\n            .intersects(point2)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response);\n\n        Ok(())\n    }\n}\n","traces":[{"line":8,"address":[4207808,4208445,4208466],"length":1,"stats":{"Line":1},"fn_name":"new\u003creql_rust::cmd::point::Point\u003e"},{"line":9,"address":[4207825],"length":1,"stats":{"Line":1},"fn_name":null},{"line":10,"address":[4207973],"length":1,"stats":{"Line":1},"fn_name":null},{"line":12,"address":[4208047,4208353],"length":1,"stats":{"Line":1},"fn_name":null},{"line":13,"address":[4208327,4208159],"length":1,"stats":{"Line":0},"fn_name":null},{"line":16,"address":[4208262],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[2174656],"length":1,"stats":{"Line":0},"fn_name":"into_intersects_opts"},{"line":25,"address":[4041072],"length":1,"stats":{"Line":0},"fn_name":null},{"line":33,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":34,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":44,"address":[4794677,4794311,4794725,4794272],"length":1,"stats":{"Line":6},"fn_name":"test_intersects_geo"},{"line":45,"address":[6680218,6679868,6679797,6679763,6680495,6680029],"length":1,"stats":{"Line":4},"fn_name":null},{"line":46,"address":[6680485],"length":1,"stats":{"Line":1},"fn_name":null},{"line":47,"address":[6680756],"length":1,"stats":{"Line":1},"fn_name":null},{"line":49,"address":[6681885,6680893,6681658,6681126,6681601,6681015,6681695,6680983,6681197,6681382],"length":1,"stats":{"Line":7},"fn_name":null},{"line":50,"address":[6680763],"length":1,"stats":{"Line":1},"fn_name":null},{"line":51,"address":[6680927],"length":1,"stats":{"Line":1},"fn_name":null},{"line":52,"address":[6680995,6679812,6681038,6681325,6681156],"length":1,"stats":{"Line":5},"fn_name":null},{"line":53,"address":[6681505],"length":1,"stats":{"Line":0},"fn_name":null},{"line":57,"address":[6681774,6681978],"length":1,"stats":{"Line":1},"fn_name":null},{"line":59,"address":[4794408,4794348,4794688,4794303],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":17,"coverable":21},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","is_empty.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::IsEmpty)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_is_empty() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: bool = table.is_empty().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(!data_obtained);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":5,"address":[2719568],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2719580],"length":1,"stats":{"Line":1},"fn_name":null},{"line":16,"address":[1677127,1677088,1677493,1677541],"length":1,"stats":{"Line":6},"fn_name":"test_is_empty"},{"line":17,"address":[6993924,6994423,6994077,6993859,6994245,6994855],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[6884912,6884986],"length":1,"stats":{"Line":5},"fn_name":null},{"line":20,"address":[6996216,6995900],"length":1,"stats":{"Line":1},"fn_name":null},{"line":22,"address":[1677119,1677164,1677504,1677224],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":7,"coverable":7},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","iso8601.rs"],"content":"use ql2::term::TermType;\nuse time::{format_description, UtcOffset};\n\nuse crate::{arguments::Args, constants::TIMEZONE_FORMAT, Command};\n\npub(crate) fn new(iso_datetime: \u0026str) -\u003e Command {\n    Command::new(TermType::Iso8601).with_arg(Command::from_json(iso_datetime))\n}\n\npub trait Iso8601 {\n    fn into_iso8601_opts(self) -\u003e crate::Result\u003cString\u003e;\n}\n\nimpl\u003cT\u003e Iso8601 for T\nwhere\n    T: Into\u003cString\u003e,\n{\n    fn into_iso8601_opts(self) -\u003e crate::Result\u003cString\u003e {\n        Ok(self.into())\n    }\n}\n\nimpl\u003cT\u003e Iso8601 for Args\u003c(T, UtcOffset)\u003e\nwhere\n    T: Into\u003cString\u003e,\n{\n    fn into_iso8601_opts(self) -\u003e crate::Result\u003cString\u003e {\n        let timezone_format = format_description::parse(TIMEZONE_FORMAT)?;\n        let timezone = self.0 .1.format(\u0026timezone_format)?;\n\n        Ok(format!(\"{}{}\", self.0 .0.into(), timezone))\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use time::macros::offset;\n\n    use crate::prelude::Converter;\n    use crate::types::Time;\n    use crate::{args, r, Result};\n\n    #[tokio::test]\n    async fn test_iso8601_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let date_time = r.iso8601(\"1986-11-03T08:30:00-07:00\")?;\n        let time1 = date_time.clone().value();\n        let time2: Time = date_time.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(time2 == time1);\n\n        Ok(())\n    }\n\n    #[tokio::test]\n    async fn test_iso8601_ops_with_default_timezone() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let date_time = r.iso8601(args!(\"1986-11-03T08:30:00\", offset!(+01:00)))?;\n        let time1 = date_time.clone().value();\n        let time2: Time = date_time.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(time2 == time1);\n\n        Ok(())\n    }\n}\n","traces":[{"line":6,"address":[2043152,2042912,2043121],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":7,"address":[2124603,2124784],"length":1,"stats":{"Line":1},"fn_name":null},{"line":18,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":19,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":27,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":28,"address":[],"length":0,"stats":{"Line":2},"fn_name":null},{"line":29,"address":[],"length":0,"stats":{"Line":2},"fn_name":null},{"line":31,"address":[],"length":0,"stats":{"Line":2},"fn_name":null},{"line":44,"address":[4486400,4486457,4486534,4486671,4486368,4486377,4486970],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":45,"address":[4486981,4486558,4486792,4487254,4486512,4486631],"length":1,"stats":{"Line":4},"fn_name":null},{"line":47,"address":[4487511,4487224,4487640],"length":1,"stats":{"Line":2},"fn_name":null},{"line":48,"address":[4487865,4487630],"length":1,"stats":{"Line":2},"fn_name":null},{"line":49,"address":[4486573,4488691,4487979,4487892,4488873],"length":1,"stats":{"Line":4},"fn_name":null},{"line":51,"address":[4489127,4489094,4488844],"length":1,"stats":{"Line":2},"fn_name":null},{"line":53,"address":[4489100],"length":1,"stats":{"Line":5},"fn_name":null},{"line":57,"address":[2581575,2581989,2581941,2581536],"length":1,"stats":{"Line":6},"fn_name":"test_iso8601_ops_with_default_timezone"},{"line":58,"address":[4489438,4490250,4489392,4489672,4489861,4489511],"length":1,"stats":{"Line":4},"fn_name":null},{"line":60,"address":[4490107,4490507,4490636],"length":1,"stats":{"Line":2},"fn_name":null},{"line":61,"address":[4490626,4490861],"length":1,"stats":{"Line":2},"fn_name":null},{"line":62,"address":[4490975,4491869,4489453,4490888,4491687],"length":1,"stats":{"Line":4},"fn_name":null},{"line":64,"address":[4491840,4492090,4492123],"length":1,"stats":{"Line":2},"fn_name":null},{"line":66,"address":[2581567,2581952,2581672,2581612],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":22,"coverable":22},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","js.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::arguments::Args;\nuse crate::Command;\n\npub(crate) fn new(args: impl JsArg) -\u003e Command {\n    let (arg, opts) = args.into_js_opts();\n\n    Command::new(TermType::Javascript)\n        .with_arg(arg)\n        .with_opts(opts)\n}\n\npub trait JsArg {\n    fn into_js_opts(self) -\u003e (Command, JsOption);\n}\n\nimpl\u003cT\u003e JsArg for T\nwhere\n    T: Into\u003cString\u003e,\n{\n    fn into_js_opts(self) -\u003e (Command, JsOption) {\n        (Command::from_json(self.into()), Default::default())\n    }\n}\n\nimpl\u003cT\u003e JsArg for Args\u003c(T, JsOption)\u003e\nwhere\n    T: Into\u003cString\u003e,\n{\n    fn into_js_opts(self) -\u003e (Command, JsOption) {\n        (Command::from_json(self.0 .0.into()), self.0 .1)\n    }\n}\n\n#[derive(Debug, Clone, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct JsOption {\n    /// `timeout` is the number of seconds before r.js times out.\n    /// The default value is 5 seconds.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub timeout: Option\u003cf64\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_js_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: String = r.js(\"'str1' + 'str2'\").run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response.eq(\"str1str2\"));\n\n        Ok(())\n    }\n}\n","traces":[{"line":8,"address":[2047704,2047376,2047731],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":9,"address":[2047409],"length":1,"stats":{"Line":1},"fn_name":null},{"line":11,"address":[2047510,2047645],"length":1,"stats":{"Line":2},"fn_name":null},{"line":12,"address":[2047584],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[2047744,2047925],"length":1,"stats":{"Line":1},"fn_name":"into_js_opts\u003c\u0026str\u003e"},{"line":25,"address":[2047777],"length":1,"stats":{"Line":1},"fn_name":null},{"line":33,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":34,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":52,"address":[4794768,4795221,4794807,4795173],"length":1,"stats":{"Line":6},"fn_name":"test_js_ops"},{"line":53,"address":[6917491,6917946,6917596,6917757,6918219,6917525],"length":1,"stats":{"Line":4},"fn_name":null},{"line":54,"address":[6849469,6849401],"length":1,"stats":{"Line":4},"fn_name":null},{"line":56,"address":[6919516,6919553,6919260],"length":1,"stats":{"Line":2},"fn_name":null},{"line":58,"address":[4794844,4794904,4795184,4794799],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":11,"coverable":13},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","json.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new\u003cT\u003e(value: T) -\u003e Command\nwhere\n    T: Into\u003cString\u003e,\n{\n    Command::new(TermType::Json).with_arg(Command::from_json(value.into()))\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_json_table() -\u003e Result\u003c()\u003e {\n        let data = [1, 2, 3];\n        let conn = r.connection().connect().await?;\n        let data_obtained: [u8; 3] = r.json(\"[1, 2, 3]\").run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained == data);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[1683936,1684243],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":9,"address":[1684233,1683978,1684082],"length":1,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[1804702,1804537,1804560,1804617,1804528,1804837,1805136],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":19,"address":[1804672],"length":1,"stats":{"Line":1},"fn_name":null},{"line":20,"address":[1805147,1804958,1805420,1804692,1804726,1804797],"length":1,"stats":{"Line":4},"fn_name":null},{"line":21,"address":[1804741,1806487,1805648,1805390,1806348],"length":1,"stats":{"Line":4},"fn_name":null},{"line":23,"address":[1806461,1806727,1806690],"length":1,"stats":{"Line":2},"fn_name":null},{"line":25,"address":[1806701],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":8,"coverable":8},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","keys.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Keys)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_keys_values() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: Vec\u003cString\u003e = table.get(1).keys().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained == vec![\"content\", \"id\", \"title\", \"view\"]);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":5,"address":[2719616],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2719628],"length":1,"stats":{"Line":1},"fn_name":null},{"line":16,"address":[2258421,2257968,2258373,2258007],"length":1,"stats":{"Line":6},"fn_name":"test_keys_values"},{"line":17,"address":[4745620,4745941,4746556,4745773,4745555,4746119],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[4746805,4745724,4747695,4746503,4747545,4745641],"length":1,"stats":{"Line":5},"fn_name":null},{"line":20,"address":[4748243,4747680,4747993],"length":1,"stats":{"Line":2},"fn_name":null},{"line":22,"address":[2258384,2258104,2258044,2257999],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":7,"coverable":7},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","le.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::arguments::Args;\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl LeArg) -\u003e Command {\n    args.into_le_opts().add_to_cmd(Command::new(TermType::Le))\n}\n\npub trait LeArg {\n    fn into_le_opts(self) -\u003e CmdOpts;\n}\n\nimpl\u003cT: Serialize\u003e LeArg for T {\n    fn into_le_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(Command::from_json(self))\n    }\n}\n\nimpl\u003cT: Serialize\u003e LeArg for Args\u003cVec\u003cT\u003e\u003e {\n    fn into_le_opts(self) -\u003e CmdOpts {\n        let commands = self.0.iter().map(Command::from_json).collect();\n\n        CmdOpts::Many(commands)\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::{args, r, Result};\n\n    #[tokio::test]\n    async fn test_le_data() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: bool = table\n            .get(1)\n            .g(\"view\")\n            .le(10)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained);\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_le_data_r() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let data_obtained: bool = r\n            .le(args!(vec![5, 6, 7]))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained);\n\n        Ok(())\n    }\n}\n","traces":[{"line":9,"address":[2392157,2392184,2392208,2391952,2392377,2392404],"length":1,"stats":{"Line":2},"fn_name":"new\u003creql_rust::arguments::Args\u003calloc::vec::Vec\u003ci32, alloc::alloc::Global\u003e\u003e\u003e"},{"line":10,"address":[2392231,2392397,2391968,2392177],"length":1,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":19,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":25,"address":[],"length":0,"stats":{"Line":2},"fn_name":null},{"line":27,"address":[1820477],"length":1,"stats":{"Line":1},"fn_name":null},{"line":38,"address":[4415895,4416261,4416309,4415856],"length":1,"stats":{"Line":6},"fn_name":"test_le_data"},{"line":39,"address":[2341331,2341396,2341895,2341717,2341549,2342332],"length":1,"stats":{"Line":4},"fn_name":null},{"line":40,"address":[2343551,2342279,2342769,2342565,2343041,2343361,2343317,2342846,2343260],"length":1,"stats":{"Line":6},"fn_name":null},{"line":44,"address":[2341500,2342675,2341417,2342802,2342974],"length":1,"stats":{"Line":5},"fn_name":null},{"line":45,"address":[2343164],"length":1,"stats":{"Line":0},"fn_name":null},{"line":49,"address":[2343440,2343754],"length":1,"stats":{"Line":1},"fn_name":null},{"line":51,"address":[6852001],"length":1,"stats":{"Line":7},"fn_name":null},{"line":55,"address":[2344489,2345071,2344569,2344772,2344480,2344637,2344512],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":56,"address":[2344893,2345082,2344732,2344661,2345350,2344627],"length":1,"stats":{"Line":4},"fn_name":null},{"line":57,"address":[2346065,2345666,2345880,2346341,2346378,2345809,2346284,2346568,2345698],"length":1,"stats":{"Line":6},"fn_name":null},{"line":58,"address":[2345335,2345578],"length":1,"stats":{"Line":2},"fn_name":null},{"line":59,"address":[2346008,2345721,2344676,2345678,2345839],"length":1,"stats":{"Line":5},"fn_name":null},{"line":60,"address":[2346188],"length":1,"stats":{"Line":0},"fn_name":null},{"line":64,"address":[2346680,2346457],"length":1,"stats":{"Line":1},"fn_name":null},{"line":66,"address":[2346654],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":20,"coverable":22},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","limit.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(step: usize) -\u003e Command {\n    let arg = Command::from_json(step);\n\n    Command::new(TermType::Limit).with_arg(arg)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::cmd::order_by::OrderByOption;\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_limit_data() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: Vec\u003cPost\u003e = table\n            .order_by(OrderByOption::default().index(\"title\"))\n            .limit(1)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained.first() == data.first());\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":5,"address":[2502640,2502851,2502882],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2502665],"length":1,"stats":{"Line":1},"fn_name":null},{"line":8,"address":[2502692,2502763],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[4216293,4215879,4215840,4216245],"length":1,"stats":{"Line":6},"fn_name":"test_limit_data"},{"line":20,"address":[4893027],"length":1,"stats":{"Line":1},"fn_name":null},{"line":21,"address":[4893405,4893640,4893087,4893465,4894071,4893240],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[4894475,4894592,4895140,4895420,4894669,4895184,4894864,4894031,4894320,4895083,4894388],"length":1,"stats":{"Line":8},"fn_name":null},{"line":23,"address":[4894395,4894244,4894359,4894061,4894413],"length":1,"stats":{"Line":2},"fn_name":null},{"line":25,"address":[4893191,4894625,4893108,4894797,4894455,4894498],"length":1,"stats":{"Line":6},"fn_name":null},{"line":26,"address":[4894987],"length":1,"stats":{"Line":0},"fn_name":null},{"line":30,"address":[4895304,4895681,4895852],"length":1,"stats":{"Line":2},"fn_name":null},{"line":32,"address":[4215871,4216256,4215916,4215976],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":11,"coverable":12},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","line.rs"],"content":"use ql2::term::TermType;\nuse serde::{Deserialize, Serialize};\n\nuse crate::prelude::Geometry;\nuse crate::types::{GeoType, ReqlType};\nuse crate::Command;\n\nuse super::point::Point;\n\n#[derive(Debug, Serialize, Deserialize, Clone, PartialEq, PartialOrd, Geometry)]\npub struct Line {\n    #[serde(rename = \"$reql_type$\")]\n    pub reql_type: ReqlType,\n    pub coordinates: Vec\u003c[f64; 2]\u003e,\n    #[serde(rename = \"type\")]\n    pub typ: GeoType,\n}\n\nimpl Line {\n    pub fn new(points: \u0026[Point]) -\u003e Self {\n        assert!(points.len() \u003e= 2);\n\n        Self {\n            reql_type: ReqlType::Geometry,\n            typ: GeoType::LineString,\n            coordinates: points.iter().map(|point| point.coordinates).collect(),\n        }\n    }\n\n    /// Convert a Line object into a Polygon object.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// line.fill()  polygon\n    /// ```\n    ///\n    /// Where:\n    /// - polygon: [Polygon](crate::cmd::polygon::Polygon)\n    ///\n    /// # Description\n    ///\n    /// If the last point does not specify the same coordinates as the first point,\n    /// `polygon` will close the polygon by connecting them.\n    ///\n    /// Longitude (180 to 180) and latitude (90 to 90)\n    /// of vertices are plotted on a perfect sphere.\n    /// See [Geospatial support](https://rethinkdb.com/docs/geo-support/python/)\n    /// for more information on ReQLs coordinate system.\n    ///\n    /// If the last point does not specify the same coordinates as the first point,\n    /// `polygon` will close the polygon by connecting them.\n    /// You cannot directly construct a polygon with holes in it using `polygon`,\n    /// but you can use [polygon_sub](crate::types::Polygon::polygon_sub)\n    /// to use a second polygon within the interior of the first to define a hole.\n    ///\n    /// ## Examples\n    ///\n    /// Create a line object and then convert it to a polygon.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.line(\u0026[\n    ///         r.point(-122.423246, 37.779388),\n    ///         r.point(-122.423246, 37.329898),\n    ///         r.point(-121.886420, 37.329898),\n    ///         r.point(-121.886420, 37.779388),\n    ///     ])\n    ///     .fill()\n    ///     .run(\u0026conn)\n    ///     .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [polygon](crate::r::polygon)\n    /// - [line](crate::r::line)\n    pub fn fill(self) -\u003e Command {\n        super::fill::new().with_parent(self.into())\n    }\n}\n\nimpl From\u003cLine\u003e for Command {\n    fn from(line: Line) -\u003e Self {\n        line.coordinates\n            .iter()\n            .fold(Command::new(TermType::Line), |command, coord| {\n                let point: Command = Point::new(coord[0], coord[1]).into();\n\n                command.with_arg(point)\n            })\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use serde::{Deserialize, Serialize};\n\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::{Line, Point};\n    use crate::{r, Result};\n\n    #[derive(Debug, Serialize, Deserialize, PartialEq)]\n    struct Route {\n        id: u8,\n        route: Line,\n    }\n\n    #[tokio::test]\n    async fn test_line_data() -\u003e Result\u003c()\u003e {\n        let route = Route {\n            id: 1,\n            route: r.line(\u0026[\n                Point::new(-122.423246, 37.779388),\n                Point::new(-121.886420, 37.329898),\n            ]),\n        };\n        let (conn, table, table_name) = set_up(false).await?;\n        table.clone().insert(\u0026route).run(\u0026conn).await?;\n        let response: Route = table.get(1).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == route);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":20,"address":[4744848],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":21,"address":[2108178,2108229],"length":1,"stats":{"Line":1},"fn_name":null},{"line":26,"address":[2573200,2573216],"length":1,"stats":{"Line":4},"fn_name":"{closure#0}"},{"line":88,"address":[2027001,2026720],"length":1,"stats":{"Line":1},"fn_name":"fill"},{"line":89,"address":[4745094,4745176,4745331],"length":1,"stats":{"Line":2},"fn_name":null},{"line":94,"address":[2174768,2174987],"length":1,"stats":{"Line":1},"fn_name":"from"},{"line":95,"address":[2174798,2174870,2174958],"length":1,"stats":{"Line":3},"fn_name":null},{"line":97,"address":[2174910],"length":1,"stats":{"Line":2},"fn_name":null},{"line":98,"address":[4190420,4190326],"length":1,"stats":{"Line":2},"fn_name":null},{"line":100,"address":[2573400],"length":1,"stats":{"Line":1},"fn_name":null},{"line":121,"address":[4420455,4420416,4420869,4420821],"length":1,"stats":{"Line":6},"fn_name":"test_line_data"},{"line":124,"address":[4682420],"length":1,"stats":{"Line":1},"fn_name":null},{"line":129,"address":[6869595],"length":1,"stats":{"Line":4},"fn_name":null},{"line":130,"address":[4683436,4683202,4682183,4682026],"length":1,"stats":{"Line":4},"fn_name":null},{"line":131,"address":[4682047,4682132,4684176,4685020,4685194,4684300],"length":1,"stats":{"Line":5},"fn_name":null},{"line":133,"address":[4685676,4685618,4685180],"length":1,"stats":{"Line":2},"fn_name":null},{"line":135,"address":[4420492,4420552,4420832,4420447],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":17,"coverable":17},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","literal.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(selector: impl Serialize) -\u003e Command {\n    let arg = Command::from_json(selector);\n\n    Command::new(TermType::Literal).with_arg(arg)\n}\n\n// TODO write test\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","lt.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::arguments::Args;\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl LtArg) -\u003e Command {\n    args.into_lt_opts().add_to_cmd(Command::new(TermType::Lt))\n}\n\npub trait LtArg {\n    fn into_lt_opts(self) -\u003e CmdOpts;\n}\n\nimpl\u003cT: Serialize\u003e LtArg for T {\n    fn into_lt_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(Command::from_json(self))\n    }\n}\n\nimpl\u003cT: Serialize\u003e LtArg for Args\u003cVec\u003cT\u003e\u003e {\n    fn into_lt_opts(self) -\u003e CmdOpts {\n        let commands = self.0.iter().map(Command::from_json).collect();\n\n        CmdOpts::Many(commands)\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::{args, r, Result};\n\n    #[tokio::test]\n    async fn test_lt_data() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: bool = table\n            .get(1)\n            .g(\"view\")\n            .lt(15)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained);\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_lt_data_r() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let data_obtained: bool = r\n            .lt(args!(vec![5, 6, 7]))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained);\n\n        Ok(())\n    }\n}\n","traces":[{"line":9,"address":[6679469,6679496,6679056,6679225,6679252,6679264],"length":1,"stats":{"Line":2},"fn_name":"new\u003ci32\u003e"},{"line":10,"address":[6679245,6679079,6679489,6679280],"length":1,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":19,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":25,"address":[],"length":0,"stats":{"Line":2},"fn_name":null},{"line":27,"address":[1820765],"length":1,"stats":{"Line":1},"fn_name":null},{"line":38,"address":[2582485,2582032,2582071,2582437],"length":1,"stats":{"Line":6},"fn_name":"test_lt_data"},{"line":39,"address":[3589501,3589283,3589669,3589348,3589847,3590284],"length":1,"stats":{"Line":4},"fn_name":null},{"line":40,"address":[3591503,3590517,3590798,3591269,3590231,3591212,3591313,3590721,3590993],"length":1,"stats":{"Line":6},"fn_name":null},{"line":44,"address":[3589452,3590926,3590627,3590754,3589369],"length":1,"stats":{"Line":5},"fn_name":null},{"line":45,"address":[3591116],"length":1,"stats":{"Line":0},"fn_name":null},{"line":49,"address":[3591392,3591706],"length":1,"stats":{"Line":1},"fn_name":null},{"line":51,"address":[6852513],"length":1,"stats":{"Line":7},"fn_name":null},{"line":55,"address":[2582528,2582933,2582981,2582567],"length":1,"stats":{"Line":6},"fn_name":"test_lt_data_r"},{"line":56,"address":[3592579,3592684,3592845,3593034,3592613,3593302],"length":1,"stats":{"Line":4},"fn_name":null},{"line":57,"address":[3593832,3594330,3593761,3593650,3594293,3593618,3594520,3594236,3594017],"length":1,"stats":{"Line":6},"fn_name":null},{"line":58,"address":[3593530,3593287],"length":1,"stats":{"Line":2},"fn_name":null},{"line":59,"address":[3593673,3593960,3593791,3593630,3592628],"length":1,"stats":{"Line":5},"fn_name":null},{"line":60,"address":[3594140],"length":1,"stats":{"Line":0},"fn_name":null},{"line":64,"address":[3594632,3594409],"length":1,"stats":{"Line":1},"fn_name":null},{"line":66,"address":[2582604,2582944,2582664,2582559],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":20,"coverable":22},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","map.rs"],"content":"use ql2::term::TermType;\n\nuse crate::arguments::Args;\nuse crate::prelude::Func;\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl MapArg) -\u003e Command {\n    let (args, func) = args.into_map_opts();\n    let mut command = Command::new(TermType::Map);\n\n    if let Some(args) = args {\n        command = args.add_to_cmd(command);\n    }\n\n    command.with_arg(func)\n}\n\npub trait MapArg {\n    fn into_map_opts(self) -\u003e (Option\u003cCmdOpts\u003e, Command);\n}\n\nimpl MapArg for Func {\n    fn into_map_opts(self) -\u003e (Option\u003cCmdOpts\u003e, Command) {\n        (None, self.0)\n    }\n}\n\nimpl MapArg for Args\u003c(Command, Func)\u003e {\n    fn into_map_opts(self) -\u003e (Option\u003cCmdOpts\u003e, Command) {\n        let Func(func) = self.0 .1;\n\n        (Some(CmdOpts::Single(self.0 .0)), func)\n    }\n}\n\nimpl MapArg for Args\u003c(Vec\u003cCommand\u003e, Func)\u003e {\n    fn into_map_opts(self) -\u003e (Option\u003cCmdOpts\u003e, Command) {\n        let Func(func) = self.0 .1;\n\n        (Some(CmdOpts::Many(self.0 .0)), func)\n    }\n}\n\n// TODO write test\n","traces":[{"line":9,"address":[4208544,4209185,4209164],"length":1,"stats":{"Line":1},"fn_name":"new\u003creql_rust::cmd::func::Func\u003e"},{"line":10,"address":[4208561],"length":1,"stats":{"Line":1},"fn_name":null},{"line":11,"address":[4208692],"length":1,"stats":{"Line":1},"fn_name":null},{"line":13,"address":[4209072,4208766],"length":1,"stats":{"Line":1},"fn_name":null},{"line":14,"address":[4209046,4208878],"length":1,"stats":{"Line":0},"fn_name":null},{"line":17,"address":[4208981],"length":1,"stats":{"Line":1},"fn_name":null},{"line":25,"address":[2747344],"length":1,"stats":{"Line":1},"fn_name":"into_map_opts"},{"line":26,"address":[7019968],"length":1,"stats":{"Line":1},"fn_name":null},{"line":31,"address":[2742256],"length":1,"stats":{"Line":0},"fn_name":"into_map_opts"},{"line":32,"address":[6662470],"length":1,"stats":{"Line":0},"fn_name":null},{"line":34,"address":[6662497],"length":1,"stats":{"Line":0},"fn_name":null},{"line":39,"address":[6662672],"length":1,"stats":{"Line":0},"fn_name":"into_map_opts"},{"line":40,"address":[6662694],"length":1,"stats":{"Line":0},"fn_name":null},{"line":42,"address":[6662718],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":7,"coverable":14},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","match_.rs"],"content":"use ql2::term::TermType;\nuse regex::Regex;\n\nuse crate::Command;\n\npub(crate) fn new(regex: Regex) -\u003e Command {\n    let arg = Command::from_json(regex.as_str());\n\n    Command::new(TermType::Match).with_arg(arg)\n}\n\n// write test\n","traces":[{"line":6,"address":[4751244,4750944],"length":1,"stats":{"Line":0},"fn_name":"new"},{"line":7,"address":[4751061,4750971],"length":1,"stats":{"Line":0},"fn_name":null},{"line":9,"address":[4751143,4751076],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":3},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","max.rs"],"content":"use std::borrow::Cow;\n\nuse ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::prelude::Func;\nuse crate::Command;\n\npub(crate) fn new(args: impl MaxArg) -\u003e Command {\n    let (arg1, arg2, opts) = args.into_max_opts();\n    let mut command = Command::new(TermType::Max);\n\n    if let Some(arg) = arg1 {\n        command = command.with_arg(arg)\n    }\n\n    if let Some(arg) = arg2 {\n        command = command.with_arg(arg)\n    }\n\n    command.with_opts(opts)\n}\n\npub trait MaxArg {\n    fn into_max_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, MaxOption);\n}\n\nimpl MaxArg for \u0026str {\n    fn into_max_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, MaxOption) {\n        let arg = Command::from_json(self);\n\n        (None, Some(arg), Default::default())\n    }\n}\n\nimpl MaxArg for Func {\n    fn into_max_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, MaxOption) {\n        (None, Some(self.0), Default::default())\n    }\n}\n\nimpl MaxArg for MaxOption {\n    fn into_max_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, MaxOption) {\n        (None, None, self)\n    }\n}\n\nimpl MaxArg for (Command, \u0026str) {\n    fn into_max_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, MaxOption) {\n        let arg = Command::from_json(self.1);\n\n        (Some(self.0), Some(arg), Default::default())\n    }\n}\n\nimpl MaxArg for (Command, Func) {\n    fn into_max_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, MaxOption) {\n        (Some(self.0), None, Default::default())\n    }\n}\n\nimpl MaxArg for (Command, MaxOption) {\n    fn into_max_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, MaxOption) {\n        (Some(self.0), None, self.1)\n    }\n}\n\n#[derive(Debug, Clone, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct MaxOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub index: Option\u003cCow\u003c'static, str\u003e\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_max_data() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: Post = table.max(\"view\").run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(Some(\u0026data_obtained) == data.first());\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":10,"address":[2306891,2305840,2306717],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":11,"address":[2305873],"length":1,"stats":{"Line":1},"fn_name":null},{"line":12,"address":[2306034],"length":1,"stats":{"Line":1},"fn_name":null},{"line":14,"address":[2306108,2306350],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[2306229,2306324],"length":1,"stats":{"Line":0},"fn_name":null},{"line":18,"address":[2306286,2306619,2306352],"length":1,"stats":{"Line":3},"fn_name":null},{"line":19,"address":[2306436,2306593],"length":1,"stats":{"Line":2},"fn_name":null},{"line":22,"address":[2306526],"length":1,"stats":{"Line":1},"fn_name":null},{"line":30,"address":[2541783,2541472,2541813],"length":1,"stats":{"Line":1},"fn_name":"into_max_opts"},{"line":31,"address":[4789169],"length":1,"stats":{"Line":1},"fn_name":null},{"line":33,"address":[2541516,2541794],"length":1,"stats":{"Line":1},"fn_name":null},{"line":38,"address":[2829104,2829379,2829406],"length":1,"stats":{"Line":0},"fn_name":"into_max_opts"},{"line":39,"address":[2829121,2829390],"length":1,"stats":{"Line":0},"fn_name":null},{"line":44,"address":[4789488],"length":1,"stats":{"Line":0},"fn_name":"into_max_opts"},{"line":45,"address":[4789508],"length":1,"stats":{"Line":0},"fn_name":null},{"line":50,"address":[2256688,2257118,2257151],"length":1,"stats":{"Line":0},"fn_name":"into_max_opts"},{"line":51,"address":[2256713],"length":1,"stats":{"Line":0},"fn_name":null},{"line":53,"address":[4041521,4041849],"length":1,"stats":{"Line":0},"fn_name":null},{"line":58,"address":[4042209,4041888,4042168],"length":1,"stats":{"Line":0},"fn_name":"into_max_opts"},{"line":59,"address":[2257240,2257480],"length":1,"stats":{"Line":0},"fn_name":null},{"line":64,"address":[2257552],"length":1,"stats":{"Line":0},"fn_name":"into_max_opts"},{"line":65,"address":[2257574],"length":1,"stats":{"Line":0},"fn_name":null},{"line":82,"address":[4795303,4795669,4795264,4795717],"length":1,"stats":{"Line":6},"fn_name":"test_max_data"},{"line":83,"address":[4584355],"length":1,"stats":{"Line":1},"fn_name":null},{"line":84,"address":[4584960,4585405,4584725,4584407,4584560,4584785],"length":1,"stats":{"Line":4},"fn_name":null},{"line":85,"address":[4586342,4584428,4585613,4586549,4584511,4585345],"length":1,"stats":{"Line":5},"fn_name":null},{"line":87,"address":[4586521,4586906,4587017],"length":1,"stats":{"Line":2},"fn_name":null},{"line":89,"address":[4586976,4587350,4584446,4587480,4587214,4587270,4587090],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":16,"coverable":28},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","merge.rs"],"content":"use ql2::term::TermType;\n\nuse crate::arguments::AnyParam;\nuse crate::prelude::Func;\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl MergeArg) -\u003e Command {\n    args.into_merge_opts()\n        .add_to_cmd(Command::new(TermType::Merge))\n}\n\npub trait MergeArg {\n    fn into_merge_opts(self) -\u003e CmdOpts;\n}\n\nimpl MergeArg for AnyParam {\n    fn into_merge_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(self.into())\n    }\n}\n\nimpl MergeArg for Command {\n    fn into_merge_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(self)\n    }\n}\n\nimpl MergeArg for Func {\n    fn into_merge_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(self.0)\n    }\n}\n\nimpl MergeArg for Vec\u003cCommand\u003e {\n    fn into_merge_opts(self) -\u003e CmdOpts {\n        CmdOpts::Many(self)\n    }\n}\n\nimpl MergeArg for Vec\u003cFunc\u003e {\n    fn into_merge_opts(self) -\u003e CmdOpts {\n        let cmds = self.into_iter().map(|func| func.0).collect();\n\n        CmdOpts::Many(cmds)\n    }\n}\n\n// TODO write test\n","traces":[{"line":9,"address":[2719879,2719664,2719852],"length":1,"stats":{"Line":1},"fn_name":"new\u003creql_rust::proto::Command\u003e"},{"line":10,"address":[2719803,2719680],"length":1,"stats":{"Line":2},"fn_name":null},{"line":11,"address":[2719732,2719836,2719872],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[5126656],"length":1,"stats":{"Line":0},"fn_name":"into_merge_opts"},{"line":20,"address":[2775137],"length":1,"stats":{"Line":0},"fn_name":null},{"line":25,"address":[4042512],"length":1,"stats":{"Line":1},"fn_name":"into_merge_opts"},{"line":26,"address":[4042528],"length":1,"stats":{"Line":1},"fn_name":null},{"line":31,"address":[7020384],"length":1,"stats":{"Line":0},"fn_name":"into_merge_opts"},{"line":32,"address":[7020400],"length":1,"stats":{"Line":0},"fn_name":null},{"line":37,"address":[4439648],"length":1,"stats":{"Line":0},"fn_name":"into_merge_opts"},{"line":38,"address":[4439655],"length":1,"stats":{"Line":0},"fn_name":null},{"line":43,"address":[4439728],"length":1,"stats":{"Line":0},"fn_name":"into_merge_opts"},{"line":44,"address":[2719904,2719932],"length":1,"stats":{"Line":0},"fn_name":"{closure#0}"},{"line":46,"address":[4439824],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":5,"coverable":14},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","min.rs"],"content":"use std::borrow::Cow;\n\nuse ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::prelude::Func;\nuse crate::Command;\n\npub(crate) fn new(args: impl MinArg) -\u003e Command {\n    let (arg1, arg2, opts) = args.into_min_opts();\n    let mut command = Command::new(TermType::Min);\n\n    if let Some(arg) = arg1 {\n        command = command.with_arg(arg)\n    }\n\n    if let Some(arg) = arg2 {\n        command = command.with_arg(arg)\n    }\n\n    command.with_opts(opts)\n}\n\npub trait MinArg {\n    fn into_min_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, MinOption);\n}\n\nimpl MinArg for \u0026str {\n    fn into_min_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, MinOption) {\n        let arg = Command::from_json(self);\n\n        (None, Some(arg), Default::default())\n    }\n}\n\nimpl MinArg for Func {\n    fn into_min_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, MinOption) {\n        (None, Some(self.0), Default::default())\n    }\n}\n\nimpl MinArg for MinOption {\n    fn into_min_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, MinOption) {\n        (None, None, self)\n    }\n}\n\nimpl MinArg for (Command, \u0026str) {\n    fn into_min_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, MinOption) {\n        let arg = Command::from_json(self.1);\n\n        (Some(self.0), Some(arg), Default::default())\n    }\n}\n\nimpl MinArg for (Command, Func) {\n    fn into_min_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, MinOption) {\n        (Some(self.0), None, Default::default())\n    }\n}\n\nimpl MinArg for (Command, MinOption) {\n    fn into_min_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, MinOption) {\n        (Some(self.0), None, self.1)\n    }\n}\n\n#[derive(Debug, Clone, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct MinOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub index: Option\u003cCow\u003c'static, str\u003e\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_min_data() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: Post = table.min(\"view\").run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(Some(\u0026data_obtained) == data.last());\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":10,"address":[4669499,4668448,4669325],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":11,"address":[4668481],"length":1,"stats":{"Line":1},"fn_name":null},{"line":12,"address":[4668642],"length":1,"stats":{"Line":1},"fn_name":null},{"line":14,"address":[4668716,4668958],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[4668837,4668932],"length":1,"stats":{"Line":0},"fn_name":null},{"line":18,"address":[4669227,4668894,4668960],"length":1,"stats":{"Line":3},"fn_name":null},{"line":19,"address":[4669044,4669201],"length":1,"stats":{"Line":2},"fn_name":null},{"line":22,"address":[4669134],"length":1,"stats":{"Line":1},"fn_name":null},{"line":30,"address":[2813216,2813527,2813557],"length":1,"stats":{"Line":1},"fn_name":"into_min_opts"},{"line":31,"address":[4789745],"length":1,"stats":{"Line":1},"fn_name":null},{"line":33,"address":[2813260,2813538],"length":1,"stats":{"Line":1},"fn_name":null},{"line":38,"address":[2829806,2829504,2829779],"length":1,"stats":{"Line":0},"fn_name":"into_min_opts"},{"line":39,"address":[2829790,2829521],"length":1,"stats":{"Line":0},"fn_name":null},{"line":44,"address":[4790064],"length":1,"stats":{"Line":0},"fn_name":"into_min_opts"},{"line":45,"address":[4790084],"length":1,"stats":{"Line":0},"fn_name":null},{"line":50,"address":[2257904,2258367,2258334],"length":1,"stats":{"Line":0},"fn_name":"into_min_opts"},{"line":51,"address":[2257929],"length":1,"stats":{"Line":0},"fn_name":null},{"line":53,"address":[4043033,4042705],"length":1,"stats":{"Line":0},"fn_name":null},{"line":58,"address":[4043072,4043352,4043393],"length":1,"stats":{"Line":0},"fn_name":"into_min_opts"},{"line":59,"address":[2258696,2258456],"length":1,"stats":{"Line":0},"fn_name":null},{"line":64,"address":[2258768],"length":1,"stats":{"Line":0},"fn_name":"into_min_opts"},{"line":65,"address":[2258790],"length":1,"stats":{"Line":0},"fn_name":null},{"line":82,"address":[4795760,4795799,4796213,4796165],"length":1,"stats":{"Line":6},"fn_name":"test_min_data"},{"line":83,"address":[4762147],"length":1,"stats":{"Line":1},"fn_name":null},{"line":84,"address":[4762752,4763197,4762199,4762352,4762517,4762577],"length":1,"stats":{"Line":4},"fn_name":null},{"line":85,"address":[4764341,4763405,4762303,4763137,4764134,4762220],"length":1,"stats":{"Line":5},"fn_name":null},{"line":87,"address":[4764313,4764809,4764698],"length":1,"stats":{"Line":2},"fn_name":null},{"line":89,"address":[4762238,4765272,4765142,4764882,4765062,4764768,4765006],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":16,"coverable":28},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","minutes.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Minutes)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_minutes_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let minutes = r.now().minutes();\n        let minutes1 = minutes.clone().value();\n        let minutes2: u8 = minutes.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(minutes1 == minutes2);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2719952],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2719964],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[4541274,4540975,4540672,4540838,4540704,4540761,4540681],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":16,"address":[4541096,4540935,4541285,4541546,4540816,4540862],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[4541536,4541792],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[4541820,4541883],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[4542727,4540877,4541927,4542822,4542014],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[4543015,4542801],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[4542985],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":9,"coverable":9},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","month.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Month)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_month_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let month = r.now().month();\n        let month1 = month.clone().value();\n        let month2: u8 = month.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(month1 == month2);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2720000],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2720012],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[1539401,1539424,1539392,1539695,1539558,1539481,1539994],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":16,"address":[1540266,1540005,1539582,1539536,1539816,1539655],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[1540256,1540512],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[1540603,1540540],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[1539597,1540647,1541542,1540734,1541447],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[1541735,1541521],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[1541705],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":9,"coverable":9},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","mul.rs"],"content":"use std::ops::Mul;\n\nuse ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\nimpl\u003cT: MulArg\u003e Mul\u003cT\u003e for Command {\n    type Output = Self;\n\n    fn mul(self, arg: T) -\u003e Self {\n        Command::new(TermType::Mul)\n            .with_arg(arg.into_mul_opts())\n            .with_parent(self)\n    }\n}\n\npub trait MulArg {\n    fn into_mul_opts(self) -\u003e Command;\n}\n\nimpl\u003cT: AsRef\u003c[f64]\u003e + Serialize\u003e MulArg for T {\n    fn into_mul_opts(self) -\u003e Command {\n        Command::from_json(self)\n    }\n}\n\nimpl MulArg for Command {\n    fn into_mul_opts(self) -\u003e Command {\n        self\n    }\n}\n\n// TODO write test\n","traces":[{"line":11,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":12,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":13,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":14,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":23,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":24,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":29,"address":[4043696],"length":1,"stats":{"Line":0},"fn_name":"into_mul_opts"},{"line":30,"address":[4043704],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":8},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","ne.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::arguments::AnyParam;\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl NeArg) -\u003e Command {\n    args.into_ne_opts().add_to_cmd(Command::new(TermType::Ne))\n}\n\npub trait NeArg {\n    fn into_ne_opts(self) -\u003e CmdOpts;\n}\n\nimpl NeArg for AnyParam {\n    fn into_ne_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(self.into())\n    }\n}\n\nimpl\u003cT: Serialize\u003e NeArg for Vec\u003cT\u003e {\n    fn into_ne_opts(self) -\u003e CmdOpts {\n        let commands = self.iter().map(Command::from_json).collect();\n\n        CmdOpts::Many(commands)\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::arguments::AnyParam;\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_ne_data() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: bool = table\n            .get(1)\n            .g(\"title\")\n            .ne(AnyParam::new(\"title\"))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained);\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_ne_data_r() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let data_obtained: bool = r.ne(vec![5, 6, 7]).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained);\n\n        Ok(())\n    }\n}\n","traces":[{"line":9,"address":[6643671,6643405,6643644,6643200,6643456,6643432],"length":1,"stats":{"Line":2},"fn_name":"new\u003calloc::vec::Vec\u003ci32, alloc::alloc::Global\u003e\u003e"},{"line":10,"address":[6643664,6643425,6643472,6643216],"length":1,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[2775232],"length":1,"stats":{"Line":1},"fn_name":"into_ne_opts"},{"line":19,"address":[2775249],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":25,"address":[],"length":0,"stats":{"Line":2},"fn_name":null},{"line":27,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":39,"address":[1653845,1653797,1653431,1653392],"length":1,"stats":{"Line":6},"fn_name":"test_ne_data"},{"line":40,"address":[5129459,5130468,5129853,5130031,5129532,5129685],"length":1,"stats":{"Line":4},"fn_name":null},{"line":41,"address":[5131534,5131120,5130884,5131591,5130709,5130415,5131315,5131635,5131825,5131043,5130813],"length":1,"stats":{"Line":8},"fn_name":null},{"line":44,"address":[5130674,5130899,5130752,5130860],"length":1,"stats":{"Line":2},"fn_name":null},{"line":45,"address":[6853168],"length":1,"stats":{"Line":5},"fn_name":null},{"line":46,"address":[5131438],"length":1,"stats":{"Line":0},"fn_name":null},{"line":50,"address":[5131714,5132028],"length":1,"stats":{"Line":1},"fn_name":null},{"line":52,"address":[1653468,1653528,1653808,1653423],"length":1,"stats":{"Line":7},"fn_name":null},{"line":56,"address":[1653927,1653888,1654293,1654341],"length":1,"stats":{"Line":6},"fn_name":"test_ne_data_r"},{"line":57,"address":[5133638,5132915,5133020,5133181,5132949,5133370],"length":1,"stats":{"Line":4},"fn_name":null},{"line":58,"address":[5132964,5134728,5133623,5134634,5133866],"length":1,"stats":{"Line":4},"fn_name":null},{"line":60,"address":[5134713,5134936],"length":1,"stats":{"Line":1},"fn_name":null},{"line":62,"address":[1653919,1654304,1654024,1653964],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":19,"coverable":20},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","not_.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\n// TODO use std::ops::Not\npub(crate) fn new(args: impl NotArg) -\u003e Command {\n    let mut command = Command::new(TermType::Not);\n\n    if let Some(arg) = args.into_not_opts() {\n        command = command.with_arg(arg)\n    }\n\n    command\n}\n\npub trait NotArg {\n    fn into_not_opts(self) -\u003e Option\u003cCommand\u003e;\n}\n\nimpl NotArg for () {\n    fn into_not_opts(self) -\u003e Option\u003cCommand\u003e {\n        None\n    }\n}\n\nimpl NotArg for bool {\n    fn into_not_opts(self) -\u003e Option\u003cCommand\u003e {\n        Some(Command::from_json(self))\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_not_data_r() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let data_obtained: bool = r.not(false).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained);\n\n        Ok(())\n    }\n\n    #[tokio::test]\n    async fn test_not_data() -\u003e Result\u003c()\u003e {\n        let object = vec![\"id\", \"id1\", \"title\", \"title1\"];\n        let conn = r.connection().connect().await?;\n        let data_obtained: bool = r\n            .object(object)\n            .has_fields(\"content\")\n            .not_()\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained);\n\n        Ok(())\n    }\n}\n","traces":[{"line":6,"address":[7028384,7027792,7028911,7028345],"length":1,"stats":{"Line":2},"fn_name":"new\u003cbool\u003e"},{"line":7,"address":[2688436,2688532,2689028,2689128],"length":1,"stats":{"Line":4},"fn_name":null},{"line":9,"address":[2689481,2688602,2688540,2688879,2689204,2689136],"length":1,"stats":{"Line":5},"fn_name":null},{"line":10,"address":[2688853,2689455,2688708,2689310],"length":1,"stats":{"Line":2},"fn_name":null},{"line":13,"address":[2607858,2607256],"length":1,"stats":{"Line":2},"fn_name":null},{"line":21,"address":[4106624],"length":1,"stats":{"Line":1},"fn_name":"into_not_opts"},{"line":22,"address":[2757796],"length":1,"stats":{"Line":1},"fn_name":null},{"line":27,"address":[4106640],"length":1,"stats":{"Line":1},"fn_name":"into_not_opts"},{"line":28,"address":[4106672],"length":1,"stats":{"Line":1},"fn_name":null},{"line":38,"address":[4416848,4416887,4417253,4417301],"length":1,"stats":{"Line":6},"fn_name":"test_not_data_r"},{"line":39,"address":[2392764,2392693,2392659,2392925,2393114,2393377],"length":1,"stats":{"Line":4},"fn_name":null},{"line":40,"address":[2393367,2394399,2393605,2392708,2394305],"length":1,"stats":{"Line":4},"fn_name":null},{"line":42,"address":[2394607,2394384],"length":1,"stats":{"Line":1},"fn_name":null},{"line":44,"address":[2394581],"length":1,"stats":{"Line":5},"fn_name":null},{"line":48,"address":[2394672,2394981,2394761,2394681,2395050,2395452,2394704,2394846],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":49,"address":[2395101,2394817],"length":1,"stats":{"Line":2},"fn_name":null},{"line":50,"address":[6865621],"length":1,"stats":{"Line":4},"fn_name":null},{"line":51,"address":[2396628,2395750,2396908,2396409,2396718,2396223,2395962,2396152,2396685],"length":1,"stats":{"Line":6},"fn_name":null},{"line":52,"address":[2395706],"length":1,"stats":{"Line":1},"fn_name":null},{"line":55,"address":[2396064,2396182,2396351,2394885],"length":1,"stats":{"Line":4},"fn_name":null},{"line":56,"address":[2396532],"length":1,"stats":{"Line":0},"fn_name":null},{"line":60,"address":[2397082,2396797],"length":1,"stats":{"Line":1},"fn_name":null},{"line":62,"address":[2397063],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":22,"coverable":23},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","now.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Now)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::types::Time;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_now_time() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let time1 = r.now().value();\n        let time2: Time = r.now().cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(time1.is_valid());\n        assert!(time2.is_valid());\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2720048],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2720060],"length":1,"stats":{"Line":1},"fn_name":null},{"line":16,"address":[1678533,1678080,1678485,1678119],"length":1,"stats":{"Line":6},"fn_name":"test_now_time"},{"line":17,"address":[1783715,1783749,1783820,1783981,1784170,1784431],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[1784673,1784421],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[1785630,1785462,1783764,1784700,1784750],"length":1,"stats":{"Line":4},"fn_name":null},{"line":21,"address":[1785612,1785867,1785892],"length":1,"stats":{"Line":2},"fn_name":null},{"line":22,"address":[1785961,1785928,1785881],"length":1,"stats":{"Line":2},"fn_name":null},{"line":24,"address":[1678156,1678496,1678111,1678216],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":9,"coverable":9},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","nth.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(index: isize) -\u003e Command {\n    let arg = Command::from_json(index);\n\n    Command::new(TermType::Nth).with_arg(arg)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::cmd::order_by::OrderByOption;\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_nth_data() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: Post = table\n            .order_by(OrderByOption::default().index(\"title\"))\n            .nth(-1)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data.last() == Some(\u0026data_obtained));\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":5,"address":[2232018,2231776,2231987],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2231801],"length":1,"stats":{"Line":1},"fn_name":null},{"line":8,"address":[2231828,2231899],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[4495749,4496067,4496413,4495841,4495648,4495657,4495680],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":20,"address":[4495811],"length":1,"stats":{"Line":1},"fn_name":null},{"line":21,"address":[4496424,4496024,4496855,4495871,4496189,4496249],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[4496815,4497104,4497378,4497869,4497261,4497650,4497455,4497926,4497174,4497970,4498258],"length":1,"stats":{"Line":8},"fn_name":null},{"line":23,"address":[4497028,4497199,4497143,4496845,4497181],"length":1,"stats":{"Line":2},"fn_name":null},{"line":25,"address":[4497241,4497583,4495975,4495892,4497284,4497411],"length":1,"stats":{"Line":6},"fn_name":null},{"line":26,"address":[4497773],"length":1,"stats":{"Line":0},"fn_name":null},{"line":30,"address":[4498519,4498142,4498650],"length":1,"stats":{"Line":2},"fn_name":null},{"line":32,"address":[4495910,4498609,4498847,4498983,4498903,4499113,4498723],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":11,"coverable":12},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","object.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(values: Vec\u003cimpl Serialize\u003e) -\u003e Command {\n    let mut command = Command::new(TermType::Object);\n\n    for value in values {\n        let arg = Command::from_json(value);\n\n        command = command.with_arg(arg);\n    }\n\n    command\n}\n\n#[cfg(test)]\nmod tests {\n    use serde::{Deserialize, Serialize};\n\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[derive(Debug, PartialEq, Eq, Serialize, Deserialize)]\n    struct InnerPost {\n        id: String,\n        title: String,\n    }\n\n    #[tokio::test]\n    async fn test_object_converted() -\u003e Result\u003c()\u003e {\n        let post = InnerPost {\n            id: \"id1\".to_string(),\n            title: \"title1\".to_string(),\n        };\n        let object = vec![\"id\", \"id1\", \"title\", \"title1\"];\n\n        let conn = r.connection().connect().await?;\n        let data_obtained: InnerPost = r.object(object).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained == post);\n\n        Ok(())\n    }\n}\n","traces":[{"line":6,"address":[3585424,3586047,3586102],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":7,"address":[3585538,3585449],"length":1,"stats":{"Line":2},"fn_name":null},{"line":9,"address":[3586042,3585546,3585633,3585878],"length":1,"stats":{"Line":3},"fn_name":null},{"line":10,"address":[3585871],"length":1,"stats":{"Line":1},"fn_name":null},{"line":12,"address":[3585910],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[3586063],"length":1,"stats":{"Line":1},"fn_name":null},{"line":32,"address":[4097072,4097049,4097129,4097210,4097578,4097040,4097345],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":34,"address":[4097183],"length":1,"stats":{"Line":1},"fn_name":null},{"line":35,"address":[4097451],"length":1,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[4097566,4097640],"length":1,"stats":{"Line":2},"fn_name":null},{"line":39,"address":[4097748,4097813,4098289,4097234,4097305],"length":1,"stats":{"Line":4},"fn_name":null},{"line":40,"address":[4097249,4099369,4099197,4098496,4098235],"length":1,"stats":{"Line":4},"fn_name":null},{"line":42,"address":[4099665,4099698,4099355],"length":1,"stats":{"Line":2},"fn_name":null},{"line":44,"address":[4099671],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":14,"coverable":14},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","offsets_of.rs"],"content":"use ql2::term::TermType;\n\nuse crate::arguments::AnyParam;\nuse crate::prelude::Func;\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl OffsetsOfArg) -\u003e Command {\n    args.into_offsets_of_opts()\n        .add_to_cmd(Command::new(TermType::OffsetsOf))\n}\n\npub trait OffsetsOfArg {\n    fn into_offsets_of_opts(self) -\u003e CmdOpts;\n}\n\nimpl OffsetsOfArg for AnyParam {\n    fn into_offsets_of_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(self.into())\n    }\n}\n\nimpl OffsetsOfArg for Func {\n    fn into_offsets_of_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(self.0)\n    }\n}\n\nimpl OffsetsOfArg for Command {\n    fn into_offsets_of_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(self)\n    }\n}\n\n// TODO write test\n","traces":[{"line":19,"address":[5126880],"length":1,"stats":{"Line":0},"fn_name":"into_offsets_of_opts"},{"line":20,"address":[5126897],"length":1,"stats":{"Line":0},"fn_name":null},{"line":25,"address":[7020784],"length":1,"stats":{"Line":0},"fn_name":"into_offsets_of_opts"},{"line":26,"address":[7020800],"length":1,"stats":{"Line":0},"fn_name":null},{"line":31,"address":[4043728],"length":1,"stats":{"Line":0},"fn_name":"into_offsets_of_opts"},{"line":32,"address":[4043744],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":6},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","or.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl OrArg) -\u003e Command {\n    args.into_or_opts().add_to_cmd(Command::new(TermType::Or))\n}\n\npub trait OrArg {\n    fn into_or_opts(self) -\u003e CmdOpts;\n}\n\nimpl OrArg for bool {\n    fn into_or_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(Command::from_json(self))\n    }\n}\n\nimpl OrArg for Command {\n    fn into_or_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(self)\n    }\n}\n\nimpl OrArg for Vec\u003cbool\u003e {\n    fn into_or_opts(self) -\u003e CmdOpts {\n        let commands = self.iter().map(Command::from_json).collect();\n\n        CmdOpts::Many(commands)\n    }\n}\n\nimpl OrArg for Vec\u003cCommand\u003e {\n    fn into_or_opts(self) -\u003e CmdOpts {\n        CmdOpts::Many(self)\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_or_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let data_obtained: bool = r.or(vec![true, false]).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained);\n\n        Ok(())\n    }\n}\n","traces":[{"line":7,"address":[4533976,4533744,4533949],"length":1,"stats":{"Line":1},"fn_name":"new\u003calloc::vec::Vec\u003cbool, alloc::alloc::Global\u003e\u003e"},{"line":8,"address":[4533760,4533969],"length":1,"stats":{"Line":1},"fn_name":null},{"line":16,"address":[2039536],"length":1,"stats":{"Line":0},"fn_name":"into_or_opts"},{"line":17,"address":[2039568],"length":1,"stats":{"Line":0},"fn_name":null},{"line":22,"address":[2177504],"length":1,"stats":{"Line":0},"fn_name":"into_or_opts"},{"line":23,"address":[4043824],"length":1,"stats":{"Line":0},"fn_name":null},{"line":28,"address":[4439920,4440169],"length":1,"stats":{"Line":1},"fn_name":"into_or_opts"},{"line":29,"address":[4439950,4440019],"length":1,"stats":{"Line":2},"fn_name":null},{"line":31,"address":[4440097],"length":1,"stats":{"Line":1},"fn_name":null},{"line":36,"address":[4440208],"length":1,"stats":{"Line":0},"fn_name":"into_or_opts"},{"line":37,"address":[4440215],"length":1,"stats":{"Line":0},"fn_name":null},{"line":47,"address":[4121444,4121161,4121743,4121309,4121152,4121184,4121241],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":48,"address":[4121754,4121404,4121299,4121565,4122022,4121333],"length":1,"stats":{"Line":4},"fn_name":null},{"line":49,"address":[4122007,4123005,4123099,4121348,4122250],"length":1,"stats":{"Line":4},"fn_name":null},{"line":51,"address":[4123307,4123084],"length":1,"stats":{"Line":1},"fn_name":null},{"line":53,"address":[4123281],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":10,"coverable":16},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","order_by.rs"],"content":"use std::borrow::Cow;\n\nuse ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::arguments::Args;\nuse crate::prelude::Func;\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl OrderByArg) -\u003e Command {\n    let (args, opts) = args.into_order_by_opts();\n    let mut command = Command::new(TermType::OrderBy);\n\n    if let Some(args) = args {\n        command = args.add_to_cmd(command)\n    }\n\n    command.with_opts(opts)\n}\n\npub trait OrderByArg {\n    fn into_order_by_opts(self) -\u003e (Option\u003cCmdOpts\u003e, OrderByOption);\n}\n\nimpl OrderByArg for OrderByOption {\n    fn into_order_by_opts(self) -\u003e (Option\u003cCmdOpts\u003e, OrderByOption) {\n        (Default::default(), self)\n    }\n}\n\nimpl OrderByArg for Func {\n    fn into_order_by_opts(self) -\u003e (Option\u003cCmdOpts\u003e, OrderByOption) {\n        (Some(CmdOpts::Single(self.0)), Default::default())\n    }\n}\n\nimpl OrderByArg for Command {\n    fn into_order_by_opts(self) -\u003e (Option\u003cCmdOpts\u003e, OrderByOption) {\n        (Some(CmdOpts::Single(self)), Default::default())\n    }\n}\n\nimpl OrderByArg for Args\u003c(Func, OrderByOption)\u003e {\n    fn into_order_by_opts(self) -\u003e (Option\u003cCmdOpts\u003e, OrderByOption) {\n        let Func(func) = self.0 .0;\n\n        (Some(CmdOpts::Single(func)), self.0 .1)\n    }\n}\n\nimpl OrderByArg for Args\u003c(Command, OrderByOption)\u003e {\n    fn into_order_by_opts(self) -\u003e (Option\u003cCmdOpts\u003e, OrderByOption) {\n        (Some(CmdOpts::Single(self.0 .0)), self.0 .1)\n    }\n}\n\nimpl OrderByArg for Args\u003c(Command, Command)\u003e {\n    fn into_order_by_opts(self) -\u003e (Option\u003cCmdOpts\u003e, OrderByOption) {\n        (\n            Some(CmdOpts::Many(vec![self.0 .0, self.0 .1])),\n            Default::default(),\n        )\n    }\n}\n\nimpl OrderByArg for Args\u003c(Func, Command)\u003e {\n    fn into_order_by_opts(self) -\u003e (Option\u003cCmdOpts\u003e, OrderByOption) {\n        let Func(func) = self.0 .0;\n        (\n            Some(CmdOpts::Many(vec![func, self.0 .1])),\n            Default::default(),\n        )\n    }\n}\n\n#[derive(Debug, Clone, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\n#[non_exhaustive]\npub struct OrderByOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub index: Option\u003cCow\u003c'static, str\u003e\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::{args, r, Result};\n\n    use super::OrderByOption;\n\n    #[tokio::test]\n    async fn test_order_by_with_opts() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: Vec\u003cPost\u003e = table\n            .order_by(OrderByOption::default().index(\"id\"))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained == data);\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_order_by_title_with_opts() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let order_by_option = OrderByOption::default().index(\"title\");\n        let data_obtained: Vec\u003cPost\u003e = table\n            .order_by(args!(r.expr(\"id\"), order_by_option))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained == data);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":13,"address":[2769979,2768640,2770000,2769246,2769344,2768542,2767232,2767936,2767859,2768563,2767838,2769267],"length":1,"stats":{"Line":4},"fn_name":"new\u003creql_rust::proto::Command\u003e"},{"line":14,"address":[2767249,2769361,2767953,2768657],"length":1,"stats":{"Line":4},"fn_name":null},{"line":15,"address":[2769520,2767379,2768083,2768787],"length":1,"stats":{"Line":4},"fn_name":null},{"line":17,"address":[2769890,2769157,2768861,2768157,2767453,2769594,2767749,2768453],"length":1,"stats":{"Line":7},"fn_name":null},{"line":18,"address":[2769706,2769864,2768269,2768427,2768973,2767565,2767723,2769131],"length":1,"stats":{"Line":6},"fn_name":null},{"line":21,"address":[2767657,2768361,2769798,2769065],"length":1,"stats":{"Line":4},"fn_name":null},{"line":29,"address":[2544762,2544544],"length":1,"stats":{"Line":1},"fn_name":"into_order_by_opts"},{"line":30,"address":[2544622,2544570],"length":1,"stats":{"Line":2},"fn_name":null},{"line":35,"address":[7020864,7021130],"length":1,"stats":{"Line":0},"fn_name":"into_order_by_opts"},{"line":36,"address":[7020916],"length":1,"stats":{"Line":0},"fn_name":null},{"line":41,"address":[4043888,4044154],"length":1,"stats":{"Line":1},"fn_name":"into_order_by_opts"},{"line":42,"address":[4043940],"length":1,"stats":{"Line":1},"fn_name":null},{"line":47,"address":[6662928],"length":1,"stats":{"Line":0},"fn_name":"into_order_by_opts"},{"line":48,"address":[6662949],"length":1,"stats":{"Line":0},"fn_name":null},{"line":50,"address":[6662964],"length":1,"stats":{"Line":0},"fn_name":null},{"line":55,"address":[6663232],"length":1,"stats":{"Line":1},"fn_name":"into_order_by_opts"},{"line":56,"address":[6663254],"length":1,"stats":{"Line":1},"fn_name":null},{"line":61,"address":[6664048,6663504,6664013],"length":1,"stats":{"Line":1},"fn_name":"into_order_by_opts"},{"line":63,"address":[6663626,6663526],"length":1,"stats":{"Line":2},"fn_name":null},{"line":64,"address":[6663871],"length":1,"stats":{"Line":1},"fn_name":null},{"line":70,"address":[6664096,6664639,6664674],"length":1,"stats":{"Line":0},"fn_name":"into_order_by_opts"},{"line":71,"address":[6664118],"length":1,"stats":{"Line":0},"fn_name":null},{"line":73,"address":[6664179,6664232],"length":1,"stats":{"Line":0},"fn_name":null},{"line":74,"address":[6664483],"length":1,"stats":{"Line":0},"fn_name":null},{"line":95,"address":[4417840,4418245,4417879,4418293],"length":1,"stats":{"Line":6},"fn_name":"test_order_by_with_opts"},{"line":96,"address":[2287923],"length":1,"stats":{"Line":1},"fn_name":null},{"line":97,"address":[2288136,2288361,2287983,2288301,2288536,2288967],"length":1,"stats":{"Line":4},"fn_name":null},{"line":98,"address":[2289729,2290279,2290049,2289216,2289457,2289948,2289534,2289291,2290005,2288927],"length":1,"stats":{"Line":7},"fn_name":null},{"line":99,"address":[2289263,2288957,2289316,2289298,2289140],"length":1,"stats":{"Line":2},"fn_name":null},{"line":100,"address":[2288087,2289490,2288004,2289366,2289662,2289271],"length":1,"stats":{"Line":6},"fn_name":null},{"line":101,"address":[2289852],"length":1,"stats":{"Line":0},"fn_name":null},{"line":105,"address":[2290534,2290589,2290169],"length":1,"stats":{"Line":2},"fn_name":null},{"line":107,"address":[6775409],"length":1,"stats":{"Line":7},"fn_name":null},{"line":111,"address":[2291401,2292161,2291392,2291589,2291424,2291493,2291815],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":112,"address":[2291555],"length":1,"stats":{"Line":1},"fn_name":null},{"line":113,"address":[2292553,2291937,2291772,2291997,2291619,2292172],"length":1,"stats":{"Line":4},"fn_name":null},{"line":114,"address":[2292778,2292543],"length":1,"stats":{"Line":2},"fn_name":null},{"line":115,"address":[2292825,2293086,2293591,2293810,2293867,2294145,2293396,2293915,2293319,2293153],"length":1,"stats":{"Line":7},"fn_name":null},{"line":116,"address":[2293125,2293178,2293160,2292867],"length":1,"stats":{"Line":2},"fn_name":null},{"line":117,"address":[2291723,2293133,2293352,2293524,2291640,2293228],"length":1,"stats":{"Line":6},"fn_name":null},{"line":118,"address":[2293714],"length":1,"stats":{"Line":0},"fn_name":null},{"line":122,"address":[2294400,2294035,2294455],"length":1,"stats":{"Line":2},"fn_name":null},{"line":124,"address":[2294414,2294546,2294940,2294726,2294810,2291658,2294670],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":32,"coverable":43},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","outer_join.rs"],"content":"use ql2::term::TermType;\n\nuse crate::prelude::Func;\nuse crate::Command;\n\npub(crate) fn new(other_table: Command, func: Func) -\u003e Command {\n    let Func(func) = func;\n\n    Command::new(TermType::OuterJoin)\n        .with_arg(other_table)\n        .with_arg(func)\n}\n\n// TODO write test\n","traces":[{"line":6,"address":[6929616,6929280],"length":1,"stats":{"Line":0},"fn_name":"new"},{"line":7,"address":[6929315],"length":1,"stats":{"Line":0},"fn_name":null},{"line":9,"address":[6929366,6929501,6929564],"length":1,"stats":{"Line":0},"fn_name":null},{"line":10,"address":[6929445],"length":1,"stats":{"Line":0},"fn_name":null},{"line":11,"address":[6929508],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":5},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","pluck.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(selector: impl Serialize) -\u003e Command {\n    let arg = Command::from_json(selector);\n\n    Command::new(TermType::Pluck).with_arg(arg)\n}\n\n#[cfg(test)]\nmod tests {\n    use serde::{Deserialize, Serialize};\n\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[derive(Debug, Serialize, Deserialize, PartialEq, Eq)]\n    struct InnerPost {\n        id: u8,\n        title: String,\n    }\n\n    #[tokio::test]\n    async fn test_pluck_data() -\u003e Result\u003c()\u003e {\n        let data = Post::get_one_data();\n        let data = InnerPost {\n            id: data.id,\n            title: data.title,\n        };\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: InnerPost = table\n            .get(1)\n            .pluck([\"id\", \"title\"])\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained == data);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":6,"address":[4354064,4354315,4354342],"length":1,"stats":{"Line":1},"fn_name":"new\u003c[\u0026str; 2]\u003e"},{"line":7,"address":[4354081],"length":1,"stats":{"Line":1},"fn_name":null},{"line":9,"address":[4354229,4354162],"length":1,"stats":{"Line":2},"fn_name":null},{"line":27,"address":[4369685,4369616,4369769,4369593,4369999,4370413,4369584],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":28,"address":[4369747],"length":1,"stats":{"Line":1},"fn_name":null},{"line":30,"address":[4370116],"length":1,"stats":{"Line":1},"fn_name":null},{"line":31,"address":[4370119],"length":1,"stats":{"Line":1},"fn_name":null},{"line":33,"address":[4369799,4369956,4370182,4370249,4370424,4370832],"length":1,"stats":{"Line":4},"fn_name":null},{"line":34,"address":[4372101,4370785,4371149,4371541,4371269,4371817,4371114,4371346,4371760,4371861],"length":1,"stats":{"Line":7},"fn_name":null},{"line":36,"address":[4371036],"length":1,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[4371129,4369905,4371172,4371474,4371302,4369820],"length":1,"stats":{"Line":6},"fn_name":null},{"line":38,"address":[4371664],"length":1,"stats":{"Line":0},"fn_name":null},{"line":42,"address":[4372427,4372482,4371987],"length":1,"stats":{"Line":2},"fn_name":null},{"line":44,"address":[4372978,4372441,4372555,4369838,4372735,4372845,4372679],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":13,"coverable":14},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","point.rs"],"content":"use ql2::term::TermType;\nuse serde::{Deserialize, Serialize};\n\nuse crate::constants::{MAX_LATITUDE_VALUE, MAX_LONGITUDE_VALUE};\nuse crate::prelude::Geometry;\nuse crate::types::{GeoType, ReqlType};\nuse crate::Command;\n\n#[derive(Debug, Serialize, Deserialize, Clone, PartialEq, PartialOrd, Geometry)]\npub struct Point {\n    #[serde(rename = \"$reql_type$\")]\n    pub reql_type: ReqlType,\n    pub coordinates: [f64; 2],\n    #[serde(rename = \"type\")]\n    pub typ: GeoType,\n}\n\nimpl Point {\n    pub fn new(longitude: f64, latitude: f64) -\u003e Self {\n        assert!((-MAX_LONGITUDE_VALUE..=MAX_LONGITUDE_VALUE).contains(\u0026longitude));\n        assert!((-MAX_LATITUDE_VALUE..=MAX_LATITUDE_VALUE).contains(\u0026latitude));\n\n        Self {\n            reql_type: ReqlType::Geometry,\n            coordinates: [longitude, latitude],\n            typ: GeoType::Point,\n        }\n    }\n}\n\nimpl From\u003cPoint\u003e for Command {\n    fn from(point: Point) -\u003e Self {\n        point\n            .coordinates\n            .iter()\n            .fold(Command::new(TermType::Point), |command, coord| {\n                command.with_arg(Command::from_json(coord))\n            })\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use serde::{Deserialize, Serialize};\n\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::Point;\n    use crate::{r, Result};\n\n    #[derive(Debug, Serialize, Deserialize, PartialEq)]\n    struct User {\n        id: u8,\n        name: String,\n        location: Point,\n    }\n\n    #[tokio::test]\n    async fn test_point_data() -\u003e Result\u003c()\u003e {\n        let user = User {\n            id: 1,\n            name: \"Yaound\".to_string(),\n            location: r.point(-122.423246, 37.779388),\n        };\n        let (conn, table, table_name) = set_up(false).await?;\n        table.clone().insert(\u0026user).run(\u0026conn).await?;\n        let response: User = table.get(1).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == user);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":19,"address":[2608144],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":20,"address":[2689818,2689874],"length":1,"stats":{"Line":1},"fn_name":null},{"line":21,"address":[4406930,4407000,4406873],"length":1,"stats":{"Line":2},"fn_name":null},{"line":25,"address":[2689924],"length":1,"stats":{"Line":1},"fn_name":null},{"line":32,"address":[4044192],"length":1,"stats":{"Line":1},"fn_name":"from"},{"line":33,"address":[2259629,2259564],"length":1,"stats":{"Line":2},"fn_name":null},{"line":36,"address":[1647232,1647040,1647259],"length":1,"stats":{"Line":2},"fn_name":"{closure#0}"},{"line":37,"address":[2700321,2700487],"length":1,"stats":{"Line":1},"fn_name":null},{"line":59,"address":[4594016,4594055,4594421,4594469],"length":1,"stats":{"Line":6},"fn_name":"test_point_data"},{"line":62,"address":[1630805],"length":1,"stats":{"Line":1},"fn_name":null},{"line":63,"address":[1631273],"length":1,"stats":{"Line":1},"fn_name":null},{"line":65,"address":[1632012,1631390,1630865,1631094,1631464],"length":1,"stats":{"Line":4},"fn_name":null},{"line":66,"address":[1632002,1630886,1631043,1632236],"length":1,"stats":{"Line":4},"fn_name":null},{"line":67,"address":[1630907,1634028,1632976,1633820,1633100,1630992],"length":1,"stats":{"Line":5},"fn_name":null},{"line":69,"address":[1634452,1634510,1634014],"length":1,"stats":{"Line":2},"fn_name":null},{"line":71,"address":[1634747,1634836,1634972,1634466,1634564,1630925,1634688],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":16,"coverable":16},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","polygon.rs"],"content":"use ql2::term::TermType;\nuse serde::{Deserialize, Serialize};\n\nuse crate::prelude::Geometry;\nuse crate::types::{GeoType, ReqlType};\nuse crate::Command;\n\nuse super::point::Point;\nuse super::polygon_sub;\n\n#[derive(Debug, Serialize, Deserialize, Clone, PartialEq, PartialOrd, Geometry)]\npub struct Polygon {\n    #[serde(rename = \"$reql_type$\")]\n    pub reql_type: ReqlType,\n    pub coordinates: Vec\u003cVec\u003c[f64; 2]\u003e\u003e,\n    #[serde(rename = \"type\")]\n    pub typ: GeoType,\n}\n\nimpl Polygon {\n    pub fn new(points: \u0026[Point]) -\u003e Self {\n        assert!(points.len() \u003e= 3);\n\n        Self {\n            reql_type: ReqlType::Geometry,\n            typ: GeoType::Polygon,\n            coordinates: vec![points.iter().map(|point| point.coordinates).collect()],\n        }\n    }\n\n    pub fn new_from_vec(coordinates: Vec\u003cVec\u003c[f64; 2]\u003e\u003e) -\u003e Self {\n        Self {\n            reql_type: ReqlType::Geometry,\n            typ: GeoType::Polygon,\n            coordinates,\n        }\n    }\n\n    /// Use `polygon2` to punch out a hole in `polygon1`.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// polygon1.polygon_sub(polygon2)  polygon\n    /// ```\n    ///\n    /// Where:\n    /// - polygon1, polygon1, polygon: [Polygon](crate::cmd::polygon::Polygon)\n    ///\n    /// # Description\n    ///\n    /// `polygon2` must be completely contained within `polygon1` and must\n    /// have no holes itself (it must not be the output of `polygon_sub` itself).\n    ///\n    /// ## Examples\n    ///\n    /// Define a polygon with a hole punched in it.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::Polygon;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let expected_data = Polygon::new_from_vec(vec![\n    ///         vec![\n    ///             [-122.4, 37.7],\n    ///             [-122.4, 37.3],\n    ///             [-121.8, 37.3],\n    ///             [-121.8, 37.7],\n    ///             [-122.4, 37.7],\n    ///         ],\n    ///         vec![\n    ///             [-122.3, 37.4],\n    ///             [-122.3, 37.6],\n    ///             [-122.0, 37.6],\n    ///             [-122.0, 37.4],\n    ///             [-122.3, 37.4],\n    ///         ],\n    ///     ]);\n    ///     let outer_polygon = r.polygon(\u0026[\n    ///         r.point(-122.4, 37.7),\n    ///         r.point(-122.4, 37.3),\n    ///         r.point(-121.8, 37.3),\n    ///         r.point(-121.8, 37.7),\n    ///     ]);\n    ///     let inner_polygon = r.polygon(\u0026[\n    ///         r.point(-122.3, 37.4),\n    ///         r.point(-122.3, 37.6),\n    ///         r.point(-122.0, 37.6),\n    ///         r.point(-122.0, 37.4),\n    ///     ]);\n    ///\n    ///     let response: Polygon = outer_polygon\n    ///         .polygon_sub(inner_polygon)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == expected_data);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [polygon](crate::r::polygon)\n    pub fn polygon_sub(self, polygon: Polygon) -\u003e Command {\n        polygon_sub::new(polygon).with_parent(self.into())\n    }\n}\n\nimpl From\u003cPolygon\u003e for Command {\n    fn from(polygon: Polygon) -\u003e Self {\n        polygon.coordinates.iter().flatten().fold(\n            Command::new(TermType::Polygon),\n            |command, coord| {\n                let point: Command = Point::new(coord[0], coord[1]).into();\n\n                command.with_arg(point)\n            },\n        )\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use serde::{Deserialize, Serialize};\n\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::{Point, Polygon};\n    use crate::{r, Result};\n\n    #[derive(Debug, Serialize, Deserialize, PartialEq)]\n    struct Rectangle {\n        id: u8,\n        rectangle: Polygon,\n    }\n\n    #[tokio::test]\n    async fn test_polygon_data() -\u003e Result\u003c()\u003e {\n        let rectangle = Rectangle {\n            id: 1,\n            rectangle: r.polygon(\u0026[\n                Point::new(-122.423246, 37.779388),\n                Point::new(-122.423246, 37.329898),\n                Point::new(-121.886420, 37.329898),\n                Point::new(-121.886420, 37.779388),\n            ]),\n        };\n        let (conn, table, table_name) = set_up(false).await?;\n        table.clone().insert(\u0026rectangle).run(\u0026conn).await?;\n        let response: Rectangle = table.get(1).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == rectangle);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":21,"address":[2044560,2044850],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":22,"address":[2243723,2243768],"length":1,"stats":{"Line":1},"fn_name":null},{"line":27,"address":[2162098,2162170],"length":1,"stats":{"Line":4},"fn_name":null},{"line":31,"address":[2162432],"length":1,"stats":{"Line":1},"fn_name":"new_from_vec"},{"line":111,"address":[2244470,2244160],"length":1,"stats":{"Line":1},"fn_name":"polygon_sub"},{"line":112,"address":[2162533,2162645,2162803],"length":1,"stats":{"Line":2},"fn_name":null},{"line":117,"address":[4044320,4044515],"length":1,"stats":{"Line":1},"fn_name":"from"},{"line":118,"address":[4044414,4044350,4044496],"length":1,"stats":{"Line":3},"fn_name":null},{"line":119,"address":[2178163],"length":1,"stats":{"Line":1},"fn_name":null},{"line":120,"address":[2062320,2062574,2062601],"length":1,"stats":{"Line":1},"fn_name":"{closure#0}"},{"line":121,"address":[2062452,2062358],"length":1,"stats":{"Line":2},"fn_name":null},{"line":123,"address":[2062464],"length":1,"stats":{"Line":1},"fn_name":null},{"line":145,"address":[1324608,1324709,1324823,1324617,1324640,1325125,1325761],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":148,"address":[1325330],"length":1,"stats":{"Line":1},"fn_name":null},{"line":155,"address":[1325531,1325594,1325082,1324853,1325772,1326186],"length":1,"stats":{"Line":4},"fn_name":null},{"line":156,"address":[1324874,1325031,1326176,1326410],"length":1,"stats":{"Line":4},"fn_name":null},{"line":157,"address":[1327156,1324895,1328012,1328192,1327286,1324980],"length":1,"stats":{"Line":5},"fn_name":null},{"line":159,"address":[1328677,1328175,1328619],"length":1,"stats":{"Line":2},"fn_name":null},{"line":161,"address":[1328914,1329003,1328731,1329139,1328633,1324913,1328855],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":19,"coverable":19},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","polygon_sub.rs"],"content":"use ql2::term::TermType;\n\nuse crate::types::Polygon;\nuse crate::Command;\n\npub(crate) fn new(polygon: Polygon) -\u003e Command {\n    let arg: Command = polygon.into();\n\n    Command::new(TermType::PolygonSub).with_arg(arg)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::cmd::polygon::Polygon;\n    use crate::prelude::Converter;\n    use crate::types::Point;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_polygon_sub_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let expected_data = Polygon::new_from_vec(vec![\n            vec![\n                [-122.4, 37.7],\n                [-122.4, 37.3],\n                [-121.8, 37.3],\n                [-121.8, 37.7],\n                [-122.4, 37.7],\n            ],\n            vec![\n                [-122.3, 37.4],\n                [-122.3, 37.6],\n                [-122.0, 37.6],\n                [-122.0, 37.4],\n                [-122.3, 37.4],\n            ],\n        ]);\n        let outer_polygon = r.polygon(\u0026[\n            Point::new(-122.4, 37.7),\n            Point::new(-122.4, 37.3),\n            Point::new(-121.8, 37.3),\n            Point::new(-121.8, 37.7),\n        ]);\n        let inner_polygon = r.polygon(\u0026[\n            Point::new(-122.3, 37.4),\n            Point::new(-122.3, 37.6),\n            Point::new(-122.0, 37.6),\n            Point::new(-122.0, 37.4),\n        ]);\n        let response: Polygon = outer_polygon\n            .polygon_sub(inner_polygon)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response == expected_data);\n\n        Ok(())\n    }\n}\n","traces":[{"line":6,"address":[4354646,4354368,4354619],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":7,"address":[2313697],"length":1,"stats":{"Line":1},"fn_name":null},{"line":9,"address":[4354466,4354533],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[1762464,1762765,1762553,1762473,1762630,1763064,1762496],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":21,"address":[1762608,1762654,1763075,1763343,1762725,1762886],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[1763328,1763880,1764121,1763617],"length":1,"stats":{"Line":2},"fn_name":null},{"line":23,"address":[1763771,1763600],"length":1,"stats":{"Line":2},"fn_name":null},{"line":24,"address":[1763661],"length":1,"stats":{"Line":1},"fn_name":null},{"line":25,"address":[1763687],"length":1,"stats":{"Line":1},"fn_name":null},{"line":26,"address":[1763723],"length":1,"stats":{"Line":1},"fn_name":null},{"line":27,"address":[1763739],"length":1,"stats":{"Line":1},"fn_name":null},{"line":28,"address":[1763755],"length":1,"stats":{"Line":1},"fn_name":null},{"line":30,"address":[1764037,1763860],"length":1,"stats":{"Line":2},"fn_name":null},{"line":31,"address":[1763927],"length":1,"stats":{"Line":1},"fn_name":null},{"line":32,"address":[1763953],"length":1,"stats":{"Line":1},"fn_name":null},{"line":33,"address":[1763989],"length":1,"stats":{"Line":1},"fn_name":null},{"line":34,"address":[1764005],"length":1,"stats":{"Line":1},"fn_name":null},{"line":35,"address":[1764021],"length":1,"stats":{"Line":1},"fn_name":null},{"line":38,"address":[1764381],"length":1,"stats":{"Line":1},"fn_name":null},{"line":39,"address":[1764236],"length":1,"stats":{"Line":1},"fn_name":null},{"line":40,"address":[1764312],"length":1,"stats":{"Line":1},"fn_name":null},{"line":41,"address":[1764343],"length":1,"stats":{"Line":1},"fn_name":null},{"line":42,"address":[1764374],"length":1,"stats":{"Line":1},"fn_name":null},{"line":44,"address":[1764712],"length":1,"stats":{"Line":1},"fn_name":null},{"line":45,"address":[1764570],"length":1,"stats":{"Line":1},"fn_name":null},{"line":46,"address":[1764643],"length":1,"stats":{"Line":1},"fn_name":null},{"line":47,"address":[1764674],"length":1,"stats":{"Line":1},"fn_name":null},{"line":48,"address":[1764705],"length":1,"stats":{"Line":1},"fn_name":null},{"line":50,"address":[1765708,1765135,1765206,1765391,1765610,1764873,1764965,1765667,1765948,1765024],"length":1,"stats":{"Line":7},"fn_name":null},{"line":51,"address":[1764909],"length":1,"stats":{"Line":1},"fn_name":null},{"line":52,"address":[1765004,1765165,1765334,1765047,1762669],"length":1,"stats":{"Line":5},"fn_name":null},{"line":53,"address":[1765514],"length":1,"stats":{"Line":0},"fn_name":null},{"line":57,"address":[1765826,1766073,1766106],"length":1,"stats":{"Line":2},"fn_name":null},{"line":59,"address":[1766079],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":33,"coverable":34},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","prepend.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(value: impl Serialize) -\u003e Command {\n    let arg = Command::from_json(value);\n\n    Command::new(TermType::Prepend).with_arg(arg)\n}\n\n// TODO write test\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","random.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(args: impl RandomArg) -\u003e Command {\n    let (arg1, arg2, opts) = args.into_random_opts();\n    let mut command = Command::new(TermType::Random);\n\n    if let Some(arg) = arg1 {\n        command = command.with_arg(arg)\n    }\n\n    if let Some(arg) = arg2 {\n        command = command.with_arg(arg)\n    }\n\n    command.with_opts(opts)\n}\n\npub trait RandomArg {\n    fn into_random_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, RandomOption);\n}\n\nimpl RandomArg for () {\n    fn into_random_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, RandomOption) {\n        (None, None, Default::default())\n    }\n}\n\nimpl RandomArg for isize {\n    fn into_random_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, RandomOption) {\n        (Some(Command::from_json(self)), None, Default::default())\n    }\n}\n\nimpl RandomArg for f64 {\n    fn into_random_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, RandomOption) {\n        (Some(Command::from_json(self)), None, Default::default())\n    }\n}\n\nimpl RandomArg for (isize, isize) {\n    fn into_random_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, RandomOption) {\n        (\n            Some(Command::from_json(self.0)),\n            Some(Command::from_json(self.1)),\n            Default::default(),\n        )\n    }\n}\n\nimpl RandomArg for (f64, f64) {\n    fn into_random_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, RandomOption) {\n        (\n            Some(Command::from_json(self.0)),\n            Some(Command::from_json(self.1)),\n            Default::default(),\n        )\n    }\n}\n\nimpl RandomArg for (isize, isize, RandomOption) {\n    fn into_random_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, RandomOption) {\n        (\n            Some(Command::from_json(self.0)),\n            Some(Command::from_json(self.1)),\n            self.2,\n        )\n    }\n}\n\nimpl RandomArg for (f64, f64, RandomOption) {\n    fn into_random_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, RandomOption) {\n        (\n            Some(Command::from_json(self.0)),\n            Some(Command::from_json(self.1)),\n            self.2,\n        )\n    }\n}\n\n#[derive(\n    Debug, Default, Clone, PartialEq, Eq, PartialOrd, Ord, Hash, Serialize, CommandOptions,\n)]\npub struct RandomOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub float: Option\u003cbool\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    use super::RandomOption;\n\n    #[tokio::test]\n    async fn test_random_data() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let data_obtained1: f64 = r.random(()).run(\u0026conn).await?.unwrap().parse()?;\n        let data_obtained2: isize = r.random(100).run(\u0026conn).await?.unwrap().parse()?;\n        let data_obtained3: f64 = r\n            .random((-100.52, -10.71, RandomOption::default().float(true)))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained1.is_normal());\n        assert!(data_obtained2 \u003e= 0);\n        assert!(data_obtained3.is_normal());\n\n        Ok(())\n    }\n}\n","traces":[{"line":7,"address":[2388228,2388114,2386191,2387296,2385216,2387207,2386077,2386272,2387093],"length":1,"stats":{"Line":3},"fn_name":"new\u003c(f64, f64, reql_rust::cmd::random::RandomOption)\u003e"},{"line":8,"address":[2385236,2386297,2387316],"length":1,"stats":{"Line":3},"fn_name":null},{"line":9,"address":[2385410,2386428,2387447],"length":1,"stats":{"Line":3},"fn_name":null},{"line":11,"address":[2385749,2387786,2385507,2386767,2387544,2386525],"length":1,"stats":{"Line":5},"fn_name":null},{"line":12,"address":[2385723,2387665,2387760,2385628,2386741,2386646],"length":1,"stats":{"Line":4},"fn_name":null},{"line":15,"address":[2386703,2388014,2385751,2386993,2387788,2387722,2385977,2386769,2385685],"length":1,"stats":{"Line":5},"fn_name":null},{"line":16,"address":[2386853,2385835,2387872,2386967,2385951,2387988],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[2385925,2387962,2386942],"length":1,"stats":{"Line":3},"fn_name":null},{"line":27,"address":[4891131,4890944,4891108],"length":1,"stats":{"Line":1},"fn_name":"into_random_opts"},{"line":28,"address":[4890961,4891124],"length":1,"stats":{"Line":1},"fn_name":null},{"line":33,"address":[4891152,4891378,4891355],"length":1,"stats":{"Line":1},"fn_name":"into_random_opts"},{"line":34,"address":[4891371,4891177],"length":1,"stats":{"Line":1},"fn_name":null},{"line":39,"address":[4891408,4891612,4891635],"length":1,"stats":{"Line":0},"fn_name":"into_random_opts"},{"line":40,"address":[4891434,4891628],"length":1,"stats":{"Line":0},"fn_name":null},{"line":45,"address":[4891664,4891955],"length":1,"stats":{"Line":0},"fn_name":"into_random_opts"},{"line":47,"address":[4891702],"length":1,"stats":{"Line":0},"fn_name":null},{"line":48,"address":[4891827,4891755],"length":1,"stats":{"Line":0},"fn_name":null},{"line":49,"address":[4891829],"length":1,"stats":{"Line":0},"fn_name":null},{"line":55,"address":[4891984,4892279],"length":1,"stats":{"Line":0},"fn_name":"into_random_opts"},{"line":57,"address":[4892025],"length":1,"stats":{"Line":0},"fn_name":null},{"line":58,"address":[4892079,4892151],"length":1,"stats":{"Line":0},"fn_name":null},{"line":59,"address":[4892153],"length":1,"stats":{"Line":0},"fn_name":null},{"line":65,"address":[4892562,4892320],"length":1,"stats":{"Line":0},"fn_name":"into_random_opts"},{"line":67,"address":[4892342],"length":1,"stats":{"Line":0},"fn_name":null},{"line":68,"address":[4892446,4892390],"length":1,"stats":{"Line":0},"fn_name":null},{"line":69,"address":[4892482],"length":1,"stats":{"Line":0},"fn_name":null},{"line":75,"address":[4892836,4892592],"length":1,"stats":{"Line":1},"fn_name":"into_random_opts"},{"line":77,"address":[4892614],"length":1,"stats":{"Line":1},"fn_name":null},{"line":78,"address":[4892720,4892663],"length":1,"stats":{"Line":2},"fn_name":null},{"line":79,"address":[4892756],"length":1,"stats":{"Line":1},"fn_name":null},{"line":100,"address":[1678576,1678615,1679029,1678981],"length":1,"stats":{"Line":6},"fn_name":"test_random_data"},{"line":101,"address":[2214089,2214279,2214441,2214052,2214891,2214630],"length":1,"stats":{"Line":4},"fn_name":null},{"line":102,"address":[2215136,2214881,2215800,2214236,2214107,2215900],"length":1,"stats":{"Line":5},"fn_name":null},{"line":103,"address":[6888065,6888014],"length":1,"stats":{"Line":5},"fn_name":null},{"line":104,"address":[2217156,2217771,2217828,2217295,2217366,2217851,2218053,2217552],"length":1,"stats":{"Line":5},"fn_name":null},{"line":105,"address":[2216871,2217074],"length":1,"stats":{"Line":2},"fn_name":null},{"line":106,"address":[2217207,2217325,2217494,2214137],"length":1,"stats":{"Line":4},"fn_name":null},{"line":107,"address":[2217675],"length":1,"stats":{"Line":0},"fn_name":null},{"line":111,"address":[2218171,2217938,2218144],"length":1,"stats":{"Line":2},"fn_name":null},{"line":112,"address":[2218155,2218220],"length":1,"stats":{"Line":1},"fn_name":null},{"line":113,"address":[2218209,2218254,2218287],"length":1,"stats":{"Line":2},"fn_name":null},{"line":115,"address":[1678992,1678712,1678607,1678652],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":27,"coverable":42},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","range.rs"],"content":"use ql2::term::TermType;\n\nuse crate::{arguments::Args, Command};\n\npub(crate) fn new(args: impl RangeArg) -\u003e Command {\n    let (arg1, arg2) = args.into_range_opts();\n    let mut command = Command::new(TermType::Range);\n\n    if let Some(arg) = arg1 {\n        command = command.with_arg(arg)\n    }\n\n    if let Some(arg) = arg2 {\n        command = command.with_arg(arg)\n    }\n\n    command\n}\n\npub trait RangeArg {\n    fn into_range_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e);\n}\n\nimpl RangeArg for () {\n    fn into_range_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        (None, None)\n    }\n}\n\nimpl RangeArg for isize {\n    fn into_range_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        (None, Some(Command::from_json(self)))\n    }\n}\n\nimpl RangeArg for Args\u003c(isize, isize)\u003e {\n    fn into_range_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        (\n            Some(Command::from_json(self.0 .0)),\n            Some(Command::from_json(self.0 .1)),\n        )\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{args, r, Result};\n\n    #[tokio::test]\n    async fn test_range_data() -\u003e Result\u003c()\u003e {\n        let data = [0, 1, 2, 3];\n        let data2 = [-5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5];\n        let conn = r.connection().connect().await?;\n        let response: [isize; 4] = r.range(4).run(\u0026conn).await?.unwrap().parse()?;\n        let response2: [isize; 4] = r.range(()).limit(4).run(\u0026conn).await?.unwrap().parse()?;\n        let response3: [isize; 11] = r.range(args!(-5, 6)).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == data);\n        assert!(response2 == data);\n        assert!(response3 == data2);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2266153,2265223,2264352,2264162,2266042,2265296,2264273,2263408,2265112],"length":1,"stats":{"Line":3},"fn_name":"new\u003cisize\u003e"},{"line":6,"address":[2263433,2264385,2265313],"length":1,"stats":{"Line":3},"fn_name":null},{"line":7,"address":[2265423,2263543,2264495],"length":1,"stats":{"Line":3},"fn_name":null},{"line":9,"address":[2265756,2263876,2263640,2264828,2264592,2265520],"length":1,"stats":{"Line":4},"fn_name":null},{"line":10,"address":[2263850,2265635,2264707,2263755,2264802,2265730],"length":1,"stats":{"Line":2},"fn_name":null},{"line":13,"address":[2265983,2265692,2264764,2265758,2263812,2263878,2264103,2264830,2265053],"length":1,"stats":{"Line":7},"fn_name":null},{"line":14,"address":[2265842,2265957,2264913,2264077,2263962,2265027],"length":1,"stats":{"Line":4},"fn_name":null},{"line":17,"address":[2265904,2264974,2264024],"length":1,"stats":{"Line":3},"fn_name":null},{"line":25,"address":[6929664],"length":1,"stats":{"Line":1},"fn_name":"into_range_opts"},{"line":26,"address":[2838563],"length":1,"stats":{"Line":1},"fn_name":null},{"line":31,"address":[2757188,2757008],"length":1,"stats":{"Line":1},"fn_name":"into_range_opts"},{"line":32,"address":[2838681],"length":1,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[6664939,6664720],"length":1,"stats":{"Line":1},"fn_name":"into_range_opts"},{"line":39,"address":[2662949],"length":1,"stats":{"Line":1},"fn_name":null},{"line":40,"address":[6664850,6664809],"length":1,"stats":{"Line":2},"fn_name":null},{"line":51,"address":[4797157,4796752,4796791,4797205],"length":1,"stats":{"Line":6},"fn_name":"test_range_data"},{"line":52,"address":[6392964],"length":1,"stats":{"Line":1},"fn_name":null},{"line":53,"address":[6392995],"length":1,"stats":{"Line":1},"fn_name":null},{"line":54,"address":[6393091,6393954,6393681,6393489,6393128,6393324],"length":1,"stats":{"Line":4},"fn_name":null},{"line":55,"address":[6395019,6393146,6394885,6393279,6393944,6394186],"length":1,"stats":{"Line":5},"fn_name":null},{"line":56,"address":[6393234,6396180,6393161,6395260,6395971,6395009],"length":1,"stats":{"Line":5},"fn_name":null},{"line":57,"address":[6397069,6396370,6397339,6393176,6396090],"length":1,"stats":{"Line":4},"fn_name":null},{"line":59,"address":[6397558,6397318,6397526],"length":1,"stats":{"Line":2},"fn_name":null},{"line":60,"address":[6397628,6397537,6397594],"length":1,"stats":{"Line":2},"fn_name":null},{"line":61,"address":[6397662,6397699,6397605],"length":1,"stats":{"Line":2},"fn_name":null},{"line":63,"address":[4796828,4796888,4796783,4797168],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":26,"coverable":26},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","rebalance.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Rebalance)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::RebalanceResponse;\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_rebalance_table() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let response: RebalanceResponse = table.rebalance().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response.rebalanced == 1);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":5,"address":[2720096],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2720108],"length":1,"stats":{"Line":1},"fn_name":null},{"line":17,"address":[3069520,3069488,3069497,3069589,3069686,3069912,3070204],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":18,"address":[3069651,3070647,3070215,3069716,3070037,3069869],"length":1,"stats":{"Line":4},"fn_name":null},{"line":19,"address":[3070904,3071613,3070599,3069737,3069820,3071807],"length":1,"stats":{"Line":5},"fn_name":null},{"line":21,"address":[3071785,3072106],"length":1,"stats":{"Line":1},"fn_name":null},{"line":23,"address":[3072219,3069755,3072063,3072343,3072399,3072604,3072474],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":7,"coverable":7},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","reconfigure.rs"],"content":"use std::borrow::Cow;\nuse std::collections::HashMap;\n\nuse ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::{Serialize, Serializer};\n\nuse crate::arguments::{EmergencyRepair, Replicas};\nuse crate::Command;\n\npub(crate) fn new(opts: ReconfigureOption) -\u003e Command {\n    Command::new(TermType::Reconfigure).with_opts(opts)\n}\n\n#[derive(Debug, Clone, Default, PartialEq, CommandOptions)]\n#[non_exhaustive]\npub struct ReconfigureOption {\n    /// the number of shards, an integer from 1-64. Required.\n    pub shards: Option\u003cu8\u003e,\n    /// either an usize or a mapping struct. Required.\n    /// - If `replicas` is an usize, it specifies the number of replicas per shard.\n    /// Specifying more replicas than there are servers will return an error.\n    /// - If `replicas` is an struct, it specifies key-value pairs of server tags\n    /// and the number of replicas to assign to those servers:\n    /// `{\"tag1\": 2, \"tag2\": 4, \"tag3\": 2, ...}`.\n    /// For more information about server tags, read\n    /// [Administration tools](https://rethinkdb.com/docs/administration-tools/).\n    pub replicas: Option\u003cReplicas\u003e,\n    /// the generated configuration will not be applied to the table, only returned.\n    pub dry_run: Option\u003cbool\u003e,\n    /// Used for the Emergency Repair mode.\n    /// See \u003chttps://rethinkdb.com/api/python/reconfigure#emergency-repair-mode\u003e\n    /// for more information.\n    pub emergency_repair: Option\u003cEmergencyRepair\u003e,\n}\n\nimpl Serialize for ReconfigureOption {\n    fn serialize\u003cS\u003e(\u0026self, serializer: S) -\u003e Result\u003cS::Ok, S::Error\u003e\n    where\n        S: Serializer,\n    {\n        #[derive(Serialize)]\n        struct InnerOptions\u003c'a\u003e {\n            #[serde(skip_serializing_if = \"Option::is_none\")]\n            dry_run: Option\u003cbool\u003e,\n            #[serde(skip_serializing_if = \"Option::is_none\")]\n            emergency_repair: Option\u003cEmergencyRepair\u003e,\n            #[serde(skip_serializing_if = \"Option::is_none\")]\n            shards: Option\u003cu8\u003e,\n            #[serde(skip_serializing_if = \"Option::is_none\")]\n            replicas: Option\u003cInnerReplicas\u003c'a\u003e\u003e,\n            /// the primary server specified by its server tag.\n            /// Required if `replicas` is an object; the tag must be in the object.\n            /// This must not be specified if `replicas` is an usize.\n            #[serde(skip_serializing_if = \"Option::is_none\")]\n            primary_replica_tag: Option\u003c\u0026'a Cow\u003c'static, str\u003e\u003e,\n        }\n\n        #[derive(Serialize)]\n        #[serde(untagged)]\n        enum InnerReplicas\u003c'a\u003e {\n            Int(usize),\n            Map(\u0026'a HashMap\u003cCow\u003c'static, str\u003e, usize\u003e),\n        }\n\n        let (replicas, primary_replica_tag) = match \u0026self.replicas {\n            Some(Replicas::Int(i)) =\u003e (Some(InnerReplicas::Int(*i)), None),\n            Some(Replicas::Map {\n                replicas,\n                primary_replica_tag,\n            }) =\u003e (\n                Some(InnerReplicas::Map(replicas)),\n                Some(primary_replica_tag),\n            ),\n            None =\u003e (None, None),\n        };\n\n        let opts = InnerOptions {\n            dry_run: self.dry_run,\n            emergency_repair: self.emergency_repair,\n            replicas,\n            primary_replica_tag,\n            shards: self.shards,\n        };\n\n        opts.serialize(serializer)\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::arguments::Replicas;\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::ReconfigureResponse;\n    use crate::Result;\n\n    use super::ReconfigureOption;\n\n    #[tokio::test]\n    async fn test_reconfigure_table() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let reconfigure_option = ReconfigureOption::default()\n            .shards(2)\n            .replicas(Replicas::Int(1));\n        let response: ReconfigureResponse = table\n            .reconfigure(reconfigure_option)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response.reconfigured == 1);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":11,"address":[4311122,4310864,4311095],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":12,"address":[2516507,2516406],"length":1,"stats":{"Line":2},"fn_name":null},{"line":38,"address":[2306928],"length":1,"stats":{"Line":1},"fn_name":"serialize\u003cserde_json::value::ser::Serializer\u003e"},{"line":66,"address":[5117706,5117476,5117390],"length":1,"stats":{"Line":3},"fn_name":null},{"line":67,"address":[5117493],"length":1,"stats":{"Line":1},"fn_name":null},{"line":68,"address":[2388798],"length":1,"stats":{"Line":0},"fn_name":null},{"line":69,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":70,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":71,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":72,"address":[2388825],"length":1,"stats":{"Line":0},"fn_name":null},{"line":73,"address":[5117655],"length":1,"stats":{"Line":0},"fn_name":null},{"line":75,"address":[2388635],"length":1,"stats":{"Line":0},"fn_name":null},{"line":79,"address":[2388955],"length":1,"stats":{"Line":1},"fn_name":null},{"line":80,"address":[2388959],"length":1,"stats":{"Line":1},"fn_name":null},{"line":83,"address":[2388989],"length":1,"stats":{"Line":1},"fn_name":null},{"line":86,"address":[2389068],"length":1,"stats":{"Line":1},"fn_name":null},{"line":101,"address":[4504624,4504822,4504656,4505048,4505340,4504633,4504725],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":102,"address":[4505351,4504852,4505005,4504787,4505173,4505731],"length":1,"stats":{"Line":4},"fn_name":null},{"line":103,"address":[4506006,4505721,4506061],"length":1,"stats":{"Line":3},"fn_name":null},{"line":105,"address":[4506013],"length":1,"stats":{"Line":1},"fn_name":null},{"line":106,"address":[4506484,4506898,4506076,4506407,4507234,4506290,4506999,4506232,4506955,4506679],"length":1,"stats":{"Line":7},"fn_name":null},{"line":107,"address":[4506120],"length":1,"stats":{"Line":1},"fn_name":null},{"line":108,"address":[4504873,4506612,4504956,4506313,4506440],"length":1,"stats":{"Line":5},"fn_name":null},{"line":109,"address":[4506802],"length":1,"stats":{"Line":0},"fn_name":null},{"line":113,"address":[4507116,4507414],"length":1,"stats":{"Line":1},"fn_name":null},{"line":115,"address":[1679208,1679103,1679488,1679148],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":18,"coverable":26},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","reduce.rs"],"content":"use ql2::term::TermType;\n\nuse crate::arguments::AnyParam;\nuse crate::prelude::Func;\nuse crate::Command;\n\npub(crate) fn new(args: impl ReduceArg) -\u003e Command {\n    let (sequence, func) = args.into_reduce_opts();\n    let mut command = Command::new(TermType::Reduce);\n\n    if let Some(seq) = sequence {\n        command = command.with_arg(seq)\n    }\n\n    command.with_arg(func)\n}\n\npub trait ReduceArg {\n    fn into_reduce_opts(self) -\u003e (Option\u003cCommand\u003e, Command);\n}\n\nimpl ReduceArg for Func {\n    fn into_reduce_opts(self) -\u003e (Option\u003cCommand\u003e, Command) {\n        (None, self.0)\n    }\n}\n\nimpl ReduceArg for (Command, Func) {\n    fn into_reduce_opts(self) -\u003e (Option\u003cCommand\u003e, Command) {\n        let Func(func) = self.1;\n\n        (Some(self.0), func)\n    }\n}\n\nimpl ReduceArg for (AnyParam, Func) {\n    fn into_reduce_opts(self) -\u003e (Option\u003cCommand\u003e, Command) {\n        let Func(func) = self.1;\n\n        (Some(self.0.into()), func)\n    }\n}\n\n// TODO write test\n","traces":[{"line":7,"address":[4209887,4209264,4209908],"length":1,"stats":{"Line":0},"fn_name":"new\u003creql_rust::cmd::func::Func\u003e"},{"line":8,"address":[4209281],"length":1,"stats":{"Line":0},"fn_name":null},{"line":9,"address":[2771786],"length":1,"stats":{"Line":0},"fn_name":null},{"line":11,"address":[4209491,4209795],"length":1,"stats":{"Line":0},"fn_name":null},{"line":12,"address":[2772150,2771979],"length":1,"stats":{"Line":0},"fn_name":null},{"line":15,"address":[4209705],"length":1,"stats":{"Line":0},"fn_name":null},{"line":23,"address":[7021168],"length":1,"stats":{"Line":0},"fn_name":"into_reduce_opts"},{"line":24,"address":[7021185],"length":1,"stats":{"Line":0},"fn_name":null},{"line":29,"address":[4044560],"length":1,"stats":{"Line":0},"fn_name":"into_reduce_opts"},{"line":30,"address":[4044581],"length":1,"stats":{"Line":0},"fn_name":null},{"line":32,"address":[4044607],"length":1,"stats":{"Line":0},"fn_name":null},{"line":37,"address":[5126992,5127249],"length":1,"stats":{"Line":0},"fn_name":"into_reduce_opts"},{"line":38,"address":[5127013],"length":1,"stats":{"Line":0},"fn_name":null},{"line":40,"address":[5127077,5127136],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":14},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","rem.rs"],"content":"use std::ops::Rem;\n\nuse ql2::term::TermType;\n\nuse crate::Command;\n\nimpl\u003cT: RemArg\u003e Rem\u003cT\u003e for Command {\n    type Output = Self;\n\n    fn rem(self, arg: T) -\u003e Self {\n        Command::new(TermType::Mod)\n            .with_arg(arg.into_rem_opts())\n            .with_parent(self)\n    }\n}\n\npub trait RemArg {\n    fn into_rem_opts(self) -\u003e Command;\n}\n\nimpl RemArg for f64 {\n    fn into_rem_opts(self) -\u003e Command {\n        Command::from_json(self)\n    }\n}\n\nimpl RemArg for Command {\n    fn into_rem_opts(self) -\u003e Command {\n        self\n    }\n}\n\n// TODO write test\n","traces":[{"line":10,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":11,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":12,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":13,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":22,"address":[6929984],"length":1,"stats":{"Line":0},"fn_name":"into_rem_opts"},{"line":23,"address":[6930002],"length":1,"stats":{"Line":0},"fn_name":null},{"line":28,"address":[4044752],"length":1,"stats":{"Line":0},"fn_name":"into_rem_opts"},{"line":29,"address":[4044760],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":8},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","replace.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::arguments::{AnyParam, Durability, ReturnChanges};\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl ReplaceArg) -\u003e Command {\n    let (args, opts) = args.into_replace_opts();\n\n    args.add_to_cmd(Command::new(TermType::Replace))\n        .with_opts(opts)\n}\n\npub trait ReplaceArg {\n    fn into_replace_opts(self) -\u003e (CmdOpts, ReplaceOption);\n}\n\nimpl ReplaceArg for AnyParam {\n    fn into_replace_opts(self) -\u003e (CmdOpts, ReplaceOption) {\n        (CmdOpts::Single(self.into()), Default::default())\n    }\n}\n\nimpl ReplaceArg for Command {\n    fn into_replace_opts(self) -\u003e (CmdOpts, ReplaceOption) {\n        (CmdOpts::Single(self), Default::default())\n    }\n}\n\nimpl ReplaceArg for (AnyParam, ReplaceOption) {\n    fn into_replace_opts(self) -\u003e (CmdOpts, ReplaceOption) {\n        (CmdOpts::Single(self.0.into()), self.1)\n    }\n}\n\nimpl ReplaceArg for (Command, ReplaceOption) {\n    fn into_replace_opts(self) -\u003e (CmdOpts, ReplaceOption) {\n        (CmdOpts::Single(self.0), self.1)\n    }\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct ReplaceOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub durability: Option\u003cDurability\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub return_changes: Option\u003cReturnChanges\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub non_atomic: Option\u003cbool\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub ignore_write_hook: Option\u003cbool\u003e,\n}\n\n// TODO write test\n","traces":[{"line":22,"address":[5127493,5127280],"length":1,"stats":{"Line":0},"fn_name":"into_replace_opts"},{"line":23,"address":[5127297],"length":1,"stats":{"Line":0},"fn_name":null},{"line":28,"address":[4044784,4044987],"length":1,"stats":{"Line":0},"fn_name":"into_replace_opts"},{"line":29,"address":[2260211],"length":1,"stats":{"Line":0},"fn_name":null},{"line":34,"address":[5127520],"length":1,"stats":{"Line":0},"fn_name":"into_replace_opts"},{"line":35,"address":[5127542],"length":1,"stats":{"Line":0},"fn_name":null},{"line":40,"address":[4045024],"length":1,"stats":{"Line":0},"fn_name":"into_replace_opts"},{"line":41,"address":[4045045],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":8},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","round.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(args: impl RoundArg) -\u003e Command {\n    let mut command = Command::new(TermType::Round);\n\n    if let Some(arg) = args.into_round_opts() {\n        command = command.with_arg(arg)\n    }\n\n    command\n}\n\npub trait RoundArg {\n    fn into_round_opts(self) -\u003e Option\u003cCommand\u003e;\n}\n\nimpl RoundArg for () {\n    fn into_round_opts(self) -\u003e Option\u003cCommand\u003e {\n        None\n    }\n}\n\nimpl RoundArg for f64 {\n    fn into_round_opts(self) -\u003e Option\u003cCommand\u003e {\n        Some(Command::from_json(self))\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_round_data() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let data_obtained: u8 = r.round(12.345).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained == 12);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[4470096,4471215,4470688,4470646],"length":1,"stats":{"Line":1},"fn_name":"new\u003cf64\u003e"},{"line":6,"address":[4470708,4470131,4470800,4470229],"length":1,"stats":{"Line":2},"fn_name":null},{"line":8,"address":[2610305,2611231,2610892,2610367,2610646,2610954],"length":1,"stats":{"Line":3},"fn_name":null},{"line":9,"address":[2692708,2692268,2692853,2692122],"length":1,"stats":{"Line":2},"fn_name":null},{"line":12,"address":[2610671,2611256],"length":1,"stats":{"Line":1},"fn_name":null},{"line":20,"address":[2839552],"length":1,"stats":{"Line":0},"fn_name":"into_round_opts"},{"line":21,"address":[2839556],"length":1,"stats":{"Line":0},"fn_name":null},{"line":26,"address":[4106752],"length":1,"stats":{"Line":1},"fn_name":"into_round_opts"},{"line":27,"address":[4106778],"length":1,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[4217824,4217863,4218229,4218277],"length":1,"stats":{"Line":6},"fn_name":"test_round_data"},{"line":38,"address":[4594925,4595114,4594764,4594693,4594659,4595383],"length":1,"stats":{"Line":4},"fn_name":null},{"line":39,"address":[4596311,4596400,4594708,4595373,4595611],"length":1,"stats":{"Line":4},"fn_name":null},{"line":41,"address":[4596608,4596380],"length":1,"stats":{"Line":1},"fn_name":null},{"line":43,"address":[4217900,4218240,4217855,4217960],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":12,"coverable":14},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","run.rs"],"content":"use std::borrow::Cow;\nuse std::sync::atomic::Ordering;\nuse std::{mem, str};\n\nuse async_stream::try_stream;\nuse futures::io::{AsyncReadExt, AsyncWriteExt};\nuse futures::stream::{Stream, StreamExt};\nuse futures::{AsyncRead, AsyncWrite};\nuse ql2::query::QueryType;\nuse ql2::response::{ErrorType, ResponseType};\nuse reql_macros::CommandOptions;\nuse serde::de::DeserializeOwned;\nuse serde::{Deserialize, Serialize};\nuse serde_json::Value;\nuse tracing::trace;\n\nuse crate::arguments::{Args, Durability, Format, ReadMode};\nuse crate::constants::{DATA_SIZE, DEFAULT_RETHINKDB_DBNAME, HEADER_SIZE, TOKEN_SIZE};\nuse crate::proto::{Payload, Query};\nuse crate::{err, Command, Connection, Result, Session};\n\n#[derive(Deserialize, Debug)]\n#[allow(dead_code)]\npub(crate) struct Response {\n    t: i32,\n    e: Option\u003ci32\u003e,\n    pub(crate) r: Value,\n    b: Option\u003cValue\u003e,\n    p: Option\u003cValue\u003e,\n    n: Option\u003cValue\u003e,\n}\n\nimpl Response {\n    fn new() -\u003e Self {\n        Self {\n            t: ResponseType::SuccessAtom as i32,\n            e: None,\n            r: Value::Array(Vec::new()),\n            b: None,\n            p: None,\n            n: None,\n        }\n    }\n}\n\n#[derive(Debug, Clone, CommandOptions, Serialize, Default, PartialEq, PartialOrd)]\npub struct RunOption {\n    /// One of three possible values affecting\n    /// the consistency guarantee for the query (default: `ReadMode::Single`).\n    /// - `ReadMode::Single` (the default) returns values that are in memory\n    /// (but not necessarily written to disk) on the primary replica.\n    /// - `ReadMode::Majority` will only return values that are safely\n    /// committed on disk on a majority of replicas.\n    /// This requires sending a message to every replica on each read,\n    /// so it is the slowest but most consistent.\n    /// - `ReadMode::Outdated` will return values that are in memory\n    /// on an arbitrarily-selected replica.\n    /// This is the fastest but least consistent.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub read_mode: Option\u003cReadMode\u003e,\n    /// what format to return times in (default: `Format::Native`).\n    /// Set this to `Format::Raw`\n    /// if you want times returned as JSON objects for exporting.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub time_format: Option\u003cFormat\u003e,\n    /// whether or not to return a profile\n    /// of the querys execution (default: `false`).\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub profile: Option\u003cbool\u003e,\n    /// possible values are `Durability::Hard` and `Durability::Soft`.\n    /// In soft durability mode RethinkDB will acknowledge\n    /// the write immediately after receiving it,\n    /// but before the write has been committed to disk.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub durability: Option\u003cDurability\u003e,\n    /// what format to return `grouped_data` and\n    /// `grouped_streams` in (default: `Format::Native`).\n    /// Set this to `Format::Raw` if you want the raw pseudotype.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub group_format: Option\u003cFormat\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub noreply: Option\u003cbool\u003e,\n    /// the database to run this query against as a string.\n    /// The default is the database specified in\n    /// the `db` [connection](crate::connection::Connection)\n    /// method (which defaults to `test`).\n    /// The database may also be specified with the db command.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub db: Option\u003cDb\u003e,\n    /// the maximum numbers of array elements\n    /// that can be returned by a query (default: 100,000).\n    /// This affects all ReQL commands that return arrays.\n    /// Note that it has no effect on the size of arrays\n    /// being **written** to the database;\n    /// those always have an upper limit of 100,000 elements.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub array_limit: Option\u003cusize\u003e,\n    /// what format to return binary data in (default: `Format::Native`).\n    /// Set this to `Format::Raw` if you want the raw pseudotype.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub binary_format: Option\u003cFormat\u003e,\n    /// minimum number of rows to wait for before batching\n    /// a result set (default: 8). This is an usize.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub min_batch_rows: Option\u003cusize\u003e,\n    /// maximum number of rows to wait for before batching\n    /// a result set (default: unlimited). This is an usize.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub max_batch_rows: Option\u003cusize\u003e,\n    /// maximum number of bytes to wait for before batching\n    /// a result set (default: 1MB). This is an usize.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub max_batch_bytes: Option\u003cusize\u003e,\n    /// maximum number of seconds to wait before batching\n    /// a result set (default: 0.5).\n    /// This is a f64 and may be specified to the microsecond.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub max_batch_seconds: Option\u003cf64\u003e,\n    /// factor to scale the other parameters down by on the first batch (default: 4).\n    /// For example, with this set to 8 and `max_batch_rows` set to 80,\n    /// on the first batch `max_batch_rows` will be adjusted to 10 (80 / 8).\n    /// This allows the first batch to return faster.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub first_batch_scaledown_factor: Option\u003cusize\u003e,\n}\n\n#[derive(Debug, Clone, Eq, PartialEq, Ord, PartialOrd, Hash)]\npub struct Db(pub Cow\u003c'static, str\u003e);\n\nimpl RunOption {\n    async fn default_db(self, session: \u0026Session) -\u003e RunOption {\n        let session_db = session.inner.db.lock().await;\n        if self.db.is_none() \u0026\u0026 *session_db != DEFAULT_RETHINKDB_DBNAME {\n            return self.db(\u0026*session_db);\n        }\n        self\n    }\n}\n\npub trait RunArg {\n    fn into_run_opts(self) -\u003e Result\u003c(Connection, RunOption)\u003e;\n}\n\nimpl RunArg for \u0026Session {\n    fn into_run_opts(self) -\u003e Result\u003c(Connection, RunOption)\u003e {\n        let conn = self.connection()?;\n        Ok((conn, Default::default()))\n    }\n}\n\nimpl RunArg for Connection {\n    fn into_run_opts(self) -\u003e Result\u003c(Connection, RunOption)\u003e {\n        Ok((self, Default::default()))\n    }\n}\n\nimpl RunArg for Args\u003c(\u0026Session, RunOption)\u003e {\n    fn into_run_opts(self) -\u003e Result\u003c(Connection, RunOption)\u003e {\n        let Args((session, options)) = self;\n        let conn = session.connection()?;\n        Ok((conn, options))\n    }\n}\n\nimpl RunArg for Args\u003c(Connection, RunOption)\u003e {\n    fn into_run_opts(self) -\u003e Result\u003c(Connection, RunOption)\u003e {\n        let Args(arg) = self;\n        Ok(arg)\n    }\n}\n\nimpl RunArg for \u0026mut Session {\n    fn into_run_opts(self) -\u003e Result\u003c(Connection, RunOption)\u003e {\n        self.connection()?.into_run_opts()\n    }\n}\n\nimpl RunArg for Args\u003c(\u0026mut Session, RunOption)\u003e {\n    fn into_run_opts(self) -\u003e Result\u003c(Connection, RunOption)\u003e {\n        let Args((session, options)) = self;\n        let conn = session.connection()?;\n\n        Args((conn, options)).into_run_opts()\n    }\n}\n\npub(crate) fn new\u003cA, T\u003e(query: Command, arg: A) -\u003e impl Stream\u003cItem = Result\u003cT\u003e\u003e\nwhere\n    A: RunArg,\n    T: Unpin + DeserializeOwned,\n{\n    try_stream! {\n        let (mut conn, mut opts) = arg.into_run_opts()?;\n        opts = opts.default_db(\u0026conn.session).await;\n        let change_feed = query.change_feed();\n        if change_feed {\n            conn.session.inner.mark_change_feed();\n        }\n        let noreply = opts.noreply.unwrap_or_default();\n        let mut payload = Payload(QueryType::Start, Some(Query(\u0026query)), opts);\n\n        loop {\n            let (response_type, resp) = conn.request(\u0026payload, noreply).await?;\n            trace!(\"yielding response; token: {}\", conn.token);\n\n            match response_type {\n                ResponseType::SuccessAtom | ResponseType::ServerInfo =\u003e {\n                    for val in serde_json::from_value::\u003cVec\u003cT\u003e\u003e(resp.r)? {\n                        yield val;\n                    }\n                    break;\n                }\n                ResponseType::SuccessSequence =\u003e {\n                    yield serde_json::from_value::\u003cT\u003e(resp.r)?;\n                    break;\n                }\n                ResponseType::SuccessPartial =\u003e {\n                    if conn.closed() {\n                        // reopen so we can use the connection in future\n                        conn.set_closed(false);\n                        trace!(\"connection closed; token: {}\", conn.token);\n                        break;\n                    }\n                    payload = Payload(QueryType::Continue, None, Default::default());\n                    // for val in serde_json::from_value::\u003cVec\u003cT\u003e\u003e(resp.r)? {\n                    //     yield val;\n                    // }\n                    yield serde_json::from_value::\u003cT\u003e(resp.r)?;\n                    continue;\n                }\n                ResponseType::WaitComplete =\u003e { break; }\n                typ =\u003e {\n                    let msg = error_message(resp.r)?;\n                    match typ {\n                        // This feed has been closed by conn.close().\n                        ResponseType::ClientError if change_feed \u0026\u0026 msg.contains(\"not in stream cache\") =\u003e { break; }\n                        _ =\u003e Err(response_error(typ, resp.e, msg))?,\n                    }\n                }\n            }\n        }\n    }\n}\n\nimpl Payload\u003c'_\u003e {\n    fn encode(\u0026self, token: u64) -\u003e Result\u003cVec\u003cu8\u003e\u003e {\n        let bytes = self.to_bytes()?;\n        let data_len = bytes.len();\n        let mut buf = Vec::with_capacity(HEADER_SIZE + data_len);\n        buf.extend_from_slice(\u0026token.to_le_bytes());\n        buf.extend_from_slice(\u0026(data_len as u32).to_le_bytes());\n        buf.extend_from_slice(\u0026bytes);\n        Ok(buf)\n    }\n}\n\nimpl Connection {\n    fn send_response(\u0026self, db_token: u64, resp: Result\u003c(ResponseType, Response)\u003e) {\n        if let Some(tx) = self.session.inner.channels.get(\u0026db_token) {\n            if let Err(error) = tx.unbounded_send(resp) {\n                if error.is_disconnected() {\n                    self.session.inner.channels.remove(\u0026db_token);\n                }\n            }\n        }\n    }\n\n    pub(crate) async fn request\u003c'a\u003e(\n        \u0026mut self,\n        query: \u0026'a Payload\u003c'a\u003e,\n        noreply: bool,\n    ) -\u003e Result\u003c(ResponseType, Response)\u003e {\n        self.submit(query, noreply).await;\n        match self.rx.lock().await.next().await {\n            Some(resp) =\u003e resp,\n            None =\u003e Ok((ResponseType::SuccessAtom, Response::new())),\n        }\n    }\n\n    async fn submit\u003c'a\u003e(\u0026self, query: \u0026'a Payload\u003c'a\u003e, noreply: bool) {\n        let mut db_token = self.token;\n        let result = self.exec(query, noreply, \u0026mut db_token).await;\n        self.send_response(db_token, result);\n    }\n\n    async fn exec\u003c'a\u003e(\n        \u0026self,\n        query: \u0026'a Payload\u003c'a\u003e,\n        noreply: bool,\n        db_token: \u0026mut u64,\n    ) -\u003e Result\u003c(ResponseType, Response)\u003e {\n        let buf = query.encode(self.token)?;\n        let mut stream = self.session.inner.stream.lock().await;\n        let tls_stream = mem::take(\u0026mut stream.tls_stream);\n\n        trace!(\"sending query; token: {}, payload: {}\", self.token, query);\n        if let Some(tcp_stream) = tls_stream {\n            self.tcp_ops(tcp_stream, buf, noreply, db_token).await\n        } else {\n            self.tcp_ops(stream.stream.clone(), buf, noreply, db_token)\n                .await\n        }\n    }\n\n    async fn tcp_ops\u003cT\u003e(\n        \u0026self,\n        mut stream: T,\n        buf: Vec\u003cu8\u003e,\n        noreply: bool,\n        db_token: \u0026mut u64,\n    ) -\u003e Result\u003c(ResponseType, Response)\u003e\n    where\n        T: Unpin + AsyncWrite + AsyncReadExt + AsyncRead + AsyncReadExt,\n    {\n        stream.write_all(\u0026buf).await?;\n        trace!(\"query sent; token: {}\", self.token);\n\n        if noreply {\n            return Ok((ResponseType::SuccessAtom, Response::new()));\n        }\n\n        trace!(\"reading header; token: {}\", self.token);\n        let mut header = [0u8; HEADER_SIZE];\n        stream.read_exact(\u0026mut header).await?;\n\n        let mut buf = [0u8; TOKEN_SIZE];\n        buf.copy_from_slice(\u0026header[..TOKEN_SIZE]);\n        *db_token = {\n            let token = u64::from_le_bytes(buf);\n            trace!(\"db_token: {}\", token);\n            if token \u003e self.session.inner.token.load(Ordering::SeqCst) {\n                self.session.inner.mark_broken();\n                return Err(err::ReqlDriverError::ConnectionBroken.into());\n            }\n            token\n        };\n\n        let mut buf = [0u8; DATA_SIZE];\n        buf.copy_from_slice(\u0026header[TOKEN_SIZE..]);\n        let len = u32::from_le_bytes(buf) as usize;\n        trace!(\n            \"header read; token: {}, db_token: {}, response_len: {}\",\n            self.token,\n            db_token,\n            len\n        );\n\n        trace!(\"reading body; token: {}\", self.token);\n        let mut buf = vec![0u8; len];\n        stream.read_exact(\u0026mut buf).await?;\n\n        trace!(\n            \"body read; token: {}, db_token: {}, body: {}\",\n            self.token,\n            db_token,\n            super::bytes_to_string(\u0026buf),\n        );\n\n        let resp = serde_json::from_slice::\u003cResponse\u003e(\u0026buf)?;\n        trace!(\"response successfully parsed; token: {}\", self.token,);\n\n        let response_type = ResponseType::from_i32(resp.t).ok_or_else(|| {\n            err::ReqlDriverError::Other(format!(\"unknown response type `{}`\", resp.t))\n        })?;\n\n        if let Some(error_type) = resp.e {\n            let msg = error_message(resp.r)?;\n            return Err(response_error(response_type, Some(error_type), msg));\n        }\n\n        Ok((response_type, resp))\n    }\n}\n\nfn error_message(response: Value) -\u003e Result\u003cString\u003e {\n    let messages = serde_json::from_value::\u003cVec\u003cString\u003e\u003e(response)?;\n    Ok(messages.join(\" \"))\n}\n\nfn response_error(\n    response_type: ResponseType,\n    error_type: Option\u003ci32\u003e,\n    msg: String,\n) -\u003e err::ReqlError {\n    match response_type {\n        ResponseType::ClientError =\u003e err::ReqlDriverError::Other(msg).into(),\n        ResponseType::CompileError =\u003e err::ReqlError::Compile(msg),\n        ResponseType::RuntimeError =\u003e match error_type.map(ErrorType::from_i32).ok_or_else(|| {\n            err::ReqlDriverError::Other(format!(\"unexpected runtime error: {}\", msg))\n        }) {\n            Ok(Some(ErrorType::Internal)) =\u003e err::ReqlRuntimeError::Internal(msg).into(),\n            Ok(Some(ErrorType::ResourceLimit)) =\u003e err::ReqlRuntimeError::ResourceLimit(msg).into(),\n            Ok(Some(ErrorType::QueryLogic)) =\u003e err::ReqlRuntimeError::QueryLogic(msg).into(),\n            Ok(Some(ErrorType::NonExistence)) =\u003e err::ReqlRuntimeError::NonExistence(msg).into(),\n            Ok(Some(ErrorType::OpFailed)) =\u003e err::ReqlAvailabilityError::OpFailed(msg).into(),\n            Ok(Some(ErrorType::OpIndeterminate)) =\u003e {\n                err::ReqlAvailabilityError::OpIndeterminate(msg).into()\n            }\n            Ok(Some(ErrorType::User)) =\u003e err::ReqlRuntimeError::User(msg).into(),\n            Ok(Some(ErrorType::PermissionError)) =\u003e err::ReqlRuntimeError::Permission(msg).into(),\n            Err(error) =\u003e error.into(),\n            _ =\u003e err::ReqlDriverError::Other(format!(\"unexpected runtime error: {}\", msg)).into(),\n        },\n        _ =\u003e err::ReqlDriverError::Other(format!(\"unexpected response: {}\", msg)).into(),\n    }\n}\n","traces":[{"line":34,"address":[2274704],"length":1,"stats":{"Line":0},"fn_name":"new"},{"line":38,"address":[2274729],"length":1,"stats":{"Line":0},"fn_name":null},{"line":131,"address":[3000205,2999258,2999332,2999642,2999072,3000142,2999118],"length":1,"stats":{"Line":50},"fn_name":"{async_fn#0}"},{"line":132,"address":[2999243,2999279,2999442,2999653],"length":1,"stats":{"Line":20},"fn_name":null},{"line":133,"address":[2999806,2999744],"length":1,"stats":{"Line":20},"fn_name":null},{"line":134,"address":[3000109,3000130,2999952],"length":1,"stats":{"Line":0},"fn_name":null},{"line":136,"address":[2999893],"length":1,"stats":{"Line":10},"fn_name":null},{"line":145,"address":[4671848,4671827,4671360],"length":1,"stats":{"Line":3},"fn_name":"into_run_opts"},{"line":146,"address":[4671384,4671545],"length":1,"stats":{"Line":3},"fn_name":null},{"line":147,"address":[4671651,4671493],"length":1,"stats":{"Line":9},"fn_name":null},{"line":152,"address":[4672111,4671888],"length":1,"stats":{"Line":0},"fn_name":"into_run_opts"},{"line":153,"address":[4671905],"length":1,"stats":{"Line":0},"fn_name":null},{"line":158,"address":[6664976,6665645],"length":1,"stats":{"Line":2},"fn_name":"into_run_opts"},{"line":159,"address":[6664992],"length":1,"stats":{"Line":2},"fn_name":null},{"line":160,"address":[6665044,6665104,6665488],"length":1,"stats":{"Line":4},"fn_name":null},{"line":161,"address":[6665261],"length":1,"stats":{"Line":2},"fn_name":null},{"line":166,"address":[6665696],"length":1,"stats":{"Line":0},"fn_name":"into_run_opts"},{"line":167,"address":[6665713],"length":1,"stats":{"Line":0},"fn_name":null},{"line":168,"address":[6665728],"length":1,"stats":{"Line":0},"fn_name":null},{"line":173,"address":[4672144],"length":1,"stats":{"Line":0},"fn_name":"into_run_opts"},{"line":174,"address":[4672168],"length":1,"stats":{"Line":0},"fn_name":null},{"line":179,"address":[6665808,6666526],"length":1,"stats":{"Line":0},"fn_name":"into_run_opts"},{"line":180,"address":[6665825],"length":1,"stats":{"Line":0},"fn_name":null},{"line":181,"address":[6666269,6665901,6665965],"length":1,"stats":{"Line":0},"fn_name":null},{"line":183,"address":[6666066],"length":1,"stats":{"Line":0},"fn_name":null},{"line":187,"address":[3000542,3000272,3000515],"length":1,"stats":{"Line":5},"fn_name":"new\u003c\u0026reql_rust::connection::Session, serde_json::value::Value\u003e"},{"line":192,"address":[3000307,3000397],"length":1,"stats":{"Line":10},"fn_name":null},{"line":193,"address":[3053411,3054553],"length":1,"stats":{"Line":16},"fn_name":null},{"line":194,"address":[3053482,3055486,3055347,3054679,3054215,3055615],"length":1,"stats":{"Line":55},"fn_name":null},{"line":195,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":196,"address":[3055788],"length":1,"stats":{"Line":11},"fn_name":null},{"line":197,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":199,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":200,"address":[3055964,3055922],"length":1,"stats":{"Line":22},"fn_name":null},{"line":202,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":203,"address":[3056314,3056607,3054164,3056534,3056450,3056080,3056175,3053503],"length":1,"stats":{"Line":56},"fn_name":null},{"line":204,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":206,"address":[3058634],"length":1,"stats":{"Line":5},"fn_name":null},{"line":207,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":208,"address":[3058775,3065629],"length":1,"stats":{"Line":6},"fn_name":null},{"line":209,"address":[3065659],"length":1,"stats":{"Line":3},"fn_name":null},{"line":211,"address":[3066035],"length":1,"stats":{"Line":1},"fn_name":null},{"line":213,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":214,"address":[3058856],"length":1,"stats":{"Line":3},"fn_name":null},{"line":215,"address":[3064544],"length":1,"stats":{"Line":0},"fn_name":null},{"line":217,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":218,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":220,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":221,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":222,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":224,"address":[3060907,3062432],"length":1,"stats":{"Line":2},"fn_name":null},{"line":228,"address":[3062562],"length":1,"stats":{"Line":1},"fn_name":null},{"line":229,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":231,"address":[3058950],"length":1,"stats":{"Line":0},"fn_name":null},{"line":232,"address":[3058691],"length":1,"stats":{"Line":0},"fn_name":null},{"line":233,"address":[3058705],"length":1,"stats":{"Line":0},"fn_name":null},{"line":234,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":236,"address":[3059687],"length":1,"stats":{"Line":0},"fn_name":null},{"line":237,"address":[3059704],"length":1,"stats":{"Line":0},"fn_name":null},{"line":246,"address":[4045915,4045168],"length":1,"stats":{"Line":10},"fn_name":"encode"},{"line":247,"address":[4045332,4045206],"length":1,"stats":{"Line":10},"fn_name":null},{"line":248,"address":[4045471,4045308],"length":1,"stats":{"Line":8},"fn_name":null},{"line":249,"address":[4045479],"length":1,"stats":{"Line":4},"fn_name":null},{"line":250,"address":[4045617,4045556],"length":1,"stats":{"Line":20},"fn_name":null},{"line":251,"address":[4045678],"length":1,"stats":{"Line":10},"fn_name":null},{"line":252,"address":[4045748],"length":1,"stats":{"Line":10},"fn_name":null},{"line":253,"address":[4045808],"length":1,"stats":{"Line":10},"fn_name":null},{"line":258,"address":[4673207,4672432,4673052],"length":1,"stats":{"Line":4},"fn_name":"send_response"},{"line":259,"address":[4672462,4672552],"length":1,"stats":{"Line":8},"fn_name":null},{"line":260,"address":[4672640,4672726],"length":1,"stats":{"Line":8},"fn_name":null},{"line":261,"address":[4672875,4672969],"length":1,"stats":{"Line":0},"fn_name":null},{"line":262,"address":[4672995],"length":1,"stats":{"Line":0},"fn_name":null},{"line":268,"address":[4673264],"length":1,"stats":{"Line":10},"fn_name":"request"},{"line":273,"address":[3000715,3001259,3000767,3000920,3001086],"length":1,"stats":{"Line":32},"fn_name":null},{"line":274,"address":[3001737,3001331,3001383,3000788,3000871],"length":1,"stats":{"Line":16},"fn_name":null},{"line":275,"address":[3002027],"length":1,"stats":{"Line":4},"fn_name":null},{"line":276,"address":[3002125,3002001],"length":1,"stats":{"Line":0},"fn_name":null},{"line":280,"address":[3002440,3002305,3002272,3002512,3002783],"length":1,"stats":{"Line":40},"fn_name":"{async_fn#0}"},{"line":281,"address":[3002399],"length":1,"stats":{"Line":10},"fn_name":null},{"line":282,"address":[3002794,3002418,3002461,3002637],"length":1,"stats":{"Line":22},"fn_name":null},{"line":283,"address":[3002918],"length":1,"stats":{"Line":4},"fn_name":null},{"line":286,"address":[4673456],"length":1,"stats":{"Line":10},"fn_name":"exec"},{"line":292,"address":[3003178,3003561,3003677],"length":1,"stats":{"Line":20},"fn_name":null},{"line":293,"address":[3003238,3003949,3003391,3004200,3003655],"length":1,"stats":{"Line":31},"fn_name":null},{"line":294,"address":[3004375,3004292],"length":1,"stats":{"Line":20},"fn_name":null},{"line":296,"address":[3005096,3005357,3005441,3004932,3004570,3005246],"length":1,"stats":{"Line":30},"fn_name":null},{"line":297,"address":[3005918],"length":1,"stats":{"Line":10},"fn_name":null},{"line":298,"address":[3003342,3003259,3006520,3005961],"length":1,"stats":{"Line":0},"fn_name":null},{"line":300,"address":[3003277,3006042],"length":1,"stats":{"Line":12},"fn_name":null},{"line":301,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":305,"address":[4481984,4482176],"length":1,"stats":{"Line":10},"fn_name":"tcp_ops\u003casync_native_tls::tls_stream::TlsStream\u003casync_net::tcp::TcpStream\u003e\u003e"},{"line":315,"address":[3022646,3007623,3022463,3022246,3008058,3007280,3022306,3007220,3023078,3007437],"length":1,"stats":{"Line":30},"fn_name":null},{"line":316,"address":[3008161,3023540,3009032,3024049,3023704,3008837,3023178,3008948,3023854,3008687,3023965,3008523],"length":1,"stats":{"Line":30},"fn_name":null},{"line":318,"address":[3009443,3024457],"length":1,"stats":{"Line":10},"fn_name":null},{"line":319,"address":[3024575,3009564],"length":1,"stats":{"Line":0},"fn_name":null},{"line":322,"address":[3010475,3025061,3025375,3025225,3025486,3010050,3025570,3010364,3009688,3010559,3024699,3010214],"length":1,"stats":{"Line":30},"fn_name":null},{"line":323,"address":[3010970,3025978],"length":1,"stats":{"Line":10},"fn_name":null},{"line":324,"address":[3007386,3011437,3011001,3026425,3022412,3026000,3022327,3007301],"length":1,"stats":{"Line":22},"fn_name":null},{"line":326,"address":[3026345,3011352],"length":1,"stats":{"Line":4},"fn_name":null},{"line":327,"address":[3011531,3026519,3011380,3026371],"length":1,"stats":{"Line":8},"fn_name":null},{"line":328,"address":[3013125,3028110],"length":1,"stats":{"Line":4},"fn_name":null},{"line":329,"address":[3011562,3026550],"length":1,"stats":{"Line":4},"fn_name":null},{"line":330,"address":[3027247,3026721,3027508,3012259,3012520,3012409,3011733,3012604,3027083,3027592,3027397,3012095],"length":1,"stats":{"Line":12},"fn_name":null},{"line":331,"address":[3013004,3027992],"length":1,"stats":{"Line":4},"fn_name":null},{"line":332,"address":[3028206,3013227],"length":1,"stats":{"Line":0},"fn_name":null},{"line":333,"address":[3028240,3013264],"length":1,"stats":{"Line":0},"fn_name":null},{"line":335,"address":[3028102,3013117],"length":1,"stats":{"Line":4},"fn_name":null},{"line":338,"address":[3013135,3028117],"length":1,"stats":{"Line":4},"fn_name":null},{"line":339,"address":[3028144,3013162,3028342,3013366],"length":1,"stats":{"Line":8},"fn_name":null},{"line":340,"address":[3028373,3013397],"length":1,"stats":{"Line":4},"fn_name":null},{"line":341,"address":[3014443,3028910,3013572,3029224,3014248,3029419,3014359,3029335,3014098,3029074,3013934,3028548],"length":1,"stats":{"Line":12},"fn_name":null},{"line":343,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":344,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":345,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":348,"address":[3030503,3015958,3016042,3030817,3015171,3015697,3015847,3030141,3015533,3030667,3030928,3031012],"length":1,"stats":{"Line":12},"fn_name":null},{"line":349,"address":[3031420,3016453],"length":1,"stats":{"Line":4},"fn_name":null},{"line":350,"address":[3031455,3017057,3016488,3016622,3032019,3031587,3007319,3022345],"length":1,"stats":{"Line":8},"fn_name":null},{"line":352,"address":[3032798,3033736,3033296,3032993,3017522,3032122,3018031,3018340,3032909,3032648,3018780,3017686,3032484,3017947,3017836,3017160],"length":1,"stats":{"Line":12},"fn_name":null},{"line":354,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":355,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":356,"address":[3018275,3033231],"length":1,"stats":{"Line":0},"fn_name":null},{"line":359,"address":[3018883,3019111,3033746,3033839,3018790,3034067],"length":1,"stats":{"Line":8},"fn_name":null},{"line":360,"address":[3034703,3019978,3034195,3035006,3019879,3019239,3019595,3034835,3019747,3020050,3034551,3034934],"length":1,"stats":{"Line":12},"fn_name":null},{"line":362,"address":[3035388,3020652,3035605,3037184,3036960,3020435],"length":1,"stats":{"Line":4},"fn_name":"{closure#0}\u003casync_native_tls::tls_stream::TlsStream\u003casync_net::tcp::TcpStream\u003e\u003e"},{"line":363,"address":[3036998,3037222],"length":1,"stats":{"Line":0},"fn_name":null},{"line":366,"address":[3035519,3020730,3020566,3035683],"length":1,"stats":{"Line":5},"fn_name":null},{"line":367,"address":[3021235,3021442,3036165,3035701,3020748,3036372],"length":1,"stats":{"Line":2},"fn_name":null},{"line":368,"address":[3036274,3021647,3036577,3021344],"length":1,"stats":{"Line":2},"fn_name":null},{"line":371,"address":[3020814,3035767],"length":1,"stats":{"Line":4},"fn_name":null},{"line":375,"address":[2275104,2275485],"length":1,"stats":{"Line":1},"fn_name":"error_message"},{"line":376,"address":[2275121,2275299],"length":1,"stats":{"Line":1},"fn_name":null},{"line":377,"address":[2275389,2275269],"length":1,"stats":{"Line":2},"fn_name":null},{"line":380,"address":[2275520,2277616,2277670],"length":1,"stats":{"Line":1},"fn_name":"response_error"},{"line":385,"address":[2275568],"length":1,"stats":{"Line":1},"fn_name":null},{"line":386,"address":[2277665,2275672],"length":1,"stats":{"Line":0},"fn_name":null},{"line":387,"address":[2275753],"length":1,"stats":{"Line":0},"fn_name":null},{"line":388,"address":[2276178,2275852,2276160,2276380,2276121],"length":1,"stats":{"Line":5},"fn_name":null},{"line":389,"address":[3037446],"length":1,"stats":{"Line":0},"fn_name":null},{"line":391,"address":[2276736,2277579],"length":1,"stats":{"Line":0},"fn_name":null},{"line":392,"address":[2276839,2277574],"length":1,"stats":{"Line":0},"fn_name":null},{"line":393,"address":[2277569,2276942],"length":1,"stats":{"Line":2},"fn_name":null},{"line":394,"address":[2277564,2277045],"length":1,"stats":{"Line":0},"fn_name":null},{"line":395,"address":[2277559,2277148],"length":1,"stats":{"Line":0},"fn_name":null},{"line":397,"address":[2277554,2277251],"length":1,"stats":{"Line":0},"fn_name":null},{"line":399,"address":[2277354,2277549],"length":1,"stats":{"Line":2},"fn_name":null},{"line":400,"address":[2277454],"length":1,"stats":{"Line":0},"fn_name":null},{"line":401,"address":[2276225,2276356],"length":1,"stats":{"Line":0},"fn_name":null},{"line":402,"address":[2276516,2276176],"length":1,"stats":{"Line":0},"fn_name":null},{"line":404,"address":[2275638,2275917],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":88,"coverable":149},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","sample.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(number: usize) -\u003e Command {\n    let arg = Command::from_json(number);\n\n    Command::new(TermType::Sample).with_arg(arg)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_sample_data() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: Vec\u003cPost\u003e = table.sample(3).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained.len() == 3);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":5,"address":[4354874,4354672,4354901],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[4354697],"length":1,"stats":{"Line":1},"fn_name":null},{"line":8,"address":[4354723,4354790],"length":1,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[4772165,4771760,4771799,4772213],"length":1,"stats":{"Line":6},"fn_name":"test_sample_data"},{"line":19,"address":[6691652,6692151,6692588,6691587,6691805,6691973],"length":1,"stats":{"Line":4},"fn_name":null},{"line":20,"address":[6691673,6691756,6693554,6692845,6692535,6693689],"length":1,"stats":{"Line":5},"fn_name":null},{"line":22,"address":[6693983,6693674,6694044],"length":1,"stats":{"Line":2},"fn_name":null},{"line":24,"address":[4771836,4772176,4771896,4771791],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":8,"coverable":8},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","seconds.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Seconds)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_seconds_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let seconds = r.now().seconds();\n        let seconds1 = seconds.clone().value();\n        let seconds2: f64 = seconds.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(seconds1.is_normal());\n        assert!(seconds2.is_normal());\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2720144],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2720156],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[2258869,2258464,2258503,2258917],"length":1,"stats":{"Line":6},"fn_name":"test_seconds_ops"},{"line":16,"address":[4777706,4776976,4777022,4777445,4777095,4777256],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[4777696,4777952],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[4778043,4777980],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[4778095,4778182,4778895,4777037,4779004],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[4778982,4779166,4779189],"length":1,"stats":{"Line":2},"fn_name":null},{"line":23,"address":[4779225,4779266,4779178],"length":1,"stats":{"Line":2},"fn_name":null},{"line":25,"address":[2258495,2258880,2258540,2258600],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":10,"coverable":10},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","set_difference.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(values: Vec\u003cimpl Serialize\u003e) -\u003e Command {\n    let arg = Command::from_json(values);\n\n    Command::new(TermType::SetDifference).with_arg(arg)\n}\n\n// TODO write test\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","set_insert.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(value: impl Serialize) -\u003e Command {\n    let arg = Command::from_json(value);\n\n    Command::new(TermType::SetInsert).with_arg(arg)\n}\n\n// TODO write test\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","set_intersection.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(values: Vec\u003cimpl Serialize\u003e) -\u003e Command {\n    let arg = Command::from_json(values);\n\n    Command::new(TermType::SetIntersection).with_arg(arg)\n}\n\n// TODO write test\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","set_union.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(values: Vec\u003cimpl Serialize\u003e) -\u003e Command {\n    let arg = Command::from_json(values);\n\n    Command::new(TermType::SetUnion).with_arg(arg)\n}\n\n// TODO write test\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","set_write_hook.rs"],"content":"use ql2::term::TermType;\n\nuse crate::prelude::Func;\nuse crate::{types::Binary, Command};\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: Option\u003cimpl SetWriteHookArg\u003e) -\u003e Command {\n    let mut command = Command::new(TermType::SetWriteHook);\n\n    if let Some(arg) = args {\n        command = arg.into_set_write_hook_opts().add_to_cmd(command);\n    }\n\n    command\n}\n\npub trait SetWriteHookArg {\n    fn into_set_write_hook_opts(self) -\u003e CmdOpts;\n}\n\nimpl SetWriteHookArg for Func {\n    fn into_set_write_hook_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(self.0)\n    }\n}\n\nimpl SetWriteHookArg for Binary {\n    fn into_set_write_hook_opts(self) -\u003e CmdOpts {\n        let arg = Command::from_json(self);\n\n        CmdOpts::Single(arg)\n    }\n}\n\n// WriteHookResponse\n// TODO Write test\n","traces":[{"line":23,"address":[7021280],"length":1,"stats":{"Line":0},"fn_name":"into_set_write_hook_opts"},{"line":24,"address":[7021296],"length":1,"stats":{"Line":0},"fn_name":null},{"line":29,"address":[2212176],"length":1,"stats":{"Line":0},"fn_name":"into_set_write_hook_opts"},{"line":30,"address":[2212193],"length":1,"stats":{"Line":0},"fn_name":null},{"line":32,"address":[2212258],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":5},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","skip.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(step: usize) -\u003e Command {\n    let arg = Command::from_json(step);\n\n    Command::new(TermType::Skip).with_arg(arg)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_skip_data() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: Vec\u003cPost\u003e = table\n            .skip(data.len() - 1)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained.first() == data.first());\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":5,"address":[2503138,2502896,2503107],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2502921],"length":1,"stats":{"Line":1},"fn_name":null},{"line":8,"address":[2502948,2503019],"length":1,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[4218773,4218725,4218320,4218359],"length":1,"stats":{"Line":6},"fn_name":"test_skip_data"},{"line":19,"address":[5138739],"length":1,"stats":{"Line":1},"fn_name":null},{"line":20,"address":[5139352,5139785,5138799,5138952,5139117,5139177],"length":1,"stats":{"Line":4},"fn_name":null},{"line":21,"address":[5140293,5140841,5141121,5140127,5140885,5140565,5140028,5140370,5139737,5140784],"length":1,"stats":{"Line":7},"fn_name":null},{"line":22,"address":[5140059,5140134,5139767,5140152,5139958],"length":1,"stats":{"Line":1},"fn_name":null},{"line":23,"address":[5140326,5140107,5140202,5140498,5138903,5138820],"length":1,"stats":{"Line":6},"fn_name":null},{"line":24,"address":[5140688],"length":1,"stats":{"Line":0},"fn_name":null},{"line":28,"address":[5141382,5141005,5141553],"length":1,"stats":{"Line":2},"fn_name":null},{"line":30,"address":[4218396,4218736,4218351,4218456],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":11,"coverable":12},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","slice.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::{arguments::Status, Command};\n\npub(crate) fn new(args: impl SliceArg) -\u003e Command {\n    let (start_offset, end_offset, opts) = args.into_slice_opts();\n    let mut command = Command::new(TermType::Slice).with_arg(start_offset);\n\n    if let Some(end_offset) = end_offset {\n        command = command.with_arg(end_offset);\n    }\n\n    command.with_opts(opts)\n}\n\npub trait SliceArg {\n    fn into_slice_opts(self) -\u003e (Command, Option\u003cCommand\u003e, SliceOption);\n}\n\nimpl SliceArg for isize {\n    fn into_slice_opts(self) -\u003e (Command, Option\u003cCommand\u003e, SliceOption) {\n        (Command::from_json(self), None, Default::default())\n    }\n}\n\nimpl SliceArg for (isize, isize) {\n    fn into_slice_opts(self) -\u003e (Command, Option\u003cCommand\u003e, SliceOption) {\n        (\n            Command::from_json(self.0),\n            Some(Command::from_json(self.1)),\n            Default::default(),\n        )\n    }\n}\n\nimpl SliceArg for (isize, SliceOption) {\n    fn into_slice_opts(self) -\u003e (Command, Option\u003cCommand\u003e, SliceOption) {\n        (Command::from_json(self), None, self.1)\n    }\n}\n\nimpl SliceArg for (isize, isize, SliceOption) {\n    fn into_slice_opts(self) -\u003e (Command, Option\u003cCommand\u003e, SliceOption) {\n        (\n            Command::from_json(self.0),\n            Some(Command::from_json(self.1)),\n            self.2,\n        )\n    }\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct SliceOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub left_bound: Option\u003cStatus\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub right_bound: Option\u003cStatus\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::cmd::order_by::OrderByOption;\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_slice_data() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: Vec\u003cPost\u003e = table\n            .order_by(OrderByOption::default().index(\"id\"))\n            .slice((4, 5))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained.last() == data.last());\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":7,"address":[1330704,1331479,1331392],"length":1,"stats":{"Line":1},"fn_name":"new\u003c(isize, isize)\u003e"},{"line":8,"address":[1330737],"length":1,"stats":{"Line":1},"fn_name":null},{"line":9,"address":[1330883,1330980],"length":1,"stats":{"Line":2},"fn_name":null},{"line":11,"address":[1331318,1331048],"length":1,"stats":{"Line":2},"fn_name":null},{"line":12,"address":[1331292,1331169],"length":1,"stats":{"Line":2},"fn_name":null},{"line":15,"address":[1331259],"length":1,"stats":{"Line":1},"fn_name":null},{"line":23,"address":[2870722,2870528,2870749],"length":1,"stats":{"Line":0},"fn_name":"into_slice_opts"},{"line":24,"address":[2221885,2221705],"length":1,"stats":{"Line":0},"fn_name":null},{"line":29,"address":[2871058,2870768],"length":1,"stats":{"Line":1},"fn_name":"into_slice_opts"},{"line":31,"address":[2870806],"length":1,"stats":{"Line":1},"fn_name":null},{"line":32,"address":[2870910,2870822],"length":1,"stats":{"Line":2},"fn_name":null},{"line":33,"address":[2870912],"length":1,"stats":{"Line":1},"fn_name":null},{"line":39,"address":[2222224],"length":1,"stats":{"Line":0},"fn_name":"into_slice_opts"},{"line":40,"address":[2222246],"length":1,"stats":{"Line":0},"fn_name":null},{"line":45,"address":[2871280,2871520],"length":1,"stats":{"Line":0},"fn_name":"into_slice_opts"},{"line":47,"address":[2222438],"length":1,"stats":{"Line":0},"fn_name":null},{"line":48,"address":[2871385,2871321],"length":1,"stats":{"Line":0},"fn_name":null},{"line":49,"address":[2222548],"length":1,"stats":{"Line":0},"fn_name":null},{"line":70,"address":[4797287,4797248,4797653,4797701],"length":1,"stats":{"Line":6},"fn_name":"test_slice_data"},{"line":71,"address":[5142515],"length":1,"stats":{"Line":1},"fn_name":null},{"line":72,"address":[5143128,5142728,5142953,5143559,5142893,5142575],"length":1,"stats":{"Line":4},"fn_name":null},{"line":73,"address":[5144606,5143808,5144663,5143519,5144115,5144707,5144192,5143879,5143998,5144943,5144387],"length":1,"stats":{"Line":8},"fn_name":null},{"line":74,"address":[5143847,5143936,5143549,5143918,5143732],"length":1,"stats":{"Line":2},"fn_name":null},{"line":75,"address":[5143855],"length":1,"stats":{"Line":1},"fn_name":null},{"line":76,"address":[5142596,5143978,5144021,5142679,5144148,5144320],"length":1,"stats":{"Line":6},"fn_name":null},{"line":77,"address":[5144510],"length":1,"stats":{"Line":0},"fn_name":null},{"line":81,"address":[5145375,5145204,5144827],"length":1,"stats":{"Line":2},"fn_name":null},{"line":83,"address":[4797664,4797384,4797324,4797279],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":19,"coverable":28},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","splice_at.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(offset: isize, value: impl Serialize) -\u003e Command {\n    let arg_offset = Command::from_json(offset);\n    let arg_value = Command::from_json(value);\n\n    Command::new(TermType::SpliceAt)\n        .with_arg(arg_offset)\n        .with_arg(arg_value)\n}\n\n// TODO write test\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","split.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(args: impl SplitArg) -\u003e Command {\n    let (arg1, arg2) = args.into_split_opts();\n    let mut command = Command::new(TermType::Split);\n\n    if let Some(arg) = arg1 {\n        command = command.with_arg(arg);\n    }\n\n    if let Some(arg1) = arg2 {\n        command = command.with_arg(arg1);\n    }\n\n    command\n}\n\npub trait SplitArg {\n    fn into_split_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e);\n}\n\nimpl SplitArg for () {\n    fn into_split_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        (None, None)\n    }\n}\n\nimpl SplitArg for Option\u003c\u0026str\u003e {\n    fn into_split_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        (Some(Command::from_json(self)), None)\n    }\n}\n\nimpl SplitArg for (Option\u003c\u0026str\u003e, usize) {\n    fn into_split_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        (\n            Some(Command::from_json(self.0)),\n            Some(Command::from_json(self.1)),\n        )\n    }\n}\n\n// TODO write test\n","traces":[{"line":25,"address":[2720192],"length":1,"stats":{"Line":0},"fn_name":"into_split_opts"},{"line":26,"address":[2720211],"length":1,"stats":{"Line":0},"fn_name":null},{"line":31,"address":[2703280],"length":1,"stats":{"Line":0},"fn_name":"into_split_opts"},{"line":32,"address":[2703312],"length":1,"stats":{"Line":0},"fn_name":null},{"line":37,"address":[2703424,2703641],"length":1,"stats":{"Line":0},"fn_name":"into_split_opts"},{"line":39,"address":[2703448],"length":1,"stats":{"Line":0},"fn_name":null},{"line":40,"address":[2703552,2703499],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":7},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","status.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Status)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::StatusResponse;\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_status_table() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let response: StatusResponse = table.status().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response.name.unwrap() == table_name);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":5,"address":[2720304],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2720316],"length":1,"stats":{"Line":1},"fn_name":null},{"line":17,"address":[1654416,1654384,1654393,1654485,1654818,1655110,1654590],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":18,"address":[1654943,1655553,1654547,1654620,1655121,1654775],"length":1,"stats":{"Line":4},"fn_name":null},{"line":19,"address":[1655810,1654641,1655505,1654726,1656734,1656527],"length":1,"stats":{"Line":5},"fn_name":null},{"line":21,"address":[1656669,1657046,1657200],"length":1,"stats":{"Line":2},"fn_name":null},{"line":23,"address":[1657376,1657500,1657560,1657717,1657854,1654659,1657157],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":7,"coverable":7},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","sub.rs"],"content":"use std::ops::Sub;\n\nuse ql2::term::TermType;\n\nuse crate::Command;\n\nimpl\u003cT: SubArg\u003e Sub\u003cT\u003e for Command {\n    type Output = Self;\n\n    fn sub(self, arg: T) -\u003e Self {\n        Command::new(TermType::Sub)\n            .with_arg(arg.into_sub_opts())\n            .with_parent(self)\n    }\n}\n\npub trait SubArg {\n    fn into_sub_opts(self) -\u003e Command;\n}\n\nimpl SubArg for f64 {\n    fn into_sub_opts(self) -\u003e Command {\n        Command::from_json(self)\n    }\n}\n\nimpl SubArg for Vec\u003cf64\u003e {\n    fn into_sub_opts(self) -\u003e Command {\n        Command::from_json(self)\n    }\n}\n\nimpl SubArg for Command {\n    fn into_sub_opts(self) -\u003e Command {\n        self\n    }\n}\n\n// TODO write test\n","traces":[{"line":10,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":11,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":12,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":13,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":22,"address":[2674304],"length":1,"stats":{"Line":0},"fn_name":"into_sub_opts"},{"line":23,"address":[2674322],"length":1,"stats":{"Line":0},"fn_name":null},{"line":28,"address":[4440288],"length":1,"stats":{"Line":0},"fn_name":"into_sub_opts"},{"line":29,"address":[4440300],"length":1,"stats":{"Line":0},"fn_name":null},{"line":34,"address":[4045952],"length":1,"stats":{"Line":0},"fn_name":"into_sub_opts"},{"line":35,"address":[4045960],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":10},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","sum.rs"],"content":"use ql2::term::TermType;\n\nuse crate::prelude::Func;\nuse crate::Command;\n\npub(crate) fn new(args: impl SumArg) -\u003e Command {\n    let (arg1, arg2) = args.into_sum_opts();\n    let mut command = Command::new(TermType::Sum);\n\n    if let Some(arg) = arg1 {\n        command = command.with_arg(arg)\n    }\n\n    if let Some(arg) = arg2 {\n        command = command.with_arg(arg)\n    }\n\n    command\n}\n\npub trait SumArg {\n    fn into_sum_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e);\n}\n\nimpl SumArg for () {\n    fn into_sum_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        (None, None)\n    }\n}\n\nimpl SumArg for \u0026str {\n    fn into_sum_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        let arg = Command::from_json(self);\n\n        (None, Some(arg))\n    }\n}\n\nimpl SumArg for Func {\n    fn into_sum_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        (None, Some(self.0))\n    }\n}\n\nimpl SumArg for Command {\n    fn into_sum_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        (Some(self), None)\n    }\n}\n\nimpl SumArg for (Command, \u0026str) {\n    fn into_sum_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        let arg = Command::from_json(self.1);\n\n        (Some(self.0), Some(arg))\n    }\n}\n\nimpl SumArg for (Command, Func) {\n    fn into_sum_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        let Func(func) = self.1;\n\n        (Some(self.0), Some(func))\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_sum_data() -\u003e Result\u003c()\u003e {\n        let data: u8 = Post::get_many_data().iter().map(|post| post.view).sum();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: u8 = table.sum(\"view\").run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained == data);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":6,"address":[1761520,1762391,1762280],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":7,"address":[1761553],"length":1,"stats":{"Line":1},"fn_name":null},{"line":8,"address":[1761663],"length":1,"stats":{"Line":1},"fn_name":null},{"line":10,"address":[1761996,1761760],"length":1,"stats":{"Line":1},"fn_name":null},{"line":11,"address":[1761875,1761970],"length":1,"stats":{"Line":0},"fn_name":null},{"line":14,"address":[1762221,1761998,1761932],"length":1,"stats":{"Line":3},"fn_name":null},{"line":15,"address":[1762081,1762195],"length":1,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[1762142],"length":1,"stats":{"Line":1},"fn_name":null},{"line":26,"address":[1684272],"length":1,"stats":{"Line":0},"fn_name":"into_sum_opts"},{"line":27,"address":[1684291],"length":1,"stats":{"Line":0},"fn_name":null},{"line":32,"address":[1684384],"length":1,"stats":{"Line":1},"fn_name":"into_sum_opts"},{"line":33,"address":[1684417],"length":1,"stats":{"Line":1},"fn_name":null},{"line":35,"address":[1684427],"length":1,"stats":{"Line":1},"fn_name":null},{"line":40,"address":[2830400],"length":1,"stats":{"Line":0},"fn_name":"into_sum_opts"},{"line":41,"address":[2830416],"length":1,"stats":{"Line":0},"fn_name":null},{"line":46,"address":[2261360],"length":1,"stats":{"Line":0},"fn_name":"into_sum_opts"},{"line":47,"address":[2179728],"length":1,"stats":{"Line":0},"fn_name":null},{"line":52,"address":[2179856,2180116],"length":1,"stats":{"Line":0},"fn_name":"into_sum_opts"},{"line":53,"address":[2261529],"length":1,"stats":{"Line":0},"fn_name":null},{"line":55,"address":[4046221],"length":1,"stats":{"Line":0},"fn_name":null},{"line":60,"address":[2261792],"length":1,"stats":{"Line":0},"fn_name":"into_sum_opts"},{"line":61,"address":[2261814],"length":1,"stats":{"Line":0},"fn_name":null},{"line":63,"address":[2261841],"length":1,"stats":{"Line":0},"fn_name":null},{"line":74,"address":[4219351,4219717,4219765,4219312],"length":1,"stats":{"Line":6},"fn_name":"test_sum_data"},{"line":75,"address":[2274669,2271656,2274656,2271283],"length":1,"stats":{"Line":4},"fn_name":"{closure#0}"},{"line":76,"address":[2271900,2271343,2271496,2272558],"length":1,"stats":{"Line":3},"fn_name":null},{"line":77,"address":[2273622,2273524,2271364,2271447,2272498,2272815],"length":1,"stats":{"Line":5},"fn_name":null},{"line":79,"address":[2273601,2273921],"length":1,"stats":{"Line":1},"fn_name":null},{"line":81,"address":[2274199,2273878,2274139,2271382,2274251,2274385,2274015],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":16,"coverable":29},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","sync.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Sync)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::*;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::SyncResponse;\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_sync_ops() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let sync_response: SyncResponse = table.sync().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(sync_response.synced == 1);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":5,"address":[2720352],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2720364],"length":1,"stats":{"Line":1},"fn_name":null},{"line":17,"address":[1680021,1679973,1679568,1679607],"length":1,"stats":{"Line":6},"fn_name":"test_sync_ops"},{"line":18,"address":[4103283,4103348,4103501,4103847,4104279,4103669],"length":1,"stats":{"Line":4},"fn_name":null},{"line":19,"address":[4105334,4103452,4103369,4104536,4104231,4105245],"length":1,"stats":{"Line":5},"fn_name":null},{"line":21,"address":[4105314,4105633],"length":1,"stats":{"Line":1},"fn_name":null},{"line":23,"address":[1679644,1679704,1679984,1679599],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":7,"coverable":7},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","table.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::arguments::{IdentifierFormat, ReadMode};\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl TableArg) -\u003e Command {\n    let (args, opts) = args.into_table_opts();\n\n    args.add_to_cmd(Command::new(TermType::Table))\n        .with_opts(opts)\n}\n\npub trait TableArg {\n    fn into_table_opts(self) -\u003e (CmdOpts, TableOption);\n}\n\nimpl TableArg for \u0026str {\n    fn into_table_opts(self) -\u003e (CmdOpts, TableOption) {\n        let arg = Command::from_json(self);\n\n        (CmdOpts::Single(arg), Default::default())\n    }\n}\n\nimpl TableArg for (\u0026str, TableOption) {\n    fn into_table_opts(self) -\u003e (CmdOpts, TableOption) {\n        let arg = Command::from_json(self.0);\n\n        (CmdOpts::Single(arg), self.1)\n    }\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\n#[non_exhaustive]\npub struct TableOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub read_mode: Option\u003cReadMode\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub identifier_format: Option\u003cIdentifierFormat\u003e,\n}\n\n// Sequence\u003cDocument\u003cT\u003e\u003e\n#[cfg(test)]\nmod tests {\n    use serde_json::Value;\n\n    use crate::arguments::ReadMode;\n    use crate::cmd::table::TableOption;\n    use crate::prelude::*;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_table() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let table: Vec\u003cValue\u003e = r\n            .db(\"todo_app\")\n            .table(\"geo\")\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(table.len() \u003e 0);\n        Ok(())\n    }\n\n    #[tokio::test]\n    async fn test_table_with_options() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let table_options = TableOption::default().read_mode(ReadMode::Outdated);\n        let table: Vec\u003cValue\u003e = r\n            .db(\"todo_app\")\n            .table((\"geo\", table_options))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(table.len() \u003e 0);\n        Ok(())\n    }\n}\n","traces":[{"line":10,"address":[3086957,3087011,3087488,3087040,3087434,3086592],"length":1,"stats":{"Line":9},"fn_name":"new\u003c\u0026str\u003e"},{"line":11,"address":[1775329],"length":1,"stats":{"Line":9},"fn_name":null},{"line":13,"address":[3086950,3086756,3087233,3087427],"length":1,"stats":{"Line":9},"fn_name":null},{"line":22,"address":[2474528,2474770],"length":1,"stats":{"Line":8},"fn_name":"into_table_opts"},{"line":23,"address":[2392913],"length":1,"stats":{"Line":8},"fn_name":null},{"line":25,"address":[2474612],"length":1,"stats":{"Line":8},"fn_name":null},{"line":30,"address":[2393152],"length":1,"stats":{"Line":1},"fn_name":"into_table_opts"},{"line":31,"address":[2474825],"length":1,"stats":{"Line":1},"fn_name":null},{"line":33,"address":[2545114],"length":1,"stats":{"Line":1},"fn_name":null},{"line":57,"address":[3088857,3088925,3088768,3089060,3088777,3089359,3088800],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":58,"address":[3088949,3089020,3089370,3089643,3089181,3088915],"length":1,"stats":{"Line":4},"fn_name":null},{"line":59,"address":[3089866,3089926,3089613,3090037,3090512,3090293,3090569,3090606,3090108,3090842],"length":1,"stats":{"Line":7},"fn_name":null},{"line":62,"address":[3090067,3090236,3089949,3088964,3089906],"length":1,"stats":{"Line":5},"fn_name":null},{"line":63,"address":[3090416],"length":1,"stats":{"Line":0},"fn_name":null},{"line":67,"address":[3090719,3090969,3091013],"length":1,"stats":{"Line":2},"fn_name":null},{"line":68,"address":[4418968,4418863,4418908,4419248],"length":1,"stats":{"Line":5},"fn_name":null},{"line":72,"address":[4419367,4419733,4419328,4419781],"length":1,"stats":{"Line":6},"fn_name":"test_table_with_options"},{"line":73,"address":[3091356,3091517,3091706,3091251,3091967,3091285],"length":1,"stats":{"Line":4},"fn_name":null},{"line":74,"address":[3091949,3092212],"length":1,"stats":{"Line":2},"fn_name":null},{"line":75,"address":[3093085,3092410,3092809,3093358,3092442,3092553,3093122,3092624,3092283,3093028],"length":1,"stats":{"Line":7},"fn_name":null},{"line":77,"address":[3092345],"length":1,"stats":{"Line":1},"fn_name":null},{"line":78,"address":[3092422,3091300,3092752,3092465,3092583],"length":1,"stats":{"Line":5},"fn_name":null},{"line":79,"address":[3092932],"length":1,"stats":{"Line":0},"fn_name":null},{"line":83,"address":[3093513,3093235,3093469],"length":1,"stats":{"Line":2},"fn_name":null},{"line":84,"address":[3093482],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":23,"coverable":25},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","table_create.rs"],"content":"use std::borrow::Cow;\nuse std::collections::HashMap;\n\nuse ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::{Serialize, Serializer};\n\nuse crate::arguments::{Durability, Replicas};\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl TableCreateArg) -\u003e Command {\n    let (args, opts) = args.into_table_create_opts();\n\n    args.add_to_cmd(Command::new(TermType::TableCreate))\n        .with_opts(opts)\n}\n\npub trait TableCreateArg {\n    fn into_table_create_opts(self) -\u003e (CmdOpts, TableCreateOption);\n}\n\nimpl TableCreateArg for \u0026str {\n    fn into_table_create_opts(self) -\u003e (CmdOpts, TableCreateOption) {\n        let arg = Command::from_json(self);\n\n        (CmdOpts::Single(arg), Default::default())\n    }\n}\n\nimpl TableCreateArg for (\u0026str, TableCreateOption) {\n    fn into_table_create_opts(self) -\u003e (CmdOpts, TableCreateOption) {\n        let arg = Command::from_json(self.0);\n\n        (CmdOpts::Single(arg), self.1)\n    }\n}\n\n#[derive(Debug, Default, Clone, PartialEq, CommandOptions)]\n#[non_exhaustive]\npub struct TableCreateOption {\n    pub primary_key: Option\u003cCow\u003c'static, str\u003e\u003e,\n    pub durability: Option\u003cDurability\u003e,\n    pub shards: Option\u003cu8\u003e,\n    pub replicas: Option\u003cReplicas\u003e,\n}\n\nimpl Serialize for TableCreateOption {\n    fn serialize\u003cS\u003e(\u0026self, serializer: S) -\u003e Result\u003cS::Ok, S::Error\u003e\n    where\n        S: Serializer,\n    {\n        #[derive(Serialize)]\n        struct InnerOptions\u003c'a\u003e {\n            #[serde(skip_serializing_if = \"Option::is_none\")]\n            primary_key: Option\u003c\u0026'a Cow\u003c'static, str\u003e\u003e,\n            #[serde(skip_serializing_if = \"Option::is_none\")]\n            durability: Option\u003cDurability\u003e,\n            #[serde(skip_serializing_if = \"Option::is_none\")]\n            shards: Option\u003cu8\u003e,\n            #[serde(skip_serializing_if = \"Option::is_none\")]\n            replicas: Option\u003cInnerReplicas\u003c'a\u003e\u003e,\n            #[serde(skip_serializing_if = \"Option::is_none\")]\n            primary_replica_tag: Option\u003c\u0026'a Cow\u003c'static, str\u003e\u003e,\n        }\n\n        #[derive(Serialize)]\n        #[serde(untagged)]\n        enum InnerReplicas\u003c'a\u003e {\n            Int(usize),\n            Map(\u0026'a HashMap\u003cCow\u003c'static, str\u003e, usize\u003e),\n        }\n\n        let (replicas, primary_replica_tag) = match \u0026self.replicas {\n            Some(Replicas::Int(i)) =\u003e (Some(InnerReplicas::Int(*i)), None),\n            Some(Replicas::Map {\n                replicas,\n                primary_replica_tag,\n            }) =\u003e (\n                Some(InnerReplicas::Map(replicas)),\n                Some(primary_replica_tag),\n            ),\n            None =\u003e (None, None),\n        };\n\n        let opts = InnerOptions {\n            replicas,\n            primary_replica_tag,\n            primary_key: self.primary_key.as_ref(),\n            durability: self.durability,\n            shards: self.shards,\n        };\n\n        opts.serialize(serializer)\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use uuid::Uuid;\n\n    use crate::cmd::table_create::TableCreateOption;\n    use crate::types::DbResponse;\n    use crate::{prelude::*, Session};\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_create_table() -\u003e Result\u003c()\u003e {\n        let table_name = Uuid::new_v4().to_string();\n        let conn = r.connection().connect().await?;\n        let table_created: DbResponse = r\n            .table_create(table_name.as_str())\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        drop_table(\u0026table_name, table_created, \u0026conn).await\n    }\n\n    #[tokio::test]\n    async fn test_create_table_with_options() -\u003e Result\u003c()\u003e {\n        let table_name = Uuid::new_v4().to_string();\n        let conn = r.connection().connect().await?;\n        let table_options = TableCreateOption::default().primary_key(\"id\");\n        let table_created = r\n            .db(\"test\")\n            .table_create((table_name.as_str(), table_options))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        drop_table(\u0026table_name, table_created, \u0026conn).await\n    }\n\n    async fn drop_table(table_name: \u0026str, table_created: DbResponse, conn: \u0026Session) -\u003e Result\u003c()\u003e {\n        assert!(table_created.tables_created \u003e Some(0));\n        r.table_drop(table_name).run(conn).await?;\n        Ok(())\n    }\n}\n","traces":[{"line":13,"address":[2687834,2687745,2687136,2686400,2687108,2687019],"length":1,"stats":{"Line":7},"fn_name":"new\u003c(\u0026str, reql_rust::cmd::table_create::TableCreateOption)\u003e"},{"line":14,"address":[2686417,2687169],"length":1,"stats":{"Line":7},"fn_name":null},{"line":16,"address":[2687407,2687711,2687738,2686985,2687012,2686681],"length":1,"stats":{"Line":14},"fn_name":null},{"line":17,"address":[2687559,2686833],"length":1,"stats":{"Line":7},"fn_name":null},{"line":25,"address":[4013982,4013744],"length":1,"stats":{"Line":6},"fn_name":"into_table_create_opts"},{"line":26,"address":[4013777],"length":1,"stats":{"Line":6},"fn_name":null},{"line":28,"address":[4013826],"length":1,"stats":{"Line":6},"fn_name":null},{"line":33,"address":[4014016,4014252],"length":1,"stats":{"Line":1},"fn_name":"into_table_create_opts"},{"line":34,"address":[4014040],"length":1,"stats":{"Line":1},"fn_name":null},{"line":36,"address":[4014095],"length":1,"stats":{"Line":1},"fn_name":null},{"line":50,"address":[2687872,2688465],"length":1,"stats":{"Line":6},"fn_name":"serialize\u003cserde_json::value::ser::Serializer\u003e"},{"line":75,"address":[2687902,2688009,2688249],"length":1,"stats":{"Line":12},"fn_name":null},{"line":76,"address":[2688026],"length":1,"stats":{"Line":0},"fn_name":null},{"line":77,"address":[2688133],"length":1,"stats":{"Line":0},"fn_name":null},{"line":78,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":79,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":80,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":81,"address":[2688145],"length":1,"stats":{"Line":0},"fn_name":null},{"line":82,"address":[2688197],"length":1,"stats":{"Line":0},"fn_name":null},{"line":84,"address":[2687952],"length":1,"stats":{"Line":6},"fn_name":null},{"line":90,"address":[2688289],"length":1,"stats":{"Line":6},"fn_name":null},{"line":91,"address":[2688365],"length":1,"stats":{"Line":6},"fn_name":null},{"line":92,"address":[2688369],"length":1,"stats":{"Line":6},"fn_name":null},{"line":95,"address":[2688429],"length":1,"stats":{"Line":6},"fn_name":null},{"line":109,"address":[4356240,4356279,4356693,4356645],"length":1,"stats":{"Line":6},"fn_name":"test_create_table"},{"line":110,"address":[2309286,2309617],"length":1,"stats":{"Line":2},"fn_name":null},{"line":111,"address":[2309461,2309693,2309882,2309332,2309632,2310146],"length":1,"stats":{"Line":4},"fn_name":null},{"line":112,"address":[2310593,2310998,2311092,2310411,2310779,2311457,2310522,2310379,2311055],"length":1,"stats":{"Line":6},"fn_name":null},{"line":113,"address":[2310126],"length":1,"stats":{"Line":1},"fn_name":null},{"line":114,"address":[6769564],"length":1,"stats":{"Line":6},"fn_name":null},{"line":115,"address":[2310902],"length":1,"stats":{"Line":0},"fn_name":null},{"line":119,"address":[4356376,4356271,4356316,4356656],"length":1,"stats":{"Line":8},"fn_name":null},{"line":123,"address":[4356775,4357189,4356736,4357141],"length":1,"stats":{"Line":6},"fn_name":"test_create_table_with_options"},{"line":124,"address":[2312411,2312754],"length":1,"stats":{"Line":2},"fn_name":null},{"line":125,"address":[2312769,2312469,2312830,2313019,2312598,2313281],"length":1,"stats":{"Line":4},"fn_name":null},{"line":126,"address":[2313271,2313500],"length":1,"stats":{"Line":2},"fn_name":null},{"line":127,"address":[2314205,2314681,2313965,2313544,2314276,2315144,2314462,2314037,2314738,2314779],"length":1,"stats":{"Line":7},"fn_name":null},{"line":129,"address":[2313619,2314052,2314009,2313571],"length":1,"stats":{"Line":2},"fn_name":null},{"line":130,"address":[2314235,2312484,2314120,2312555,2314017,2314404],"length":1,"stats":{"Line":6},"fn_name":null},{"line":131,"address":[2314585],"length":1,"stats":{"Line":0},"fn_name":null},{"line":135,"address":[2315730,2315028,2315541,2312499,2315604,2315321],"length":1,"stats":{"Line":8},"fn_name":null},{"line":138,"address":[2307824,2309003,2307867,2308529,2308135,2308061,2309128],"length":1,"stats":{"Line":5},"fn_name":"{async_fn#0}"},{"line":139,"address":[2308033,2308271,2308240],"length":1,"stats":{"Line":2},"fn_name":null},{"line":140,"address":[2308264,2308082,2308540,2308348],"length":1,"stats":{"Line":3},"fn_name":null},{"line":141,"address":[2309116],"length":1,"stats":{"Line":1},"fn_name":null}],"covered":36,"coverable":45},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","table_drop.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(table_name: \u0026str) -\u003e Command {\n    let args = Command::from_json(table_name);\n\n    Command::new(TermType::TableDrop).with_arg(args)\n}\n\n#[cfg(test)]\nmod tests {\n    use uuid::Uuid;\n\n    use crate::prelude::*;\n    use crate::types::DbResponse;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_drop_table() -\u003e Result\u003c()\u003e {\n        let table_name = Uuid::new_v4().to_string();\n        let conn = r.connection().connect().await?;\n\n        r.table_create(table_name.as_str()).run(\u0026conn).await?;\n\n        let table_dropped: DbResponse = r\n            .table_drop(table_name.as_str())\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(table_dropped.tables_dropped \u003e Some(0));\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[4355295,4355056,4355268],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2232913],"length":1,"stats":{"Line":1},"fn_name":null},{"line":8,"address":[2314588,2314663],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[1658496,1658535,1658949,1658901],"length":1,"stats":{"Line":6},"fn_name":"test_drop_table"},{"line":21,"address":[2298875,2299248],"length":1,"stats":{"Line":2},"fn_name":null},{"line":22,"address":[2299080,2298927,2299816,2299263,2299327,2299531],"length":1,"stats":{"Line":4},"fn_name":null},{"line":24,"address":[2298948,2300044,2299031,2299790],"length":1,"stats":{"Line":4},"fn_name":null},{"line":26,"address":[2301513,2301962,2301294,2301099,2301016,2300899,2301570,2300864,2301593],"length":1,"stats":{"Line":6},"fn_name":null},{"line":27,"address":[2300771],"length":1,"stats":{"Line":1},"fn_name":null},{"line":28,"address":[2298966,2300922,2300879,2301055,2301227],"length":1,"stats":{"Line":5},"fn_name":null},{"line":29,"address":[2301417],"length":1,"stats":{"Line":0},"fn_name":null},{"line":33,"address":[2302152,2301837,2302119],"length":1,"stats":{"Line":2},"fn_name":null},{"line":35,"address":[1658527,1658912,1658572,1658632],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":12,"coverable":13},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","table_list.rs"],"content":"use crate::Command;\nuse ql2::term::TermType;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::TableList)\n}\n#[cfg(test)]\nmod tests {\n    use crate::prelude::*;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_list_table() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let db_list: Vec\u003cString\u003e = r.table_list().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(db_list.len() \u003e 0);\n        Ok(())\n    }\n}\n","traces":[{"line":4,"address":[2720400],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":5,"address":[2720412],"length":1,"stats":{"Line":1},"fn_name":null},{"line":13,"address":[2552868,2552608,2552665,2552576,2553167,2552585,2552733],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":14,"address":[2553178,2552989,2553439,2552828,2552757,2552723],"length":1,"stats":{"Line":4},"fn_name":null},{"line":15,"address":[2553429,2553667,2552772,2554507,2554367],"length":1,"stats":{"Line":4},"fn_name":null},{"line":17,"address":[2554480,2554730,2554774],"length":1,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[2554743],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":7,"coverable":7},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","time.rs"],"content":"use ql2::term::TermType;\nuse time::{Date, OffsetDateTime, PrimitiveDateTime, Time, UtcOffset};\n\nuse crate::{arguments::Args, types::timezone_to_string, Command};\n\npub(crate) fn new(\n    offset_datetime: OffsetDateTime,\n    timezone_formated: String,\n    with_time: bool,\n) -\u003e Command {\n    let date = offset_datetime.date();\n    let month: u8 = date.month().into();\n    let mut command = Command::new(TermType::Time);\n    command = command.with_arg(Command::from_json(date.year()));\n    command = command.with_arg(Command::from_json(month));\n    command = command.with_arg(Command::from_json(date.day()));\n\n    if with_time {\n        let time = offset_datetime.time();\n\n        command = command.with_arg(Command::from_json(time.hour()));\n        command = command.with_arg(Command::from_json(time.minute()));\n        command = command.with_arg(Command::from_json(time.second()));\n    }\n\n    command.with_arg(Command::from_json(timezone_formated))\n}\n\npub trait TimeArg {\n    fn into_time_opts(self) -\u003e (OffsetDateTime, String, bool);\n}\n\nimpl TimeArg for Args\u003c(Date, UtcOffset)\u003e {\n    fn into_time_opts(self) -\u003e (OffsetDateTime, String, bool) {\n        let (offset_datetime, timezone_formated) =\n            make_time(self.0 .0, time::macros::time!(0:00), self.0 .1);\n\n        (offset_datetime, timezone_formated, false)\n    }\n}\n\nimpl TimeArg for Args\u003c(Date, Time, UtcOffset)\u003e {\n    fn into_time_opts(self) -\u003e (OffsetDateTime, String, bool) {\n        let (offset_datetime, timezone_formated) = make_time(self.0 .0, self.0 .1, self.0 .2);\n\n        (offset_datetime, timezone_formated, true)\n    }\n}\n\nfn make_time(date: Date, time: Time, timezone: UtcOffset) -\u003e (OffsetDateTime, String) {\n    let timezone_formated = timezone_to_string(timezone);\n    let primetive_datetime = PrimitiveDateTime::new(date, time);\n    let offset_datetime = primetive_datetime.assume_offset(timezone);\n\n    (offset_datetime, timezone_formated)\n}\n\n#[cfg(test)]\nmod tests {\n    use time::macros::{date, offset, time};\n\n    use crate::prelude::Converter;\n    use crate::types::Time;\n    use crate::{args, r, Result};\n\n    #[tokio::test]\n    async fn test_time_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let date = date!(1986 - 11 - 3);\n        let timezone = offset!(+01:00);\n        let time = time!(09:30:40);\n\n        let date_time = r.time(args!(date, time, timezone));\n        let time1 = date_time.clone().value();\n        let time2: Time = date_time.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(time2 == time1);\n\n        Ok(())\n    }\n}\n","traces":[{"line":6,"address":[1795466,1797001,1794800],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":11,"address":[2872521,2872686],"length":1,"stats":{"Line":2},"fn_name":null},{"line":12,"address":[1795029],"length":1,"stats":{"Line":1},"fn_name":null},{"line":13,"address":[1795085],"length":1,"stats":{"Line":1},"fn_name":null},{"line":14,"address":[1795459,1795126],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[1795381,1795686,1795477],"length":1,"stats":{"Line":1},"fn_name":null},{"line":16,"address":[1795696,1795865,1795630],"length":1,"stats":{"Line":1},"fn_name":null},{"line":18,"address":[1795847,1796834],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[1795994],"length":1,"stats":{"Line":1},"fn_name":null},{"line":21,"address":[1796083,1796419],"length":1,"stats":{"Line":1},"fn_name":null},{"line":22,"address":[1796429,1796680,1796346],"length":1,"stats":{"Line":1},"fn_name":null},{"line":23,"address":[1796607,1796690,1796847],"length":1,"stats":{"Line":1},"fn_name":null},{"line":26,"address":[1796973,1796857,1795875],"length":1,"stats":{"Line":1},"fn_name":null},{"line":34,"address":[6666576],"length":1,"stats":{"Line":1},"fn_name":"into_time_opts"},{"line":35,"address":[6666607],"length":1,"stats":{"Line":1},"fn_name":null},{"line":38,"address":[6666727],"length":1,"stats":{"Line":1},"fn_name":null},{"line":43,"address":[6666864],"length":1,"stats":{"Line":1},"fn_name":"into_time_opts"},{"line":44,"address":[6666883],"length":1,"stats":{"Line":1},"fn_name":null},{"line":46,"address":[6666999],"length":1,"stats":{"Line":1},"fn_name":null},{"line":50,"address":[1797040,1797472],"length":1,"stats":{"Line":1},"fn_name":"make_time"},{"line":51,"address":[1797118],"length":1,"stats":{"Line":1},"fn_name":null},{"line":52,"address":[1797165],"length":1,"stats":{"Line":1},"fn_name":null},{"line":53,"address":[1797237],"length":1,"stats":{"Line":1},"fn_name":null},{"line":55,"address":[1797340],"length":1,"stats":{"Line":1},"fn_name":null},{"line":67,"address":[4797783,4798149,4797744,4798197],"length":1,"stats":{"Line":6},"fn_name":"test_time_ops"},{"line":68,"address":[7044912,7045381,7045192,7045822,7045031,7044958],"length":1,"stats":{"Line":4},"fn_name":null},{"line":69,"address":[7045627],"length":1,"stats":{"Line":1},"fn_name":null},{"line":70,"address":[7045638],"length":1,"stats":{"Line":1},"fn_name":null},{"line":71,"address":[7045666],"length":1,"stats":{"Line":1},"fn_name":null},{"line":73,"address":[7045681,7046068],"length":1,"stats":{"Line":2},"fn_name":null},{"line":74,"address":[7046072,7046135],"length":1,"stats":{"Line":2},"fn_name":null},{"line":75,"address":[6866723,6866649],"length":1,"stats":{"Line":4},"fn_name":null},{"line":77,"address":[7047420,7047387,7047114],"length":1,"stats":{"Line":2},"fn_name":null},{"line":79,"address":[4797775,4798160,4797880,4797820],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":34,"coverable":34},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","time_of_day.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::TimeOfDay)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_date_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let datetime = r.now().time_of_day();\n        let date1 = datetime.clone().value();\n        let date2: f64 = datetime.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(date1.is_normal());\n        assert!(date2.is_normal());\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2720448],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2720460],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[2258960,2259365,2258999,2259413],"length":1,"stats":{"Line":6},"fn_name":"test_date_ops"},{"line":16,"address":[4451096,4451546,4450935,4451285,4450816,4450862],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[4451792,4451536],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[4451883,4451820],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[4452022,4452844,4451935,4450877,4452735],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[4452822,4453029,4453006],"length":1,"stats":{"Line":2},"fn_name":null},{"line":23,"address":[4453106,4453018,4453065],"length":1,"stats":{"Line":2},"fn_name":null},{"line":25,"address":[2259096,2258991,2259036,2259376],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":10,"coverable":10},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","timezone.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Timezone)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_timezone_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let timezone = r.now().timezone();\n        let timezone2: String = timezone.clone().cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(timezone.value().to_string() != timezone2);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2720496],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2720508],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[1840064,1840096,1840153,1840367,1840230,1840073,1840666],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":16,"address":[1840938,1840677,1840208,1840254,1840327,1840488],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[1841184,1840928],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[1841274,1841212,1841995,1840269,1842167],"length":1,"stats":{"Line":4},"fn_name":null},{"line":21,"address":[1842628,1842413,1842113],"length":1,"stats":{"Line":2},"fn_name":null},{"line":23,"address":[1842597],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":8,"coverable":8},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","to_epoch_time.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::ToEpochTime)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_to_epoch_time_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let time = r.now().to_epoch_time();\n        let time1 = time.clone().value();\n        let time2: f64 = time.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(time1.is_normal());\n        assert!(time2.is_normal());\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2720544],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2720556],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[4453334,4453770,4453200,4453177,4453257,4453471,4453168],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":16,"address":[4453431,4453781,4453312,4453592,4453358,4454042],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[4454288,4454032],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[4454316,4454379],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[4454518,4454431,4455231,4455340,4453373],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[4455502,4455318,4455525],"length":1,"stats":{"Line":2},"fn_name":null},{"line":23,"address":[4455514,4455561,4455602],"length":1,"stats":{"Line":2},"fn_name":null},{"line":25,"address":[4455572],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":10,"coverable":10},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","to_geojson.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::ToGeojson)\n}\n\n#[cfg(test)]\nmod tests {\n    use serde::{Deserialize, Serialize};\n\n    use crate::cmd::point::Point;\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::{GeoJson, GeoType};\n    use crate::{r, Result};\n\n    #[derive(Debug, Serialize, Deserialize, PartialEq)]\n    struct User {\n        id: u8,\n        name: String,\n        location: Point,\n    }\n\n    #[tokio::test]\n    async fn test_to_geojson_ops() -\u003e Result\u003c()\u003e {\n        let user = User {\n            id: 1,\n            name: \"sfo\".to_string(),\n            location: r.point(-122.423246, 37.779388),\n        };\n        let geo: GeoJson\u003c[f64; 2]\u003e = GeoJson {\n            typ: GeoType::Point,\n            coordinates: [-122.423246, 37.779388],\n        };\n        let (conn, table, table_name) = set_up(false).await?;\n        table.clone().insert(\u0026user).run(\u0026conn).await?;\n        let location: GeoJson\u003c[f64; 2]\u003e = table\n            .get(1)\n            .g(\"location\")\n            .to_geojson()\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(location == geo);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":5,"address":[2720592],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2156172],"length":1,"stats":{"Line":1},"fn_name":null},{"line":27,"address":[2243408,2244215,2243376,2243587,2243385,2243477,2243889],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":30,"address":[2243557],"length":1,"stats":{"Line":1},"fn_name":null},{"line":31,"address":[2244025],"length":1,"stats":{"Line":1},"fn_name":null},{"line":35,"address":[2244150],"length":1,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[6770527],"length":1,"stats":{"Line":4},"fn_name":null},{"line":38,"address":[2245042,2243638,2243795,2244808],"length":1,"stats":{"Line":4},"fn_name":null},{"line":39,"address":[2245782,2245898,2246684,2246927,2246107,2246385,2246661,2246604,2246184,2245984],"length":1,"stats":{"Line":7},"fn_name":null},{"line":43,"address":[2243744,2246007,2243659,2246312,2246140,2245964],"length":1,"stats":{"Line":6},"fn_name":null},{"line":44,"address":[2246508],"length":1,"stats":{"Line":0},"fn_name":null},{"line":48,"address":[2246813,2247233,2247291],"length":1,"stats":{"Line":2},"fn_name":null},{"line":50,"address":[2247469,2247595,2247735,2247345,2247532,2247247,2243677],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":12,"coverable":13},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","to_iso8601.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::ToIso8601)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_to_iso8601_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let iso8601 = r.now().to_iso8601();\n        let iso8601_1 = iso8601.clone().value();\n        let iso8601_2: String = iso8601.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(!iso8601_1.is_empty());\n        assert!(!iso8601_2.is_empty());\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2720640],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2720652],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[2266826,2266313,2266527,2266224,2266256,2266390,2266233],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":16,"address":[2266414,2266648,2266837,2267098,2266368,2266487],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[2267344,2267088],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[2267372,2267435],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[2268404,2266429,2267462,2267549,2268265],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[2268683,2268656,2268383],"length":1,"stats":{"Line":2},"fn_name":null},{"line":23,"address":[2268719,2268758,2268672],"length":1,"stats":{"Line":2},"fn_name":null},{"line":25,"address":[2268727],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":10,"coverable":10},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","to_json.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::ToJsonString)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_to_json_string() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: String = table.get(1).to_json().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(!data_obtained.is_empty());\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":5,"address":[2720688],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2720700],"length":1,"stats":{"Line":1},"fn_name":null},{"line":16,"address":[4124265,4124454,4124680,4124288,4124256,4124972,4124357],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":17,"address":[4124419,4124805,4124983,4125420,4124637,4124484],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[4125669,4125367,4124505,4124588,4126409,4126543],"length":1,"stats":{"Line":5},"fn_name":null},{"line":20,"address":[4126896,4126840,4126529],"length":1,"stats":{"Line":2},"fn_name":null},{"line":22,"address":[4126856,4124523,4126965,4127089,4127149,4127224,4127358],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":7,"coverable":7},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","type_of.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::TypeOf)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::types::TypeOf;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_type_of_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let array: TypeOf = r\n            .expr([1, 2, 3])\n            .type_of()\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n        let boolean: TypeOf = r.expr(true).type_of().run(\u0026conn).await?.unwrap().parse()?;\n        let db: TypeOf = r.db(\"test\").type_of().run(\u0026conn).await?.unwrap().parse()?;\n        let string: TypeOf = r.expr(\"foo\").type_of().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(array == TypeOf::Array);\n        assert!(boolean == TypeOf::Bool);\n        assert!(db == TypeOf::Db);\n        assert!(string == TypeOf::String);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2720736],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2028732],"length":1,"stats":{"Line":1},"fn_name":null},{"line":16,"address":[2259952,2259991,2260357,2260405],"length":1,"stats":{"Line":6},"fn_name":"test_type_of_ops"},{"line":17,"address":[7030593,7029652,7030102,7030291,7029689,7029940],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[7030972,7031229,7031043,7031528,7031448,7031505,7030833,7031717,7030583],"length":1,"stats":{"Line":6},"fn_name":null},{"line":19,"address":[7030534],"length":1,"stats":{"Line":1},"fn_name":null},{"line":21,"address":[6894831],"length":1,"stats":{"Line":5},"fn_name":null},{"line":22,"address":[7031352],"length":1,"stats":{"Line":0},"fn_name":null},{"line":25,"address":[6894736,6894787],"length":1,"stats":{"Line":5},"fn_name":null},{"line":26,"address":[6894659,6894710],"length":1,"stats":{"Line":5},"fn_name":null},{"line":27,"address":[6894582,6894633],"length":1,"stats":{"Line":4},"fn_name":null},{"line":29,"address":[7034822,7034855,7034610],"length":1,"stats":{"Line":2},"fn_name":null},{"line":30,"address":[7034891,7034924,7034833],"length":1,"stats":{"Line":2},"fn_name":null},{"line":31,"address":[7034958,7034902,7034990],"length":1,"stats":{"Line":2},"fn_name":null},{"line":32,"address":[7034964,7035027,7035060],"length":1,"stats":{"Line":2},"fn_name":null},{"line":34,"address":[2259983,2260028,2260368,2260088],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":15,"coverable":16},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","ungroup.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Ungroup)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::types::UngroupItem;\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_ungroup_data() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: Vec\u003cUngroupItem\u003cString, Post\u003e\u003e = table\n            .group(\"title\")\n            .ungroup()\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained.len() == 4);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":5,"address":[2720784],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2720796],"length":1,"stats":{"Line":1},"fn_name":null},{"line":17,"address":[1680517,1680103,1680064,1680469],"length":1,"stats":{"Line":6},"fn_name":"test_ungroup_data"},{"line":18,"address":[2360979,2360036,2360535,2360189,2359971,2360357],"length":1,"stats":{"Line":4},"fn_name":null},{"line":19,"address":[2361376,2360919,2361453,2361648,2361867,2361228,2361924,2361968,2362199],"length":1,"stats":{"Line":6},"fn_name":null},{"line":22,"address":[2361409,2360140,2361282,2360057,2361581],"length":1,"stats":{"Line":5},"fn_name":null},{"line":23,"address":[2361771],"length":1,"stats":{"Line":0},"fn_name":null},{"line":27,"address":[2362458,2362088,2362397],"length":1,"stats":{"Line":2},"fn_name":null},{"line":29,"address":[1680140,1680200,1680095,1680480],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":8,"coverable":9},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","union.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::arguments::AnyParam;\nuse crate::types::Interleave;\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl UnionArg) -\u003e Command {\n    let (args, opts) = args.into_union_opts();\n\n    args.add_to_cmd(Command::new(TermType::Union))\n        .with_opts(opts)\n}\n\npub trait UnionArg {\n    fn into_union_opts(self) -\u003e (CmdOpts, UnionOption);\n}\n\nimpl UnionArg for Command {\n    fn into_union_opts(self) -\u003e (CmdOpts, UnionOption) {\n        (CmdOpts::Single(self), Default::default())\n    }\n}\n\nimpl UnionArg for Vec\u003cCommand\u003e {\n    fn into_union_opts(self) -\u003e (CmdOpts, UnionOption) {\n        (CmdOpts::Many(self), Default::default())\n    }\n}\n\nimpl UnionArg for AnyParam {\n    fn into_union_opts(self) -\u003e (CmdOpts, UnionOption) {\n        (CmdOpts::Single(self.into()), Default::default())\n    }\n}\n\nimpl UnionArg for (Command, UnionOption) {\n    fn into_union_opts(self) -\u003e (CmdOpts, UnionOption) {\n        (CmdOpts::Single(self.0), self.1)\n    }\n}\n\nimpl UnionArg for (Vec\u003cCommand\u003e, UnionOption) {\n    fn into_union_opts(self) -\u003e (CmdOpts, UnionOption) {\n        (CmdOpts::Many(self.0), self.1)\n    }\n}\n\nimpl UnionArg for (AnyParam, UnionOption) {\n    fn into_union_opts(self) -\u003e (CmdOpts, UnionOption) {\n        (CmdOpts::Single(self.0.into()), self.1)\n    }\n}\n\n#[derive(Debug, Clone, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct UnionOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub interleave: Option\u003cInterleave\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use serde::{Deserialize, Serialize};\n    use serde_json::json;\n    use uuid::Uuid;\n\n    use crate::prelude::*;\n    use crate::spec::{set_up, tear_down};\n    use crate::{r, Result};\n\n    #[derive(Debug, Serialize, Deserialize, PartialEq, Eq)]\n    struct AuthorPost {\n        id: Option\u003cu8\u003e,\n        first_name: Option\u003cString\u003e,\n        last_name: Option\u003cString\u003e,\n        title: Option\u003cString\u003e,\n        content: Option\u003cString\u003e,\n        view: Option\u003cu8\u003e,\n    }\n\n    #[tokio::test]\n    async fn test_union_data() -\u003e Result\u003c()\u003e {\n        let authors_data = json!([\n            {\"id\": 1, \"first_name\": \"john\", \"last_name\": \"doe\"},\n            {\"id\": 2, \"first_name\": \"juan\", \"last_name\": \"don\"},\n            {\"id\": 3, \"first_name\": \"jean\", \"last_name\": \"dupont\"}\n        ]);\n        let table_name2 = Uuid::new_v4().to_string();\n        let (conn, table, table_name) = set_up(true).await?;\n\n        r.table_create(table_name2.as_str()).run(\u0026conn).await?;\n        r.table(table_name2.as_str())\n            .insert(authors_data)\n            .run(\u0026conn)\n            .await?;\n\n        let data_obtained: Vec\u003cAuthorPost\u003e = table\n            .union(r.table(table_name2.as_str()))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained.len() \u003e 0);\n\n        r.table_drop(table_name2.as_str()).run(\u0026conn).await?;\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":11,"address":[2995408,2995811,2995865],"length":1,"stats":{"Line":1},"fn_name":"new\u003creql_rust::proto::Command\u003e"},{"line":12,"address":[2995425],"length":1,"stats":{"Line":1},"fn_name":null},{"line":14,"address":[2995804,2995577,2995777],"length":1,"stats":{"Line":2},"fn_name":null},{"line":15,"address":[2995729],"length":1,"stats":{"Line":1},"fn_name":null},{"line":23,"address":[4046838,4046624],"length":1,"stats":{"Line":1},"fn_name":"into_union_opts"},{"line":24,"address":[4046675],"length":1,"stats":{"Line":1},"fn_name":null},{"line":29,"address":[4440352,4440556],"length":1,"stats":{"Line":0},"fn_name":"into_union_opts"},{"line":30,"address":[4440368],"length":1,"stats":{"Line":0},"fn_name":null},{"line":35,"address":[5127917,5127696],"length":1,"stats":{"Line":0},"fn_name":"into_union_opts"},{"line":36,"address":[5127712],"length":1,"stats":{"Line":0},"fn_name":null},{"line":41,"address":[4046864],"length":1,"stats":{"Line":0},"fn_name":"into_union_opts"},{"line":42,"address":[4046885],"length":1,"stats":{"Line":0},"fn_name":null},{"line":47,"address":[4440592],"length":1,"stats":{"Line":0},"fn_name":"into_union_opts"},{"line":48,"address":[4440612],"length":1,"stats":{"Line":0},"fn_name":null},{"line":53,"address":[5127952],"length":1,"stats":{"Line":0},"fn_name":"into_union_opts"},{"line":54,"address":[5127974],"length":1,"stats":{"Line":0},"fn_name":null},{"line":85,"address":[4084065,4082873,4083606,4082864,4082965,4082896,4083160,4092033],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":86,"address":[4084622,4085820,4083839,4083732,4084101,4086137,4083030,4084046,4084167,4084437,4085042,4085152,4085337,4085422,4085607,4086027,4086322,4084352,4084835,4086407,4086592],"length":1,"stats":{"Line":12},"fn_name":null},{"line":91,"address":[4086899,4086824],"length":1,"stats":{"Line":2},"fn_name":null},{"line":92,"address":[4083190,4083563,4087576,4086931,4086999],"length":1,"stats":{"Line":4},"fn_name":null},{"line":94,"address":[4087546,4083512,4083211,4087808],"length":1,"stats":{"Line":4},"fn_name":null},{"line":95,"address":[4088968,4088727,4088658,4088554,4088885,4089377,4089169,4088762],"length":1,"stats":{"Line":7},"fn_name":null},{"line":96,"address":[4088673],"length":1,"stats":{"Line":1},"fn_name":null},{"line":97,"address":[4088742,4083232,4088924,4088785,4083461,4089096],"length":1,"stats":{"Line":6},"fn_name":null},{"line":98,"address":[4089259,4089407],"length":1,"stats":{"Line":1},"fn_name":null},{"line":100,"address":[4090668,4090425,4090126,4089925,4089595,4089670,4090345,4090402,4089842,4089447],"length":1,"stats":{"Line":7},"fn_name":null},{"line":101,"address":[4089642,4089677,4089496,4089695],"length":1,"stats":{"Line":2},"fn_name":null},{"line":102,"address":[4089650,4089881,4083253,4090053,4089745,4083410],"length":1,"stats":{"Line":6},"fn_name":null},{"line":103,"address":[4090249],"length":1,"stats":{"Line":0},"fn_name":null},{"line":107,"address":[4090554,4090785,4090830],"length":1,"stats":{"Line":2},"fn_name":null},{"line":109,"address":[4090910,4090806,4083359,4083274],"length":1,"stats":{"Line":4},"fn_name":null},{"line":110,"address":[1698927,1698972,1699312,1699032],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":21,"coverable":32},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","upcase.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Upcase)\n}\n\n// TODO write test\n","traces":[{"line":5,"address":[2720832],"length":1,"stats":{"Line":0},"fn_name":"new"},{"line":6,"address":[2720844],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":2},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","update.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::arguments::{AnyParam, Durability, ReturnChanges};\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl UpdateArg) -\u003e Command {\n    let (args, opts) = args.into_update_opts();\n\n    args.add_to_cmd(Command::new(TermType::Update))\n        .with_opts(opts)\n}\n\npub trait UpdateArg {\n    fn into_update_opts(self) -\u003e (CmdOpts, UpdateOption);\n}\n\nimpl UpdateArg for AnyParam {\n    fn into_update_opts(self) -\u003e (CmdOpts, UpdateOption) {\n        (CmdOpts::Single(self.into()), Default::default())\n    }\n}\n\nimpl UpdateArg for Command {\n    fn into_update_opts(self) -\u003e (CmdOpts, UpdateOption) {\n        (CmdOpts::Single(self), Default::default())\n    }\n}\n\nimpl UpdateArg for (AnyParam, UpdateOption) {\n    fn into_update_opts(self) -\u003e (CmdOpts, UpdateOption) {\n        (CmdOpts::Single(self.0.into()), self.1)\n    }\n}\n\nimpl UpdateArg for (Command, UpdateOption) {\n    fn into_update_opts(self) -\u003e (CmdOpts, UpdateOption) {\n        (CmdOpts::Single(self.0), self.1)\n    }\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct UpdateOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub durability: Option\u003cDurability\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub return_changes: Option\u003cReturnChanges\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub non_atomic: Option\u003cbool\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub ignore_write_hook: Option\u003cbool\u003e,\n}\n\n// TODO write test\n","traces":[{"line":22,"address":[5128405,5128192],"length":1,"stats":{"Line":0},"fn_name":"into_update_opts"},{"line":23,"address":[5128209],"length":1,"stats":{"Line":0},"fn_name":null},{"line":28,"address":[4047072,4047275],"length":1,"stats":{"Line":0},"fn_name":"into_update_opts"},{"line":29,"address":[2262515],"length":1,"stats":{"Line":0},"fn_name":null},{"line":34,"address":[5128432],"length":1,"stats":{"Line":0},"fn_name":"into_update_opts"},{"line":35,"address":[5128454],"length":1,"stats":{"Line":0},"fn_name":null},{"line":40,"address":[4047312],"length":1,"stats":{"Line":0},"fn_name":"into_update_opts"},{"line":41,"address":[4047333],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":8},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","uuid.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(args: impl UuidArg) -\u003e Command {\n    let mut command = Command::new(TermType::Uuid);\n\n    if let Some(arg) = args.into_uui_opts() {\n        command = command.with_arg(arg)\n    }\n\n    command\n}\n\npub trait UuidArg {\n    fn into_uui_opts(self) -\u003e Option\u003cCommand\u003e;\n}\n\nimpl UuidArg for () {\n    fn into_uui_opts(self) -\u003e Option\u003cCommand\u003e {\n        None\n    }\n}\n\nimpl UuidArg for \u0026str {\n    fn into_uui_opts(self) -\u003e Option\u003cCommand\u003e {\n        Some(Command::from_json(self))\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_uuid_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: String = r.uuid(()).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(!response.is_empty());\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[7028944,7029471],"length":1,"stats":{"Line":1},"fn_name":"new\u003c()\u003e"},{"line":6,"address":[7029056,7028964],"length":1,"stats":{"Line":2},"fn_name":null},{"line":8,"address":[7029064,7029395,7029122],"length":1,"stats":{"Line":2},"fn_name":null},{"line":9,"address":[7029369,7029228],"length":1,"stats":{"Line":0},"fn_name":null},{"line":12,"address":[7029420],"length":1,"stats":{"Line":1},"fn_name":null},{"line":20,"address":[4751296],"length":1,"stats":{"Line":1},"fn_name":"into_uui_opts"},{"line":21,"address":[2217364],"length":1,"stats":{"Line":1},"fn_name":null},{"line":26,"address":[4751312],"length":1,"stats":{"Line":0},"fn_name":"into_uui_opts"},{"line":27,"address":[4751344],"length":1,"stats":{"Line":0},"fn_name":null},{"line":37,"address":[4799189,4799141,4798736,4798775],"length":1,"stats":{"Line":6},"fn_name":"test_uuid_ops"},{"line":38,"address":[6920234,6920495,6919779,6920045,6919813,6919884],"length":1,"stats":{"Line":4},"fn_name":null},{"line":39,"address":[6867017,6867085],"length":1,"stats":{"Line":4},"fn_name":null},{"line":41,"address":[6921544,6921780,6921819],"length":1,"stats":{"Line":2},"fn_name":null},{"line":43,"address":[4799152,4798812,4798872,4798767],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":11,"coverable":14},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","values.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Values)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::spec::{set_up, tear_down};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_values_fields() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained = table.get(1).values().run(\u0026conn).await?.unwrap();\n\n        assert!(data_obtained.is_array());\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":5,"address":[2720880],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2720892],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[2260448,2260853,2260487,2260901],"length":1,"stats":{"Line":6},"fn_name":"test_values_fields"},{"line":16,"address":[2694019,2694405,2694084,2694237,2694583,2695020],"length":1,"stats":{"Line":4},"fn_name":null},{"line":17,"address":[2695269,2694105,2694188,2694967],"length":1,"stats":{"Line":4},"fn_name":null},{"line":19,"address":[2696158,2696067,2696212],"length":1,"stats":{"Line":2},"fn_name":null},{"line":21,"address":[2260524,2260864,2260584,2260479],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":7,"coverable":7},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","wait.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::arguments::{Args, WaitFor};\nuse crate::Command;\n\npub(crate) fn new(args: impl WaitArg) -\u003e Command {\n    let (args, opts) = args.into_wait_opts();\n    let mut command = Command::new(TermType::Wait);\n\n    if let Some(arg) = args {\n        command = command.with_arg(arg)\n    }\n\n    command.with_opts(opts)\n}\n\npub trait WaitArg {\n    fn into_wait_opts(self) -\u003e (Option\u003cCommand\u003e, WaitOption);\n}\n\nimpl WaitArg for () {\n    fn into_wait_opts(self) -\u003e (Option\u003cCommand\u003e, WaitOption) {\n        Default::default()\n    }\n}\n\nimpl WaitArg for WaitOption {\n    fn into_wait_opts(self) -\u003e (Option\u003cCommand\u003e, WaitOption) {\n        (None, self)\n    }\n}\n\nimpl WaitArg for Command {\n    fn into_wait_opts(self) -\u003e (Option\u003cCommand\u003e, WaitOption) {\n        (Some(self), Default::default())\n    }\n}\n\nimpl WaitArg for Args\u003c(Command, WaitOption)\u003e {\n    fn into_wait_opts(self) -\u003e (Option\u003cCommand\u003e, WaitOption) {\n        (Some(self.0 .0), self.0 .1)\n    }\n}\n\n#[derive(Debug, Copy, Clone, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct WaitOption {\n    /// a enum indicating a table status to wait on before returning\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub wait_for: Option\u003cWaitFor\u003e,\n    /// a number indicating maximum time, in seconds,\n    /// to wait for the table to be ready.\n    /// If this value is exceeded, a ReqlRuntimeError will be thrown.\n    /// A value of0 means no timeout. The default is 0 (no timeout).\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub timeout: Option\u003cf64\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::WaitResponse;\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_wait_table() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let response: WaitResponse = table.wait(()).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response.ready == 1);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":8,"address":[4510944,4510384,4510917],"length":1,"stats":{"Line":1},"fn_name":"new\u003c()\u003e"},{"line":9,"address":[4510401],"length":1,"stats":{"Line":1},"fn_name":null},{"line":10,"address":[4510489],"length":1,"stats":{"Line":1},"fn_name":null},{"line":12,"address":[4510873,4510583],"length":1,"stats":{"Line":1},"fn_name":null},{"line":13,"address":[4510698,4510847],"length":1,"stats":{"Line":0},"fn_name":null},{"line":16,"address":[4510788],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[2139040],"length":1,"stats":{"Line":1},"fn_name":"into_wait_opts"},{"line":25,"address":[2220700],"length":1,"stats":{"Line":1},"fn_name":null},{"line":30,"address":[2139072],"length":1,"stats":{"Line":0},"fn_name":"into_wait_opts"},{"line":31,"address":[2220740],"length":1,"stats":{"Line":0},"fn_name":null},{"line":36,"address":[2262848,2263060],"length":1,"stats":{"Line":0},"fn_name":"into_wait_opts"},{"line":37,"address":[4047508],"length":1,"stats":{"Line":0},"fn_name":null},{"line":42,"address":[6667136],"length":1,"stats":{"Line":0},"fn_name":"into_wait_opts"},{"line":43,"address":[6667158],"length":1,"stats":{"Line":0},"fn_name":null},{"line":68,"address":[4220304,4220343,4220709,4220757],"length":1,"stats":{"Line":6},"fn_name":"test_wait_table"},{"line":69,"address":[6409013,6408627,6409623,6408845,6409191,6408692],"length":1,"stats":{"Line":4},"fn_name":null},{"line":70,"address":[6409575,6410589,6408796,6409880,6410678,6408713],"length":1,"stats":{"Line":5},"fn_name":null},{"line":72,"address":[6410658,6410977],"length":1,"stats":{"Line":1},"fn_name":null},{"line":74,"address":[4220720,4220440,4220380,4220335],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":12,"coverable":19},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","with_fields.rs"],"content":"use ql2::term::TermType;\n\nuse crate::arguments::AnyParam;\nuse crate::Command;\n\npub(crate) fn new(fields: AnyParam) -\u003e Command {\n    let arg: Command = fields.into();\n\n    Command::new(TermType::WithFields).with_arg(arg)\n}\n\n#[cfg(test)]\nmod tests {\n    use serde::{Deserialize, Serialize};\n\n    use crate::arguments::AnyParam;\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[derive(Debug, Serialize, Deserialize, PartialEq, Eq, PartialOrd, Ord)]\n    struct InnerPost {\n        id: u8,\n        title: String,\n    }\n\n    #[tokio::test]\n    async fn test_with_fields() -\u003e Result\u003c()\u003e {\n        let data: Vec\u003cInnerPost\u003e = Post::get_many_data()\n            .into_iter()\n            .map(|post| InnerPost {\n                id: post.id,\n                title: post.title,\n            })\n            .collect();\n        let (conn, table, table_name) = set_up(true).await?;\n        let mut data_obtained: Vec\u003cInnerPost\u003e = table\n            .with_fields(AnyParam::new([\"id\", \"title\"]))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        data_obtained.sort_by(|a, b| a.id.cmp(\u0026b.id));\n\n        assert!(data_obtained == data);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":6,"address":[2315060,2314800,2315029],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":7,"address":[2233169],"length":1,"stats":{"Line":1},"fn_name":null},{"line":9,"address":[2233293,2233222],"length":1,"stats":{"Line":2},"fn_name":null},{"line":28,"address":[2727248,2727643,2727225,2727417,2727216,2727317,2728061],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":29,"address":[2727379,2727768],"length":1,"stats":{"Line":2},"fn_name":null},{"line":31,"address":[2731083,2731024],"length":1,"stats":{"Line":2},"fn_name":"{closure#0}"},{"line":32,"address":[2731054],"length":1,"stats":{"Line":1},"fn_name":null},{"line":33,"address":[2731057],"length":1,"stats":{"Line":1},"fn_name":null},{"line":36,"address":[6765176],"length":1,"stats":{"Line":4},"fn_name":null},{"line":37,"address":[2728790,2729309,2729031,2729528,2728865,2729629,2729114,2729585,2728481,2729865],"length":1,"stats":{"Line":7},"fn_name":null},{"line":38,"address":[2728503,2728837,2728890,2728756,2728872],"length":1,"stats":{"Line":2},"fn_name":null},{"line":39,"address":[2727551,2728940,2729242,2729070,2727468,2728845],"length":1,"stats":{"Line":6},"fn_name":null},{"line":40,"address":[2729432],"length":1,"stats":{"Line":0},"fn_name":null},{"line":44,"address":[2729749,2731136,2731181,2730126],"length":1,"stats":{"Line":4},"fn_name":"{closure#1}"},{"line":46,"address":[2730141,2730218],"length":1,"stats":{"Line":1},"fn_name":null},{"line":48,"address":[2730471,2730551,2730681,2727486,2730177,2730291,2730415],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":15,"coverable":16},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","without.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(selector: impl Serialize) -\u003e Command {\n    let arg = Command::from_json(selector);\n\n    Command::new(TermType::Without).with_arg(arg)\n}\n\n#[cfg(test)]\nmod tests {\n    use serde::{Deserialize, Serialize};\n\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[derive(Debug, Serialize, Deserialize, PartialEq, Eq)]\n    struct InnerPost {\n        id: u8,\n        title: String,\n    }\n\n    #[tokio::test]\n    async fn test_without_data() -\u003e Result\u003c()\u003e {\n        let data = Post::get_one_data();\n        let data = InnerPost {\n            id: data.id,\n            title: data.title,\n        };\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: InnerPost = table\n            .get(1)\n            .without([\"content\", \"view\"])\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained == data);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":6,"address":[4355835,4355584,4355862],"length":1,"stats":{"Line":1},"fn_name":"new\u003c[\u0026str; 2]\u003e"},{"line":7,"address":[4355601],"length":1,"stats":{"Line":1},"fn_name":null},{"line":9,"address":[4355749,4355682],"length":1,"stats":{"Line":2},"fn_name":null},{"line":27,"address":[4423760,4424165,4424213,4423799],"length":1,"stats":{"Line":6},"fn_name":"test_without_data"},{"line":28,"address":[4882883],"length":1,"stats":{"Line":1},"fn_name":null},{"line":30,"address":[4883252],"length":1,"stats":{"Line":1},"fn_name":null},{"line":31,"address":[4883255],"length":1,"stats":{"Line":1},"fn_name":null},{"line":33,"address":[4883092,4883385,4882935,4883318,4883560,4883968],"length":1,"stats":{"Line":4},"fn_name":null},{"line":34,"address":[4883921,4884250,4884677,4884285,4884896,4884482,4884405,4884953,4884997,4885237],"length":1,"stats":{"Line":7},"fn_name":null},{"line":36,"address":[4884172],"length":1,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[4884308,4882956,4884265,4884438,4883041,4884610],"length":1,"stats":{"Line":6},"fn_name":null},{"line":38,"address":[4884800],"length":1,"stats":{"Line":0},"fn_name":null},{"line":42,"address":[4885123,4885563,4885618],"length":1,"stats":{"Line":2},"fn_name":null},{"line":44,"address":[4423836,4423791,4423896,4424176],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":13,"coverable":14},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","year.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Year)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_year_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let year = r.now().year();\n        let year1 = year.clone().value();\n        let year2: i32 = year.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(year1 == year2);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2720928],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2720940],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[1542394,1541801,1541824,1541881,1541958,1541792,1542095],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":16,"address":[1542666,1541982,1542216,1542055,1541936,1542405],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[1542656,1542912],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[1542940,1543003],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[1543047,1541997,1543134,1543847,1543942],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[1543921,1544135],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[1544105],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":9,"coverable":9},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","zip.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Zip)\n}\n\n// TODO write test\n","traces":[{"line":5,"address":[2720976],"length":1,"stats":{"Line":0},"fn_name":"new"},{"line":6,"address":[2720988],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":2},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd.rs"],"content":"pub mod add;\npub mod and;\npub mod append;\npub mod args;\npub mod asc;\npub mod avg;\npub mod between;\npub mod binary;\npub mod bit_and;\npub mod bit_not;\npub mod bit_or;\npub mod bit_sal;\npub mod bit_sar;\npub mod bit_xor;\npub mod bracket;\npub mod branch;\npub mod ceil;\npub mod change_at;\npub mod changes;\npub mod circle;\npub mod coerce_to;\npub mod concat_map;\npub mod config;\npub mod connect;\npub mod contains;\npub mod count;\npub mod date;\npub mod day;\npub mod day_of_week;\npub mod day_of_year;\npub mod db;\npub mod db_create;\npub mod db_drop;\npub mod db_list;\npub mod default;\npub mod delete;\npub mod delete_at;\npub mod desc;\npub mod difference;\npub mod distance;\npub mod distinct;\npub mod div;\npub mod do_;\npub mod downcase;\npub mod during;\npub mod epoch_time;\npub mod eq;\npub mod eq_join;\npub mod error;\npub mod expr;\npub mod fill;\npub mod filter;\npub mod floor;\npub mod fold;\npub mod for_each;\npub(crate) mod func;\npub mod ge;\npub mod geojson;\npub mod get;\npub mod get_all;\npub mod get_field;\npub mod get_intersecting;\npub mod get_nearest;\npub mod get_write_hook;\npub mod grant;\npub mod group;\npub mod gt;\npub mod has_fields;\npub mod hash_map;\npub mod hours;\npub mod http;\npub mod in_timezone;\npub mod includes;\npub mod index_create;\npub mod index_drop;\npub mod index_list;\npub mod index_rename;\npub mod index_status;\npub mod index_wait;\npub mod info;\npub mod inner_join;\npub mod insert;\npub mod insert_at;\npub mod intersects;\npub mod is_empty;\npub mod iso8601;\npub mod js;\npub mod json;\npub mod keys;\npub mod le;\npub mod limit;\npub mod line;\npub mod literal;\npub mod lt;\npub mod map;\npub mod match_;\npub mod max;\npub mod merge;\npub mod min;\npub mod minutes;\npub mod month;\npub mod mul;\npub mod ne;\npub mod not_;\npub mod now;\npub mod nth;\npub mod object;\npub mod offsets_of;\npub mod or;\npub mod order_by;\npub mod outer_join;\npub mod pluck;\npub mod point;\npub mod polygon;\npub mod polygon_sub;\npub mod prepend;\npub mod random;\npub mod range;\npub mod rebalance;\npub mod reconfigure;\npub mod reduce;\npub mod rem;\npub mod replace;\npub mod round;\npub mod run;\npub mod sample;\npub mod seconds;\npub mod set_difference;\npub mod set_insert;\npub mod set_intersection;\npub mod set_union;\npub mod set_write_hook;\npub mod skip;\npub mod slice;\npub mod splice_at;\npub mod split;\npub mod status;\npub mod sub;\npub mod sum;\npub mod sync;\npub mod table;\npub mod table_create;\npub mod table_drop;\npub mod table_list;\npub mod time;\npub mod time_of_day;\npub mod timezone;\npub mod to_epoch_time;\npub mod to_geojson;\npub mod to_iso8601;\npub mod to_json;\npub mod type_of;\npub mod ungroup;\npub mod union;\npub mod upcase;\npub mod update;\npub mod uuid;\npub mod values;\npub mod wait;\npub mod with_fields;\npub mod without;\npub mod year;\npub mod zip;\n\nuse std::borrow::Cow;\nuse std::ops::{BitAnd, BitOr, BitXor};\nuse std::str;\n\nuse ::time::UtcOffset;\nuse async_native_tls::TlsStream;\nuse async_net::TcpStream;\nuse futures::stream::Stream;\nuse futures::TryStreamExt;\nuse regex::Regex;\nuse serde::Serialize;\nuse serde_json::Value;\n\nuse crate::arguments::{AnyParam, Permission};\nuse crate::prelude::Func;\nuse crate::Command;\nuse crate::Result;\n\npub trait StaticString {\n    fn static_string(self) -\u003e Cow\u003c'static, str\u003e;\n}\n\n#[derive(Debug)]\npub(crate) struct TcpStreamConnection {\n    pub(crate) stream: TcpStream,\n    pub(crate) tls_stream: Option\u003cTlsStream\u003cTcpStream\u003e\u003e,\n}\n\nimpl StaticString for \u0026'static str {\n    fn static_string(self) -\u003e Cow\u003c'static, str\u003e {\n        Cow::from(self)\n    }\n}\n\nimpl StaticString for String {\n    fn static_string(self) -\u003e Cow\u003c'static, str\u003e {\n        Cow::from(self)\n    }\n}\n\nimpl StaticString for \u0026Cow\u003c'static, str\u003e {\n    fn static_string(self) -\u003e Cow\u003c'static, str\u003e {\n        match self {\n            Cow::Borrowed(string) =\u003e Cow::Borrowed(*string),\n            Cow::Owned(string) =\u003e Cow::Owned(string.to_owned()),\n        }\n    }\n}\n\nimpl\u003c'a\u003e Command {\n    pub fn changes(self, args: impl changes::ChangesArg) -\u003e Self {\n        changes::new(args).with_parent(self)\n    }\n\n    pub fn table_create(self, args: impl table_create::TableCreateArg) -\u003e Self {\n        table_create::new(args).with_parent(self)\n    }\n\n    pub fn table_drop(self, table_name: \u0026str) -\u003e Self {\n        table_drop::new(table_name).with_parent(self)\n    }\n\n    pub fn table_list(self) -\u003e Self {\n        table_list::new().with_parent(self)\n    }\n\n    pub fn table(self, args: impl table::TableArg) -\u003e Self {\n        table::new(args).with_parent(self)\n    }\n\n    pub fn index_create(self, args: impl index_create::IndexCreateArg) -\u003e Self {\n        index_create::new(args).with_parent(self)\n    }\n\n    pub fn index_drop(self, index_name: \u0026str) -\u003e Self {\n        index_drop::new(index_name).with_parent(self)\n    }\n\n    pub fn index_list(self) -\u003e Self {\n        index_list::new().with_parent(self)\n    }\n\n    pub fn index_rename(self, args: impl index_rename::IndexRenameArg) -\u003e Self {\n        index_rename::new(args).with_parent(self)\n    }\n\n    pub fn index_status(self, args: impl index_status::IndexStatusArg) -\u003e Self {\n        index_status::new(args).with_parent(self)\n    }\n\n    pub fn index_wait(self, args: impl index_wait::IndexWaitArg) -\u003e Self {\n        index_wait::new(args).with_parent(self)\n    }\n\n    pub fn set_write_hook(self, args: Option\u003cimpl set_write_hook::SetWriteHookArg\u003e) -\u003e Self {\n        set_write_hook::new(args).with_parent(self)\n    }\n\n    pub fn get_write_hook(self) -\u003e Self {\n        get_write_hook::new().with_parent(self)\n    }\n\n    pub fn insert(self, args: impl insert::InsertArg) -\u003e Self {\n        insert::new(args).with_parent(self)\n    }\n\n    pub fn update(self, args: impl update::UpdateArg) -\u003e Self {\n        update::new(args).with_parent(self)\n    }\n\n    pub fn replace(self, args: impl replace::ReplaceArg) -\u003e Self {\n        replace::new(args).with_parent(self)\n    }\n\n    pub fn delete(self, args: impl delete::DeleteArg) -\u003e Self {\n        delete::new(args).with_parent(self)\n    }\n\n    pub fn sync(self) -\u003e Self {\n        sync::new().with_parent(self)\n    }\n\n    pub fn get(self, args: impl get::GetArg) -\u003e Self {\n        get::new(args).with_parent(self)\n    }\n\n    pub fn get_all(self, values: impl get_all::GetAllArg) -\u003e Self {\n        get_all::new(values).with_parent(self)\n    }\n\n    pub fn between(self, args: impl between::BetweenArg) -\u003e Self {\n        between::new(args).with_parent(self)\n    }\n\n    pub fn filter(self, args: impl filter::FilterArg) -\u003e Self {\n        filter::new(args).with_parent(self)\n    }\n\n    pub fn inner_join(self, other_sequence: Command, func: Func) -\u003e Self {\n        inner_join::new(other_sequence, func).with_parent(self)\n    }\n\n    pub fn outer_join(self, other_sequence: Command, func: Func) -\u003e Self {\n        outer_join::new(other_sequence, func).with_parent(self)\n    }\n\n    pub fn eq_join(self, args: impl eq_join::EqJoinArg) -\u003e Self {\n        eq_join::new(args).with_parent(self)\n    }\n\n    pub fn zip(self) -\u003e Self {\n        zip::new().with_parent(self)\n    }\n\n    pub fn map(self, args: impl map::MapArg) -\u003e Self {\n        map::new(args).with_parent(self)\n    }\n\n    pub fn with_fields(self, fields: AnyParam) -\u003e Self {\n        with_fields::new(fields).with_parent(self)\n    }\n\n    pub fn concat_map(self, func: Func) -\u003e Command {\n        concat_map::new(func).with_parent(self)\n    }\n\n    pub fn order_by(self, args: impl order_by::OrderByArg) -\u003e Self {\n        order_by::new(args).with_parent(self)\n    }\n\n    pub fn skip(self, n: usize) -\u003e Self {\n        skip::new(n).with_parent(self)\n    }\n\n    pub fn limit(self, n: usize) -\u003e Self {\n        limit::new(n).with_parent(self)\n    }\n\n    pub fn slice(self, args: impl slice::SliceArg) -\u003e Self {\n        slice::new(args).with_parent(self)\n    }\n\n    pub fn nth(self, index: isize) -\u003e Self {\n        nth::new(index).with_parent(self)\n    }\n\n    pub fn offsets_of(self, args: impl offsets_of::OffsetsOfArg) -\u003e Self {\n        offsets_of::new(args).with_parent(self)\n    }\n\n    pub fn is_empty(self) -\u003e Self {\n        is_empty::new().with_parent(self)\n    }\n\n    pub fn union(self, args: impl union::UnionArg) -\u003e Self {\n        union::new(args).with_parent(self)\n    }\n\n    pub fn sample(self, number: usize) -\u003e Self {\n        sample::new(number).with_parent(self)\n    }\n\n    pub fn group(self, args: impl group::GroupArg) -\u003e Self {\n        group::new(args).with_parent(self)\n    }\n\n    pub fn ungroup(self) -\u003e Self {\n        ungroup::new().with_parent(self)\n    }\n\n    pub fn reduce(self, func: Func) -\u003e Self {\n        reduce::new(func).with_parent(self)\n    }\n\n    pub fn fold(self, base: AnyParam, func: Func) -\u003e Self {\n        fold::new(base, func).with_parent(self)\n    }\n\n    pub fn count(self, args: impl count::CountArg) -\u003e Self {\n        count::new(args).with_parent(self)\n    }\n\n    pub fn sum(self, args: impl sum::SumArg) -\u003e Self {\n        sum::new(args).with_parent(self)\n    }\n\n    pub fn avg(self, args: impl avg::AvgArg) -\u003e Self {\n        avg::new(args).with_parent(self)\n    }\n\n    pub fn min(self, args: impl min::MinArg) -\u003e Self {\n        min::new(args).with_parent(self)\n    }\n\n    pub fn max(self, args: impl max::MaxArg) -\u003e Self {\n        max::new(args).with_parent(self)\n    }\n\n    pub fn distinct(self, args: impl distinct::DistinctArg) -\u003e Self {\n        distinct::new(args).with_parent(self)\n    }\n\n    pub fn contains(self, args: impl contains::ContainsArg) -\u003e Self {\n        contains::new(args).with_parent(self)\n    }\n\n    pub fn pluck(self, selector: impl Serialize) -\u003e Self {\n        pluck::new(selector).with_parent(self)\n    }\n\n    pub fn without(self, selector: impl Serialize) -\u003e Self {\n        without::new(selector).with_parent(self)\n    }\n\n    pub fn merge(self, args: impl merge::MergeArg) -\u003e Self {\n        merge::new(args).with_parent(self)\n    }\n\n    pub fn append(self, value: impl Serialize) -\u003e Self {\n        append::new(value).with_parent(self)\n    }\n\n    pub fn prepend(self, value: impl Serialize) -\u003e Self {\n        prepend::new(value).with_parent(self)\n    }\n\n    pub fn difference(self, values: Vec\u003cimpl Serialize\u003e) -\u003e Self {\n        difference::new(values).with_parent(self)\n    }\n\n    pub fn set_insert(self, value: impl Serialize) -\u003e Self {\n        set_insert::new(value).with_parent(self)\n    }\n\n    pub fn set_union(self, values: Vec\u003cimpl Serialize\u003e) -\u003e Self {\n        set_union::new(values).with_parent(self)\n    }\n\n    pub fn set_intersection(self, values: Vec\u003cimpl Serialize\u003e) -\u003e Self {\n        set_intersection::new(values).with_parent(self)\n    }\n\n    pub fn set_difference(self, values: Vec\u003cimpl Serialize\u003e) -\u003e Self {\n        set_difference::new(values).with_parent(self)\n    }\n\n    pub fn bracket(self, value: impl Serialize) -\u003e Self {\n        bracket::new(value).with_parent(self)\n    }\n\n    pub fn get_field(self, attr: impl Serialize) -\u003e Self {\n        get_field::new(attr).with_parent(self)\n    }\n\n    pub fn g(self, attr: impl Serialize) -\u003e Self {\n        get_field::new(attr).with_parent(self)\n    }\n\n    pub fn has_fields(self, selector: impl Serialize) -\u003e Self {\n        has_fields::new(selector).with_parent(self)\n    }\n\n    pub fn insert_at(self, offset: isize, value: impl Serialize) -\u003e Self {\n        insert_at::new(offset, value).with_parent(self)\n    }\n\n    pub fn splice_at(self, offset: isize, value: impl Serialize) -\u003e Self {\n        splice_at::new(offset, value).with_parent(self)\n    }\n\n    pub fn delete_at(self, args: impl delete_at::DeleteAtArg) -\u003e Self {\n        delete_at::new(args).with_parent(self)\n    }\n\n    pub fn change_at(self, offset: isize, value: impl Serialize) -\u003e Self {\n        change_at::new(offset, value).with_parent(self)\n    }\n\n    pub fn keys(self) -\u003e Self {\n        keys::new().with_parent(self)\n    }\n\n    pub fn values(self) -\u003e Self {\n        values::new().with_parent(self)\n    }\n\n    pub fn match_(self, regexp: Regex) -\u003e Self {\n        match_::new(regexp).with_parent(self)\n    }\n\n    pub fn split(self, args: impl split::SplitArg) -\u003e Self {\n        split::new(args).with_parent(self)\n    }\n\n    pub fn upcase(self) -\u003e Self {\n        upcase::new().with_parent(self)\n    }\n\n    pub fn downcase(self) -\u003e Self {\n        downcase::new().with_parent(self)\n    }\n\n    pub fn and(self, args: impl and::AndArg) -\u003e Self {\n        and::new(args).with_parent(self)\n    }\n\n    pub fn or(self, args: impl or::OrArg) -\u003e Self {\n        or::new(args).with_parent(self)\n    }\n\n    pub fn eq(self, args: impl eq::EqArg) -\u003e Self {\n        eq::new(args).with_parent(self)\n    }\n\n    pub fn ne(self, args: impl ne::NeArg) -\u003e Self {\n        ne::new(args).with_parent(self)\n    }\n\n    pub fn gt(self, args: impl gt::GtArg) -\u003e Self {\n        gt::new(args).with_parent(self)\n    }\n\n    pub fn ge(self, args: impl ge::GeArg) -\u003e Self {\n        ge::new(args).with_parent(self)\n    }\n\n    pub fn lt(self, args: impl lt::LtArg) -\u003e Self {\n        lt::new(args).with_parent(self)\n    }\n\n    pub fn le(self, args: impl le::LeArg) -\u003e Self {\n        le::new(args).with_parent(self)\n    }\n\n    pub fn not_(self) -\u003e Self {\n        not_::new(()).with_parent(self)\n    }\n\n    pub fn round(self) -\u003e Self {\n        round::new(()).with_parent(self)\n    }\n\n    pub fn ceil(self) -\u003e Self {\n        ceil::new(()).with_parent(self)\n    }\n\n    pub fn floor(self) -\u003e Self {\n        floor::new(()).with_parent(self)\n    }\n\n    /// Compute the arithmetic \"and\" of one or more values.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// cmd_number \u0026 cmd_number\n    /// number.bitand(cmd_number)  number\n    /// number.bit_and(param_number)  number\n    /// r.bit_and(cmd_number, param_number)  number\n    /// ```\n    ///\n    /// Where:\n    /// - param_number: i32 | [Command](crate::Command)\n    /// - cmd_number: [Command](crate::Command)\n    ///\n    /// # Description\n    ///\n    /// A bitwise AND is a binary operation that takes two equal-length binary\n    /// representations and performs the logical AND operation on each pair of\n    /// the corresponding bits, which is equivalent to multiplying them.\n    /// Thus, if both bits in the compared position are 1,\n    /// the bit in the resulting binary representation is 1 (1  1 = 1);\n    /// otherwise, the result is 0 (1  0 = 0 and 0  0 = 0).\n    ///\n    /// ## Examples\n    ///\n    /// Compute the arithmetic \"and\" of 5 and 3\n    ///\n    /// ```\n    /// use std::ops::BitAnd;\n    ///\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response: i32 = r.expr(5)\n    ///         .bit_and(3)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response2: i32 = r.bit_and(r.expr(5), 3)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response3: i32 = (r.expr(5) \u0026 r.expr(3))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response4: i32 = r.expr(5)\n    ///         .bitand(r.expr(3))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(\n    ///         response == 1 \u0026\u0026\n    ///         response == response2 \u0026\u0026\n    ///         response == response3 \u0026\u0026\n    ///         response == response4\n    ///     );\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [bit_or](Self::bit_or)\n    /// - [bit_not](Self::bit_not)\n    /// - [bit_xor](Self::bit_xor)\n    /// - [bit_sal](Self::bit_sal)\n    /// - [bit_sar](Self::bit_sar)\n    pub fn bit_and(self, args: impl bit_and::BitAndArg) -\u003e Self {\n        self.bitand(args)\n    }\n\n    /// Compute the arithmetic \"or\" of one or more values.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// cmd_number | cmd_number\n    /// number.bitor(cmd_number)  number\n    /// number.bit_or(param_number)  number\n    /// r.bit_or(cmd_number, param_number)  number\n    /// ```\n    ///\n    /// Where:\n    /// - param_number: i32 | [Command](crate::Command)\n    /// - cmd_number: [Command](crate::Command)\n    ///\n    /// # Description\n    ///\n    /// A bitwise OR is a binary operation that takes two bit patterns\n    /// of equal length and performs the logical inclusive OR operation\n    /// on each pair of corresponding bits. The result in each position\n    /// is 0 if both bits are 0, while otherwise the result is 1.\n    ///\n    /// ## Examples\n    ///\n    /// Compute the arithmetic \"or\" of 6 and 4\n    ///\n    /// ```\n    /// use std::ops::BitOr;\n    ///\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response: i32 = r.expr(5)\n    ///         .bit_or(3)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response2: i32 = r.bit_or(r.expr(5), 3)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response3: i32 = (r.expr(5) ^ r.expr(3))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response4: i32 = r.expr(5)\n    ///         .bitor(r.expr(3))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(\n    ///         response == 7 \u0026\u0026\n    ///         response == response2 \u0026\u0026\n    ///         response == response3 \u0026\u0026\n    ///         response == response4\n    ///     );\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [bit_and](Self::bit_and)\n    /// - [bit_not](Self::bit_not)\n    /// - [bit_xor](Self::bit_xor)\n    /// - [bit_sal](Self::bit_sal)\n    /// - [bit_sar](Self::bit_sar)\n    pub fn bit_or(self, args: impl bit_or::BitOrArg) -\u003e Self {\n        self.bitor(args)\n    }\n\n    /// Compute the arithmetic \"and\" of one or more values.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// cmd_number ^ cmd_number\n    /// number.bitxor(cmd_number)  number\n    /// number.bit_xor(param_number)  number\n    /// r.bit_xor(cmd_number, param_number)  number\n    /// ```\n    ///\n    /// Where:\n    /// - param_number: i32 | [Command](crate::Command)\n    /// - cmd_number: [Command](crate::Command)\n    ///\n    /// # Description\n    ///\n    /// A bitwise XOR is a binary operation that takes two bit patterns\n    /// of equal length and performs the logical exclusive OR operation\n    /// on each pair of corresponding bits. The result in each position\n    /// is 1 if only the first bit is 1 or only the second bit is 1,\n    /// but will be 0 if both are 0 or both are 1.\n    /// In this we perform the comparison of two bits, being 1 if the\n    /// two bits are different, and 0 if they are the same.\n    ///\n    /// ## Examples\n    ///\n    /// Compute the arithmetic \"and\" of 6 and 4\n    ///\n    /// ```\n    /// use std::ops::BitXor;\n    ///\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response: i32 = r.expr(6)\n    ///         .bit_xor(4)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response2: i32 = r.bit_xor(r.expr(6), 4)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response3: i32 = (r.expr(6) ^ r.expr(4))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response4: i32 = r.expr(6)\n    ///         .bitxor(r.expr(4))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(\n    ///         response == 2 \u0026\u0026\n    ///         response == response2 \u0026\u0026\n    ///         response == response3 \u0026\u0026\n    ///         response == response4\n    ///     );\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [bit_and](Self::bit_and)\n    /// - [bit_not](Self::bit_not)\n    /// - [bit_or](Self::bit_or)\n    /// - [bit_sal](Self::bit_sal)\n    /// - [bit_sar](Self::bit_sar)\n    pub fn bit_xor(self, args: impl bit_xor::BitXorArg) -\u003e Self {\n        self.bitxor(args)\n    }\n\n    /// Compute the arithmetic inverse (not) of an expression.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// number.bit_not()  number\n    /// r.bit_not(cmd_number)  number\n    /// ```\n    ///\n    /// Where:\n    /// - cmd_number: [Command](crate::Command)\n    ///\n    /// # Description\n    ///\n    /// A bitwise NOT, or complement, is a unary operation that performs logical\n    /// negation on each bit, forming the ones complement of the given binary value.\n    /// Bits that are 0 become 1, and those that are 1 become 0.\n    ///\n    /// ## Examples\n    ///\n    /// Negate the arithmetice expression\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response: i32 = r.expr(7)\n    ///         .bit_not()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response2: i32 = r.bit_not(r.expr(7))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == -8 \u0026\u0026 response == response2);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [bit_and](Self::bit_and)\n    /// - [bit_or](Self::bit_or)\n    /// - [bit_sal](Self::bit_sal)\n    /// - [bit_sar](Self::bit_sar)\n    /// - [bit_xor](Self::bit_xor)\n    pub fn bit_not(self) -\u003e Self {\n        bit_not::new().with_parent(self)\n    }\n\n    /// Compute the left arithmetic shift (left logical shift) of one or more values.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// number.bit_sal(param_number)  number\n    /// r.bit_sal(cmd_number, param_number)  number\n    /// ```\n    ///\n    /// Where:\n    /// - param_number: i32 | [Command](crate::Command)\n    /// - cmd_number: [Command](crate::Command)\n    ///\n    /// # Description\n    ///\n    /// In an arithmetic shift (also referred to as signed shift),\n    /// like a logical shift, the bits that slide off the end disappear\n    /// (except for the last, which goes into the carry flag).\n    /// But in an arithmetic shift, the spaces are filled in such a way\n    /// to preserve the sign of the number being slid. For this reason,\n    /// arithmetic shifts are better suited for signed numbers in twos\n    /// complement format.\n    ///\n    /// ## Note\n    ///\n    /// SHL and SAL are the same, and differentiation only happens because\n    /// SAR and SHR (right shifting) has differences in their implementation.\n    ///\n    /// ## Examples\n    ///\n    /// Compute the left arithmetic shift of 5 and 4\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response: u8 = r.expr(5)\n    ///         .bit_sar(4)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response2: u8 = r.bit_sar(r.expr(5), r.expr(4))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == 80 \u0026\u0026 response == response2);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [bit_and](Self::bit_and)\n    /// - [bit_not](Self::bit_not)\n    /// - [bit_or](Self::bit_or)\n    /// - [bit_sar](Self::bit_sar)\n    /// - [bit_xor](Self::bit_xor)\n    pub fn bit_sal(self, args: impl bit_sal::BitSalArg) -\u003e Self {\n        bit_sal::new(args).with_parent(self)\n    }\n\n    /// Compute the right arithmetic shift of one or more values.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// number.bit_sar(param_number)  number\n    /// r.bit_sar(cmd_number, param_number)  number\n    /// ```\n    ///\n    /// Where:\n    /// - param_number: i32 | [Command](crate::Command)\n    /// - cmd_number: [Command](crate::Command)\n    ///\n    /// # Description\n    ///\n    /// In an arithmetic shift (also referred to as signed shift),\n    /// like a logical shift, the bits that slide off the end disappear\n    /// (except for the last, which goes into the carry flag).\n    /// But in an arithmetic shift, the spaces are filled in such\n    /// a way to preserve the sign of the number being slid.\n    /// For this reason, arithmetic shifts are better suited for\n    /// signed numbers in twos complement format.\n    ///\n    /// ## Examples\n    ///\n    /// Compute the right arithmetic shift of 32 and 3\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response: u8 = r.expr(32)\n    ///         .bit_sar(3)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response2: u8 = r.bit_sar(r.expr(32), r.expr(3))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == 4 \u0026\u0026 response == response2);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [bit_and](Self::bit_and)\n    /// - [bit_not](Self::bit_not)\n    /// - [bit_or](Self::bit_or)\n    /// - [bit_sal](Self::bit_sal)\n    /// - [bit_xor](Self::bit_xor)\n    pub fn bit_sar(self, args: impl bit_sar::BitSarArg) -\u003e Self {\n        bit_sar::new(args).with_parent(self)\n    }\n\n    /// Return a new time object with a different timezone.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// time.in_timezone(timezone)  time\n    /// ```\n    ///\n    /// Where:\n    /// - timezone: [UtcOffset](UtcOffset)\n    /// - time: [Time](crate::types::Time)\n    ///\n    /// # Description\n    ///\n    /// While the time stays the same, the results returned by methods such\n    /// as hours() will change since they take the timezone into account.\n    /// The timezone argument has to be of the ISO 8601 format.\n    ///\n    /// ## Examples\n    ///\n    /// Hour of the day in San Francisco (UTC/GMT -8, without daylight saving time).\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::types::Time;\n    /// use reql_rust::{r, Result};\n    /// use time::macros::offset;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let date_time = r.now().in_timezone(offset!(-08:00));\n    ///     let time1: Time = date_time.clone().value();\n    ///     let time2: Time = date_time.cmd()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(time1.is_valid());\n    ///     assert!(time2.is_valid());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [timezone](Self::timezone)\n    /// - [now](crate::r::now)\n    /// - [time](crate::r::time)\n    pub fn in_timezone(self, timezone: UtcOffset) -\u003e Self {\n        in_timezone::new(timezone).with_parent(self)\n    }\n\n    /// Return the timezone of the time object.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// time.timezone()  String\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Return all the users in the -07:00 timezone.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"users\")\n    ///         .filter(func!(|user| user.g(\"subscription_date\").timezone().lt(\"-07:00\")))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](crate::r::now)\n    /// - [time](crate::r::time)\n    /// - [in_timezone](Self::in_timezone)\n    pub fn timezone(self) -\u003e Self {\n        timezone::new().with_parent(self)\n    }\n\n    /// Return whether a time is between two other times.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// time.during(args!(start_time, end_time)) -\u003e bool\n    /// time.during(args!(start_time, end_time, options)) -\u003e bool\n    /// ```\n    ///\n    /// Where:\n    /// - start_time, end_time: [DateTime](crate::types::DateTime), [Command](crate::Command)\n    /// - options: [DuringOption](crate::cmd::during::DuringOption)\n    ///\n    /// ## Examples\n    ///\n    /// Retrieve all the posts that were posted between December 1st,\n    /// 2013 (inclusive) and December 10th, 2013 (exclusive).\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{args, r, Result};\n    /// use time::macros::{date, offset};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let start_date = r.time(args!(date!(2013 - 12 - 01), offset!(UTC)));\n    ///     let end_date = r.time(args!(date!(2013 - 12 - 10), offset!(UTC)));\n    ///     let response = r.table(\"posts\")\n    ///         .filter(func!(|post| post.g(\"date\").during(args!(start_date, end_date))))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Retrieve all the posts that were posted between December 1st,\n    /// 2013 (exclusive) and December 10th, 2013 (inclusive).\n    ///\n    /// ```\n    /// use reql_rust::arguments::Status;\n    /// use reql_rust::cmd::during::DuringOption;\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{args, r, Result};\n    /// use time::macros::{date, offset};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let start_date = r.time(args!(date!(2013 - 12 - 01), offset!(UTC)));\n    ///     let end_date = r.time(args!(date!(2013 - 12 - 10), offset!(UTC)));\n    ///     let during_options = DuringOption::default()\n    ///         .left_bound(Status::Open)\n    ///         .right_bound(Status::Closed);\n    ///     let response = r.table(\"posts\")\n    ///         .filter(func!(|post| post.g(\"date\").during(args!(\n    ///             start_date,\n    ///             end_date,\n    ///             during_options\n    ///         ))))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](crate::r::now)\n    /// - [time](crate::r::time)\n    /// - [in_timezone](Self::in_timezone)\n    pub fn during(self, args: impl during::DuringArg) -\u003e Self {\n        during::new(args).with_parent(self)\n    }\n\n    /// Return a new time struct only based on the day,\n    /// month and year (ie. the same day at 00:00).\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// time.date()  time\n    /// ```\n    ///\n    /// Where:\n    /// - time: [Time](crate::types::Time)\n    ///\n    /// ## Examples\n    ///\n    /// Retrieve all the users whose birthday is today.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"users\")\n    ///         .filter(func!(|user| user.g(\"birthdate\").date().eq(r.now().cmd().date())))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// Note that the [now](crate::r::now) command always returns UTC time, so the\n    /// comparison may fail if `user.g(\"birthdate\")` isnt also in UTC.\n    /// You can use the [in_timezone](Self::in_timezone) command to adjust for this:\n    ///\n    /// ```\n    /// use time::macros::offset;\n    ///\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"users\")\n    ///         .filter(func!(|user| user.g(\"birthdate\").date().eq(\n    ///             r.now().cmd().in_timezone(offset!(-08:00)).date()\n    ///         )))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](crate::r::now)\n    /// - [time](crate::r::time)\n    /// - [in_timezone](Self::in_timezone)\n    pub fn date(self) -\u003e Self {\n        date::new().with_parent(self)\n    }\n\n    /// Return the number of seconds elapsed since the\n    /// beginning of the day stored in the time object.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// time.time_of_day()  f64\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Retrieve posts that were submitted before noon.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"posts\")\n    ///         .filter(func!(|post| post.g(\"date\").time_of_day().le(12*60*60)))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](crate::r::now)\n    /// - [time](crate::r::time)\n    /// - [in_timezone](Self::in_timezone)\n    pub fn time_of_day(self) -\u003e Self {\n        time_of_day::new().with_parent(self)\n    }\n\n    /// Return the year of a time object.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// time.year()  i32\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Retrieve all the users born in 1986.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"users\")\n    ///         .filter(func!(|user| user.g(\"birthdate\").year().eq(r.expr(1986))))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](crate::r::now)\n    /// - [time](crate::r::time)\n    pub fn year(self) -\u003e Self {\n        year::new().with_parent(self)\n    }\n\n    /// Return the month of a time object as a number between 1 and 12.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// time.month()  u8\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Retrieve all the users who were born in November.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"users\")\n    ///         .filter(func!(|user| user.g(\"birthdate\").month().eq(r.expr(11))))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](crate::r::now)\n    /// - [time](crate::r::time)\n    pub fn month(self) -\u003e Self {\n        month::new().with_parent(self)\n    }\n\n    /// Return the day of a time object as a number between 1 and 31.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// time.day()  u8\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Return the users born on the 24th of any month.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"users\")\n    ///         .filter(func!(|user| user.g(\"birthdate\").day().eq(r.expr(24))))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](crate::r::now)\n    /// - [time](crate::r::time)\n    pub fn day(self) -\u003e Self {\n        day::new().with_parent(self)\n    }\n\n    /// Return the day of week of a time object as a number\n    /// between 1 and 7 (following ISO 8601 standard).\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// time.day_of_week()  u8\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Return todays day of week.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let day_of_week = r.now().day_of_week();\n    ///     let day_of_week1 = day_of_week.clone().value();\n    ///     let day_of_week2: u8 = day_of_week.cmd()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(day_of_week1 == day_of_week2);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Retrieve all the users who were born on a Tuesday.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"users\")\n    ///         .filter(func!(|user| user.g(\"birthdate\").day_of_week().eq(r.expr(2))))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](crate::r::now)\n    /// - [time](crate::r::time)\n    pub fn day_of_week(self) -\u003e Self {\n        day_of_week::new().with_parent(self)\n    }\n\n    /// Return the day of the year of a time object as a number\n    /// between 1 and 366 (following ISO 8601 standard).\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// time.day_of_year()  u16\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Retrieve all the users who were born the first day of a year.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"users\")\n    ///         .filter(func!(|user| user.g(\"birthdate\").day_of_year().eq(r.expr(1))))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](crate::r::now)\n    /// - [time](crate::r::time)\n    pub fn day_of_year(self) -\u003e Self {\n        day_of_year::new().with_parent(self)\n    }\n\n    /// Return the hour in a time object as a number between 0 and 23.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// time.hours()  u8\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Return all the posts submitted after midnight and before 4am.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"posts\")\n    ///         .filter(func!(|post| post.g(\"date\").hours().lt(4)))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](crate::r::now)\n    /// - [time](crate::r::time)\n    /// - [in_timezone](Self::in_timezone)\n    pub fn hours(self) -\u003e Self {\n        hours::new().with_parent(self)\n    }\n\n    /// Return the minute in a time object as a number between 0 and 59.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// time.minutes()  u8\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Return all the posts submitted during the first 10 minutes of every hour.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"posts\")\n    ///         .filter(func!(|post| post.g(\"date\").minutes().lt(10)))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](crate::r::now)\n    /// - [time](crate::r::time)\n    /// - [in_timezone](Self::in_timezone)\n    pub fn minutes(self) -\u003e Self {\n        minutes::new().with_parent(self)\n    }\n\n    /// Return the seconds in a time object as a number between 0 and 59.999.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// time.seconds()  f64\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Return the post submitted during the first 30 seconds of every minute.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"posts\")\n    ///         .filter(func!(|post| post.g(\"date\").seconds().lt(30)))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](crate::r::now)\n    /// - [time](crate::r::time)\n    /// - [in_timezone](Self::in_timezone)\n    pub fn seconds(self) -\u003e Self {\n        seconds::new().with_parent(self)\n    }\n\n    /// Convert a time object to a string in ISO 8601 format.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// time.to_iso8601()  String\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Return the current ISO 8601 time.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let iso8601 = r.now().to_iso8601();\n    ///     let iso8601_1 = iso8601.clone().value();\n    ///     let iso8601_2: String = iso8601.cmd()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(!iso8601_1.is_empty());\n    ///     assert!(!iso8601_2.is_empty());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](crate::r::now)\n    /// - [time](crate::r::time)\n    pub fn to_iso8601(self) -\u003e Self {\n        to_iso8601::new().with_parent(self)\n    }\n\n    /// Convert a time object to its epoch time.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// time.to_epoch_time()  f64\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Return the current time in seconds since\n    /// the Unix Epoch with millisecond-precision.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let time = r.now().to_epoch_time();\n    ///     let time1: f64 = time.clone().value();\n    ///     let time2: f64 = time.cmd()\n    ///         .run(\u0026conn)\n    ///         .await?.unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(time1.is_normal());\n    ///     assert!(time2.is_normal());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](crate::r::now)\n    /// - [time](crate::r::time)\n    /// - [to_iso8601](Self::to_iso8601)\n    pub fn to_epoch_time(self) -\u003e Self {\n        to_epoch_time::new().with_parent(self)\n    }\n\n    // FIXME Command no work\n    pub fn do_(self, args: impl do_::DoArg) -\u003e Self {\n        do_::new(args).with_parent(self)\n    }\n\n    /// Perform a branching conditional equivalent to `if-then-else`.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.branch(test, args!(true_action, false_action))  any\n    /// r.branch(test, args!(true_action, [(test2, test2_action), N], false_action))  any\n    /// query.branch(args!(true_action, false_action)) -\u003e any\n    /// query.branch(args!(true_action, [(test2, test2_action), N], false_action))  any\n    /// ```\n    ///\n    /// Where:\n    /// - test, true_action, false_action, test2, test2_action: r.expr(...)\n    ///\n    /// # Description\n    ///\n    /// The `branch` command takes 2n+1 arguments: pairs of conditional expressions\n    /// and commands to be executed if the conditionals return any value but `false`\n    /// or `None` i.e., truthy values), with a final else command to be evaluated\n    /// if all of the conditionals are `false` or `None`.\n    ///\n    /// You may call `branch` infix style on the first test.\n    /// (See the second example for an illustration.)\n    ///\n    /// ```text\n    /// r.branch(test1, args!(val1, [(test2, val2)], elseval))\n    /// ```\n    ///\n    /// is the equivalent of the Rust statement\n    ///\n    /// ```text\n    /// if (test1) {\n    ///     val1\n    /// } else if (test2) {\n    ///     val2\n    /// } else {\n    ///     elseval\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Test the value of x.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let x = 10;\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: String = r.branch(\n    ///             r.expr(x \u003e 5),\n    ///             args!(r.expr(\"big\"), r.expr(\"small\"))\n    ///         ).run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.eq(\"big\"));\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// As above, infix-style.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let x = 10;\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: String = r.expr(x \u003e 5)\n    ///         .branch(args!(r.expr(\"big\"), r.expr(\"small\")))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.eq(\"big\"));\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Categorize heroes by victory counts.\n    ///\n    /// ```\n    /// use std::ops::Add;\n    ///\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.table(\"pricings\")\n    ///         .map(func!(|offer| r.branch(\n    ///             offer.clone().g(\"price\").gt(100),\n    ///             args!(\n    ///                 offer.clone().g(\"offer\").add(\"premium\"),\n    ///                 [(\n    ///                     offer.clone().g(\"price\").gt(10),\n    ///                     offer.clone().g(\"offer\").add(\"standard\")\n    ///                 )],\n    ///                 offer.g(\"offer\").add(\"freemium\")\n    ///         ))))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [do_](Self::do_)\n    pub fn branch(self, args: impl branch::BranchArg) -\u003e Self {\n        branch::new(args).with_parent(self)\n    }\n\n    /// Loop over a sequence, evaluating the given write query for each element.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// sequence.for_each(write_function)  response\n    /// ```\n    ///\n    /// Where:\n    /// - write_function: func!(...)\n    /// - response: [MutationResponse](crate::types::MutationResponse)\n    ///\n    /// ## Examples\n    ///\n    /// Get information about a table such as primary key, or cache size.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::types::MutationResponse;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: MutationResponse = r.table(\"models\")\n    ///         .for_each(func!(|model| r.table(\"cars\")\n    ///             .get(model.get(\"car_model\"))\n    ///             .delete(())\n    ///         ))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.deleted == 5);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [map](Self::map)\n    pub fn for_each(self, write_function: Func) -\u003e Self {\n        for_each::new(write_function).with_parent(self)\n    }\n\n    /// Provide a default value in case of non-existence errors.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// value.default(default_value)  any\n    /// sequence.default(default_value)  any\n    /// ```\n    ///\n    /// # Description\n    ///\n    /// The `default` command evaluates its first argument (the value its chained to).\n    /// If that argument returns `None` or a non-existence error is thrown in evaluation,\n    /// then `default` returns its second argument. The second argument is usually a default value,\n    /// but it can be a function that returns a value.\n    ///\n    /// ## Examples\n    ///\n    /// Suppose we want to retrieve the titles and authors of the table posts.\n    /// In the case where the author field is missing or null,\n    /// we want to retrieve the string Anonymous.\n    ///\n    /// ```\n    /// use std::collections::HashMap;\n    ///\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    /// use serde::{Deserialize, Serialize};\n    ///\n    /// #[derive(Debug, Serialize, Deserialize)]\n    /// struct Post {\n    ///     title: String,\n    ///     author: String,\n    /// }\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: Vec\u003cPost\u003e = r.table(\"posts\")\n    ///         .map(func!(|doc| {\n    ///             let mut post = HashMap::new();\n    ///             post.insert(\"title\", doc.clone().g(\"title\"));\n    ///             post.insert(\"author\", doc.clone().g(\"author\").default(\"Anonymous\"));\n    ///             r.hash_map(post)\n    ///         }))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.len() \u003e 0);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// The `default` command can also be used to filter documents.\n    /// Suppose we want to retrieve all our users who are not grown-ups or\n    /// whose age is unknown (i.e., the field `age` is missing or equals `None`).\n    /// We can do it with this query:\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.table(\"users\")\n    ///         .filter(func!(|user| user.g(\"age\").lt(18).default(true)))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// One more way to write the previous query is\n    /// to set the age to be `-1` when the field is missing.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.table(\"users\")\n    ///         .filter(func!(|user| user.g(\"age\").default(-1).lt(18)))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// Another way to do the same query is to use hasFields.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.table(\"users\")\n    ///         .filter(func!(|user| user.clone().has_fields(\"age\").not_().or(user.g(\"age\").lt(18))))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// Another way to do the same query is to use hasFields.\n    ///\n    /// ```\n    /// use reql_rust::cmd::filter::FilterOption;\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.table(\"users\")\n    ///         .filter(args!(\n    ///             func!(|user| user.g(\"age\").lt(18).default(true)),\n    ///             FilterOption::default().default_(true)\n    ///         ))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn default(self, default_value: impl Serialize) -\u003e Self {\n        default::new(default_value).with_parent(self)\n    }\n\n    /// Convert a value of one type into another.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// sequence.coerce_to('array')  array\n    /// value.coerce_to('string')  string\n    /// string.coerce_to('number')  number\n    /// array.coerce_to('object')  object\n    /// sequence.coerce_to('object')  object\n    /// object.coerce_to('array')  array\n    /// binary.coerce_to('string')  string\n    /// string.coerce_to('binary')  binary\n    /// ```\n    ///\n    /// # Description\n    ///\n    /// - a sequence, selection or object can be coerced to an array\n    /// - a sequence, selection or an array of key-value pairs can be coerced to an object\n    /// - a string can be coerced to a number\n    /// - any datum (single value) can be coerced to a string\n    /// - a binary object can be coerced to a string and vice-versa\n    ///\n    /// ## Examples\n    ///\n    /// Coerce an array of pairs into an object.\n    ///\n    /// ```\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.expr([[\"name\", \"Malika\"], [\"genre\", \"woman\"]])\n    ///         .coerce_to(\"object\")\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Coerce a number to a string.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: char = r.expr(1)\n    ///         .coerce_to(\"string\")\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == '1');\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [object](crate::r::object)\n    pub fn coerce_to(self, value: impl Serialize) -\u003e Self {\n        coerce_to::new(value).with_parent(self)\n    }\n\n    /// Gets the type of a ReQL querys return value.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// any.type_of()  response\n    /// ```\n    ///\n    /// Where:\n    /// - response: [TypeOf](crate::types::TypeOf)\n    ///\n    /// # Description\n    ///\n    /// Read the article on [ReQL data types](https://rethinkdb.com/docs/data-types/)\n    /// for a more detailed discussion.\n    /// Note that some possible return values from `type_of` are internal values,\n    /// such as `TypeOf::MAXVAL`, and unlikely to be returned from queries in standard practice.\n    ///\n    /// ## Examples\n    ///\n    /// Get the type of a TypeOf.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::TypeOf;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: TypeOf = r.expr(\"foo\")\n    ///         .type_of()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == TypeOf::String);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn type_of(self) -\u003e Self {\n        type_of::new().with_parent(self)\n    }\n\n    /// Get information about a ReQL value.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// any.info()  response\n    /// r.info(any)  response\n    /// ```\n    ///\n    /// Where:\n    /// - response: [InfoResponse](crate::types::InfoResponse)\n    ///\n    /// ## Examples\n    ///\n    /// Get information about a table such as primary key, or cache size.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::{InfoResponse, TypeOf};\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: InfoResponse = r.table(\"simbad\")\n    ///         .info()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.typ == TypeOf::Table);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn info(self) -\u003e Self {\n        info::new().with_parent(self)\n    }\n\n    /// Convert a ReQL value or object to a JSON string.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// value.to_json()  String\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Get a ReQL document as a JSON string.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: String = r.table(\"simbad\")\n    ///         .get(1)\n    ///         .to_json()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(!response.is_empty());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn to_json(self) -\u003e Self {\n        to_json::new().with_parent(self)\n    }\n\n    /// Compute the distance between a point and another geometry object.\n    /// At least one of the geometry objects specified must be a point.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// geometry.distance(geometry)  f64\n    /// geometry.distance(args!(geometry, options))  f64\n    /// r.distance(geometry.cmd(), geometry)  f64\n    /// r.distance(geometry.cmd(), args!(geometry, options))  f64\n    /// ```\n    ///\n    /// Where:\n    /// - geometry: [r.point(...)](crate::r::point) |\n    /// [r.line(...)](crate::r::line) |\n    /// [r.polygon(...)](crate::r::polygon)\n    /// - options: [DistanceOption](crate::cmd::distance::DistanceOption)\n    ///\n    /// # Description\n    ///\n    /// If one of the objects is a polygon or a line, the point will be projected\n    /// into the line or polygon assuming a perfect sphere model before the distance\n    /// is computed (using the model specified with `geo_system`).\n    /// As a consequence, if the polygon or line is extremely large compared\n    /// to Earths radius and the distance is being computed with the default\n    ///  WGS84 model, the results of `distance` should be considered approximate\n    /// due to the deviation between the ellipsoid and spherical models.\n    ///\n    /// ## Examples\n    ///\n    /// Compute the distance between two points on the Earth in kilometers.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Unit;\n    /// use reql_rust::cmd::distance::DistanceOption;\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let point1 = r.point(-122.423246, 37.779388);\n    ///     let point2 = r.point(-117.220406, 32.719464);\n    ///     let distance_option = DistanceOption::default().unit(Unit::Kilometer);\n    ///\n    ///     let response: f64 = point1.cmd()\n    ///         .distance(point2)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == 734.125249602186);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [polygon](crate::r::polygon)\n    /// - [line](crate::r::line)\n    pub fn distance(self, args: impl distance::DistanceArg) -\u003e Self {\n        distance::new(args).with_parent(self)\n    }\n\n    /// Convert a ReQL geometry object to a [GeoJSON](https://geojson.org/) object.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// geometry.to_geojson()  response\n    /// ```\n    ///\n    /// Where:\n    /// - geometry: [r.point(...)](crate::r::point) |\n    /// [r.line(...)](crate::r::line) |\n    /// [r.polygon(...)](crate::r::polygon)\n    /// command\n    /// - response: [GeoJson\u003cT\u003e](crate::types::GeoJson)\n    ///\n    /// ## Examples\n    ///\n    /// Convert a ReQL geometry object to a GeoJSON object.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::{GeoJson, GeoType};\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: GeoJson\u003c[f64; 2]\u003e = r.table(\"simbad\")\n    ///         .get(\"sfo\")\n    ///         .g(\"location\")\n    ///         .to_geojson()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.typ == GeoType::Point);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [geojson](crate::r::geojson)\n    pub fn to_geojson(self) -\u003e Self {\n        to_geojson::new().with_parent(self)\n    }\n\n    /// Get all documents where the given geometry object intersects\n    /// the geometry object of the requested geospatial index.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// table.get_intersecting(geometry, options)  selection\u003cstream\u003e\n    /// ```\n    ///\n    /// Where:\n    /// - geometry: [r.point(...)](crate::r::point) |\n    /// [r.line(...)](crate::r::line) |\n    /// [r.polygon(...)](crate::r::polygon)\n    /// command\n    /// - sequence: command\n    /// - options: [GetIntersectingOption](crate::cmd::get_intersecting::GetIntersectingOption)\n    ///\n    /// # Description\n    ///\n    /// The `index` argument is mandatory. This command returns the same\n    ///  results as `|row| row.g(index).intersects(geometry)`.\n    /// The total number of results is limited to the array size limit\n    /// which defaults to 100,000, but can be changed with the `array_limit`\n    /// option to [run](Self::run).\n    ///\n    /// ## Examples\n    ///\n    /// Which of the locations in a list of parks intersect `circle`?\n    ///\n    /// ```\n    /// use reql_rust::arguments::Unit;\n    /// use reql_rust::cmd::circle::CircleOption;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let point = r.point(-117.220406, 32.719464);\n    ///     let circle_opts = CircleOption::default()\n    ///         .unit(Unit::InternationalMile);\n    ///     let circle = r.circle(args!(point, 10., circle_opts));\n    ///\n    ///     let response = r.table(\"simbad\")\n    ///         .get_intersecting(circle, \"area\")\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [get_nearest](Self::get_nearest)\n    pub fn get_intersecting(\n        self,\n        geometry: impl get_intersecting::GetIntersectingArg,\n        index: \u0026'static str,\n    ) -\u003e Self {\n        get_intersecting::new(geometry, index).with_parent(self)\n    }\n\n    /// Return a list of documents closest to a\n    /// specified point based on a geospatial index,\n    /// sorted in order of increasing distance.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// table.get_nearest(args!(geometry, \u0026str))  array\n    /// table.get_nearest(args!(geometry, \u0026str, options))  array\n    /// ```\n    ///\n    /// Where:\n    /// - geometry: [r.point(...)](crate::r::point) |\n    /// [r.line(...)](crate::r::line) |\n    /// [r.polygon(...)](crate::r::polygon) |\n    /// command\n    /// - sequence: command\n    /// - options: [GetNearestOption](crate::cmd::get_nearest::GetNearestOption)\n    ///\n    /// # Description\n    ///\n    /// The return value will be an array of two-item objects\n    /// with the keys `dist` and `doc`, set to the distance\n    /// between the specified point and the document\n    /// (in the units specified with `unit`, defaulting to meters)\n    /// and the document itself, respectively.\n    /// The array will be sorted by the values of `dist`.\n    ///\n    /// ## Examples\n    ///\n    /// Return a list of the closest 25 enemy hideouts to the secret base.\n    ///\n    /// ```\n    /// use reql_rust::cmd::get_nearest::GetNearestOption;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let secret_base = r.point(-122.422876, 37.777128);\n    ///     let opts = GetNearestOption::default().max_results(25);\n    ///\n    ///     let response = r.table(\"simbad\")\n    ///         .get_nearest(args!(secret_base, \"location\"))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [get_intersecting](Self::get_intersecting)\n    pub fn get_nearest(self, args: impl get_nearest::GetNearestArg) -\u003e Self {\n        get_nearest::new(args).with_parent(self)\n    }\n\n    /// Tests whether a geometry object is completely contained within another.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// geometry.includes(geometry)  bool\n    /// sequence.includes(geometry)  sequence\n    /// ```\n    ///\n    /// Where:\n    /// - geometry: [r.point(...)](crate::r::point) |\n    /// [r.line(...)](crate::r::line) |\n    /// [r.polygon(...)](crate::r::polygon) |\n    /// command\n    /// - sequence: command\n    ///\n    /// # Description\n    ///\n    /// When applied to a sequence of geometry objects,\n    /// `includes` acts as a [filter](Self::filter),\n    /// returning a sequence of objects from the sequence\n    /// that include the argument.\n    ///\n    /// ## Examples\n    ///\n    /// Is `point2` included within a 2000-meter circle around `point1`?\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let point1 = r.point(-117.220406, 32.719464);\n    ///     let point2 = r.point(-117.206201, 32.725186);\n    ///\n    ///     let response: bool = r.circle(args!(point1, 2000.))\n    ///         .includes(point2)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Which of the locations in a list of parks include `circle`?\n    ///\n    /// ```\n    /// use reql_rust::arguments::Unit;\n    /// use reql_rust::cmd::circle::CircleOption;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let point = r.point(-117.220406, 32.719464);\n    ///     let circle_opts = CircleOption::default().unit(Unit::InternationalMile);\n    ///     let circle = r.circle(args!(point, 10., circle_opts));\n    ///\n    ///     let response = r.table(\"parks\")\n    ///         .g(\"area\")\n    ///         .includes(circle)\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Rewrite the previous example with `get_intersecting`.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Unit;\n    /// use reql_rust::cmd::circle::CircleOption;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let point = r.point(-117.220406, 32.719464);\n    ///     let circle_opts = CircleOption::default()\n    ///         .unit(Unit::InternationalMile);\n    ///     let circle = r.circle(args!(point, 10., circle_opts));\n    ///\n    ///     let response = r.table(\"parks\")\n    ///         .get_intersecting(circle.clone(), \"area\")\n    ///         .g(\"area\")\n    ///         .includes(circle)\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [intersects](Self::intersects)\n    pub fn includes(self, args: impl includes::IncludesArg) -\u003e Self {\n        includes::new(args).with_parent(self)\n    }\n\n    /// Tests whether two geometry objects intersect with one another.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// geometry.intersects(geometry)  bool\n    /// r.intersects(geometry_command, geometry)  bool\n    /// sequence.intersects(geometry)  sequence_response\n    /// r.intersects(sequence, geometry)  sequence_response\n    /// ```\n    ///\n    /// Where:\n    /// - geometry: [r.point(...)](crate::r::point) |\n    /// [r.line(...)](crate::r::line) |\n    /// [r.polygon(...)](crate::r::polygon) |\n    /// command\n    /// - sequence, geometry_command: [Command](crate::Command)\n    ///\n    /// # Description\n    ///\n    /// When applied to a sequence of geometry objects, `intersects` acts as a\n    /// [filter](Self::filter), returning a sequence of objects from\n    /// the sequence that intersect with the argument.\n    ///\n    /// ## Examples\n    ///\n    /// Is `point2` within a 2000-meter circle around `point1`?\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let point1 = r.point(-117.220406, 32.719464);\n    ///     let point2 = r.point(-117.206201, 32.725186);\n    ///\n    ///     let response: bool = r.circle(args!(point1, 2000.))\n    ///         .intersects(point2)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Which of the locations in a list of parks intersect `circle`?\n    ///\n    /// ```\n    /// use reql_rust::arguments::Unit;\n    /// use reql_rust::cmd::circle::CircleOption;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let point = r.point(-117.220406, 32.719464);\n    ///     let circle_opts = CircleOption::default().unit(Unit::InternationalMile);\n    ///     let circle = r.circle(args!(point, 10., circle_opts));\n    ///\n    ///     let response = r.table(\"parks\")\n    ///         .g(\"area\")\n    ///         .intersects(circle)\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [includes](Self::includes)\n    /// - [get_intersecting](Self::get_intersecting)\n    pub fn intersects(self, geometry: impl intersects::IntersectsArg) -\u003e Self {\n        intersects::new(geometry).with_parent(self)\n    }\n\n    /// Grant or deny access permissions for a user account,\n    /// globally or on a per-database or per-table basis.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.grant(username, permission)  response\n    /// table.grant(username, permission)  response\n    /// db.grant(username, permission)  response\n    /// ```\n    ///\n    /// Where:\n    /// - table: [r.table(...)](crate::r::table) |\n    /// [query.table(...)](Self::table)\n    /// - db: [r.db(...)](crate::r::db)\n    /// - response: [GrantResponse](crate::types::GrantResponse)\n    ///\n    /// # Description\n    ///\n    /// Permissions that are not defined on a local scope will\n    /// be inherited from the next largest scope.\n    /// For example, a write operation on a table will first\n    /// check if `write` permissions are explicitly set to `true` or `false`\n    /// for that table and account combination; if they are not,\n    /// the `write` permissions for the database will be used\n    /// if those are explicitly set; and if neither table nor database\n    /// permissions are set for that account, the global `write`\n    /// permissions for that account will be used.\n    ///\n    /// ## Note\n    ///\n    /// For all accounts other than the special, system-defined `admin` account,\n    /// permissions that are not explicitly set in any scope will effectively be `false`.\n    /// When you create a new user account by inserting a record into the\n    /// [system table](https://rethinkdb.com/docs/system-tables/#users),\n    /// that account will have **no** permissions until they are explicitly granted.\n    ///\n    /// For a full description of permissions, read\n    /// [Permissions and user accounts](https://rethinkdb.com/docs/permissions-and-accounts/).\n    ///\n    /// ## Examples\n    ///\n    /// Grant the `alima` user account read and write permissions on the `users` database.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Permission;\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::GrantResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let permission = Permission::default().read(true).write(true);\n    ///\n    ///     let response: GrantResponse = r.db(\"users\")\n    ///         .grant(\"alima\", permission)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.granted == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Deny write permissions from the `alima` account for the `simbad` table.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Permission;\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::GrantResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let permission = Permission::default().write(false);\n    ///\n    ///     let response: GrantResponse = r.db(\"users\")\n    ///         .table(\"simbad\")\n    ///         .grant(\"alima\", permission)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.granted == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Grant `alima` the ability to use HTTP connections.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Permission;\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::GrantResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let permission = Permission::default().connect(true);\n    ///\n    ///     let response: GrantResponse = r.grant(\"alima\", permission)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.granted == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Grant a `monitor` account read-only access to all databases.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Permission;\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::GrantResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let permission = Permission::default().read(true);\n    ///\n    ///     let response: GrantResponse = r.grant(\"monitor\", permission)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.granted == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn grant(self, username: \u0026str, permission: Permission) -\u003e Self {\n        grant::new(username, permission).with_parent(self)\n    }\n\n    /// Query (read and/or update) the configurations for individual tables or databases.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// table.config()  response\n    /// db.config()  response\n    /// ```\n    ///\n    /// Where:\n    /// - table: [r.table(...)](crate::r::table) |\n    /// [query.table(...)](Self::table)\n    /// - db: [r.db(...)](crate::r::db)\n    /// - response: [ConfigResponse](crate::types::ConfigResponse)\n    ///\n    /// # Description\n    ///\n    /// The config command is a shorthand way to access the `table_config` or `db_config`\n    /// [System tables](https://rethinkdb.com/docs/system-tables/#configuration-tables).\n    /// It will return the single row from the system that corresponds to the database\n    /// or table configuration, as if [get](Self::get) had been called on the system\n    /// table with the UUID of the database or table in question.\n    ///\n    /// ## Examples\n    ///\n    /// Rebalance a table.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::ConfigResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: ConfigResponse = r.table(\"simbad\")\n    ///         .config()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.name == \"simbad\");\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn config(self) -\u003e Self {\n        config::new().with_parent(self)\n    }\n\n    /// Rebalances the shards of a table. When called on a database,\n    /// all the tables in that database will be rebalanced.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// table.rebalance()  response\n    /// db.rebalance()  response\n    /// ```\n    ///\n    /// Where:\n    /// - table: [r.table(...)](crate::r::table) |\n    /// [query.table(...)](Self::table)\n    /// - db: [r.db(...)](crate::r::db)\n    /// - response: [RebalanceResponse](crate::types::RebalanceResponse)\n    ///\n    /// # Description\n    ///\n    /// The `rebalance` command operates by measuring the distribution of\n    /// primary keys within a table and picking split points that will\n    /// give each shard approximately the same number of documents.\n    /// It wont change the number of shards within a table,\n    /// or change any other configuration aspect for the table or the database.\n    ///\n    /// A table will lose availability temporarily after `rebalance` is called;\n    /// use the [wait](Self::wait) command to wait for the table to become available again,\n    /// or [status](Self::status) to check if the table is available for writing.\n    ///\n    /// RethinkDB automatically rebalances tables when the number of shards are increased,\n    /// and as long as your documents have evenly distributed primary keyssuch as\n    /// the default UUIDsit is rarely necessary to call `rebalance` manually.\n    /// Cases where `rebalance` may need to be called include:\n    /// - Tables with unevenly distributed primary keys, such as incrementing integers\n    /// - Changing a tables primary key type\n    /// - Increasing the number of shards on an empty table,\n    /// then using non-UUID primary keys in that table\n    ///\n    /// The [web UI](https://rethinkdb.com/docs/administration-tools/)\n    /// (and the [info](Self::info) command)\n    /// can be used to tell you when a tables shards need to be rebalanced.\n    ///\n    /// See the [status](Self::status) command for an explanation of\n    /// the objects returned in the `old_val` and `new_val` fields.\n    ///\n    /// ## Examples\n    ///\n    /// Rebalance a table.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::RebalanceResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: RebalanceResponse = r.table(\"simbad\")\n    ///         .rebalance()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.rebalanced == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn rebalance(self) -\u003e Self {\n        rebalance::new().with_parent(self)\n    }\n\n    /// Reconfigure a tables sharding and replication.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// table.reconfigure(options)  response\n    /// db.reconfigure(options)  response\n    /// ```\n    ///\n    /// Where:\n    /// - table: [r.table(...)](crate::r::table) |\n    /// [query.table(...)](Self::table)\n    /// - db: [r.db(...)](crate::r::db)\n    /// - options: [ReconfigureOption](crate::cmd::reconfigure::ReconfigureOption)\n    /// - response: [ReconfigureResponse](crate::types::ReconfigureResponse)\n    ///\n    /// # Description\n    ///\n    /// A table will lose availability temporarily after `reconfigure` is called;\n    /// use the [wait](Self::wait) command to wait for the table to become available again,\n    /// or [status](Self::wait) to check if the table is available for writing.\n    ///\n    /// ## Note\n    ///\n    /// Whenever you call `reconfigure`, the write durability will be set to\n    /// `Durability::Hard` and the write\n    /// acknowledgments will be set to `ReadMode::Majority`;\n    /// these can be changed by using the `config` command on the table.\n    ///\n    ///\n    /// If `reconfigure` is called on a database,\n    /// all the tables in the database will have their configurations affected.\n    /// The return value will be an array of the objects described above, one per table.\n    ///\n    /// Read [Sharding and replication](https://rethinkdb.com/docs/sharding-and-replication/)\n    /// for a complete discussion of the subject, including advanced topics.\n    ///\n    /// ## Examples\n    ///\n    /// Reconfigure a table.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Replicas;\n    /// use reql_rust::cmd::reconfigure::ReconfigureOption;\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::ReconfigureResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let opts = ReconfigureOption::default()\n    ///         .shards(1)\n    ///         .replicas(Replicas::Int(1));\n    ///\n    ///     let response: ReconfigureResponse = r.table(\"simbad\")\n    ///         .reconfigure(opts)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.reconfigured == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Reconfigure a table, specifying replicas by server tags.\n    ///\n    /// ```\n    /// use std::collections::HashMap;\n    ///\n    /// use reql_rust::arguments::Replicas;\n    /// use reql_rust::cmd::reconfigure::ReconfigureOption;\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::types::ReconfigureResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let mut replicas = HashMap::new();\n    ///\n    ///     replicas.insert(\"malika\".static_string(), 1);\n    ///     replicas.insert(\"malika\".static_string(), 1);\n    ///\n    ///     let opts = ReconfigureOption::default()\n    ///         .shards(2)\n    ///         .replicas(Replicas::Map {\n    ///             replicas,\n    ///             primary_replica_tag: \"malika\".static_string()\n    ///         });\n    ///\n    ///     let response: ReconfigureResponse = r.table(\"simbad\")\n    ///         .reconfigure(opts)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.reconfigured == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Perform an emergency repair on a table.\n    ///\n    /// ```\n    /// use reql_rust::arguments::EmergencyRepair;\n    /// use reql_rust::cmd::reconfigure::ReconfigureOption;\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::ReconfigureResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let opts = ReconfigureOption::default()\n    ///         .emergency_repair(EmergencyRepair::UnsafeRollback);\n    ///\n    ///     let response: ReconfigureResponse = r.table(\"simbad\")\n    ///         .reconfigure(opts)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.reconfigured == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn reconfigure(self, opts: reconfigure::ReconfigureOption) -\u003e Self {\n        reconfigure::new(opts).with_parent(self)\n    }\n\n    /// Return the status of a table.\n    ///\n    /// The return value is an object providing information about\n    /// the tables shards, replicas and replica readiness states.\n    /// For a more complete discussion of the object fields,\n    /// read about the table_status table in\n    /// [System tables](https://rethinkdb.com/docs/system-tables/#status-tables).\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// table.status()  response\n    /// ```\n    ///\n    /// Where:\n    /// - table: [r.table(...)](crate::r::table) |\n    /// [query.table(...)](Self::table)\n    /// - response: [StatusResponse](crate::types::StatusResponse)\n    ///\n    /// ## Examples\n    ///\n    /// Get a tables status.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::StatusResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: StatusResponse = r.table(\"simbad\")\n    ///         .status()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.name.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn status(self) -\u003e Self {\n        status::new().with_parent(self)\n    }\n\n    /// Wait for a table or all the tables in a database to be ready.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// table.wait(())  response\n    /// db.wait(())  response\n    /// r.wait(table)  response\n    /// r.wait(database)  response\n    /// table.wait(options)  response\n    /// db.wait(options)  response\n    /// r.wait(args!(table, options))  response\n    /// r.wait(args!(database, options))  response\n    /// ```\n    ///\n    /// Where:\n    /// - table: [r.table(...)](crate::r::table) |\n    /// [query.table(...)](Self::table)\n    /// - db: [r.db(...)](crate::r::db)\n    /// - options: [WaitOption](crate::cmd::wait::WaitOption)\n    /// - response: [WaitResponse](crate::types::WaitResponse)\n    ///\n    /// # Description\n    ///\n    /// A table may be temporarily unavailable after creation,\n    /// rebalancing or reconfiguring.\n    /// The `wait` command blocks until the given\n    /// table (or database) is fully up to date.\n    ///\n    /// ## Examples\n    ///\n    /// Wait on a table to be ready.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::WaitResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: WaitResponse = r.table(\"simbad\")\n    ///         .wait(())\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.ready == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Wait on a table with timeout to be ready for reads.\n    ///\n    /// ```\n    /// use reql_rust::arguments::WaitFor;\n    /// use reql_rust::cmd::wait::WaitOption;\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::WaitResponse;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let table_command = r.db(\"anim\").table(\"simbad\");\n    ///     let opts = WaitOption::default()\n    ///         .wait_for(WaitFor::ReadyForReads)\n    ///         .timeout(8000f64);\n    ///\n    ///     let response: WaitResponse =  r.wait(args!(table_command, opts))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.ready == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn wait(self, args: impl wait::WaitArg) -\u003e Self {\n        wait::new(args).with_parent(self)\n    }\n\n    /// Run a query on a connection,\n    /// returning either a single JSON result or a cursor,\n    /// depending on the query.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// query.run(\u0026session)  value\n    /// query.run(connection)  value\n    /// query.run(args!(\u0026session, options))  value\n    /// query.run(args!(connection, options))  value\n    /// query.run(\u0026mut session)  value\n    /// query.run(args!(\u0026mut session, options))  value\n    /// ```\n    ///\n    /// Where:\n    /// - session: [Session](crate::connection::Session)\n    /// - connection: [Connection](crate::connection::Connection)\n    /// - options: [RunOption](crate::cmd::run::RunOption)\n    /// - stream: [impl Stream\u003cItem = Result\u003cValue\u003e\u003e](futures::stream::Stream)\n    ///\n    /// ## Examples\n    ///\n    /// If you are OK with potentially out of date data\n    /// from all the tables involved in this query and\n    /// want potentially faster reads,\n    /// pass a flag allowing out of date data in an options object.\n    /// Settings for individual tables will supercede this global\n    /// setting for all tables in the query.\n    ///\n    /// ```\n    /// use reql_rust::arguments::ReadMode;\n    /// use reql_rust::cmd::run::RunOption;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let opts = RunOption::default().read_mode(ReadMode::Outdated);\n    ///\n    ///     r.table(\"simbad\").run(args!(\u0026conn, opts)).await?;\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// If you want to specify whether to wait for a write to be written\n    /// to disk (overriding the tables default settings),\n    /// you can set `durability` to `Durability::Hard`\n    /// or `Durability::Soft` in the options.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Durability;\n    /// use reql_rust::cmd::run::RunOption;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let opts = RunOption::default().durability(Durability::Hard);\n    ///     let data = json!({\n    ///         \"name\": \"Pumba\",\n    ///         \"live\": 5\n    ///     });\n    ///\n    ///     r.table(\"simbad\").insert(data).run(args!(\u0026conn, opts)).await?;\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// If you do not want a time object to be converted to a native date object,\n    /// you can pass a time_format flag to prevent it\n    /// (valid flags are `Format::Raw` and `Format::Native`).\n    /// This query returns an object with two fields (epoch_time and $reql_type$)\n    /// instead of a native date object.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Format;\n    /// use reql_rust::cmd::run::RunOption;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let opts = RunOption::default().time_format(Format::Raw);\n    ///\n    ///     r.now().cmd().run(args!(\u0026conn, opts)).await?;\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Specify the database to use for the query.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Format;\n    /// use reql_rust::cmd::run::RunOption;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let opts = RunOption::default().db(\"jikoni\");\n    ///\n    ///     r.table(\"simbad\").run(args!(\u0026conn, opts)).await?;\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Change the batching parameters for this query.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Format;\n    /// use reql_rust::cmd::run::RunOption;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let opts = RunOption::default()\n    ///         .max_batch_rows(16)\n    ///         .max_batch_bytes(2048);\n    ///\n    ///     r.table(\"simbad\").run(args!(\u0026conn, opts)).await?;\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [connection](crate::r::connection)\n    pub async fn run(self, arg: impl run::RunArg) -\u003e Result\u003cOption\u003cValue\u003e\u003e {\n        self.make_query(arg).try_next().await\n    }\n\n    /// Prepare query for execution\n    ///\n    /// See [run](self::run) for more information.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// query.make_query(\u0026session)  stream\n    /// query.make_query(connection)  stream\n    /// query.make_query(args!(\u0026session, options))  stream\n    /// query.make_query(args!(connection, options))  stream\n    /// query.make_query(\u0026mut session)  stream\n    /// query.make_query(args!(\u0026mut session, options))  stream\n    /// ```\n    ///\n    /// Where:\n    /// - session: [Session](crate::connection::Session)\n    /// - connection: [Connection](crate::connection::Connection)\n    /// - options: [RunOption](crate::cmd::run::RunOption)\n    ///\n    /// # Description\n    ///\n    /// This method has the same parameters as `run`.\n    /// The main difference between `make_query` and `run` is that\n    /// `make_query` can be used to execute multiple requests\n    ///\n    /// ## Examples\n    ///\n    /// You can use `query.make_query` to get the same result than `query.run`\n    ///\n    /// ```\n    /// use futures::TryStreamExt;\n    /// use reql_rust::r;\n    ///\n    /// async fn example() -\u003e reql_rust::Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     r.table(\"simbad\").make_query(\u0026conn).try_next().await?;\n    ///     // is same than\n    ///     r.table(\"simbad\").run(\u0026conn).await?;\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Run many queries\n    ///\n    /// ```\n    /// use futures::stream::{select_all, TryStreamExt};\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::r;\n    ///\n    /// async fn example() -\u003e reql_rust::Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let mut streams = Vec::new();\n    ///     let expected_messages: Vec\u003cString\u003e = (0..10_000)\n    ///         .into_iter()\n    ///         .map(|i| format!(\"message {}\", i))\n    ///         .collect();\n    ///\n    ///     for msg in expected_messages.iter() {\n    ///         streams.push(r.expr(msg).make_query(\u0026conn));\n    ///     }\n    ///\n    ///     let mut list = select_all(streams);\n    ///     let mut response = Vec::new();\n    ///\n    ///     while let Some(msg) = list.try_next().await? {\n    ///         let msg: String = msg.parse()?;\n    ///         response.push(msg);\n    ///     }\n    ///\n    ///     assert!(response == expected_messages);\n    ///\n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [run](self::run)\n    pub fn make_query(self, arg: impl run::RunArg) -\u003e impl Stream\u003cItem = Result\u003cValue\u003e\u003e {\n        Box::pin(run::new(self, arg))\n    }\n}\n\npub enum CmdOpts {\n    Single(Command),\n    Many(Vec\u003cCommand\u003e),\n}\n\nimpl CmdOpts {\n    pub(crate) fn add_to_cmd(self, command: Command) -\u003e Command {\n        match self {\n            Self::Single(arg) =\u003e command.with_arg(arg),\n            Self::Many(args) =\u003e args.into_iter().fold(command, |cmd, arg| cmd.with_arg(arg)),\n        }\n    }\n}\n\nimpl From\u003cCmdOpts\u003e for Option\u003cCommand\u003e {\n    fn from(command: CmdOpts) -\u003e Self {\n        if let CmdOpts::Single(arg) = command {\n            Some(arg)\n        } else {\n            None\n        }\n    }\n}\n\n// for debug purposes only\nfn bytes_to_string(bytes: \u0026[u8]) -\u003e String {\n    if let Ok(string) = str::from_utf8(bytes) {\n        return string.to_owned();\n    }\n    format!(\"{:?}\", bytes)\n}\n","traces":[{"line":194,"address":[4471248],"length":1,"stats":{"Line":4},"fn_name":"static_string"},{"line":195,"address":[4471269],"length":1,"stats":{"Line":4},"fn_name":null},{"line":200,"address":[4013680],"length":1,"stats":{"Line":1},"fn_name":"static_string"},{"line":201,"address":[4013692],"length":1,"stats":{"Line":1},"fn_name":null},{"line":206,"address":[1837680],"length":1,"stats":{"Line":0},"fn_name":"static_string"},{"line":207,"address":[1837703],"length":1,"stats":{"Line":0},"fn_name":null},{"line":208,"address":[1837726],"length":1,"stats":{"Line":0},"fn_name":null},{"line":209,"address":[1837767],"length":1,"stats":{"Line":0},"fn_name":null},{"line":215,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":216,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":219,"address":[2192224,2192453,2192426],"length":1,"stats":{"Line":1},"fn_name":"table_create\u003c(\u0026str, reql_rust::cmd::table_create::TableCreateOption)\u003e"},{"line":220,"address":[2192259,2192358],"length":1,"stats":{"Line":2},"fn_name":null},{"line":223,"address":[4047922,4047696,4047895],"length":1,"stats":{"Line":0},"fn_name":"table_drop"},{"line":224,"address":[4047760,4047827],"length":1,"stats":{"Line":0},"fn_name":null},{"line":227,"address":[4047936,4048093,4048120],"length":1,"stats":{"Line":0},"fn_name":"table_list"},{"line":228,"address":[4048025,4047958],"length":1,"stats":{"Line":0},"fn_name":null},{"line":231,"address":[2192704,2192654,2192903,2192930,2192681,2192464],"length":1,"stats":{"Line":4},"fn_name":"table\u003c(\u0026str, reql_rust::cmd::table::TableOption)\u003e"},{"line":232,"address":[2192584,2192835,2192768,2192486],"length":1,"stats":{"Line":8},"fn_name":null},{"line":235,"address":[2192944,2193143,2193374,2193401,2193170,2193184],"length":1,"stats":{"Line":2},"fn_name":"index_create\u003c\u0026str\u003e"},{"line":236,"address":[2193206,2193304,2193008,2193075],"length":1,"stats":{"Line":4},"fn_name":null},{"line":239,"address":[4048144,4048343,4048370],"length":1,"stats":{"Line":1},"fn_name":"index_drop"},{"line":240,"address":[4048208,4048275],"length":1,"stats":{"Line":2},"fn_name":null},{"line":243,"address":[4048568,4048541,4048384],"length":1,"stats":{"Line":1},"fn_name":"index_list"},{"line":244,"address":[4048406,4048473],"length":1,"stats":{"Line":2},"fn_name":null},{"line":247,"address":[2193614,2193664,2193866,2193893,2193641,2193424],"length":1,"stats":{"Line":2},"fn_name":"index_rename\u003c(\u0026str, \u0026str)\u003e"},{"line":248,"address":[2193686,2193544,2193796,2193446],"length":1,"stats":{"Line":4},"fn_name":null},{"line":251,"address":[2194338,2194569,2194112,2194090,2194542,2193904,2194063,2194352,2194311],"length":1,"stats":{"Line":3},"fn_name":"index_status\u003c()\u003e"},{"line":252,"address":[2194176,2194243,2194374,2194472,2193993,2193926],"length":1,"stats":{"Line":6},"fn_name":null},{"line":255,"address":[2194832,2195040,2194809,2195018,2195239,2195266,2194782,2194991,2194592],"length":1,"stats":{"Line":3},"fn_name":"index_wait\u003calloc::vec::Vec\u003c\u0026str, alloc::alloc::Global\u003e\u003e"},{"line":256,"address":[2194921,2195104,2194712,2195171,2194614,2194854],"length":1,"stats":{"Line":6},"fn_name":null},{"line":259,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":260,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":263,"address":[4048749,4048776,4048592],"length":1,"stats":{"Line":0},"fn_name":"get_write_hook"},{"line":264,"address":[4048614,4048681],"length":1,"stats":{"Line":0},"fn_name":null},{"line":267,"address":[2197069,2197552,2195709,2195906,2197954,2196845,2198455,2196640,2196400,2196354,2195458,2197312,2197502,2195504,2195933,2196864,2197266,2196381,2195682,2196617,2197293,2198205,2195952,2195485,2196590,2197776,2198178,2197981,2198000,2197088,2196176,2197730,2196818,2197757,2196157,2195728,2195280,2198224,2197529,2197042,2198428,2196130],"length":1,"stats":{"Line":14},"fn_name":"insert\u003creql_rust::arguments::Args\u003c(\u0026reql_rust::spec::Post, reql_rust::cmd::insert::InsertOption)\u003e\u003e"},{"line":268,"address":[2197131,2197334,2197432,2196422,2197595,2197819,2198043,2198110,2196750,2198358,2195771,2196062,2195614,2197886,2195388,2196286,2196683,2197198,2198259,2197662,2196219,2196974,2196520,2195302,2195838,2195995,2195547,2196907],"length":1,"stats":{"Line":28},"fn_name":null},{"line":271,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":272,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":275,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":276,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":279,"address":[2198666,2198639,2198480],"length":1,"stats":{"Line":1},"fn_name":"delete\u003c()\u003e"},{"line":280,"address":[2198502,2198569],"length":1,"stats":{"Line":2},"fn_name":null},{"line":283,"address":[4048957,4048984,4048800],"length":1,"stats":{"Line":1},"fn_name":"sync"},{"line":284,"address":[4048889,4048822],"length":1,"stats":{"Line":2},"fn_name":null},{"line":287,"address":[2199356,2199152,2198865,2199111,2198688,2198892,2199138,2199383,2199408,2199577,2198912,2199604],"length":1,"stats":{"Line":4},"fn_name":"get\u003ci32\u003e"},{"line":288,"address":[2199187,2198728,2199043,2199439,2198795,2198976,2199286,2199509],"length":1,"stats":{"Line":8},"fn_name":null},{"line":291,"address":[2199857,2199616,2199830],"length":1,"stats":{"Line":1},"fn_name":"get_all\u003c(alloc::vec::Vec\u003c\u0026str, alloc::alloc::Global\u003e, reql_rust::cmd::get_all::GetAllOption)\u003e"},{"line":292,"address":[2199638,2199760],"length":1,"stats":{"Line":2},"fn_name":null},{"line":295,"address":[2200330,2199872,2200076,2200103,2200128,2200357],"length":1,"stats":{"Line":2},"fn_name":"between\u003creql_rust::arguments::Args\u003c(reql_rust::proto::Command, reql_rust::proto::Command, reql_rust::cmd::between::BetweenOption)\u003e\u003e"},{"line":296,"address":[2199907,2200006,2200163,2200262],"length":1,"stats":{"Line":4},"fn_name":null},{"line":299,"address":[2200599,2200855,2200368,2200828,2200572,2200624],"length":1,"stats":{"Line":2},"fn_name":"filter\u003creql_rust::proto::Command\u003e"},{"line":300,"address":[2200403,2200758,2200659,2200502],"length":1,"stats":{"Line":4},"fn_name":null},{"line":303,"address":[4049008,4049287,4049260],"length":1,"stats":{"Line":0},"fn_name":"inner_join"},{"line":304,"address":[4049048,4049192],"length":1,"stats":{"Line":0},"fn_name":null},{"line":307,"address":[4049312,4049564,4049591],"length":1,"stats":{"Line":0},"fn_name":"outer_join"},{"line":308,"address":[4049496,4049352],"length":1,"stats":{"Line":0},"fn_name":null},{"line":311,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":312,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":315,"address":[4049616,4049773,4049800],"length":1,"stats":{"Line":0},"fn_name":"zip"},{"line":316,"address":[4049705,4049638],"length":1,"stats":{"Line":0},"fn_name":null},{"line":319,"address":[2201084,2200880,2201111],"length":1,"stats":{"Line":1},"fn_name":"map\u003creql_rust::cmd::func::Func\u003e"},{"line":320,"address":[2200915,2201014],"length":1,"stats":{"Line":2},"fn_name":null},{"line":323,"address":[4050028,4049824,4050055],"length":1,"stats":{"Line":1},"fn_name":"with_fields"},{"line":324,"address":[4049859,4049958],"length":1,"stats":{"Line":2},"fn_name":null},{"line":327,"address":[4050284,4050311,4050080],"length":1,"stats":{"Line":0},"fn_name":"concat_map"},{"line":328,"address":[4050214,4050115],"length":1,"stats":{"Line":0},"fn_name":null},{"line":331,"address":[2201326,2201863,2201580,2201136,2201632,2201836,2202090,2202117,2201376,2201607,2201353,2201888],"length":1,"stats":{"Line":4},"fn_name":"order_by\u003creql_rust::cmd::order_by::OrderByOption\u003e"},{"line":332,"address":[2201510,2201256,2201158,2201411,2201667,2201766,2202022,2201923],"length":1,"stats":{"Line":8},"fn_name":null},{"line":335,"address":[4050336,4050541,4050514],"length":1,"stats":{"Line":1},"fn_name":"skip"},{"line":336,"address":[4050379,4050446],"length":1,"stats":{"Line":2},"fn_name":null},{"line":339,"address":[4050738,4050765,4050560],"length":1,"stats":{"Line":1},"fn_name":"limit"},{"line":340,"address":[4050603,4050670],"length":1,"stats":{"Line":2},"fn_name":null},{"line":343,"address":[2202128,2202327,2202354],"length":1,"stats":{"Line":1},"fn_name":"slice\u003c(isize, isize)\u003e"},{"line":344,"address":[2202192,2202259],"length":1,"stats":{"Line":2},"fn_name":null},{"line":347,"address":[4050784,4050989,4050962],"length":1,"stats":{"Line":1},"fn_name":"nth"},{"line":348,"address":[4050827,4050894],"length":1,"stats":{"Line":2},"fn_name":null},{"line":351,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":352,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":355,"address":[4051165,4051008,4051192],"length":1,"stats":{"Line":1},"fn_name":"is_empty"},{"line":356,"address":[4051030,4051097],"length":1,"stats":{"Line":2},"fn_name":null},{"line":359,"address":[2202572,2202368,2202599],"length":1,"stats":{"Line":1},"fn_name":"union\u003creql_rust::proto::Command\u003e"},{"line":360,"address":[2202403,2202502],"length":1,"stats":{"Line":2},"fn_name":null},{"line":363,"address":[4051421,4051394,4051216],"length":1,"stats":{"Line":1},"fn_name":"sample"},{"line":364,"address":[4051326,4051259],"length":1,"stats":{"Line":2},"fn_name":null},{"line":367,"address":[2202624,2202850,2202823],"length":1,"stats":{"Line":1},"fn_name":"group\u003c\u0026str\u003e"},{"line":368,"address":[2202755,2202688],"length":1,"stats":{"Line":2},"fn_name":null},{"line":371,"address":[4051597,4051440,4051624],"length":1,"stats":{"Line":1},"fn_name":"ungroup"},{"line":372,"address":[4051462,4051529],"length":1,"stats":{"Line":2},"fn_name":null},{"line":375,"address":[4051648,4051879,4051852],"length":1,"stats":{"Line":0},"fn_name":"reduce"},{"line":376,"address":[4051782,4051683],"length":1,"stats":{"Line":0},"fn_name":null},{"line":379,"address":[4052183,4051904,4052156],"length":1,"stats":{"Line":0},"fn_name":"fold"},{"line":380,"address":[4051944,4052088],"length":1,"stats":{"Line":0},"fn_name":null},{"line":383,"address":[2203050,2202864,2203023],"length":1,"stats":{"Line":1},"fn_name":"count\u003c()\u003e"},{"line":384,"address":[2202886,2202953],"length":1,"stats":{"Line":2},"fn_name":null},{"line":387,"address":[2203271,2203072,2203298],"length":1,"stats":{"Line":1},"fn_name":"sum\u003c\u0026str\u003e"},{"line":388,"address":[2203136,2203203],"length":1,"stats":{"Line":2},"fn_name":null},{"line":391,"address":[2203538,2203312,2203511],"length":1,"stats":{"Line":1},"fn_name":"avg\u003c\u0026str\u003e"},{"line":392,"address":[2203443,2203376],"length":1,"stats":{"Line":2},"fn_name":null},{"line":395,"address":[2203751,2203778,2203552],"length":1,"stats":{"Line":1},"fn_name":"min\u003c\u0026str\u003e"},{"line":396,"address":[2203616,2203683],"length":1,"stats":{"Line":2},"fn_name":null},{"line":399,"address":[2203792,2203991,2204018],"length":1,"stats":{"Line":1},"fn_name":"max\u003c\u0026str\u003e"},{"line":400,"address":[2203856,2203923],"length":1,"stats":{"Line":2},"fn_name":null},{"line":403,"address":[2204249,2204032,2204222],"length":1,"stats":{"Line":1},"fn_name":"distinct\u003creql_rust::cmd::distinct::DistinctOption\u003e"},{"line":404,"address":[2204152,2204054],"length":1,"stats":{"Line":2},"fn_name":null},{"line":407,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":408,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":411,"address":[2204462,2204489,2204272],"length":1,"stats":{"Line":1},"fn_name":"pluck\u003c[\u0026str; 2]\u003e"},{"line":412,"address":[2204392,2204294],"length":1,"stats":{"Line":2},"fn_name":null},{"line":415,"address":[2204512,2204702,2204729],"length":1,"stats":{"Line":1},"fn_name":"without\u003c[\u0026str; 2]\u003e"},{"line":416,"address":[2204632,2204534],"length":1,"stats":{"Line":2},"fn_name":null},{"line":419,"address":[2204752,2204956,2204983],"length":1,"stats":{"Line":1},"fn_name":"merge\u003creql_rust::proto::Command\u003e"},{"line":420,"address":[2204787,2204886],"length":1,"stats":{"Line":2},"fn_name":null},{"line":423,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":424,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":427,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":428,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":431,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":432,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":435,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":436,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":439,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":440,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":443,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":444,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":447,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":448,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":451,"address":[2205008,2205207,2205234],"length":1,"stats":{"Line":1},"fn_name":"bracket\u003c\u0026str\u003e"},{"line":452,"address":[2205072,2205139],"length":1,"stats":{"Line":2},"fn_name":null},{"line":455,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":456,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":459,"address":[2205447,2205474,2205248],"length":1,"stats":{"Line":1},"fn_name":"g\u003c\u0026str\u003e"},{"line":460,"address":[2205379,2205312],"length":1,"stats":{"Line":2},"fn_name":null},{"line":463,"address":[2205488,2205687,2205714],"length":1,"stats":{"Line":1},"fn_name":"has_fields\u003c\u0026str\u003e"},{"line":464,"address":[2205552,2205619],"length":1,"stats":{"Line":2},"fn_name":null},{"line":467,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":468,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":471,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":472,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":475,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":476,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":479,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":480,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":483,"address":[4052392,4052208,4052365],"length":1,"stats":{"Line":1},"fn_name":"keys"},{"line":484,"address":[4052297,4052230],"length":1,"stats":{"Line":2},"fn_name":null},{"line":487,"address":[4052416,4052600,4052573],"length":1,"stats":{"Line":1},"fn_name":"values"},{"line":488,"address":[4052505,4052438],"length":1,"stats":{"Line":2},"fn_name":null},{"line":491,"address":[4052624,4052823,4052850],"length":1,"stats":{"Line":0},"fn_name":"match_"},{"line":492,"address":[4052688,4052755],"length":1,"stats":{"Line":0},"fn_name":null},{"line":495,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":496,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":499,"address":[4053048,4053021,4052864],"length":1,"stats":{"Line":0},"fn_name":"upcase"},{"line":500,"address":[4052953,4052886],"length":1,"stats":{"Line":0},"fn_name":null},{"line":503,"address":[4053256,4053072,4053229],"length":1,"stats":{"Line":0},"fn_name":"downcase"},{"line":504,"address":[4053094,4053161],"length":1,"stats":{"Line":0},"fn_name":null},{"line":507,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":508,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":511,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":512,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":515,"address":[2205932,2205959,2205728],"length":1,"stats":{"Line":1},"fn_name":"eq\u003creql_rust::proto::Command\u003e"},{"line":516,"address":[2205862,2205763],"length":1,"stats":{"Line":2},"fn_name":null},{"line":519,"address":[2206215,2206188,2205984],"length":1,"stats":{"Line":1},"fn_name":"ne\u003creql_rust::arguments::any_param::AnyParam\u003e"},{"line":520,"address":[2206118,2206019],"length":1,"stats":{"Line":2},"fn_name":null},{"line":523,"address":[2206417,2206240,2206444],"length":1,"stats":{"Line":1},"fn_name":"gt\u003ci32\u003e"},{"line":524,"address":[2206280,2206347],"length":1,"stats":{"Line":2},"fn_name":null},{"line":527,"address":[2206668,2206464,2206641],"length":1,"stats":{"Line":1},"fn_name":"ge\u003ci32\u003e"},{"line":528,"address":[2206504,2206571],"length":1,"stats":{"Line":2},"fn_name":null},{"line":531,"address":[2206865,2206892,2206688],"length":1,"stats":{"Line":1},"fn_name":"lt\u003ci32\u003e"},{"line":532,"address":[2206728,2206795],"length":1,"stats":{"Line":2},"fn_name":null},{"line":535,"address":[2207089,2207116,2206912],"length":1,"stats":{"Line":1},"fn_name":"le\u003ci32\u003e"},{"line":536,"address":[2206952,2207019],"length":1,"stats":{"Line":2},"fn_name":null},{"line":539,"address":[4053464,4053437,4053280],"length":1,"stats":{"Line":1},"fn_name":"not_"},{"line":540,"address":[4053302,4053369],"length":1,"stats":{"Line":2},"fn_name":null},{"line":543,"address":[4053488,4053645,4053672],"length":1,"stats":{"Line":0},"fn_name":"round"},{"line":544,"address":[4053577,4053510],"length":1,"stats":{"Line":0},"fn_name":null},{"line":547,"address":[4053696,4053853,4053880],"length":1,"stats":{"Line":0},"fn_name":"ceil"},{"line":548,"address":[4053785,4053718],"length":1,"stats":{"Line":0},"fn_name":null},{"line":551,"address":[4053904,4054061,4054088],"length":1,"stats":{"Line":0},"fn_name":"floor"},{"line":552,"address":[4053926,4053993],"length":1,"stats":{"Line":0},"fn_name":null},{"line":634,"address":[2207136,2207232],"length":1,"stats":{"Line":2},"fn_name":"bit_and\u003creql_rust::proto::Command\u003e"},{"line":635,"address":[2207157,2207259],"length":1,"stats":{"Line":2},"fn_name":null},{"line":715,"address":[2207312,2207408],"length":1,"stats":{"Line":2},"fn_name":"bit_or\u003creql_rust::proto::Command\u003e"},{"line":716,"address":[2207435,2207333],"length":1,"stats":{"Line":2},"fn_name":null},{"line":799,"address":[2207584,2207488],"length":1,"stats":{"Line":2},"fn_name":"bit_xor\u003creql_rust::proto::Command\u003e"},{"line":800,"address":[2207509,2207611],"length":1,"stats":{"Line":2},"fn_name":null},{"line":856,"address":[4054269,4054112,4054296],"length":1,"stats":{"Line":1},"fn_name":"bit_not"},{"line":857,"address":[4054134,4054201],"length":1,"stats":{"Line":2},"fn_name":null},{"line":923,"address":[2208092,2208119,2207868,2207841,2207888,2207664],"length":1,"stats":{"Line":2},"fn_name":"bit_sal\u003ci32\u003e"},{"line":924,"address":[2207771,2207923,2208022,2207704],"length":1,"stats":{"Line":4},"fn_name":null},{"line":985,"address":[2208348,2208572,2208599,2208368,2208144,2208321],"length":1,"stats":{"Line":2},"fn_name":"bit_sar\u003ci32\u003e"},{"line":986,"address":[2208251,2208403,2208184,2208502],"length":1,"stats":{"Line":4},"fn_name":null},{"line":1038,"address":[4054584,4054320,4054557],"length":1,"stats":{"Line":0},"fn_name":"in_timezone"},{"line":1039,"address":[4054377,4054489],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1075,"address":[4054608,4054765,4054792],"length":1,"stats":{"Line":0},"fn_name":"timezone"},{"line":1076,"address":[4054697,4054630],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1155,"address":[2208853,2208826,2208624],"length":1,"stats":{"Line":1},"fn_name":"during\u003creql_rust::arguments::Args\u003c(reql_rust::types::datetime::DateTime, reql_rust::types::datetime::DateTime)\u003e\u003e"},{"line":1156,"address":[2208758,2208659],"length":1,"stats":{"Line":2},"fn_name":null},{"line":1221,"address":[4054816,4054973,4055000],"length":1,"stats":{"Line":0},"fn_name":"date"},{"line":1222,"address":[4054838,4054905],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1259,"address":[4055208,4055024,4055181],"length":1,"stats":{"Line":0},"fn_name":"time_of_day"},{"line":1260,"address":[4055113,4055046],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1295,"address":[4055416,4055389,4055232],"length":1,"stats":{"Line":0},"fn_name":"year"},{"line":1296,"address":[4055254,4055321],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1331,"address":[4055597,4055624,4055440],"length":1,"stats":{"Line":0},"fn_name":"month"},{"line":1332,"address":[4055462,4055529],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1367,"address":[4055832,4055648,4055805],"length":1,"stats":{"Line":0},"fn_name":"day"},{"line":1368,"address":[4055670,4055737],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1428,"address":[4055856,4056013,4056040],"length":1,"stats":{"Line":0},"fn_name":"day_of_week"},{"line":1429,"address":[4055945,4055878],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1465,"address":[4056248,4056221,4056064],"length":1,"stats":{"Line":0},"fn_name":"day_of_year"},{"line":1466,"address":[4056086,4056153],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1502,"address":[4056456,4056272,4056429],"length":1,"stats":{"Line":0},"fn_name":"hours"},{"line":1503,"address":[4056294,4056361],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1539,"address":[4056664,4056637,4056480],"length":1,"stats":{"Line":0},"fn_name":"minutes"},{"line":1540,"address":[4056502,4056569],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1576,"address":[4056688,4056845,4056872],"length":1,"stats":{"Line":0},"fn_name":"seconds"},{"line":1577,"address":[4056777,4056710],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1616,"address":[4057080,4056896,4057053],"length":1,"stats":{"Line":0},"fn_name":"to_iso8601"},{"line":1617,"address":[4056918,4056985],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1657,"address":[4057288,4057261,4057104],"length":1,"stats":{"Line":0},"fn_name":"to_epoch_time"},{"line":1658,"address":[4057126,4057193],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1662,"address":[2209095,2208864,2209068],"length":1,"stats":{"Line":0},"fn_name":"do_\u003creql_rust::cmd::func::Func\u003e"},{"line":1663,"address":[2208899,2208998],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1792,"address":[2209120,2209322,2209349],"length":1,"stats":{"Line":1},"fn_name":"branch\u003creql_rust::arguments::Args\u003c(reql_rust::proto::Command, reql_rust::proto::Command)\u003e\u003e"},{"line":1793,"address":[2209254,2209155],"length":1,"stats":{"Line":2},"fn_name":null},{"line":1838,"address":[4057312,4057543,4057516],"length":1,"stats":{"Line":1},"fn_name":"for_each"},{"line":1839,"address":[4057347,4057446],"length":1,"stats":{"Line":2},"fn_name":null},{"line":1987,"address":[2209360,2209559,2209586],"length":1,"stats":{"Line":1},"fn_name":"default\u003c\u0026str\u003e"},{"line":1988,"address":[2209491,2209424],"length":1,"stats":{"Line":2},"fn_name":null},{"line":2061,"address":[2209799,2209600,2209826],"length":1,"stats":{"Line":1},"fn_name":"coerce_to\u003c\u0026str\u003e"},{"line":2062,"address":[2209664,2209731],"length":1,"stats":{"Line":2},"fn_name":null},{"line":2107,"address":[4057725,4057752,4057568],"length":1,"stats":{"Line":1},"fn_name":"type_of"},{"line":2108,"address":[4057657,4057590],"length":1,"stats":{"Line":2},"fn_name":null},{"line":2147,"address":[4057933,4057960,4057776],"length":1,"stats":{"Line":1},"fn_name":"info"},{"line":2148,"address":[4057798,4057865],"length":1,"stats":{"Line":2},"fn_name":null},{"line":2183,"address":[4057984,4058168,4058141],"length":1,"stats":{"Line":1},"fn_name":"to_json"},{"line":2184,"address":[4058073,4058006],"length":1,"stats":{"Line":2},"fn_name":null},{"line":2247,"address":[2210057,2210030,2209840],"length":1,"stats":{"Line":1},"fn_name":"distance\u003creql_rust::arguments::Args\u003c(reql_rust::cmd::point::Point, reql_rust::cmd::distance::DistanceOption)\u003e\u003e"},{"line":2248,"address":[2209960,2209862],"length":1,"stats":{"Line":2},"fn_name":null},{"line":2295,"address":[4058192,4058349,4058376],"length":1,"stats":{"Line":1},"fn_name":"to_geojson"},{"line":2296,"address":[4058214,4058281],"length":1,"stats":{"Line":2},"fn_name":null},{"line":2353,"address":[2210080,2210312,2210339],"length":1,"stats":{"Line":1},"fn_name":"get_intersecting\u003creql_rust::cmd::polygon::Polygon\u003e"},{"line":2358,"address":[2210242,2210144],"length":1,"stats":{"Line":2},"fn_name":null},{"line":2415,"address":[2210352,2210554,2210581],"length":1,"stats":{"Line":1},"fn_name":"get_nearest\u003creql_rust::arguments::Args\u003c(reql_rust::cmd::point::Point, \u0026str)\u003e\u003e"},{"line":2416,"address":[2210484,2210374],"length":1,"stats":{"Line":2},"fn_name":null},{"line":2526,"address":[2210782,2210809,2210592],"length":1,"stats":{"Line":1},"fn_name":"includes\u003creql_rust::cmd::point::Point\u003e"},{"line":2527,"address":[2210614,2210712],"length":1,"stats":{"Line":2},"fn_name":null},{"line":2610,"address":[2211022,2211049,2210832],"length":1,"stats":{"Line":1},"fn_name":"intersects\u003creql_rust::cmd::point::Point\u003e"},{"line":2611,"address":[2210854,2210952],"length":1,"stats":{"Line":2},"fn_name":null},{"line":2760,"address":[4058630,4058657,4058400],"length":1,"stats":{"Line":1},"fn_name":"grant"},{"line":2761,"address":[4058562,4058477],"length":1,"stats":{"Line":2},"fn_name":null},{"line":2811,"address":[4058829,4058672,4058856],"length":1,"stats":{"Line":1},"fn_name":"config"},{"line":2812,"address":[4058694,4058761],"length":1,"stats":{"Line":2},"fn_name":null},{"line":2883,"address":[4059064,4058880,4059037],"length":1,"stats":{"Line":1},"fn_name":"rebalance"},{"line":2884,"address":[4058969,4058902],"length":1,"stats":{"Line":2},"fn_name":null},{"line":3022,"address":[4059326,4059088,4059353],"length":1,"stats":{"Line":1},"fn_name":"reconfigure"},{"line":3023,"address":[4059110,4059256],"length":1,"stats":{"Line":2},"fn_name":null},{"line":3069,"address":[4059533,4059560,4059376],"length":1,"stats":{"Line":1},"fn_name":"status"},{"line":3070,"address":[4059465,4059398],"length":1,"stats":{"Line":2},"fn_name":null},{"line":3156,"address":[2211231,2211072,2211258],"length":1,"stats":{"Line":1},"fn_name":"wait\u003c()\u003e"},{"line":3157,"address":[2211161,2211094],"length":1,"stats":{"Line":2},"fn_name":null},{"line":3300,"address":[2211280,2211309],"length":1,"stats":{"Line":8},"fn_name":"run\u003c\u0026reql_rust::connection::Session\u003e"},{"line":3301,"address":[2373633,2373818,2373456,2373392,2373701,2373982],"length":1,"stats":{"Line":15},"fn_name":null},{"line":3386,"address":[2211376],"length":1,"stats":{"Line":5},"fn_name":"make_query\u003c\u0026reql_rust::connection::Session\u003e"},{"line":3387,"address":[2211600,2211402],"length":1,"stats":{"Line":10},"fn_name":null},{"line":3397,"address":[4471692,4471719,4471296],"length":1,"stats":{"Line":3},"fn_name":"add_to_cmd"},{"line":3398,"address":[4471323],"length":1,"stats":{"Line":9},"fn_name":null},{"line":3399,"address":[4471361,4471690],"length":1,"stats":{"Line":16},"fn_name":null},{"line":3400,"address":[2374105,2374064],"length":1,"stats":{"Line":4},"fn_name":"{closure#0}"},{"line":3406,"address":[2703680],"length":1,"stats":{"Line":1},"fn_name":"from"},{"line":3407,"address":[2703702,2703802],"length":1,"stats":{"Line":2},"fn_name":null},{"line":3408,"address":[2703756],"length":1,"stats":{"Line":1},"fn_name":null},{"line":3410,"address":[2703809],"length":1,"stats":{"Line":0},"fn_name":null},{"line":3416,"address":[4471744],"length":1,"stats":{"Line":0},"fn_name":"bytes_to_string"},{"line":3417,"address":[4471771],"length":1,"stats":{"Line":0},"fn_name":null},{"line":3418,"address":[4471831],"length":1,"stats":{"Line":0},"fn_name":null},{"line":3420,"address":[4471841],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":163,"coverable":276},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","connection.rs"],"content":"use dashmap::DashMap;\nuse futures::channel::mpsc::{self, UnboundedReceiver, UnboundedSender};\nuse futures::lock::Mutex;\nuse futures::TryFutureExt;\nuse ql2::query::QueryType;\nuse ql2::response::ResponseType;\nuse serde_json::json;\nuse std::borrow::Cow;\nuse std::ops::Drop;\nuse std::sync::atomic::{AtomicBool, AtomicU64, Ordering};\nuse std::sync::Arc;\nuse tokio::time;\nuse tracing::trace;\n\nuse super::cmd::run::Response;\nuse super::cmd::StaticString;\nuse crate::cmd::TcpStreamConnection;\nuse crate::proto::{Payload, Query};\nuse crate::types::ServerInfo;\nuse crate::{err, r, ReqlDriverError, Result};\n\ntype Sender = UnboundedSender\u003cResult\u003c(ResponseType, Response)\u003e\u003e;\ntype Receiver = UnboundedReceiver\u003cResult\u003c(ResponseType, Response)\u003e\u003e;\n\n#[derive(Debug)]\npub(crate) struct InnerSession {\n    pub(crate) db: Mutex\u003cCow\u003c'static, str\u003e\u003e,\n    pub(crate) stream: Mutex\u003cTcpStreamConnection\u003e,\n    pub(crate) channels: DashMap\u003cu64, Sender\u003e,\n    pub(crate) token: AtomicU64,\n    pub(crate) broken: AtomicBool,\n    pub(crate) change_feed: AtomicBool,\n}\n\nimpl InnerSession {\n    pub(crate) fn token(\u0026self) -\u003e u64 {\n        let token = self\n            .token\n            .fetch_update(Ordering::SeqCst, Ordering::SeqCst, |x| Some(x + 1))\n            .unwrap();\n        if token == u64::MAX {\n            self.mark_broken();\n        }\n        token\n    }\n\n    pub(crate) fn mark_broken(\u0026self) {\n        self.broken.store(true, Ordering::SeqCst);\n    }\n\n    pub(crate) fn broken(\u0026self) -\u003e Result\u003c()\u003e {\n        if self.broken.load(Ordering::SeqCst) {\n            return Err(err::ReqlDriverError::ConnectionBroken.into());\n        }\n        Ok(())\n    }\n\n    pub(crate) fn mark_change_feed(\u0026self) {\n        self.change_feed.store(true, Ordering::SeqCst);\n    }\n\n    pub(crate) fn unmark_change_feed(\u0026self) {\n        self.change_feed.store(false, Ordering::SeqCst);\n    }\n\n    pub(crate) fn is_change_feed(\u0026self) -\u003e bool {\n        self.change_feed.load(Ordering::SeqCst)\n    }\n\n    pub(crate) fn change_feed(\u0026self) -\u003e Result\u003c()\u003e {\n        if self.change_feed.load(Ordering::SeqCst) {\n            return Err(err::ReqlDriverError::ConnectionLocked.into());\n        }\n        Ok(())\n    }\n}\n\n/// The connection object returned by `r.connection()`\n#[derive(Debug, Clone)]\npub struct Session {\n    pub(crate) inner: Arc\u003cInnerSession\u003e,\n}\n\nimpl Session {\n    #[doc(hidden)]\n    pub fn connection(\u0026self) -\u003e Result\u003cConnection\u003e {\n        self.inner.broken()?;\n        self.inner.change_feed()?;\n        let token = self.inner.token();\n        let (tx, rx) = mpsc::unbounded();\n        self.inner.channels.insert(token, tx);\n        Ok(Connection::new(self.clone(), rx, token))\n    }\n\n    pub async fn reconnect(\n        \u0026self,\n        noreply_wait: bool,\n        timeout: Option\u003cstd::time::Duration\u003e,\n    ) -\u003e Result\u003c()\u003e {\n        let future = self\n            .close(noreply_wait)\n            .and_then(|_| async { self.connection() });\n\n        if let Some(timeout) = timeout {\n            time::timeout(timeout, future).await.unwrap()?;\n        } else {\n            future.await?;\n        }\n\n        Ok(())\n    }\n\n    pub async fn use_(\u0026mut self, db_name: \u0026'static str) {\n        *self.inner.db.lock().await = db_name.static_string();\n    }\n\n    pub async fn noreply_wait(\u0026self) -\u003e Result\u003c()\u003e {\n        let mut conn = self.connection()?;\n        let payload = Payload(QueryType::NoreplyWait, None, Default::default());\n        trace!(\n            \"waiting for noreply operations to finish; token: {}\",\n            conn.token\n        );\n        let (typ, _) = conn.request(\u0026payload, false).await?;\n        trace!(\n            \"session.noreply_wait() run; token: {}, response type: {:?}\",\n            conn.token,\n            typ,\n        );\n        Ok(())\n    }\n\n    pub async fn server(\u0026self) -\u003e Result\u003cServerInfo\u003e {\n        let mut conn = self.connection()?;\n        let payload = Payload(QueryType::ServerInfo, None, Default::default());\n        trace!(\"retrieving server information; token: {}\", conn.token);\n        let (typ, resp) = conn.request(\u0026payload, false).await?;\n        trace!(\n            \"session.server() run; token: {}, response type: {:?}\",\n            conn.token,\n            typ,\n        );\n        let mut vec = serde_json::from_value::\u003cVec\u003cServerInfo\u003e\u003e(resp.r)?;\n        let info = vec\n            .pop()\n            .ok_or_else(|| ReqlDriverError::Other(\"server info is empty\".into()))?;\n        Ok(info)\n    }\n\n    pub async fn close(\u0026self, noreply_wait: bool) -\u003e Result\u003c()\u003e {\n        self.connection()?.close(noreply_wait).await\n    }\n\n    #[doc(hidden)]\n    pub fn is_broken(\u0026self) -\u003e bool {\n        self.inner.broken.load(Ordering::SeqCst)\n    }\n}\n\n#[derive(Debug, Clone)]\npub struct Connection {\n    pub(crate) session: Session,\n    pub(crate) rx: Arc\u003cMutex\u003cReceiver\u003e\u003e,\n    pub(crate) token: u64,\n    pub(crate) closed: Arc\u003cAtomicBool\u003e,\n}\n\nimpl Connection {\n    fn new(session: Session, rx: Receiver, token: u64) -\u003e Connection {\n        Connection {\n            session,\n            token,\n            rx: Arc::new(Mutex::new(rx)),\n            closed: Arc::new(AtomicBool::new(false)),\n        }\n    }\n\n    pub async fn close(\u0026mut self, noreply_wait: bool) -\u003e Result\u003c()\u003e {\n        if !self.session.inner.is_change_feed() {\n            trace!(\n                \"ignoring conn.close() called on a normal connection; token: {}\",\n                self.token\n            );\n            return Ok(());\n        }\n\n        self.set_closed(true);\n\n        let arg = if noreply_wait {\n            Some(r.expr(json!({ \"noreply\": false })))\n        } else {\n            None\n        };\n\n        let payload = Payload(QueryType::Stop, arg.as_ref().map(Query), Default::default());\n        trace!(\"closing a changefeed; token: {}\", self.token);\n        let (typ, _) = self.request(\u0026payload, false).await?;\n        self.session.inner.unmark_change_feed();\n        trace!(\n            \"conn.close() run; token: {}, response type: {:?}\",\n            self.token,\n            typ,\n        );\n        Ok(())\n    }\n\n    pub(crate) fn closed(\u0026self) -\u003e bool {\n        self.closed.load(Ordering::SeqCst)\n    }\n\n    pub(crate) fn set_closed(\u0026self, closed: bool) {\n        self.closed.store(closed, Ordering::SeqCst);\n    }\n}\n\nimpl Drop for Connection {\n    fn drop(\u0026mut self) {\n        self.session.inner.channels.remove(\u0026self.token);\n        if self.session.inner.is_change_feed() {\n            self.session.inner.unmark_change_feed();\n        }\n    }\n}\n","traces":[{"line":36,"address":[4673568],"length":1,"stats":{"Line":4},"fn_name":"token"},{"line":37,"address":[4673582,4673599],"length":1,"stats":{"Line":8},"fn_name":null},{"line":39,"address":[4482624,4482638],"length":1,"stats":{"Line":24},"fn_name":"{closure#0}"},{"line":41,"address":[4673661],"length":1,"stats":{"Line":10},"fn_name":null},{"line":42,"address":[4673681],"length":1,"stats":{"Line":0},"fn_name":null},{"line":47,"address":[4673696],"length":1,"stats":{"Line":0},"fn_name":"mark_broken"},{"line":48,"address":[4673705],"length":1,"stats":{"Line":0},"fn_name":null},{"line":51,"address":[4673744],"length":1,"stats":{"Line":4},"fn_name":"broken"},{"line":52,"address":[4673774],"length":1,"stats":{"Line":4},"fn_name":null},{"line":53,"address":[4673824],"length":1,"stats":{"Line":0},"fn_name":null},{"line":55,"address":[4673815],"length":1,"stats":{"Line":4},"fn_name":null},{"line":58,"address":[4673888],"length":1,"stats":{"Line":0},"fn_name":"mark_change_feed"},{"line":59,"address":[4673897],"length":1,"stats":{"Line":0},"fn_name":null},{"line":62,"address":[4673936],"length":1,"stats":{"Line":0},"fn_name":"unmark_change_feed"},{"line":63,"address":[4673945],"length":1,"stats":{"Line":0},"fn_name":null},{"line":66,"address":[4673984],"length":1,"stats":{"Line":4},"fn_name":"is_change_feed"},{"line":67,"address":[4673993],"length":1,"stats":{"Line":4},"fn_name":null},{"line":70,"address":[4674048],"length":1,"stats":{"Line":4},"fn_name":"change_feed"},{"line":71,"address":[4674078],"length":1,"stats":{"Line":4},"fn_name":null},{"line":72,"address":[4674128],"length":1,"stats":{"Line":0},"fn_name":null},{"line":74,"address":[4674119],"length":1,"stats":{"Line":4},"fn_name":null},{"line":86,"address":[4674980,4674192],"length":1,"stats":{"Line":4},"fn_name":"connection"},{"line":87,"address":[4674332,4674230],"length":1,"stats":{"Line":4},"fn_name":null},{"line":88,"address":[4674320,4674426,4674503],"length":1,"stats":{"Line":8},"fn_name":null},{"line":89,"address":[4674590,4674491],"length":1,"stats":{"Line":8},"fn_name":null},{"line":90,"address":[4674608],"length":1,"stats":{"Line":10},"fn_name":null},{"line":91,"address":[4674670,4674733],"length":1,"stats":{"Line":20},"fn_name":null},{"line":92,"address":[4674819],"length":1,"stats":{"Line":10},"fn_name":null},{"line":95,"address":[4675024],"length":1,"stats":{"Line":0},"fn_name":"reconnect"},{"line":113,"address":[4675152,4675179],"length":1,"stats":{"Line":0},"fn_name":"use_"},{"line":117,"address":[4675232,4675254],"length":1,"stats":{"Line":0},"fn_name":"noreply_wait"},{"line":133,"address":[4675318,4675296],"length":1,"stats":{"Line":0},"fn_name":"server"},{"line":150,"address":[4675396,4675360],"length":1,"stats":{"Line":0},"fn_name":"close"},{"line":155,"address":[4675440],"length":1,"stats":{"Line":0},"fn_name":"is_broken"},{"line":156,"address":[4675449],"length":1,"stats":{"Line":0},"fn_name":null},{"line":169,"address":[4675789,4675504],"length":1,"stats":{"Line":10},"fn_name":"new"},{"line":173,"address":[4675573,4675622],"length":1,"stats":{"Line":20},"fn_name":null},{"line":174,"address":[4675695,4675646],"length":1,"stats":{"Line":20},"fn_name":null},{"line":178,"address":[4675824,4675861],"length":1,"stats":{"Line":0},"fn_name":"close"},{"line":207,"address":[4675920],"length":1,"stats":{"Line":1},"fn_name":"closed"},{"line":208,"address":[4675929],"length":1,"stats":{"Line":1},"fn_name":null},{"line":211,"address":[4675984],"length":1,"stats":{"Line":0},"fn_name":"set_closed"},{"line":212,"address":[4676006],"length":1,"stats":{"Line":0},"fn_name":null},{"line":217,"address":[6912832],"length":1,"stats":{"Line":4},"fn_name":"drop"},{"line":218,"address":[6912846],"length":1,"stats":{"Line":4},"fn_name":null},{"line":219,"address":[6912902],"length":1,"stats":{"Line":4},"fn_name":null},{"line":220,"address":[6912946],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":27,"coverable":47},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","constants.rs"],"content":"pub(crate) const BUFFER_SIZE: usize = 1024;\npub(crate) const NULL_BYTE: u8 = b'\\0';\npub(crate) const PROTOCOL_VERSION: usize = 0;\npub(crate) const DEFAULT_AUTHENTICATION_METHOD: \u0026str = \"SCRAM-SHA-256\";\npub(crate) const DATA_SIZE: usize = 4;\npub(crate) const TOKEN_SIZE: usize = 8;\npub(crate) const HEADER_SIZE: usize = DATA_SIZE + TOKEN_SIZE;\npub(crate) const NANOS_PER_SEC: i128 = 1_000_000_000;\npub(crate) const NANOS_PER_MSEC: i128 = 1_000_000;\npub(crate) const TIMEZONE_FORMAT: \u0026str = \"[offset_hour sign:mandatory]:[offset_minute]\";\npub(crate) const MINUTE: f64 = 60.;\npub(crate) const HOUR: f64 = 60. * MINUTE;\n\npub const DEFAULT_RETHINKDB_HOSTNAME: \u0026str = \"localhost\";\npub const DEFAULT_RETHINKDB_DBNAME: \u0026str = \"test\";\npub const DEFAULT_RETHINKDB_PORT: u16 = 28015;\npub const DEFAULT_RETHINKDB_USER: \u0026str = \"admin\";\npub const DEFAULT_RETHINKDB_PASSWORD: \u0026str = \"\";\npub const MAX_LONGITUDE_VALUE: f64 = 180.;\npub const MAX_LATITUDE_VALUE: f64 = 90.;\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","err.rs"],"content":"use std::sync::Arc;\nuse std::{error, fmt, io};\n\n/// The most generic error message in ReQL\n#[derive(Debug, Clone)]\npub enum ReqlError {\n    Compile(String),\n    Runtime(ReqlRuntimeError),\n    Driver(ReqlDriverError),\n}\n\nimpl error::Error for ReqlError {}\n\nimpl fmt::Display for ReqlError {\n    fn fmt(\u0026self, f: \u0026mut fmt::Formatter) -\u003e fmt::Result {\n        match self {\n            Self::Compile(msg) =\u003e write!(f, \"compile error; {}\", msg),\n            Self::Runtime(msg) =\u003e write!(f, \"runtime error; {}\", msg),\n            Self::Driver(msg) =\u003e write!(f, \"client error; {}\", msg),\n        }\n    }\n}\n\n/// The parent class of all runtime errors\n///\n/// All errors on the server unrelated to compilation. Programs may use this to catch any runtime\n/// error, but the server will always return a more specific error class.\n#[derive(Debug, Clone)]\npub enum ReqlRuntimeError {\n    /// The query contains a logical impossibility, such as adding a number to a string.\n    QueryLogic(String),\n    NonExistence(String),\n    ResourceLimit(String),\n    User(String),\n    Internal(String),\n    Availability(ReqlAvailabilityError),\n    Permission(String),\n}\n\nimpl From\u003cReqlRuntimeError\u003e for ReqlError {\n    fn from(err: ReqlRuntimeError) -\u003e ReqlError {\n        ReqlError::Runtime(err)\n    }\n}\n\nimpl fmt::Display for ReqlRuntimeError {\n    fn fmt(\u0026self, f: \u0026mut fmt::Formatter) -\u003e fmt::Result {\n        match self {\n            Self::QueryLogic(msg) =\u003e write!(f, \"query logic; {}\", msg),\n            Self::NonExistence(msg) =\u003e write!(f, \"non-existence error; {}\", msg),\n            Self::ResourceLimit(msg) =\u003e write!(f, \"resource limit error; {}\", msg),\n            Self::User(msg) =\u003e write!(f, \"user error; {}\", msg),\n            Self::Internal(msg) =\u003e write!(f, \"internal error; {}\", msg),\n            Self::Availability(msg) =\u003e write!(f, \"availability error; {}\", msg),\n            Self::Permission(msg) =\u003e write!(f, \"permission error; {}\", msg),\n        }\n    }\n}\n\n/// A server in the cluster is unavailable\n///\n/// The parent class of `OpFailedError` and `OpIndeterminateError`. Programs may use this\n/// to catch any availability error, but the server will always return one of this classs\n/// children.\n#[derive(Debug, Clone)]\npub enum ReqlAvailabilityError {\n    OpFailed(String),\n    OpIndeterminate(String),\n}\n\nimpl From\u003cReqlAvailabilityError\u003e for ReqlError {\n    fn from(err: ReqlAvailabilityError) -\u003e ReqlError {\n        ReqlRuntimeError::Availability(err).into()\n    }\n}\n\nimpl fmt::Display for ReqlAvailabilityError {\n    fn fmt(\u0026self, f: \u0026mut fmt::Formatter) -\u003e fmt::Result {\n        match self {\n            Self::OpFailed(msg) =\u003e write!(f, \"operation failed; {}\", msg),\n            Self::OpIndeterminate(msg) =\u003e write!(f, \"operation indeterminate; {}\", msg),\n        }\n    }\n}\n\n/// An error has occurred within the driver\n///\n/// This may be a driver bug, or it may be an unfulfillable command, such as an unserializable\n/// query.\n#[derive(Debug, Clone)]\n#[non_exhaustive]\npub enum ReqlDriverError {\n    Auth(String),\n    ConnectionBroken,\n    ConnectionLocked,\n    Io(io::ErrorKind, String),\n    Json(Arc\u003cserde_json::Error\u003e),\n    Other(String),\n    Time(String),\n    Tls(String),\n}\n\nimpl From\u003cReqlDriverError\u003e for ReqlError {\n    fn from(err: ReqlDriverError) -\u003e ReqlError {\n        ReqlError::Driver(err)\n    }\n}\n\nimpl fmt::Display for ReqlDriverError {\n    fn fmt(\u0026self, f: \u0026mut fmt::Formatter) -\u003e fmt::Result {\n        match self {\n            Self::Auth(msg) =\u003e write!(f, \"auth error; {}\", msg),\n            Self::ConnectionBroken =\u003e write!(f, \"connection broken\"),\n            Self::ConnectionLocked =\u003e write!(\n                f,\n                \"another query is running a changefeed on this connection\"\n            ),\n            Self::Io(_, error) =\u003e write!(f, \"{}\", error),\n            Self::Json(error) =\u003e write!(f, \"{}\", error),\n            Self::Other(msg) =\u003e write!(f, \"{}\", msg),\n            Self::Time(error) =\u003e write!(f, \"{}\", error),\n            Self::Tls(error) =\u003e write!(f, \"{}\", error),\n        }\n    }\n}\n\nimpl From\u003cio::Error\u003e for ReqlError {\n    fn from(err: io::Error) -\u003e ReqlError {\n        ReqlDriverError::Io(err.kind(), err.to_string()).into()\n    }\n}\n\nimpl From\u003cserde_json::Error\u003e for ReqlError {\n    fn from(err: serde_json::Error) -\u003e ReqlError {\n        ReqlDriverError::Json(Arc::new(err)).into()\n    }\n}\n\nimpl From\u003casync_native_tls::Error\u003e for ReqlError {\n    fn from(err: async_native_tls::Error) -\u003e Self {\n        ReqlDriverError::Tls(err.to_string()).into()\n    }\n}\n\nimpl From\u003ctime::error::ComponentRange\u003e for ReqlError {\n    fn from(err: time::error::ComponentRange) -\u003e Self {\n        ReqlDriverError::Time(err.to_string()).into()\n    }\n}\n\nimpl From\u003ctime::error::Parse\u003e for ReqlError {\n    fn from(err: time::error::Parse) -\u003e Self {\n        ReqlDriverError::Time(err.to_string()).into()\n    }\n}\n\nimpl From\u003ctime::error::InvalidFormatDescription\u003e for ReqlError {\n    fn from(err: time::error::InvalidFormatDescription) -\u003e Self {\n        ReqlDriverError::Time(err.to_string()).into()\n    }\n}\n\nimpl From\u003ctime::error::Format\u003e for ReqlError {\n    fn from(err: time::error::Format) -\u003e Self {\n        ReqlDriverError::Time(err.to_string()).into()\n    }\n}\n","traces":[{"line":15,"address":[1684560],"length":1,"stats":{"Line":0},"fn_name":"fmt"},{"line":16,"address":[1684593],"length":1,"stats":{"Line":0},"fn_name":null},{"line":17,"address":[1684630,1684953],"length":1,"stats":{"Line":0},"fn_name":null},{"line":18,"address":[1684670,1684863],"length":1,"stats":{"Line":0},"fn_name":null},{"line":19,"address":[1684715],"length":1,"stats":{"Line":0},"fn_name":null},{"line":41,"address":[1685040],"length":1,"stats":{"Line":1},"fn_name":"from"},{"line":42,"address":[1685053],"length":1,"stats":{"Line":1},"fn_name":null},{"line":47,"address":[1685120],"length":1,"stats":{"Line":0},"fn_name":"fmt"},{"line":48,"address":[1685153],"length":1,"stats":{"Line":0},"fn_name":null},{"line":49,"address":[1685195,1686102],"length":1,"stats":{"Line":0},"fn_name":null},{"line":50,"address":[1685241,1686006],"length":1,"stats":{"Line":0},"fn_name":null},{"line":51,"address":[1685287,1685910],"length":1,"stats":{"Line":0},"fn_name":null},{"line":52,"address":[1685333,1685814],"length":1,"stats":{"Line":0},"fn_name":null},{"line":53,"address":[1685718,1685379],"length":1,"stats":{"Line":0},"fn_name":null},{"line":54,"address":[1685425,1685625],"length":1,"stats":{"Line":0},"fn_name":null},{"line":55,"address":[1685470],"length":1,"stats":{"Line":0},"fn_name":null},{"line":72,"address":[1686192],"length":1,"stats":{"Line":0},"fn_name":"from"},{"line":73,"address":[1686204],"length":1,"stats":{"Line":0},"fn_name":null},{"line":78,"address":[1686320],"length":1,"stats":{"Line":0},"fn_name":"fmt"},{"line":79,"address":[1686353],"length":1,"stats":{"Line":0},"fn_name":null},{"line":80,"address":[1686561,1686372],"length":1,"stats":{"Line":0},"fn_name":null},{"line":81,"address":[1686412],"length":1,"stats":{"Line":0},"fn_name":null},{"line":104,"address":[1686640],"length":1,"stats":{"Line":0},"fn_name":"from"},{"line":105,"address":[1686647],"length":1,"stats":{"Line":0},"fn_name":null},{"line":110,"address":[1686736],"length":1,"stats":{"Line":0},"fn_name":"fmt"},{"line":111,"address":[1686769],"length":1,"stats":{"Line":0},"fn_name":null},{"line":112,"address":[1686805,1687722],"length":1,"stats":{"Line":0},"fn_name":null},{"line":113,"address":[1686846,1687684],"length":1,"stats":{"Line":0},"fn_name":null},{"line":114,"address":[1687651,1686888],"length":1,"stats":{"Line":0},"fn_name":null},{"line":118,"address":[1686935,1687560],"length":1,"stats":{"Line":0},"fn_name":null},{"line":119,"address":[1687464,1686981],"length":1,"stats":{"Line":0},"fn_name":null},{"line":120,"address":[1687368,1687026],"length":1,"stats":{"Line":0},"fn_name":null},{"line":121,"address":[1687072,1687275],"length":1,"stats":{"Line":0},"fn_name":null},{"line":122,"address":[1687118],"length":1,"stats":{"Line":0},"fn_name":null},{"line":128,"address":[1687808,1687953],"length":1,"stats":{"Line":0},"fn_name":"from"},{"line":129,"address":[1687831,1687884],"length":1,"stats":{"Line":0},"fn_name":null},{"line":134,"address":[1688000],"length":1,"stats":{"Line":0},"fn_name":"from"},{"line":135,"address":[1688030],"length":1,"stats":{"Line":0},"fn_name":null},{"line":140,"address":[1688198,1688080],"length":1,"stats":{"Line":0},"fn_name":"from"},{"line":141,"address":[1688104,1688148],"length":1,"stats":{"Line":0},"fn_name":null},{"line":146,"address":[1688240],"length":1,"stats":{"Line":0},"fn_name":"from"},{"line":147,"address":[1688253],"length":1,"stats":{"Line":0},"fn_name":null},{"line":152,"address":[1688336],"length":1,"stats":{"Line":0},"fn_name":"from"},{"line":153,"address":[1688349],"length":1,"stats":{"Line":0},"fn_name":null},{"line":158,"address":[1688432,1688550],"length":1,"stats":{"Line":0},"fn_name":"from"},{"line":159,"address":[1688456,1688500],"length":1,"stats":{"Line":0},"fn_name":null},{"line":164,"address":[1688710,1688592],"length":1,"stats":{"Line":0},"fn_name":"from"},{"line":165,"address":[1688616,1688660],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":2,"coverable":48},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","lib.rs"],"content":"use std::collections::HashMap;\n\nuse serde::Serialize;\n\nuse arguments::Permission;\npub use connection::*;\npub use err::*;\npub use proto::Command;\nuse types::{Binary, DateTime, GeoJson};\n\npub type Result\u003cT\u003e = std::result::Result\u003cT, ReqlError\u003e;\n\nmod constants;\nmod err;\nmod proto;\n#[cfg(test)]\nmod spec;\n\npub mod arguments;\npub mod cmd;\npub mod connection;\npub mod prelude;\npub mod types;\n\n#[macro_export]\nmacro_rules! args {\n    ( $($a:expr),* ) =\u003e {{ $crate::arguments::Args(($($a),*)) }};\n}\n\n// TODO Put Clone Copy in all derive macro as possible\n\n#[allow(non_camel_case_types)]\npub struct r;\n\nimpl r {\n    pub fn connection(self) -\u003e cmd::connect::ConnectionCommand {\n        cmd::connect::ConnectionCommand::default()\n    }\n\n    pub fn db_create(self, db_name: \u0026str) -\u003e Command {\n        cmd::db_create::new(db_name)\n    }\n\n    pub fn db_drop(self, db_name: \u0026str) -\u003e Command {\n        cmd::db_drop::new(db_name)\n    }\n\n    pub fn db_list(self) -\u003e Command {\n        cmd::db_list::new()\n    }\n\n    pub fn db(self, db_name: \u0026str) -\u003e Command {\n        cmd::db::new(db_name)\n    }\n\n    pub fn table_create(self, args: impl cmd::table_create::TableCreateArg) -\u003e Command {\n        cmd::table_create::new(args)\n    }\n\n    pub fn table_drop(self, table_name: \u0026str) -\u003e Command {\n        cmd::table_drop::new(table_name)\n    }\n\n    pub fn table_list(self) -\u003e Command {\n        cmd::table_list::new()\n    }\n\n    pub fn table(self, args: impl cmd::table::TableArg) -\u003e Command {\n        cmd::table::new(args)\n    }\n\n    pub fn map(self, args: impl cmd::map::MapArg) -\u003e Command {\n        cmd::map::new(args)\n    }\n\n    pub fn order_by(self, args: impl cmd::order_by::OrderByArg) -\u003e Command {\n        cmd::order_by::new(args)\n    }\n\n    pub fn union(self, args: impl cmd::union::UnionArg) -\u003e Command {\n        cmd::union::new(args)\n    }\n\n    pub fn reduce(self, args: impl cmd::reduce::ReduceArg) -\u003e Command {\n        cmd::reduce::new(args)\n    }\n\n    pub fn count(self, args: impl cmd::count::CountArg) -\u003e Command {\n        cmd::count::new(args)\n    }\n\n    pub fn sum(self, args: impl cmd::sum::SumArg) -\u003e Command {\n        cmd::sum::new(args)\n    }\n\n    pub fn avg(self, args: impl cmd::avg::AvgArg) -\u003e Command {\n        cmd::avg::new(args)\n    }\n\n    pub fn min(self, args: impl cmd::min::MinArg) -\u003e Command {\n        cmd::min::new(args)\n    }\n\n    pub fn max(self, args: impl cmd::max::MaxArg) -\u003e Command {\n        cmd::max::new(args)\n    }\n\n    pub fn distinct(self, args: impl cmd::distinct::DistinctArg) -\u003e Command {\n        cmd::distinct::new(args)\n    }\n\n    pub fn contains(self, args: impl cmd::contains::ContainsArg) -\u003e Command {\n        cmd::contains::new(args)\n    }\n\n    pub fn literal(self, value: impl Serialize) -\u003e Command {\n        cmd::literal::new(value)\n    }\n\n    pub fn object(self, values: Vec\u003cimpl Serialize\u003e) -\u003e Command {\n        cmd::object::new(values)\n    }\n\n    pub fn and(self, args: impl cmd::and::AndArg) -\u003e Command {\n        cmd::and::new(args)\n    }\n\n    pub fn or(self, args: impl cmd::or::OrArg) -\u003e Command {\n        cmd::or::new(args)\n    }\n\n    pub fn eq(self, args: impl cmd::eq::EqArg) -\u003e Command {\n        cmd::eq::new(args)\n    }\n\n    pub fn ne(self, args: impl cmd::ne::NeArg) -\u003e Command {\n        cmd::ne::new(args)\n    }\n\n    pub fn gt(self, args: impl cmd::gt::GtArg) -\u003e Command {\n        cmd::gt::new(args)\n    }\n\n    pub fn ge(self, args: impl cmd::ge::GeArg) -\u003e Command {\n        cmd::ge::new(args)\n    }\n\n    pub fn lt(self, args: impl cmd::lt::LtArg) -\u003e Command {\n        cmd::lt::new(args)\n    }\n\n    pub fn le(self, args: impl cmd::le::LeArg) -\u003e Command {\n        cmd::le::new(args)\n    }\n\n    pub fn not(self, value: bool) -\u003e Command {\n        cmd::not_::new(value)\n    }\n\n    pub fn random(self, args: impl cmd::random::RandomArg) -\u003e Command {\n        cmd::random::new(args)\n    }\n\n    pub fn round(self, value: f64) -\u003e Command {\n        cmd::round::new(value)\n    }\n\n    pub fn ceil(self, value: f64) -\u003e Command {\n        cmd::ceil::new(value)\n    }\n\n    pub fn floor(self, value: f64) -\u003e Command {\n        cmd::floor::new(value)\n    }\n\n    /// Compute the arithmetic \"and\" of one or more values.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// cmd_number \u0026 cmd_number\n    /// number.bitand(cmd_number)  number\n    /// number.bit_and(param_number)  number\n    /// r.bit_and(cmd_number, param_number)  number\n    /// ```\n    ///\n    /// Where:\n    /// - param_number: i32 | [Command](crate::Command)\n    /// - cmd_number: [Command](crate::Command)\n    ///\n    /// # Description\n    ///\n    /// A bitwise AND is a binary operation that takes two equal-length binary\n    /// representations and performs the logical AND operation on each pair of\n    /// the corresponding bits, which is equivalent to multiplying them.\n    /// Thus, if both bits in the compared position are 1,\n    /// the bit in the resulting binary representation is 1 (1  1 = 1);\n    /// otherwise, the result is 0 (1  0 = 0 and 0  0 = 0).\n    ///\n    /// ## Examples\n    ///\n    /// Compute the arithmetic \"and\" of 5 and 3\n    ///\n    /// ```\n    /// use std::ops::BitAnd;\n    ///\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response: i32 = r.expr(5)\n    ///         .bit_and(3)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response2: i32 = r.bit_and(r.expr(5), 3)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response3: i32 = (r.expr(5) \u0026 r.expr(3))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response4: i32 = r.expr(5)\n    ///         .bitand(r.expr(3))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(\n    ///         response == 1 \u0026\u0026\n    ///         response == response2 \u0026\u0026\n    ///         response == response3 \u0026\u0026\n    ///         response == response4\n    ///     );\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [bit_or](Self::bit_or)\n    /// - [bit_not](Self::bit_not)\n    /// - [bit_xor](Self::bit_xor)\n    /// - [bit_sal](Self::bit_sal)\n    /// - [bit_sar](Self::bit_sar)\n    pub fn bit_and(self, cmd_number: Command, args: impl cmd::bit_and::BitAndArg) -\u003e Command {\n        cmd_number.bit_and(args)\n    }\n\n    /// Compute the arithmetic \"or\" of one or more values.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// cmd_number | cmd_number\n    /// number.bitor(cmd_number)  number\n    /// number.bit_or(param_number)  number\n    /// r.bit_or(cmd_number, param_number)  number\n    /// ```\n    ///\n    /// Where:\n    /// - param_number: i32 | [Command](crate::Command)\n    /// - cmd_number: [Command](crate::Command)\n    ///\n    /// # Description\n    ///\n    /// A bitwise OR is a binary operation that takes two bit patterns\n    /// of equal length and performs the logical inclusive OR operation\n    /// on each pair of corresponding bits. The result in each position\n    /// is 0 if both bits are 0, while otherwise the result is 1.\n    ///\n    /// ## Examples\n    ///\n    /// Compute the arithmetic \"or\" of 6 and 4\n    ///\n    /// ```\n    /// use std::ops::BitOr;\n    ///\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response: i32 = r.expr(5)\n    ///         .bit_or(3)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response2: i32 = r.bit_xor(r.expr(5), 3)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response3: i32 = (r.expr(5) ^ r.expr(3))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response4: i32 = r.expr(5)\n    ///         .bitor(r.expr(3))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(\n    ///         response == 7 \u0026\u0026\n    ///         response == response2 \u0026\u0026\n    ///         response == response3 \u0026\u0026\n    ///         response == response4\n    ///     );\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [bit_and](Self::bit_and)\n    /// - [bit_not](Self::bit_not)\n    /// - [bit_xor](Self::bit_xor)\n    /// - [bit_sal](Self::bit_sal)\n    /// - [bit_sar](Self::bit_sar)\n    pub fn bit_or(self, cmd_number: Command, args: impl cmd::bit_or::BitOrArg) -\u003e Command {\n        cmd_number.bit_or(args)\n    }\n\n    /// Compute the arithmetic \"and\" of one or more values.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// cmd_number ^ cmd_number\n    /// number.bitxor(cmd_number)  number\n    /// number.bit_xor(param_number)  number\n    /// r.bit_xor(cmd_number, param_number)  number\n    /// ```\n    ///\n    /// Where:\n    /// - param_number: i32 | [Command](crate::Command)\n    /// - cmd_number: [Command](crate::Command)\n    ///\n    /// # Description\n    ///\n    /// A bitwise XOR is a binary operation that takes two bit patterns\n    /// of equal length and performs the logical exclusive OR operation\n    /// on each pair of corresponding bits. The result in each position\n    /// is 1 if only the first bit is 1 or only the second bit is 1,\n    /// but will be 0 if both are 0 or both are 1.\n    /// In this we perform the comparison of two bits, being 1 if the\n    /// two bits are different, and 0 if they are the same.\n    ///\n    /// ## Examples\n    ///\n    /// Compute the arithmetic \"and\" of 6 and 4\n    ///\n    /// ```\n    /// use std::ops::BitXor;\n    ///\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response: i32 = r.expr(6)\n    ///         .bit_xor(4)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response2: i32 = r.bit_xor(r.expr(6), 4)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response3: i32 = (r.expr(6) ^ r.expr(4))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response4: i32 = r.expr(6)\n    ///         .bitxor(r.expr(4))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(\n    ///         response == 2 \u0026\u0026\n    ///         response == response2 \u0026\u0026\n    ///         response == response3 \u0026\u0026\n    ///         response == response4\n    ///     );\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [bit_and](Self::bit_and)\n    /// - [bit_not](Self::bit_not)\n    /// - [bit_or](Self::bit_or)\n    /// - [bit_sal](Self::bit_sal)\n    /// - [bit_sar](Self::bit_sar)\n    pub fn bit_xor(self, cmd_number: Command, args: impl cmd::bit_xor::BitXorArg) -\u003e Command {\n        cmd_number.bit_xor(args)\n    }\n\n    /// Compute the arithmetic inverse (not) of an expression.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// number.bit_not()  number\n    /// r.bit_not(cmd_number)  number\n    /// ```\n    ///\n    /// Where:\n    /// - cmd_number: [Command](crate::Command)\n    ///\n    /// # Description\n    ///\n    /// A bitwise NOT, or complement, is a unary operation that performs logical\n    /// negation on each bit, forming the ones complement of the given binary value.\n    /// Bits that are 0 become 1, and those that are 1 become 0.\n    ///\n    /// ## Examples\n    ///\n    /// Negate the arithmetice expression\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response: i32 = r.expr(7)\n    ///         .bit_not()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response2: i32 = r.bit_not(r.expr(7))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == -8 \u0026\u0026 response == response2);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [bit_and](Self::bit_and)\n    /// - [bit_or](Self::bit_or)\n    /// - [bit_sal](Self::bit_sal)\n    /// - [bit_sar](Self::bit_sar)\n    /// - [bit_xor](Self::bit_xor)\n    pub fn bit_not(self, cmd_number: Command) -\u003e Command {\n        cmd_number.bit_not()\n    }\n\n    /// Compute the left arithmetic shift (left logical shift) of one or more values.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// number.bit_sal(param_number)  number\n    /// r.bit_sal(cmd_number, param_number)  number\n    /// ```\n    ///\n    /// Where:\n    /// - param_number: i32 | [Command](crate::Command)\n    /// - cmd_number: [Command](crate::Command)\n    ///\n    /// # Description\n    ///\n    /// In an arithmetic shift (also referred to as signed shift),\n    /// like a logical shift, the bits that slide off the end disappear\n    /// (except for the last, which goes into the carry flag).\n    /// But in an arithmetic shift, the spaces are filled in such a way\n    /// to preserve the sign of the number being slid. For this reason,\n    /// arithmetic shifts are better suited for signed numbers in twos\n    /// complement format.\n    ///\n    /// ## Note\n    ///\n    /// SHL and SAL are the same, and differentiation only happens because\n    /// SAR and SHR (right shifting) has differences in their implementation.\n    ///\n    /// ## Examples\n    ///\n    /// Compute the left arithmetic shift of 5 and 4\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response: u8 = r.expr(5)\n    ///         .bit_sar(4)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response2: u8 = r.bit_sar(r.expr(5), r.expr(4))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == 80 \u0026\u0026 response == response2);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [bit_and](Self::bit_and)\n    /// - [bit_not](Self::bit_not)\n    /// - [bit_or](Self::bit_or)\n    /// - [bit_sar](Self::bit_sar)\n    /// - [bit_xor](Self::bit_xor)\n    pub fn bit_sal(self, cmd_number: Command, args: impl cmd::bit_sal::BitSalArg) -\u003e Command {\n        cmd_number.bit_sal(args)\n    }\n\n    /// Compute the right arithmetic shift of one or more values.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// number.bit_sar(param_number)  number\n    /// r.bit_sar(cmd_number, param_number)  number\n    /// ```\n    ///\n    /// Where:\n    /// - param_number: i32 | [Command](crate::Command)\n    /// - cmd_number: [Command](crate::Command)\n    ///\n    /// # Description\n    ///\n    /// In an arithmetic shift (also referred to as signed shift),\n    /// like a logical shift, the bits that slide off the end disappear\n    /// (except for the last, which goes into the carry flag).\n    /// But in an arithmetic shift, the spaces are filled in such\n    /// a way to preserve the sign of the number being slid.\n    /// For this reason, arithmetic shifts are better suited for\n    /// signed numbers in twos complement format.\n    ///\n    /// ## Examples\n    ///\n    /// Compute the right arithmetic shift of 32 and 3\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response: u8 = r.expr(32)\n    ///         .bit_sar(3)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response2: u8 = r.bit_sar(r.expr(32), r.expr(3))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == 4 \u0026\u0026 response == response2);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [bit_and](Self::bit_and)\n    /// - [bit_not](Self::bit_not)\n    /// - [bit_or](Self::bit_or)\n    /// - [bit_sal](Self::bit_sal)\n    /// - [bit_xor](Self::bit_xor)\n    pub fn bit_sar(self, cmd_number: Command, args: impl cmd::bit_sar::BitSarArg) -\u003e Command {\n        cmd_number.bit_sar(args)\n    }\n\n    /// Return a time object representing the current time in UTC.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.now()  time\n    /// ```\n    ///\n    /// Where:\n    /// - time: [Time](crate::types::Time)\n    ///\n    /// # Description\n    ///\n    /// The command now() is computed once when the server receives the query,\n    /// so multiple instances of r.now() will always return the same time inside a query.\n    ///\n    /// ## Examples\n    ///\n    /// Create a time\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::types::Time;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let time1: Time = r.now().value();\n    ///     let time2: Time = r.now()\n    ///         .cmd()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(time1.is_valid());\n    ///     assert!(time2.is_valid());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [time](Self::time)\n    /// - [epoch_time](Self::epoch_time)\n    /// - [iso8601](Self::iso8601)\n    pub fn now(self) -\u003e DateTime {\n        DateTime::now()\n    }\n\n    /// Create a time object for a specific time.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.time(args!(date, timezone))  time\n    /// r.time(args!(date, time_, timezone))  time\n    /// ```\n    ///\n    /// Where:\n    /// - date: [time::Date](time::Date)\n    /// - time_: [time::Time](time::Time)\n    /// - timezone: [time::UtcOffset](time::UtcOffset)\n    /// - time: [Time](crate::types::Time)\n    ///\n    /// ## Examples\n    ///\n    /// Create a time\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::types::Time;\n    /// use reql_rust::{args, r, Result};\n    /// use time::macros::{date, offset, time};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let date = date!(1986 - 11 - 3);\n    ///     let time = time!(09:30:40);\n    ///     let timezone = offset!(+01:00);\n    ///\n    ///     let date_time = r.time(args!(date, time, timezone));\n    ///     let time1 = date_time.clone().value();\n    ///     let time2: Time = date_time.cmd()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(time2 == time1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](Self::now)\n    /// - [time](Self::time)\n    /// - [iso8601](Self::iso8601)\n    pub fn time(self, args: impl cmd::time::TimeArg) -\u003e DateTime {\n        DateTime::time(args)\n    }\n\n    /// Create a time object based on seconds since epoch.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.epoch_time(i64)  time\n    /// ```\n    ///\n    /// Where:\n    /// - time: [Time](crate::types::Time)\n    ///\n    /// ## Examples\n    ///\n    /// Create a time\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::types::Time;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let date_time = r.epoch_time(531360000)?;\n    ///     let time1 = date_time.clone().value();\n    ///     let time2: Time = date_time.cmd()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(time2 == time1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](Self::now)\n    /// - [time](Self::time)\n    /// - [iso8601](Self::iso8601)\n    pub fn epoch_time(self, timestamp: i64) -\u003e Result\u003cDateTime\u003e {\n        DateTime::epoch_time(timestamp)\n    }\n\n    /// Create a time object based on an ISO 8601\n    /// date-time string (e.g. 2013-01-01T01:01:01+00:00).\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.iso8601(string)  time\n    /// r.iso8601(args!(string, default_timezone))  time\n    /// ```\n    ///\n    /// Where:\n    /// - time: [Time](crate::types::Time)\n    /// - default_timezone: UtcOffset\n    ///\n    /// # Description\n    ///\n    /// RethinkDB supports all valid ISO 8601 formats except for week dates.\n    /// Read more about the ISO 8601 format at\n    /// [Wikipedia](http://en.wikipedia.org/wiki/ISO_8601).\n    ///\n    /// If you pass an ISO 8601 string without a time zone,\n    /// you must specify the time zone with the default_timezone argument.\n    ///\n    /// ## Examples\n    ///\n    /// Create a time\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::types::Time;\n    /// use reql_rust::{args, r, Result};\n    /// use time::macros::offset;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let date_time = r.iso8601(args!(\"1986-11-03T08:30:00\", offset!(+01:00)))?;\n    ///     let time1 = date_time.clone().value();\n    ///     let time2: Time = date_time.cmd()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(time2 == time1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](Self::now)\n    /// - [time](Self::time)\n    /// - [epoch_time](Self::epoch_time)\n    pub fn iso8601(self, args: impl cmd::iso8601::Iso8601) -\u003e Result\u003cDateTime\u003e {\n        DateTime::iso8601(args)\n    }\n\n    /// Convert `HashMap` to `Command`\n    pub fn hash_map\u003cT\u003e(self, value: HashMap\u003cT, Command\u003e) -\u003e Command\n    where\n        T: Into\u003cString\u003e,\n    {\n        cmd::hash_map::new(value)\n    }\n\n    /// `r.args` is a special term thats used to splice\n    /// an array of arguments into another term.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.args(array)  special\n    /// ```\n    /// Where:\n    /// - array: [Type; usize], Vec\u003cType\u003e, \u0026\\[Type]\n    ///\n    /// # Description\n    ///\n    /// This is useful when you want to call a variadic term such as\n    /// [get_all](crate::Command::get_all)\n    /// with a set of arguments produced at runtime.\n    ///\n    /// Note that `args` evaluates all its arguments before passing them\n    /// into the parent term, even if the parent term otherwise allows lazy evaluation.\n    ///\n    /// ## Examples\n    ///\n    /// Unpack array\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let data = vec![1, 2, 3];\n    ///\n    ///     let response: Vec\u003cu8\u003e = r.args(\u0026data)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == data);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn args\u003cT, S\u003e(self, values: T) -\u003e Command\n    where\n        S: Serialize,\n        T: AsRef\u003c[S]\u003e + Serialize,\n    {\n        cmd::args::new(values)\n    }\n\n    /// Encapsulate binary data within a query.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.binary(data)  binary\n    /// ```\n    ///\n    /// Where:\n    /// - data: \u0026[u8]\n    /// - binary: [Binary](crate::types::Binary)\n    ///\n    /// # Description\n    ///\n    /// Binary struct returned to the client in Rust.\n    /// This can be changed with the `binary_format` option\n    /// provided to [run](crate::Command::run) to return raw objects.\n    ///\n    /// Only a limited subset of ReQL commands may be chained after `binary`:\n    /// - [coerce_to](crate::Command::coerce_to) can coerce binary objects to string types\n    /// - [count](Self::count) will return the number of bytes in the object\n    /// - [slice](crate::Command::slice) will treat bytes like array indexes\n    /// (i.e., slice(args!(10,20)) will return bytes 1019)\n    /// - [type_of](crate::Command::type_of) returns `TypeOf::PtypeBinary`\n    /// - [info](Self::info) will return information on a binary struct.\n    ///\n    /// ## Examples\n    ///\n    /// Save an avatar image to a existing user record.\n    ///\n    /// ```\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let avatar_img = std::fs::read(\"default_avatar.png\")?;\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.table(\"images\")\n    ///         .insert(r.binary(\u0026avatar_img))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Get the size of an existing avatar image.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: usize = r.table(\"images\")\n    ///         .get(100)\n    ///         .g(\"avatar\")\n    ///         .count(())\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == 14156);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// Read more details about RethinkDBs binary object support:\n    /// [Storing binary objects](\"https://rethinkdb.com/docs/storing-binary/python/\").\n    pub fn binary(self, data: \u0026[u8]) -\u003e Binary {\n        cmd::binary::new(data)\n    }\n\n    // FIXME Command no work\n    pub fn do_(self, args: impl cmd::do_::DoArg) -\u003e Command {\n        cmd::do_::new(args)\n    }\n\n    /// Perform a branching conditional equivalent to `if-then-else`.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.branch(test, args!(true_action, false_action))  any\n    /// r.branch(test, args!(true_action, [(test2, test2_action), N], false_action))  any\n    /// query.branch(args!(true_action, false_action)) -\u003e any\n    /// query.branch(args!(true_action, [(test2, test2_action), N], false_action))  any\n    /// ```\n    ///\n    /// Where:\n    /// - test, true_action, false_action, test2, test2_action: r.expr(...)\n    ///\n    /// # Description\n    ///\n    /// The `branch` command takes 2n+1 arguments: pairs of conditional expressions\n    /// and commands to be executed if the conditionals return any value but `false`\n    /// or `None` i.e., truthy values), with a final else command to be evaluated\n    /// if all of the conditionals are `false` or `None`.\n    ///\n    /// You may call `branch` infix style on the first test.\n    /// (See the second example for an illustration.)\n    ///\n    /// ```text\n    /// r.branch(test1, args!(val1, [(test2, val2)], elseval))\n    /// ```\n    ///\n    /// is the equivalent of the Rust statement\n    ///\n    /// ```text\n    /// if (test1) {\n    ///     val1\n    /// } else if (test2) {\n    ///     val2\n    /// } else {\n    ///     elseval\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Test the value of x.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let x = 10;\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: String = r.branch(\n    ///             r.expr(x \u003e 5),\n    ///             args!(r.expr(\"big\"), r.expr(\"small\"))\n    ///         ).run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.eq(\"big\"));\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// As above, infix-style.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let x = 10;\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: String = r.expr(x \u003e 5)\n    ///         .branch(args!(r.expr(\"big\"), r.expr(\"small\")))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.eq(\"big\"));\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Categorize heroes by victory counts.\n    ///\n    /// ```\n    /// use std::ops::Add;\n    ///\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.table(\"pricings\")\n    ///         .map(func!(|offer| r.branch(\n    ///             offer.clone().g(\"price\").gt(100),\n    ///             args!(\n    ///                 offer.clone().g(\"offer\").add(\"premium\"),\n    ///                 [(\n    ///                     offer.clone().g(\"price\").gt(10),\n    ///                     offer.clone().g(\"offer\").add(\"standard\")\n    ///                 )],\n    ///                 offer.g(\"offer\").add(\"freemium\")\n    ///         ))))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [do_](Self::do_)\n    pub fn branch(self, test: Command, args: impl cmd::branch::BranchArg) -\u003e Command {\n        test.branch(args)\n    }\n\n    /// Generate a stream of sequential integers in a specified range.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.range(())  stream\n    /// r.range(end_value)  stream\n    /// r.range(args!(start_value, end_value))  stream\n    /// ```\n    ///\n    /// Where\n    /// - start_value, end_value: isize\n    ///\n    /// # Description\n    ///\n    /// `range` takes 0, 1 or 2 arguments:\n    /// - With no arguments, `range` returns an infinite stream\n    /// from 0 up to and including the maximum integer value;\n    /// - With one argument, `range` returns a stream from\n    /// 0 up to but not including the end value;\n    /// - With two arguments, `range` returns a stream from\n    /// the start value up to but not including the end value.\n    ///\n    /// Note that the left bound (including the implied left\n    /// bound of 0 in the 0- and 1-argument form)\n    /// is always closed and the right bound is always open:\n    /// the start value will always be included in the returned range\n    /// and the end value will **not** be included in the returned range.\n    ///\n    /// Any specified arguments must be integers, or a `ReqlRuntimeError` will be thrown.\n    /// If the start value is equal or to higher than the end value,\n    /// no error will be thrown but a zero-element stream will be returned.\n    ///\n    /// ## Examples\n    ///\n    /// Return a four-element range of `[0, 1, 2, 3]`.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: [u8; 4] = r.range(4)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == [0, 1, 2, 3]);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// You can also use the [limit](crate::Command::limit)\n    /// command with the no-argument\n    /// variant to achieve the same result in this case:\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: [u8; 4] = r.range(())\n    ///         .limit(4)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == [0, 1, 2, 3]);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Return a range from -5 through 5.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: [i8; 11] = r.range(args!(-5, 6))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == [-5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5]);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn range(self, args: impl cmd::range::RangeArg) -\u003e Command {\n        cmd::range::new(args)\n    }\n\n    /// Throw a runtime error.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.expr(value)  value\n    /// ```\n    ///\n    /// # Description\n    ///\n    /// If called with no arguments inside the second\n    /// argument to default, re-throw the current error.\n    ///\n    /// ## Examples\n    ///\n    /// Get Error\n    ///\n    /// ```\n    /// use reql_rust::{r, ReqlError, ReqlRuntimeError, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let msg = \"Error\";\n    ///\n    ///     let err = r.error(msg).run(\u0026conn).await.err().unwrap();\n    ///\n    ///     if let ReqlError::Runtime(err) = err {\n    ///         if let ReqlRuntimeError::User(err) = err {\n    ///             assert!(err == msg);\n    ///     \n    ///             return Ok(());\n    ///         }\n    ///     }\n    ///\n    ///     assert!(false);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn error(self, message: impl Into\u003cString\u003e) -\u003e Command {\n        cmd::error::new(message)\n    }\n\n    /// Construct a ReQL JSON object from a native object.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.expr(value)  value\n    /// ```\n    ///\n    /// # Description\n    ///\n    /// If the native object is of the `Binary` type,\n    /// then expr will return a binary object.\n    /// See [binary](Self::binary) for more information.\n    ///\n    /// ## Examples\n    ///\n    /// Objects wrapped with `expr` can then be manipulated by ReQL API functions.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let data = [1, 2, 3];\n    ///\n    ///     let response: [u8; 3] = r.expr(data)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == data);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn expr(self, value: impl Serialize) -\u003e Command {\n        cmd::expr::new(value)\n    }\n\n    /// Create a javascript expression.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.uuid(())  String\n    /// r.uuid(\u0026str)  String\n    /// ```\n    ///\n    /// # Description\n    ///\n    /// ```text\n    /// Whenever possible, you should use native ReQL\n    /// commands rather than r.js for better performance.\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Concatenate two strings using JavaScript.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: String = r.js(\"'str1' + 'str2'\")\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.eq(\"str1str2\"));\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// You may also specify a timeout in seconds (defaults to 5).\n    ///\n    /// ```\n    /// use reql_rust::cmd::js::JsOption;\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.js(args!(\n    ///             \"while(true) {}\",\n    ///             JsOption::default().timeout(1.3)\n    ///             ))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn js(self, args: impl cmd::js::JsArg) -\u003e Command {\n        cmd::js::new(args)\n    }\n\n    /// Get information about a ReQL value.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// any.info()  response\n    /// r.info(any)  response\n    /// ```\n    ///\n    /// Where:\n    /// - response: [InfoResponse](crate::types::InfoResponse)\n    ///\n    /// ## Examples\n    ///\n    /// Get information about a table such as primary key, or cache size.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::{InfoResponse, TypeOf};\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: InfoResponse = r.table(\"simbad\")\n    ///         .info()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.typ == TypeOf::Table);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn info(self, any: Command) -\u003e Command {\n        any.info()\n    }\n\n    /// Parse a JSON string on the server.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.json(json_string)  value\n    /// ```\n    ///\n    /// Where:\n    /// - json_string: impl Into\u003cString\u003e\n    ///\n    /// ## Examples\n    ///\n    /// Send an array to the server.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: [u8; 3] = r.json(\"[1,2,3]\")\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == [1, 2, 3]);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn json(self, value: impl Into\u003cString\u003e) -\u003e Command {\n        cmd::json::new(value)\n    }\n\n    /// Retrieve data from the specified URL over HTTP.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.http(string)  value\n    /// r.http(args!(string, options))  value\n    /// ```\n    ///\n    /// Where:\n    /// - string: impl Into\u003cString\u003e\n    /// - options: impl Serialize\n    ///\n    /// # Description\n    ///\n    /// The return type depends on the `result_format` option,\n    /// which checks the `Content-Type` of the response by default.\n    ///\n    /// See [External API access](https://rethinkdb.com/docs/external-api-access/)\n    /// for more informations\n    ///\n    /// ## Examples\n    ///\n    /// Perform an HTTP GET and store the result in a table.\n    ///\n    /// ```\n    /// use reql_rust::types::MutationResponse;\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: MutationResponse = r.table(\"simbad\")\n    ///         .insert(r.http(\"http://httpbin.org/get\"))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.inserted == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Perform request with parameters.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.http(args!(\"http://httpbin.org/get\", json!({\n    ///             \"params\": {\n    ///                 \"user\": 1\n    ///             }\n    ///         })))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Perform a `POST` request with accompanying data.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.http(args!(\"http://httpbin.org/get\", json!({\n    ///             \"method\": \"method\",\n    ///             \"data\": {\n    ///                 \"player\": \"Moussa\",\n    ///                 \"game\": \"AURION\"\n    ///             }\n    ///         })))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Perform a GitHub search and collect up to 3 pages of results.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.http(args!(\"https://api.github.com/search/code?q=addClass+user:mozilla\", json!({\n    ///             \"page\": \"link-next\",\n    ///             \"page_limit\": 3\n    ///         })))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn http\u003cT\u003e(self, args: impl cmd::http::HttpArg\u003cT\u003e) -\u003e Command\n    where\n        T: Serialize,\n    {\n        cmd::http::new(args)\n    }\n\n    /// Return a UUID (universally unique identifier),\n    /// a string that can be used as a unique ID.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.uuid(())  String\n    /// r.uuid(\u0026str)  String\n    /// ```\n    ///\n    /// # Description\n    ///\n    /// If a string is passed to uuid as an argument,\n    /// the UUID will be deterministic,\n    /// derived from the strings SHA-1 hash.\n    ///\n    /// RethinkDBs UUIDs are standards-compliant.\n    /// Without the optional argument,\n    /// a version 4 random UUID will be generated;\n    /// with that argument, a version 5 UUID will be generated,\n    /// using a fixed namespace UUID of `91461c99-f89d-49d2-af96-d8e2e14e9b58`.\n    /// For more information, read\n    /// [Wikipedias UUID article](https://en.wikipedia.org/wiki/Universally_unique_identifier).\n    ///\n    /// ## Examples\n    ///\n    /// Generate a UUID.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: String = r.uuid(())\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.eq(\"27961a0e-f4e8-4eb3-bf95-c5203e1d87b9\"));\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Generate a UUID based on a String.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: String = r.uuid(\"malik@example.com\")\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.eq(\"3461d115-2c05-5af4-9906-9f6882c58a15\"));\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn uuid(self, args: impl cmd::uuid::UuidArg) -\u003e Command {\n        cmd::uuid::new(args)\n    }\n\n    /// Construct a circular line or polygon.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.circle(args!(point, radius))  polygon\n    /// r.circle(args!(point, radius, options))  polygon\n    /// ```\n    ///\n    /// Where:\n    /// - radius: f64,\n    /// - point: [Point](crate::cmd::point::Point)\n    /// - polygon: [Polygon](crate::cmd::polygon::Polygon)\n    ///\n    /// # Description\n    ///\n    /// A circle in RethinkDB is a polygon or line **approximating**\n    /// a circle of a given radius around a given center,\n    /// consisting of a specified number of vertices (default 32).\n    ///\n    /// The center may be specified either by two floating point numbers, the longitude\n    /// (180 to 180) and latitude (90 to 90) of the point on a perfect sphere\n    /// (See [Geospatial support](https://rethinkdb.com/docs/geo-support/python/)\n    /// for more information on ReQLs coordinate system), or by a point object.\n    /// The radius is a floating point number whose units are meters by default,\n    /// although that may be changed with the `unit` argument.\n    ///\n    /// ## Examples\n    ///\n    /// Define a point.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::Polygon;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let circle: Polygon = r.circle(args!(r.point(-122.423246, 37.779388), 50.5))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response = r.table(\"geo\")\n    ///         .insert(json!({\n    ///             \"id\": 300,\n    ///             \"name\": \"Douala\",\n    ///             \"location\": circle\n    ///         }))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [line](Self::line)\n    /// - [polygon](Self::polygon)\n    /// - [point](Self::point)\n    /// - [distance](crate::Command::distance)\n    pub fn circle(self, args: impl cmd::circle::CircleArg) -\u003e Command {\n        cmd::circle::new(args)\n    }\n\n    /// Compute the distance between a point and another geometry object.\n    /// At least one of the geometry objects specified must be a point.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// geometry.distance(geometry)  f64\n    /// geometry.distance(args!(geometry, options))  f64\n    /// r.distance(geometry.cmd(), geometry)  f64\n    /// r.distance(geometry.cmd(), args!(geometry, options))  f64\n    /// ```\n    ///\n    /// Where:\n    /// - geometry: [r.point(...)](crate::r::point) |\n    /// [r.line(...)](crate::r::line) |\n    /// [r.polygon(...)](crate::r::polygon)\n    /// command\n    /// - options: [DistanceOption](crate::cmd::distance::DistanceOption)\n    ///\n    /// # Description\n    ///\n    /// If one of the objects is a polygon or a line, the point will be projected\n    /// into the line or polygon assuming a perfect sphere model before the distance\n    /// is computed (using the model specified with `geo_system`).\n    /// As a consequence, if the polygon or line is extremely large compared\n    /// to Earths radius and the distance is being computed with the default\n    ///  WGS84 model, the results of `distance` should be considered approximate\n    /// due to the deviation between the ellipsoid and spherical models.\n    ///\n    /// ## Examples\n    ///\n    /// Compute the distance between two points on the Earth in kilometers.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Unit;\n    /// use reql_rust::cmd::distance::DistanceOption;\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let point1 = r.point(-122.423246, 37.779388);\n    ///     let point2 = r.point(-117.220406, 32.719464);\n    ///     let distance_option = DistanceOption::default().unit(Unit::Kilometer);\n    ///\n    ///     let response: f64 = r.distance(point1.cmd(), point2)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == 734.125249602186);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [polygon](crate::r::polygon)\n    /// - [line](crate::r::line)\n    pub fn distance(self, geometry: Command, args: impl cmd::distance::DistanceArg) -\u003e Command {\n        geometry.distance(args)\n    }\n\n    /// Convert a [GeoJSON](https://geojson.org/) object to a ReQL geometry object.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.geojson(geojson)  geometry\n    /// ```\n    ///\n    /// Where:\n    /// - geojson: [GeoJson](crate::types::GeoJson),\n    /// - geometry: [ReqlGeoJson](crate::types::ReqlGeoJson)\n    ///\n    /// # Description\n    ///\n    /// RethinkDB only allows conversion of GeoJSON objects\n    /// which have ReQL equivalents: Point, LineString, and Polygon.\n    ///  MultiPoint, MultiLineString, and MultiPolygon are not supported.\n    /// (You could, however, store multiple points, lines and polygons\n    /// in an array and use a geospatial multi index with them.)\n    ///\n    /// Only longitude/latitude coordinates are supported.\n    /// GeoJSON objects that use Cartesian coordinates,\n    /// specify an altitude, or specify their own coordinate\n    /// reference system will be rejected.\n    ///\n    /// ## Examples\n    ///\n    /// Convert a GeoJSON object to a ReQL geometry object.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::{GeoJson, GeoType};\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let geo_json = GeoJson {\n    ///         typ: GeoType::Point,\n    ///         coordinates: [-122.423246, 37.779388],\n    ///     };\n    ///\n    ///     let response = r.table(\"geo\")\n    ///         .insert(json!({\n    ///             \"id\": 1,\n    ///             \"name\": \"Yaound\",\n    ///             \"location\": r.geojson(geo_json)\n    ///         }))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [to_geojson](crate::Command::to_geojson)\n    pub fn geojson\u003cT: Serialize\u003e(self, geojson: GeoJson\u003cT\u003e) -\u003e cmd::geojson::ReqlGeoJson\u003cT\u003e {\n        cmd::geojson::ReqlGeoJson::new(geojson)\n    }\n\n    /// Construct a geometry object of type Polygon.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.line(points)  line\n    /// ```\n    ///\n    /// Where:\n    /// - points: \u0026[[Point](crate::types::Point)]\n    /// - line: [Polygon](crate::types::Line)\n    ///\n    /// # Description\n    ///\n    /// The line can be specified in one of two ways:\n    /// - Two or more two-item arrays, specifying latitude\n    /// and longitude numbers of the lines vertices;\n    /// - Two or more [Point](crate::types::Point)\n    /// objects specifying the lines vertices.\n    ///\n    /// Longitude (180 to 180) and latitude (90 to 90)\n    /// of vertices are plotted on a perfect sphere.\n    /// See [Geospatial support](https://rethinkdb.com/docs/geo-support/python/)\n    /// for more information on ReQLs coordinate system.\n    ///\n    /// ## Examples\n    ///\n    /// Define a line.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.table(\"geo\")\n    ///         .insert(json!({\n    ///             \"id\": 101,\n    ///             \"route\": r.line(\u0026[\n    ///                 r.point(-122.423246, 37.779388),\n    ///                 r.point(-121.886420, 37.329898),\n    ///             ])\n    ///         }))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [point](Self::point)\n    /// - [polygon](Self::polygon)\n    /// - [circle](Self::circle)\n    pub fn line(self, points: \u0026[cmd::point::Point]) -\u003e cmd::line::Line {\n        cmd::line::Line::new(points)\n    }\n\n    /// Construct a geometry object of type Point.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.point(longitude, latitude)  point\n    /// ```\n    ///\n    /// Where:\n    /// - latitude: f64,\n    /// - longitude: f64,\n    /// - points: \u0026[[Point](crate::cmd::point::Point)]\n    ///\n    /// # Description\n    ///\n    /// The point is specified by two floating point numbers, the longitude\n    /// (180 to 180) and latitude (90 to 90) of the point on a perfect sphere.\n    /// See [Geospatial support](https://rethinkdb.com/docs/geo-support/python/)\n    /// for more information on ReQLs coordinate system.\n    ///\n    /// ## Examples\n    ///\n    /// Define a point.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.table(\"geo\")\n    ///         .insert(json!({\n    ///             \"id\": 1,\n    ///             \"name\": \"Yaound\",\n    ///             \"location\": r.point(-122.423246, 37.779388)\n    ///         }))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [line](Self::line)\n    /// - [polygon](Self::polygon)\n    /// - [circle](Self::circle)\n    pub fn point(self, longitude: f64, latitude: f64) -\u003e cmd::point::Point {\n        cmd::point::Point::new(longitude, latitude)\n    }\n\n    /// Construct a geometry object of type Polygon.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.polygon(points)  polygon\n    /// ```\n    ///\n    /// Where:\n    /// - points: \u0026[[Point](crate::cmd::point::Point)]\n    /// - polygon: [Polygon](crate::cmd::polygon::Polygon)\n    ///\n    /// # Description\n    ///\n    /// The Polygon can be specified in one of two ways:\n    /// - Three or more two-item arrays, specifying latitude\n    /// and longitude numbers of the polygons vertices;\n    /// - Three or more [Point](crate::cmd::point::Point)\n    /// objects specifying the polygons vertices.\n    ///\n    /// Longitude (180 to 180) and latitude (90 to 90)\n    /// of vertices are plotted on a perfect sphere.\n    /// See [Geospatial support](https://rethinkdb.com/docs/geo-support/python/)\n    /// for more information on ReQLs coordinate system.\n    ///\n    /// If the last point does not specify the same coordinates as\n    /// the first point, `polygon` will close the polygon by connecting them.\n    /// You cannot directly construct a polygon with holes in it using `polygon`,\n    /// but you can use [polygon_sub](crate::types::Polygon::polygon_sub)\n    /// to use a second polygon within the interior of the first to define a hole.\n    ///\n    /// ## Examples\n    ///\n    /// Define a polygon.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.table(\"geo\")\n    ///         .insert(json!({\n    ///             \"id\": 101,\n    ///             \"rectangle\": r.polygon(\u0026[\n    ///                 r.point(-122.423246, 37.779388),\n    ///                 r.point(-122.423246, 37.329898),\n    ///                 r.point(-121.886420, 37.329898),\n    ///                 r.point(-121.886420, 37.779388),\n    ///             ])\n    ///         }))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [point](Self::point)\n    /// - [line](Self::line)\n    /// - [circle](Self::circle)\n    pub fn polygon(self, points: \u0026[cmd::point::Point]) -\u003e cmd::polygon::Polygon {\n        cmd::polygon::Polygon::new(points)\n    }\n\n    /// Tests whether two geometry objects intersect with one another.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// geometry.intersects(geometry)  bool\n    /// r.intersects(geometry_command, geometry)  bool\n    /// sequence.intersects(geometry)  sequence_response\n    /// r.intersects(sequence, geometry)  sequence_response\n    /// ```\n    ///\n    /// Where:\n    /// - geometry: [r.point(...)](crate::r::point) |\n    /// [r.line(...)](crate::r::line) |\n    /// [r.polygon(...)](crate::r::polygon) |\n    /// command\n    /// - sequence, geometry_command: [Command](crate::Command)\n    ///\n    /// # Description\n    ///\n    /// When applied to a sequence of geometry objects, `intersects` acts as a\n    /// [filter](crate::Command::filter), returning a sequence of objects from\n    /// the sequence that intersect with the argument.\n    ///\n    /// ## Examples\n    ///\n    /// Is `point2` within a 2000-meter circle around `point1`?\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let point1 = r.point(-117.220406, 32.719464);\n    ///     let point2 = r.point(-117.206201, 32.725186);\n    ///     let circle_cmd = r.circle(args!(point1, 2000.));\n    ///\n    ///     let response: bool = r.intersects(circle_cmd, point2)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Which of the locations in a list of parks intersect `circle`?\n    ///\n    /// ```\n    /// use reql_rust::arguments::Unit;\n    /// use reql_rust::cmd::circle::CircleOption;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let point = r.point(-117.220406, 32.719464);\n    ///     let circle_opts = CircleOption::default().unit(Unit::InternationalMile);\n    ///     let circle = r.circle(args!(point, 10., circle_opts));\n    ///\n    ///     let response = r.intersects(r.table(\"parks\").g(\"area\"), circle)\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [includes](crate::Command::includes)\n    /// - [get_intersecting](crate::Command::get_intersecting)\n    pub fn intersects(\n        self,\n        geometry: Command,\n        args: impl cmd::intersects::IntersectsArg,\n    ) -\u003e Command {\n        geometry.intersects(args)\n    }\n\n    /// Grant or deny access permissions for a user account,\n    /// globally or on a per-database or per-table basis.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.grant(username, permission)  response\n    /// table.grant(username, permission)  response\n    /// db.grant(username, permission)  response\n    /// ```\n    ///\n    /// Where:\n    /// - table: [r.table(...)](crate::r::table) |\n    /// [query.table(...)](Self::table)\n    /// - db: [r.db(...)](crate::r::db)\n    /// - response: [GrantResponse](crate::types::GrantResponse)\n    ///\n    /// # Description\n    ///\n    /// Permissions that are not defined on a local scope will\n    /// be inherited from the next largest scope.\n    /// For example, a write operation on a table will first\n    /// check if `write` permissions are explicitly set to `true` or `false`\n    /// for that table and account combination; if they are not,\n    /// the `write` permissions for the database will be used\n    /// if those are explicitly set; and if neither table nor database\n    /// permissions are set for that account, the global `write`\n    /// permissions for that account will be used.\n    ///\n    /// ## Note\n    ///\n    /// For all accounts other than the special, system-defined `admin` account,\n    /// permissions that are not explicitly set in any scope will effectively be `false`.\n    /// When you create a new user account by inserting a record into the\n    /// [system table](https://rethinkdb.com/docs/system-tables/#users),\n    /// that account will have **no** permissions until they are explicitly granted.\n    ///\n    /// For a full description of permissions, read\n    /// [Permissions and user accounts](https://rethinkdb.com/docs/permissions-and-accounts/).\n    ///\n    /// ## Examples\n    ///\n    /// Grant the `alima` user account read and write permissions on the `users` database.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Permission;\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::GrantResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let permission = Permission::default().read(true).write(true);\n    ///\n    ///     let response: GrantResponse = r.db(\"users\")\n    ///         .grant(\"alima\", permission)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.granted == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Deny write permissions from the `alima` account for the `simbad` table.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Permission;\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::GrantResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let permission = Permission::default().write(false);\n    ///\n    ///     let response: GrantResponse = r.db(\"users\")\n    ///         .table(\"simbad\")\n    ///         .grant(\"alima\", permission)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.granted == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Grant `alima` the ability to use HTTP connections.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Permission;\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::GrantResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let permission = Permission::default().connect(true);\n    ///\n    ///     let response: GrantResponse = r.grant(\"alima\", permission)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.granted == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Grant a `monitor` account read-only access to all databases.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Permission;\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::GrantResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let permission = Permission::default().read(true);\n    ///\n    ///     let response: GrantResponse = r.grant(\"monitor\", permission)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.granted == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn grant(self, username: \u0026str, permission: Permission) -\u003e Command {\n        cmd::grant::new(username, permission)\n    }\n\n    /// Wait for a table or all the tables in a database to be ready.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// table.wait(())  response\n    /// db.wait(())  response\n    /// r.wait(table)  response\n    /// r.wait(database)  response\n    /// table.wait(options)  response\n    /// db.wait(options)  response\n    /// r.wait(args!(table, options))  response\n    /// r.wait(args!(database, options))  response\n    /// ```\n    ///\n    /// Where:\n    /// - table: [r.table(...)](crate::r::table) |\n    /// [query.table(...)](Self::table)\n    /// - db: [r.db(...)](crate::r::db)\n    /// - options: [WaitOption](crate::cmd::wait::WaitOption)\n    /// - response: [WaitResponse](crate::types::WaitResponse)\n    ///\n    /// # Description\n    ///\n    /// A table may be temporarily unavailable after creation,\n    /// rebalancing or reconfiguring.\n    /// The `wait` command blocks until the given\n    /// table (or database) is fully up to date.\n    ///\n    /// ## Examples\n    ///\n    /// Wait on a table to be ready.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::WaitResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: WaitResponse = r.table(\"simbad\")\n    ///         .wait(())\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.ready == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Wait on a table with timeout to be ready for reads.\n    ///\n    /// ```\n    /// use reql_rust::arguments::WaitFor;\n    /// use reql_rust::cmd::wait::WaitOption;\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::WaitResponse;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let table_command = r.db(\"anim\").table(\"simbad\");\n    ///     let opts = WaitOption::default()\n    ///         .wait_for(WaitFor::ReadyForReads)\n    ///         .timeout(8000f64);\n    ///\n    ///     let response: WaitResponse =  r.wait(args!(table_command, opts))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.ready == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn wait(self, args: impl cmd::wait::WaitArg) -\u003e Command {\n        cmd::wait::new(args)\n    }\n\n    /// To specify the descending ordering.\n    ///\n    /// # Command syntax\n    /// ```text\n    /// r.asc(field)\n    /// r.asc(func)\n    /// ```\n    ///\n    /// Where:\n    /// - field: String, \u0026str\n    /// - func: func!(...)\n    ///\n    /// ## Example\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"simbad\")\n    ///         .order_by(args!(r.expr(\"id\"), r.asc(\"character\")))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///\n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn asc(self, args: impl cmd::asc::AscArg) -\u003e Command {\n        cmd::asc::new(args)\n    }\n\n    /// To specify the descending ordering.\n    ///\n    /// # Command syntax\n    /// ```text\n    /// r.desc(field)\n    /// r.desc(func)\n    /// ```\n    ///\n    /// Where:\n    /// - field: String, \u0026str\n    /// - func: func!(...)\n    ///\n    /// ## Example\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"simbad\")\n    ///         .order_by(args!(r.expr(\"id\"), r.desc(\"character\")))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///\n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn desc(self, args: impl cmd::desc::DescArg) -\u003e Command {\n        cmd::desc::new(args)\n    }\n\n    /// max_val are used with some commands such as `between`\n    /// to specify absolute upper bounds.\n    ///\n    /// # Command syntax\n    /// ```text\n    /// r::min_val()\n    /// ```\n    ///\n    /// ## Example\n    ///\n    /// ```\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"simbad\")\n    ///         .between(args!(r::min_val(), r.expr(20)))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///\n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn min_val() -\u003e Command {\n        Command::new(ql2::term::TermType::Minval)\n    }\n\n    /// max_val are used with some commands such as `between`\n    /// to specify absolute upper bounds.\n    ///\n    /// # Command syntax\n    /// ```text\n    /// r::max_val()\n    /// ```\n    ///\n    /// ## Example\n    ///\n    /// ```\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"simbad\")\n    ///         .between(args!(r.expr(10), r::max_val()))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///\n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn max_val() -\u003e Command {\n        Command::new(ql2::term::TermType::Maxval)\n    }\n}\n\n// Helper for making writing examples less verbose\n#[doc(hidden)]\npub fn example\u003c'a, Q, F, S\u003e(_query: Q)\nwhere\n    Q: FnOnce(r, \u0026'a mut Session) -\u003e async_stream::AsyncStream\u003c(), F\u003e,\n    F: futures::Future\u003cOutput = S\u003e,\n    S: futures::Stream\u003cItem = Result\u003cserde_json::Value\u003e\u003e,\n{\n}\n","traces":[{"line":36,"address":[4751456],"length":1,"stats":{"Line":4},"fn_name":"connection"},{"line":37,"address":[4751468],"length":1,"stats":{"Line":4},"fn_name":null},{"line":40,"address":[4751488],"length":1,"stats":{"Line":1},"fn_name":"db_create"},{"line":41,"address":[4751510],"length":1,"stats":{"Line":1},"fn_name":null},{"line":44,"address":[4751536],"length":1,"stats":{"Line":1},"fn_name":"db_drop"},{"line":45,"address":[4751558],"length":1,"stats":{"Line":1},"fn_name":null},{"line":48,"address":[4751584],"length":1,"stats":{"Line":1},"fn_name":"db_list"},{"line":49,"address":[4751596],"length":1,"stats":{"Line":1},"fn_name":null},{"line":52,"address":[4751616],"length":1,"stats":{"Line":3},"fn_name":"db"},{"line":53,"address":[4751638],"length":1,"stats":{"Line":3},"fn_name":null},{"line":56,"address":[4106832],"length":1,"stats":{"Line":6},"fn_name":"table_create\u003c\u0026str\u003e"},{"line":57,"address":[4106854],"length":1,"stats":{"Line":6},"fn_name":null},{"line":60,"address":[4751664],"length":1,"stats":{"Line":1},"fn_name":"table_drop"},{"line":61,"address":[4751686],"length":1,"stats":{"Line":1},"fn_name":null},{"line":64,"address":[4751712],"length":1,"stats":{"Line":1},"fn_name":"table_list"},{"line":65,"address":[4751724],"length":1,"stats":{"Line":1},"fn_name":null},{"line":68,"address":[4106880],"length":1,"stats":{"Line":6},"fn_name":"table\u003c\u0026str\u003e"},{"line":69,"address":[4106902],"length":1,"stats":{"Line":6},"fn_name":null},{"line":120,"address":[4106928],"length":1,"stats":{"Line":1},"fn_name":"object\u003c\u0026str\u003e"},{"line":121,"address":[4106939],"length":1,"stats":{"Line":1},"fn_name":null},{"line":124,"address":[4106992],"length":1,"stats":{"Line":1},"fn_name":"and\u003calloc::vec::Vec\u003cbool, alloc::alloc::Global\u003e\u003e"},{"line":125,"address":[4107003],"length":1,"stats":{"Line":1},"fn_name":null},{"line":128,"address":[4107056],"length":1,"stats":{"Line":1},"fn_name":"or\u003calloc::vec::Vec\u003cbool, alloc::alloc::Global\u003e\u003e"},{"line":129,"address":[4107067],"length":1,"stats":{"Line":1},"fn_name":null},{"line":132,"address":[4107120],"length":1,"stats":{"Line":1},"fn_name":"eq\u003calloc::vec::Vec\u003ci32, alloc::alloc::Global\u003e\u003e"},{"line":133,"address":[4107131],"length":1,"stats":{"Line":1},"fn_name":null},{"line":136,"address":[4107184],"length":1,"stats":{"Line":1},"fn_name":"ne\u003calloc::vec::Vec\u003ci32, alloc::alloc::Global\u003e\u003e"},{"line":137,"address":[4107195],"length":1,"stats":{"Line":1},"fn_name":null},{"line":140,"address":[4107248],"length":1,"stats":{"Line":1},"fn_name":"gt\u003creql_rust::arguments::Args\u003calloc::vec::Vec\u003ci32, alloc::alloc::Global\u003e\u003e\u003e"},{"line":141,"address":[4107259],"length":1,"stats":{"Line":1},"fn_name":null},{"line":144,"address":[4107312],"length":1,"stats":{"Line":1},"fn_name":"ge\u003creql_rust::arguments::Args\u003calloc::vec::Vec\u003ci32, alloc::alloc::Global\u003e\u003e\u003e"},{"line":145,"address":[4107323],"length":1,"stats":{"Line":1},"fn_name":null},{"line":148,"address":[4107376],"length":1,"stats":{"Line":1},"fn_name":"lt\u003creql_rust::arguments::Args\u003calloc::vec::Vec\u003ci32, alloc::alloc::Global\u003e\u003e\u003e"},{"line":149,"address":[4107387],"length":1,"stats":{"Line":1},"fn_name":null},{"line":152,"address":[4107440],"length":1,"stats":{"Line":1},"fn_name":"le\u003creql_rust::arguments::Args\u003calloc::vec::Vec\u003ci32, alloc::alloc::Global\u003e\u003e\u003e"},{"line":153,"address":[4107451],"length":1,"stats":{"Line":1},"fn_name":null},{"line":156,"address":[4751744],"length":1,"stats":{"Line":1},"fn_name":"not"},{"line":157,"address":[4751768],"length":1,"stats":{"Line":1},"fn_name":null},{"line":160,"address":[4107504,4107536,4107568],"length":1,"stats":{"Line":3},"fn_name":"random\u003c()\u003e"},{"line":161,"address":[4107579,4107552,4107515],"length":1,"stats":{"Line":3},"fn_name":null},{"line":164,"address":[4751792],"length":1,"stats":{"Line":1},"fn_name":"round"},{"line":165,"address":[4751809],"length":1,"stats":{"Line":1},"fn_name":null},{"line":168,"address":[4751824],"length":1,"stats":{"Line":1},"fn_name":"ceil"},{"line":169,"address":[4751841],"length":1,"stats":{"Line":1},"fn_name":null},{"line":172,"address":[4751856],"length":1,"stats":{"Line":1},"fn_name":"floor"},{"line":173,"address":[4751873],"length":1,"stats":{"Line":1},"fn_name":null},{"line":255,"address":[4107632],"length":1,"stats":{"Line":1},"fn_name":"bit_and\u003creql_rust::proto::Command\u003e"},{"line":256,"address":[4107654],"length":1,"stats":{"Line":1},"fn_name":null},{"line":336,"address":[4107728],"length":1,"stats":{"Line":1},"fn_name":"bit_or\u003creql_rust::proto::Command\u003e"},{"line":337,"address":[4107750],"length":1,"stats":{"Line":1},"fn_name":null},{"line":420,"address":[4107824],"length":1,"stats":{"Line":1},"fn_name":"bit_xor\u003creql_rust::proto::Command\u003e"},{"line":421,"address":[4107846],"length":1,"stats":{"Line":1},"fn_name":null},{"line":477,"address":[4751888],"length":1,"stats":{"Line":1},"fn_name":"bit_not"},{"line":478,"address":[4751905],"length":1,"stats":{"Line":1},"fn_name":null},{"line":544,"address":[4107920],"length":1,"stats":{"Line":1},"fn_name":"bit_sal\u003creql_rust::proto::Command\u003e"},{"line":545,"address":[4107942],"length":1,"stats":{"Line":1},"fn_name":null},{"line":606,"address":[4108016],"length":1,"stats":{"Line":1},"fn_name":"bit_sar\u003creql_rust::proto::Command\u003e"},{"line":607,"address":[4108038],"length":1,"stats":{"Line":1},"fn_name":null},{"line":657,"address":[4751952],"length":1,"stats":{"Line":1},"fn_name":"now"},{"line":658,"address":[4751964],"length":1,"stats":{"Line":1},"fn_name":null},{"line":710,"address":[4108176,4108112],"length":1,"stats":{"Line":2},"fn_name":"time\u003creql_rust::arguments::Args\u003c(time::date::Date, time::time::Time, time::utc_offset::UtcOffset)\u003e\u003e"},{"line":711,"address":[4108124,4108202],"length":1,"stats":{"Line":2},"fn_name":null},{"line":754,"address":[4751984],"length":1,"stats":{"Line":1},"fn_name":"epoch_time"},{"line":755,"address":[4752000],"length":1,"stats":{"Line":1},"fn_name":null},{"line":811,"address":[4108304,4108240],"length":1,"stats":{"Line":2},"fn_name":"iso8601\u003creql_rust::arguments::Args\u003c(\u0026str, time::utc_offset::UtcOffset)\u003e\u003e"},{"line":812,"address":[4108251,4108326],"length":1,"stats":{"Line":2},"fn_name":null},{"line":816,"address":[4108352],"length":1,"stats":{"Line":1},"fn_name":"hash_map\u003c\u0026str\u003e"},{"line":820,"address":[4108365],"length":1,"stats":{"Line":1},"fn_name":null},{"line":866,"address":[4108416],"length":1,"stats":{"Line":1},"fn_name":"args\u003c\u0026alloc::vec::Vec\u003cu8, alloc::alloc::Global\u003e, u8\u003e"},{"line":871,"address":[4108432],"length":1,"stats":{"Line":1},"fn_name":null},{"line":950,"address":[4752016],"length":1,"stats":{"Line":1},"fn_name":"binary"},{"line":951,"address":[4752038],"length":1,"stats":{"Line":1},"fn_name":null},{"line":1085,"address":[4108448],"length":1,"stats":{"Line":1},"fn_name":"branch\u003creql_rust::arguments::Args\u003c(reql_rust::proto::Command, reql_rust::proto::Command)\u003e\u003e"},{"line":1086,"address":[4108469],"length":1,"stats":{"Line":1},"fn_name":null},{"line":1191,"address":[4108592,4108544,4108624],"length":1,"stats":{"Line":3},"fn_name":"range\u003creql_rust::arguments::Args\u003c(isize, isize)\u003e\u003e"},{"line":1192,"address":[4108608,4108635,4108566],"length":1,"stats":{"Line":3},"fn_name":null},{"line":1234,"address":[4108656],"length":1,"stats":{"Line":1},"fn_name":"error\u003c\u0026str\u003e"},{"line":1235,"address":[4108678],"length":1,"stats":{"Line":1},"fn_name":null},{"line":1275,"address":[4108752,4108800,4108912,4108704,4108832],"length":1,"stats":{"Line":6},"fn_name":"expr\u003c\u0026str\u003e"},{"line":1276,"address":[4108924,4108776,4108726,4108816,4108844],"length":1,"stats":{"Line":6},"fn_name":null},{"line":1343,"address":[4108960],"length":1,"stats":{"Line":1},"fn_name":"js\u003c\u0026str\u003e"},{"line":1344,"address":[4108982],"length":1,"stats":{"Line":1},"fn_name":null},{"line":1383,"address":[4752064],"length":1,"stats":{"Line":0},"fn_name":"info"},{"line":1384,"address":[4752081],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1420,"address":[4109008],"length":1,"stats":{"Line":1},"fn_name":"json\u003c\u0026str\u003e"},{"line":1421,"address":[4109030],"length":1,"stats":{"Line":1},"fn_name":null},{"line":1548,"address":[4109120,4109056],"length":1,"stats":{"Line":2},"fn_name":"http\u003cserde_json::value::Value, reql_rust::arguments::Args\u003c(\u0026str, serde_json::value::Value)\u003e\u003e"},{"line":1552,"address":[4109069,4109142],"length":1,"stats":{"Line":2},"fn_name":null},{"line":1626,"address":[4109168],"length":1,"stats":{"Line":1},"fn_name":"uuid\u003c()\u003e"},{"line":1627,"address":[4109179],"length":1,"stats":{"Line":1},"fn_name":null},{"line":1695,"address":[4109200],"length":1,"stats":{"Line":1},"fn_name":"circle\u003creql_rust::arguments::Args\u003c(reql_rust::cmd::point::Point, f64)\u003e\u003e"},{"line":1696,"address":[4109212],"length":1,"stats":{"Line":1},"fn_name":null},{"line":1759,"address":[4109280],"length":1,"stats":{"Line":1},"fn_name":"distance\u003creql_rust::arguments::Args\u003c(reql_rust::cmd::point::Point, reql_rust::cmd::distance::DistanceOption)\u003e\u003e"},{"line":1760,"address":[4109301],"length":1,"stats":{"Line":1},"fn_name":null},{"line":1822,"address":[4109408],"length":1,"stats":{"Line":1},"fn_name":"geojson\u003c[f64; 2]\u003e"},{"line":1823,"address":[4109419],"length":1,"stats":{"Line":1},"fn_name":null},{"line":1884,"address":[4752128],"length":1,"stats":{"Line":1},"fn_name":"line"},{"line":1885,"address":[4752150],"length":1,"stats":{"Line":1},"fn_name":null},{"line":1939,"address":[4752176],"length":1,"stats":{"Line":1},"fn_name":"point"},{"line":1940,"address":[4752200],"length":1,"stats":{"Line":1},"fn_name":null},{"line":2009,"address":[4752224],"length":1,"stats":{"Line":1},"fn_name":"polygon"},{"line":2010,"address":[4752246],"length":1,"stats":{"Line":1},"fn_name":null},{"line":2245,"address":[4752272],"length":1,"stats":{"Line":0},"fn_name":"grant"},{"line":2246,"address":[4752306],"length":1,"stats":{"Line":0},"fn_name":null},{"line":2366,"address":[4109472],"length":1,"stats":{"Line":1},"fn_name":"asc\u003c\u0026str\u003e"},{"line":2367,"address":[4109494],"length":1,"stats":{"Line":1},"fn_name":null},{"line":2400,"address":[4109520],"length":1,"stats":{"Line":1},"fn_name":"desc\u003c\u0026str\u003e"},{"line":2401,"address":[4109542],"length":1,"stats":{"Line":1},"fn_name":null},{"line":2429,"address":[4752336],"length":1,"stats":{"Line":1},"fn_name":"min_val"},{"line":2430,"address":[4752348],"length":1,"stats":{"Line":1},"fn_name":null},{"line":2458,"address":[4752384],"length":1,"stats":{"Line":1},"fn_name":"max_val"},{"line":2459,"address":[4752396],"length":1,"stats":{"Line":1},"fn_name":null}],"covered":108,"coverable":112},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","prelude.rs"],"content":"use std::sync::atomic::{AtomicU64, Ordering};\n\npub use futures::stream::select_all;\npub use futures::TryStreamExt;\n#[doc(hidden)]\npub use reql_macros::func;\npub use reql_macros::Geometry;\nuse serde::de::DeserializeOwned;\nuse serde::Serialize;\n\npub use crate::cmd::func::Func;\npub use crate::cmd::StaticString;\npub use crate::proto::Command;\npub use crate::Result;\n\n#[doc(hidden)]\npub static VAR_COUNTER: AtomicU64 = AtomicU64::new(1);\n\n#[doc(hidden)]\npub fn var_counter() -\u003e u64 {\n    VAR_COUNTER.fetch_add(1, Ordering::SeqCst)\n}\n\npub trait Converter {\n    fn parse\u003cT: Unpin + Serialize + DeserializeOwned\u003e(self) -\u003e Result\u003cT\u003e;\n}\n\nimpl Converter for serde_json::Value {\n    fn parse\u003cT: Unpin + Serialize + DeserializeOwned\u003e(self) -\u003e Result\u003cT\u003e {\n        Ok(serde_json::from_value(self)?)\n    }\n}\n\npub trait Geometry: Into\u003cCommand\u003e {\n    fn cmd(self) -\u003e Command {\n        self.into()\n    }\n}\n","traces":[{"line":20,"address":[2124864],"length":1,"stats":{"Line":1},"fn_name":"var_counter"},{"line":21,"address":[4534004],"length":1,"stats":{"Line":1},"fn_name":null},{"line":29,"address":[],"length":0,"stats":{"Line":53},"fn_name":null},{"line":30,"address":[2158493,2157344,2156528,2156272,2153674,2154862,2151998,2157273,2157598,2160144,2157072,2161342,2152368,2154320,2158184,2160592,2158024,2155472,2154808,2151312,2157758,2151930,2153744,2160345,2156000,2161520,2152960,2150240,2155934,2159539,2150496,2162846,2150974,2157530,2153216,2151518,2154064,2158426,2159422,2160414,2162112,2151241,2150697,2154384,2155728,2155280,2158992,2150768,2152688,2153488,2159806,2156206,2157867,2152624,2155533,2156848,2155024,2151040,2154968,2158078,2153152,2159178,2159872,2160078,2160528,2152176,2158618,2160864,2161070,2161136,2161406,2157016,2159246,2151694,2156910,2152894,2157918,2161776,2162304,2162640,2156592,2159600,2155678,2158240,2154702,2153422,2158672,2157707,2151582,2151744,2154000,2162046,2161840,2154640,2150432,2152112,2162574,2161584,2159361,2152432,2155216,2158928,2160798,2162368],"length":1,"stats":{"Line":53},"fn_name":null},{"line":35,"address":[2766752],"length":1,"stats":{"Line":2},"fn_name":"cmd\u003creql_rust::cmd::polygon::Polygon\u003e"},{"line":36,"address":[1647292],"length":1,"stats":{"Line":2},"fn_name":null}],"covered":6,"coverable":6},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","proto.rs"],"content":"use std::collections::{HashMap, VecDeque};\nuse std::{fmt, str};\n\nuse ql2::query::QueryType;\nuse ql2::term::TermType;\nuse serde::ser::{self, Serialize, Serializer};\nuse serde_json::value::{Number, Value};\n\nuse crate::cmd::run::{Db, RunOption};\n// use crate::prelude::ReqlOps;\nuse crate::{err, r};\n\n#[derive(Debug, Clone, Eq, PartialEq)]\npub(crate) enum Datum {\n    Null,\n    Bool(bool),\n    Number(Number),\n    String(String),\n    Array(Vec\u003cDatum\u003e),\n    Object(HashMap\u003cString, Datum\u003e),\n}\n\nimpl Default for Datum {\n    fn default() -\u003e Self {\n        Self::Null\n    }\n}\n\nimpl Serialize for Datum {\n    fn serialize\u003cS\u003e(\u0026self, serializer: S) -\u003e Result\u003cS::Ok, S::Error\u003e\n    where\n        S: Serializer,\n    {\n        match self {\n            Self::Null =\u003e serializer.serialize_none(),\n            Self::Bool(boolean) =\u003e boolean.serialize(serializer),\n            Self::Number(num) =\u003e num.serialize(serializer),\n            Self::String(string) =\u003e string.serialize(serializer),\n            Self::Array(arr) =\u003e (TermType::MakeArray as i32, arr).serialize(serializer),\n            Self::Object(map) =\u003e map.serialize(serializer),\n        }\n    }\n}\n\nimpl From\u003cValue\u003e for Datum {\n    fn from(value: Value) -\u003e Self {\n        match value {\n            Value::Null =\u003e Self::Null,\n            Value::Bool(boolean) =\u003e Self::Bool(boolean),\n            Value::Number(num) =\u003e Self::Number(num),\n            Value::String(string) =\u003e Self::String(string),\n            Value::Array(arr) =\u003e Self::Array(arr.into_iter().map(Into::into).collect()),\n            Value::Object(map) =\u003e Self::Object(\n                map.into_iter()\n                    .map(|(key, value)| (key, value.into()))\n                    .collect(),\n            ),\n        }\n    }\n}\n\n/// The query that will be sent to RethinkDB\n#[derive(Debug, Clone)]\npub struct Command {\n    typ: TermType,\n    datum: Option\u003csuper::Result\u003cDatum\u003e\u003e,\n    #[doc(hidden)]\n    pub args: VecDeque\u003csuper::Result\u003cCommand\u003e\u003e,\n    opts: Option\u003csuper::Result\u003cDatum\u003e\u003e,\n    change_feed: bool,\n}\n\nimpl Command {\n    #[doc(hidden)]\n    pub fn new(typ: TermType) -\u003e Self {\n        Self {\n            typ,\n            datum: None,\n            args: VecDeque::new(),\n            opts: None,\n            change_feed: false,\n        }\n    }\n\n    #[doc(hidden)]\n    pub fn var(id: u64) -\u003e Self {\n        let index = Self::from_json(id);\n        Self::new(TermType::Var).with_arg(index)\n    }\n\n    pub(crate) fn with_parent(mut self, parent: Command) -\u003e Self {\n        self.change_feed = self.change_feed || parent.change_feed;\n        self.args.push_front(Ok(parent));\n        self\n    }\n\n    #[doc(hidden)]\n    pub fn with_arg(mut self, arg: impl Into\u003cCommand\u003e) -\u003e Self {\n        let arg = arg.into();\n        self.args.push_back(Ok(arg));\n        self\n    }\n\n    pub(crate) fn with_opts\u003cT\u003e(mut self, opts: T) -\u003e Self\n    where\n        T: Serialize,\n    {\n        let opts = serde_json::to_value(\u0026opts)\n            .map(Into::into)\n            .map_err(Into::into);\n        self.opts = Some(opts);\n        self\n    }\n\n    #[doc(hidden)]\n    pub fn from_json\u003cT\u003e(arg: T) -\u003e Self\n    where\n        T: Serialize,\n    {\n        serde_json::to_value(arg)\n            .map_err(super::ReqlError::from)\n            .into()\n    }\n\n    pub(crate) fn mark_change_feed(mut self) -\u003e Self {\n        self.change_feed = true;\n        self\n    }\n\n    pub(crate) fn change_feed(\u0026self) -\u003e bool {\n        self.change_feed\n    }\n}\n\nimpl From\u003cDatum\u003e for Command {\n    fn from(datum: Datum) -\u003e Self {\n        Ok(datum).into()\n    }\n}\n\nimpl From\u003csuper::Result\u003cDatum\u003e\u003e for Command {\n    fn from(result: super::Result\u003cDatum\u003e) -\u003e Self {\n        let mut query = Self::new(TermType::Datum);\n        query.datum = Some(result);\n        query\n    }\n}\n\n#[doc(hidden)]\nimpl From\u003cValue\u003e for Command {\n    fn from(value: Value) -\u003e Self {\n        Datum::from(value).into()\n    }\n}\n\n#[doc(hidden)]\nimpl From\u003csuper::Result\u003cValue\u003e\u003e for Command {\n    fn from(result: super::Result\u003cValue\u003e) -\u003e Self {\n        match result {\n            Ok(value) =\u003e Datum::from(value).into(),\n            Err(error) =\u003e (Err(error) as super::Result\u003cDatum\u003e).into(),\n        }\n    }\n}\n\n#[derive(Debug, Clone)]\npub(crate) struct Query\u003c'a\u003e(pub(crate) \u0026'a Command);\n\nimpl Serialize for Query\u003c'_\u003e {\n    fn serialize\u003cS\u003e(\u0026self, serializer: S) -\u003e Result\u003cS::Ok, S::Error\u003e\n    where\n        S: Serializer,\n    {\n        let Query(cmd) = self;\n        match cmd.typ {\n            TermType::Datum =\u003e match \u0026cmd.datum {\n                Some(Ok(datum)) =\u003e datum.serialize(serializer),\n                Some(Err(error)) =\u003e Err(ser::Error::custom(error)),\n                _ =\u003e (None as Option\u003cDatum\u003e).serialize(serializer),\n            },\n            _ =\u003e {\n                let typ = cmd.typ as i32;\n                match \u0026cmd.opts {\n                    Some(Ok(map)) =\u003e (\n                        typ,\n                        to_query_result(\u0026cmd.args).map_err(ser::Error::custom)?,\n                        map,\n                    )\n                        .serialize(serializer),\n                    None =\u003e (typ, to_query_result(\u0026cmd.args).map_err(ser::Error::custom)?)\n                        .serialize(serializer),\n                    Some(Err(error)) =\u003e Err(ser::Error::custom(error)),\n                }\n            }\n        }\n    }\n}\n\nfn to_query_result(args: \u0026VecDeque\u003csuper::Result\u003cCommand\u003e\u003e) -\u003e super::Result\u003cVec\u003cQuery\u003c'_\u003e\u003e\u003e {\n    let mut vec = Vec::with_capacity(args.len());\n    for result in args {\n        let arg = result.as_ref().map_err(|error| error.clone())?;\n        vec.push(Query(arg));\n    }\n    Ok(vec)\n}\n\n#[derive(Debug, Clone)]\npub(crate) struct Payload\u003c'a\u003e(\n    pub(crate) QueryType,\n    pub(crate) Option\u003cQuery\u003c'a\u003e\u003e,\n    pub(crate) RunOption,\n);\n\nimpl Serialize for Payload\u003c'_\u003e {\n    fn serialize\u003cS\u003e(\u0026self, serializer: S) -\u003e Result\u003cS::Ok, S::Error\u003e\n    where\n        S: Serializer,\n    {\n        let Payload(typ, qry, opts) = self;\n        let typ = *typ as i32;\n        match qry {\n            Some(query) =\u003e (typ, query, opts).serialize(serializer),\n            None =\u003e (typ,).serialize(serializer),\n        }\n    }\n}\n\nimpl Payload\u003c'_\u003e {\n    pub(crate) fn to_bytes(\u0026self) -\u003e Result\u003cVec\u003cu8\u003e, err::ReqlError\u003e {\n        Ok(serde_json::to_vec(self)?)\n    }\n}\n\n// for debugging purposes only\nimpl fmt::Display for Payload\u003c'_\u003e {\n    fn fmt(\u0026self, f: \u0026mut fmt::Formatter\u003c'_\u003e) -\u003e fmt::Result {\n        // print the serialised string if we can\n        if let Ok(payload) = self.to_bytes() {\n            if let Ok(payload) = str::from_utf8(\u0026payload) {\n                return write!(f, \"{}\", payload);\n            }\n        }\n        // otherwise just print the debug form\n        write!(f, \"{:?}\", self)\n    }\n}\n\nimpl Serialize for Db {\n    fn serialize\u003cS\u003e(\u0026self, serializer: S) -\u003e Result\u003cS::Ok, S::Error\u003e\n    where\n        S: Serializer,\n    {\n        let Self(name) = self;\n        let cmd = r.db(name.as_ref());\n        Query(\u0026cmd).serialize(serializer)\n    }\n}\n","traces":[{"line":24,"address":[4033920],"length":1,"stats":{"Line":0},"fn_name":"default"},{"line":25,"address":[4033923],"length":1,"stats":{"Line":0},"fn_name":null},{"line":30,"address":[2167984,2168413],"length":1,"stats":{"Line":10},"fn_name":"serialize\u003c\u0026mut serde_json::ser::Serializer\u003c\u0026mut alloc::vec::Vec\u003cu8, alloc::alloc::Global\u003e, serde_json::ser::CompactFormatter\u003e\u003e"},{"line":34,"address":[2168011],"length":1,"stats":{"Line":10},"fn_name":null},{"line":35,"address":[2168057,2168406],"length":1,"stats":{"Line":2},"fn_name":null},{"line":36,"address":[2168394,2168087],"length":1,"stats":{"Line":2},"fn_name":null},{"line":37,"address":[2168382,2168129],"length":1,"stats":{"Line":2},"fn_name":null},{"line":38,"address":[2168171,2168370],"length":1,"stats":{"Line":16},"fn_name":null},{"line":39,"address":[2168358,2168213],"length":1,"stats":{"Line":2},"fn_name":null},{"line":40,"address":[2168270,2168335],"length":1,"stats":{"Line":16},"fn_name":null},{"line":46,"address":[4033936],"length":1,"stats":{"Line":10},"fn_name":"from"},{"line":47,"address":[4033958],"length":1,"stats":{"Line":10},"fn_name":null},{"line":48,"address":[4033994],"length":1,"stats":{"Line":1},"fn_name":null},{"line":49,"address":[4034012],"length":1,"stats":{"Line":1},"fn_name":null},{"line":50,"address":[4034053],"length":1,"stats":{"Line":1},"fn_name":null},{"line":51,"address":[4034116],"length":1,"stats":{"Line":8},"fn_name":null},{"line":52,"address":[4034193,4034481],"length":1,"stats":{"Line":2},"fn_name":null},{"line":54,"address":[4034339],"length":1,"stats":{"Line":8},"fn_name":null},{"line":55,"address":[2168432,2168456],"length":1,"stats":{"Line":2},"fn_name":"{closure#0}"},{"line":75,"address":[4034760,4034544],"length":1,"stats":{"Line":11},"fn_name":"new"},{"line":79,"address":[4034586],"length":1,"stats":{"Line":11},"fn_name":null},{"line":86,"address":[4035002,4034800,4035029],"length":1,"stats":{"Line":1},"fn_name":"var"},{"line":87,"address":[4034825],"length":1,"stats":{"Line":1},"fn_name":null},{"line":88,"address":[4034918,4034851],"length":1,"stats":{"Line":2},"fn_name":null},{"line":91,"address":[4035281,4035040],"length":1,"stats":{"Line":3},"fn_name":"with_parent"},{"line":92,"address":[4035067],"length":1,"stats":{"Line":3},"fn_name":null},{"line":93,"address":[4035120],"length":1,"stats":{"Line":3},"fn_name":null},{"line":94,"address":[4035258],"length":1,"stats":{"Line":3},"fn_name":null},{"line":98,"address":[2168950,2168688],"length":1,"stats":{"Line":3},"fn_name":"with_arg\u003creql_rust::proto::Command\u003e"},{"line":99,"address":[2168748],"length":1,"stats":{"Line":3},"fn_name":null},{"line":100,"address":[2168809],"length":1,"stats":{"Line":9},"fn_name":null},{"line":101,"address":[2168927],"length":1,"stats":{"Line":9},"fn_name":null},{"line":104,"address":[2175872,2183758,2175328,2180400,2176960,2180366,2173104,2183184,2171200,2179150,2172496,2173070,2176371,2172960,2172414,2178032,2170736,2175250,2179792,2180862,2180901,2174640,2179040,2181410,2183648,2171918,2176915,2170094,2177457,2178576,2179184,2171952,2184264,2170128,2170592,2171344,2178498,2180944,2171808,2168976,2173570,2177993,2174176,2182498,2183792,2169475,2173648,2175289,2180256,2181488,2181449,2170702,2174750,2176332,2177419,2182537,2178537,2181993,2171310,2179758,2175790,2181954,2176416,2169436,2173609,2169520,2182576,2184374,2169984,2174106,2176876,2183150,2172453,2182032,2177954,2179648,2175829,2183040,2177488,2174144,2174784],"length":1,"stats":{"Line":38},"fn_name":"with_opts\u003creql_rust::cmd::random::RandomOption\u003e"},{"line":108,"address":[2179924,2170163,2171379,2177614,2175450,2175363,2169652,2180435,2179219,2181614,2182708,2183219,2180978,2170771,2178611,2169555,2172531,2175900,2173679,2173138,2174308,2173771,2176444,2176536,2181522,2182066,2179827,2177522,2170868,2171987,2178708,2175992,2177084,2174910,2181070,2171476,2172074,2178066,2169004,2176992,2178158,2169096,2182158,2183316,2173230,2182611,2183827,2174818,2180522,2172628,2174211,2183928,2170260,2179316],"length":1,"stats":{"Line":76},"fn_name":null},{"line":109,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":110,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":111,"address":[2178737,2180551,2177643,2169125,2179345,2181099,2181643,2183345,2183957,2176565,2176021,2177112,2182737,2169681,2172657,2170897,2182187,2173799,2178187,2172103,2179953,2170289,2173259,2171505,2174337,2175479,2174939],"length":1,"stats":{"Line":38},"fn_name":null},{"line":112,"address":[2174030,2175173,2181877,2179606,2173493,2170550,2176799,2172918,2171158,2174598,2177877,2178421,2171766,2180785,2182421,2184218,2176255,2169359,2181333,2172337,2177343,2180214,2182998,2183606,2169942,2175713,2178998],"length":1,"stats":{"Line":38},"fn_name":null},{"line":116,"address":[2184816,2186336,2185152,2186496,2186816,2185888,2187264,2187344,2187424,2184496,2186976,2186416,2185616,2185968,2184720,2185456,2186896,2186240,2185328,2187184,2184608,2185056,2186160,2185232,2184416,2187536,2186080,2187056,2185808,2185728,2185536,2186736,2184976,2186608,2184896],"length":1,"stats":{"Line":39},"fn_name":"from_json\u003cu8\u003e"},{"line":120,"address":[2186257,2187440,2184834,2184436,2184512,2185984,2185554,2187283,2185906,2186178,2187554,2185262,2185474,2186625,2185826,2184914,2186994,2186841,2187073,2185073,2186098,2185170,2187362,2184994,2186512,2186754,2185746,2187201,2185632,2185345,2186354,2186434,2186914,2184750,2184637],"length":1,"stats":{"Line":39},"fn_name":null},{"line":121,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":125,"address":[4035312],"length":1,"stats":{"Line":0},"fn_name":"mark_change_feed"},{"line":126,"address":[4035320],"length":1,"stats":{"Line":0},"fn_name":null},{"line":127,"address":[4035327],"length":1,"stats":{"Line":0},"fn_name":null},{"line":130,"address":[4035344],"length":1,"stats":{"Line":10},"fn_name":"change_feed"},{"line":131,"address":[4035349],"length":1,"stats":{"Line":10},"fn_name":null},{"line":136,"address":[4035376],"length":1,"stats":{"Line":10},"fn_name":"from"},{"line":137,"address":[4035392],"length":1,"stats":{"Line":11},"fn_name":null},{"line":142,"address":[4035788,4035472],"length":1,"stats":{"Line":11},"fn_name":"from"},{"line":143,"address":[4035496],"length":1,"stats":{"Line":11},"fn_name":null},{"line":144,"address":[4035760,4035581],"length":1,"stats":{"Line":22},"fn_name":null},{"line":151,"address":[4035840],"length":1,"stats":{"Line":0},"fn_name":"from"},{"line":152,"address":[4035853],"length":1,"stats":{"Line":0},"fn_name":null},{"line":158,"address":[4035936],"length":1,"stats":{"Line":3},"fn_name":"from"},{"line":159,"address":[4035958],"length":1,"stats":{"Line":9},"fn_name":null},{"line":160,"address":[4036210,4035977],"length":1,"stats":{"Line":19},"fn_name":null},{"line":161,"address":[4036084],"length":1,"stats":{"Line":0},"fn_name":null},{"line":170,"address":[2187616,2188362,2188917],"length":1,"stats":{"Line":10},"fn_name":"serialize\u003c\u0026mut serde_json::ser::Serializer\u003c\u0026mut alloc::vec::Vec\u003cu8, alloc::alloc::Global\u003e, serde_json::ser::CompactFormatter\u003e\u003e"},{"line":174,"address":[2187644],"length":1,"stats":{"Line":10},"fn_name":null},{"line":175,"address":[2187676],"length":1,"stats":{"Line":10},"fn_name":null},{"line":176,"address":[2188755,2187693],"length":1,"stats":{"Line":14},"fn_name":null},{"line":177,"address":[2188907,2188826],"length":1,"stats":{"Line":19},"fn_name":null},{"line":178,"address":[2188863],"length":1,"stats":{"Line":0},"fn_name":null},{"line":179,"address":[2188772],"length":1,"stats":{"Line":0},"fn_name":null},{"line":181,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":182,"address":[2187746],"length":1,"stats":{"Line":10},"fn_name":null},{"line":183,"address":[2187838,2187766],"length":1,"stats":{"Line":18},"fn_name":null},{"line":184,"address":[2188144,2188207,2188342,2187860],"length":1,"stats":{"Line":32},"fn_name":null},{"line":185,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":186,"address":[2188290,2187877,2188219,2188014],"length":1,"stats":{"Line":16},"fn_name":null},{"line":187,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":189,"address":[2188308,2188258,2188191,2188373,2188355],"length":1,"stats":{"Line":24},"fn_name":null},{"line":190,"address":[2188725,2188574,2188660,2188394,2187808],"length":1,"stats":{"Line":15},"fn_name":null},{"line":191,"address":[2188558,2188738,2188628,2188691],"length":1,"stats":{"Line":8},"fn_name":null},{"line":192,"address":[2187904,2187974],"length":1,"stats":{"Line":0},"fn_name":null},{"line":199,"address":[4036870,4036224],"length":1,"stats":{"Line":4},"fn_name":"to_query_result"},{"line":200,"address":[4036262],"length":1,"stats":{"Line":4},"fn_name":null},{"line":201,"address":[4036297,4036341,4036537],"length":1,"stats":{"Line":30},"fn_name":null},{"line":202,"address":[2188960,2188944],"length":1,"stats":{"Line":10},"fn_name":"{closure#0}"},{"line":203,"address":[4036661,4036865],"length":1,"stats":{"Line":20},"fn_name":null},{"line":205,"address":[4036450],"length":1,"stats":{"Line":10},"fn_name":null},{"line":216,"address":[2188976],"length":1,"stats":{"Line":10},"fn_name":"serialize\u003c\u0026mut serde_json::ser::Serializer\u003c\u0026mut alloc::vec::Vec\u003cu8, alloc::alloc::Global\u003e, serde_json::ser::CompactFormatter\u003e\u003e"},{"line":220,"address":[2188998],"length":1,"stats":{"Line":10},"fn_name":null},{"line":221,"address":[2189042],"length":1,"stats":{"Line":10},"fn_name":null},{"line":222,"address":[2189056],"length":1,"stats":{"Line":10},"fn_name":null},{"line":223,"address":[2189125],"length":1,"stats":{"Line":10},"fn_name":null},{"line":224,"address":[2189085],"length":1,"stats":{"Line":0},"fn_name":null},{"line":230,"address":[4036896],"length":1,"stats":{"Line":10},"fn_name":"to_bytes"},{"line":231,"address":[4036921,4037074],"length":1,"stats":{"Line":10},"fn_name":null},{"line":237,"address":[4037120,4037769,4037790],"length":1,"stats":{"Line":0},"fn_name":"fmt"},{"line":239,"address":[4037145],"length":1,"stats":{"Line":0},"fn_name":null},{"line":240,"address":[4037218,4037318],"length":1,"stats":{"Line":0},"fn_name":null},{"line":241,"address":[4037380,4037657],"length":1,"stats":{"Line":0},"fn_name":null},{"line":245,"address":[4037503,4037552],"length":1,"stats":{"Line":0},"fn_name":null},{"line":250,"address":[2999052,2999028,2998800],"length":1,"stats":{"Line":0},"fn_name":"serialize\u003c\u0026mut serde_json::ser::Serializer\u003c\u0026mut alloc::vec::Vec\u003cu8, alloc::alloc::Global\u003e, serde_json::ser::CompactFormatter\u003e\u003e"},{"line":254,"address":[2998828],"length":1,"stats":{"Line":0},"fn_name":null},{"line":255,"address":[2998929,2998852],"length":1,"stats":{"Line":0},"fn_name":null},{"line":256,"address":[2998946],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":71,"coverable":98},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","spec.rs"],"content":"use serde::{Deserialize, Serialize};\nuse serde_json::json;\nuse uuid::Uuid;\n\nuse crate::arguments::Durability;\nuse crate::cmd::insert::InsertOption;\nuse crate::{args, r, Command, Result, Session};\n\npub async fn set_up(with_data: bool) -\u003e Result\u003c(Session, Command, String)\u003e {\n    let table_name = Uuid::new_v4().to_string();\n    let user_rethinkdb = json!({\n        \"id\": \"malik\",\n        \"password\": \"malik\"\n    });\n    let conn = r.connection().connect().await?;\n    let table = r.table(table_name.as_str());\n\n    r.table_create(table_name.as_str()).run(\u0026conn).await?;\n    r.db(\"rethinkdb\")\n        .table(\"users\")\n        .insert(user_rethinkdb)\n        .run(\u0026conn)\n        .await?;\n\n    if with_data {\n        let data = Post::get_many_data();\n        let insert_option = InsertOption::default().durability(Durability::Soft);\n\n        table.clone().index_create(\"title\").run(\u0026conn).await?;\n        table.clone().index_wait(()).run(\u0026conn).await?;\n        table\n            .clone()\n            .insert(args!((data, insert_option)))\n            .run(\u0026conn)\n            .await?;\n    }\n\n    Ok((conn, table, table_name))\n}\n\npub async fn tear_down(conn: Session, table_name: \u0026str) -\u003e Result\u003c()\u003e {\n    r.table_drop(table_name).run(\u0026conn).await?;\n    r.db(\"rethinkdb\")\n        .table(\"users\")\n        .get(\"malik\")\n        .delete(())\n        .run(\u0026conn)\n        .await?;\n    Ok(())\n}\n\n#[derive(Debug, Clone, Serialize, Deserialize, PartialEq, Eq)]\npub struct Post {\n    pub id: u8,\n    pub title: String,\n    pub content: Option\u003cString\u003e,\n    pub view: u8,\n}\n\nimpl Post {\n    pub fn new(id: u8, title: \u0026str, content: Option\u003c\u0026str\u003e, view: u8) -\u003e Self {\n        Self {\n            id,\n            view,\n            title: title.to_string(),\n            content: content.map(|text| text.to_string()),\n        }\n    }\n\n    pub fn get_many_data() -\u003e Vec\u003cPost\u003e {\n        vec![\n            Self::new(1, \"title1\", Some(\"content1\"), 10),\n            Self::new(2, \"title2\", Some(\"content2\"), 2),\n            Self::new(3, \"title3\", None, 0),\n            Self::new(4, \"title4\", Some(\"content4\"), 2),\n            Self::new(5, \"title4\", None, 0),\n        ]\n    }\n\n    pub fn get_one_data() -\u003e Post {\n        Self::new(1, \"title1\", Some(\"content1\"), 0)\n    }\n}\n","traces":[{"line":9,"address":[4514587,4515074,4521156,4513952,4514021,4514150],"length":1,"stats":{"Line":5},"fn_name":"{async_fn#0}"},{"line":10,"address":[4514128,4514715],"length":1,"stats":{"Line":2},"fn_name":null},{"line":11,"address":[4515361,4514785,4515055,4515110,4514848,4515176,4514730],"length":1,"stats":{"Line":21},"fn_name":null},{"line":15,"address":[6843568],"length":1,"stats":{"Line":17},"fn_name":null},{"line":16,"address":[4515986,4516249],"length":1,"stats":{"Line":12},"fn_name":null},{"line":18,"address":[6843434,6843377],"length":1,"stats":{"Line":19},"fn_name":null},{"line":19,"address":[4517223,4517052,4517381,4517125,4517455,4517258,4517656,4517864],"length":1,"stats":{"Line":7},"fn_name":null},{"line":21,"address":[4517168],"length":1,"stats":{"Line":1},"fn_name":null},{"line":22,"address":[6843300],"length":1,"stats":{"Line":6},"fn_name":null},{"line":23,"address":[6843354,6843314],"length":1,"stats":{"Line":1},"fn_name":null},{"line":25,"address":[4517934,4520875],"length":1,"stats":{"Line":2},"fn_name":null},{"line":26,"address":[4517956],"length":1,"stats":{"Line":1},"fn_name":null},{"line":27,"address":[4518095,4518020],"length":1,"stats":{"Line":2},"fn_name":null},{"line":29,"address":[4514400,4518240,4514243,4518194],"length":1,"stats":{"Line":4},"fn_name":null},{"line":30,"address":[4514349,4519067,4514264,4519005],"length":1,"stats":{"Line":4},"fn_name":null},{"line":31,"address":[4519987,4520631,4520145,4520022,4520222,4520423,4519781],"length":1,"stats":{"Line":6},"fn_name":null},{"line":33,"address":[4519835],"length":1,"stats":{"Line":1},"fn_name":null},{"line":34,"address":[4520350,4514282,4520002,4520045,4520178],"length":1,"stats":{"Line":5},"fn_name":null},{"line":35,"address":[4520661,4520513],"length":1,"stats":{"Line":1},"fn_name":null},{"line":38,"address":[4520936],"length":1,"stats":{"Line":1},"fn_name":null},{"line":41,"address":[4522240,4521310,4521443,4521211,4523145,4522194,4521168,4521730,4523042],"length":1,"stats":{"Line":5},"fn_name":"{async_fn#0}"},{"line":42,"address":[4521535,4521300,4521405,4521741,4521334],"length":1,"stats":{"Line":4},"fn_name":null},{"line":43,"address":[4522208,4522278,4522396,4522507,4522578,4522767,4522975],"length":1,"stats":{"Line":6},"fn_name":null},{"line":47,"address":[4522706,4522376,4521349,4522419,4522537],"length":1,"stats":{"Line":5},"fn_name":null},{"line":48,"address":[4522857,4523005],"length":1,"stats":{"Line":1},"fn_name":null},{"line":49,"address":[4523133],"length":1,"stats":{"Line":1},"fn_name":null},{"line":61,"address":[7016479,7016224],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":65,"address":[7016323],"length":1,"stats":{"Line":4},"fn_name":null},{"line":66,"address":[4523168,4523190],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":70,"address":[7016512,7017269],"length":1,"stats":{"Line":4},"fn_name":"get_many_data"},{"line":71,"address":[7016633,7017087,7016751,7016529,7016857,7016978],"length":1,"stats":{"Line":1},"fn_name":null},{"line":72,"address":[7016559],"length":1,"stats":{"Line":4},"fn_name":null},{"line":73,"address":[7016665],"length":1,"stats":{"Line":4},"fn_name":null},{"line":74,"address":[7016783],"length":1,"stats":{"Line":1},"fn_name":null},{"line":75,"address":[7016886],"length":1,"stats":{"Line":4},"fn_name":null},{"line":76,"address":[7017010],"length":1,"stats":{"Line":1},"fn_name":null},{"line":80,"address":[7017312],"length":1,"stats":{"Line":1},"fn_name":"get_one_data"},{"line":81,"address":[7017324],"length":1,"stats":{"Line":1},"fn_name":null}],"covered":38,"coverable":38},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","types","binary.rs"],"content":"use serde::{Deserialize, Serialize};\n\nuse super::ReqlType;\n\n#[derive(Debug, Serialize, Deserialize, Clone)]\npub struct Binary {\n    #[serde(rename = \"$reql_type$\")]\n    reql_type: ReqlType,\n    pub data: String,\n}\n\nimpl Binary {\n    pub fn new(bytes: \u0026[u8]) -\u003e Self {\n        Self {\n            reql_type: ReqlType::Binary,\n            data: base64::encode(bytes),\n        }\n    }\n}\n","traces":[{"line":13,"address":[2212336],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":16,"address":[2212365],"length":1,"stats":{"Line":1},"fn_name":null}],"covered":2,"coverable":2},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","types","datetime.rs"],"content":"use std::fmt::Debug;\nuse std::hash::Hash;\nuse std::ops::Deref;\n\nuse serde::{de, Deserialize, Deserializer, Serialize, Serializer};\nuse time::format_description::well_known::Iso8601;\nuse time::macros::time;\nuse time::{format_description, OffsetDateTime, UtcOffset};\n\nuse crate::arguments::Args;\nuse crate::constants::{HOUR, MINUTE, NANOS_PER_MSEC, NANOS_PER_SEC, TIMEZONE_FORMAT};\nuse crate::{cmd, Command};\n\nuse super::response_with_cmd::ResponseWithCmd;\nuse super::Time;\n\n#[derive(Clone)]\npub struct DateTime(pub OffsetDateTime, pub Option\u003cCommand\u003e);\n\nimpl DateTime {\n    pub(crate) fn now() -\u003e Self {\n        let offset_datetime = OffsetDateTime::now_utc();\n\n        Self::default().create_datetime_command(Some(offset_datetime), Some(cmd::now::new()))\n    }\n\n    pub(crate) fn time(args: impl cmd::time::TimeArg) -\u003e Self {\n        let (offset_datetime, timezone_formated, with_time) = args.into_time_opts();\n\n        Self::default().create_datetime_command(\n            Some(offset_datetime),\n            Some(cmd::time::new(\n                offset_datetime,\n                timezone_formated,\n                with_time,\n            )),\n        )\n    }\n\n    pub(crate) fn epoch_time(timestamp: i64) -\u003e crate::Result\u003cSelf\u003e {\n        let offset_datetime = OffsetDateTime::from_unix_timestamp(timestamp)?;\n\n        Ok(Self::default().create_datetime_command(\n            Some(offset_datetime),\n            Some(cmd::epoch_time::epoch_time(timestamp)),\n        ))\n    }\n\n    pub(crate) fn iso8601(args: impl cmd::iso8601::Iso8601) -\u003e crate::Result\u003cSelf\u003e {\n        let datetime = args.into_iso8601_opts()?;\n        let command = cmd::iso8601::new(\u0026datetime);\n        let datetime = OffsetDateTime::parse(\u0026datetime, \u0026Iso8601::DEFAULT)?;\n\n        Ok(Self::default().create_datetime_command(Some(datetime), Some(command)))\n    }\n\n    pub fn in_timezone(self, timezone: UtcOffset) -\u003e Self {\n        let datetime = self.0.replace_offset(timezone);\n\n        self.clone().create_datetime_command(\n            Some(datetime),\n            Some(cmd::in_timezone::new(timezone).with_parent(self.cmd())),\n        )\n    }\n\n    pub fn timezone(self) -\u003e ResponseWithCmd\u003cUtcOffset\u003e {\n        ResponseWithCmd(\n            self.0.offset(),\n            cmd::timezone::new().with_parent(self.cmd()),\n        )\n    }\n\n    pub fn during(\n        self,\n        start_time: DateTime,\n        end_time: DateTime,\n        during_option: Option\u003ccmd::during::DuringOption\u003e,\n    ) -\u003e ResponseWithCmd\u003cbool\u003e {\n        let is_verified = self.le(\u0026end_time) \u0026\u0026 self.gt(\u0026start_time);\n\n        ResponseWithCmd(\n            is_verified,\n            cmd::during::new(Args((start_time, end_time, during_option))).with_parent(self.cmd()),\n        )\n    }\n\n    pub fn date(self) -\u003e Self {\n        let datetime = self.0.replace_time(time!(00:00));\n\n        self.clone().create_datetime_command(\n            Some(datetime),\n            Some(cmd::date::new().with_parent(self.cmd())),\n        )\n    }\n\n    pub fn time_of_day(self) -\u003e ResponseWithCmd\u003cf64\u003e {\n        let time_ = self.0.time();\n        let milliseconds = get_milliseconds(\u0026time_);\n        let hours: f64 = time_.hour().into();\n        let minutes: f64 = time_.minute().into();\n        let seconds: f64 = time_.second().into();\n        let seconds: f64 = hours * HOUR + minutes * MINUTE + seconds;\n\n        ResponseWithCmd(\n            seconds + milliseconds,\n            cmd::time_of_day::new().with_parent(self.cmd()),\n        )\n    }\n\n    pub fn year(self) -\u003e ResponseWithCmd\u003ci32\u003e {\n        ResponseWithCmd(\n            self.0.date().year(),\n            cmd::year::new().with_parent(self.cmd()),\n        )\n    }\n\n    pub fn month(self) -\u003e ResponseWithCmd\u003cu8\u003e {\n        ResponseWithCmd(\n            self.0.date().month().into(),\n            cmd::month::new().with_parent(self.cmd()),\n        )\n    }\n\n    pub fn day(self) -\u003e ResponseWithCmd\u003cu8\u003e {\n        ResponseWithCmd(self.0.date().day(), cmd::day::new().with_parent(self.cmd()))\n    }\n\n    pub fn day_of_week(self) -\u003e ResponseWithCmd\u003cu8\u003e {\n        ResponseWithCmd(\n            self.0.date().weekday().number_from_monday(),\n            cmd::day_of_week::new().with_parent(self.cmd()),\n        )\n    }\n\n    pub fn day_of_year(self) -\u003e ResponseWithCmd\u003cu16\u003e {\n        ResponseWithCmd(\n            self.0.date().ordinal(),\n            cmd::day_of_year::new().with_parent(self.cmd()),\n        )\n    }\n\n    pub fn hours(self) -\u003e ResponseWithCmd\u003cu8\u003e {\n        ResponseWithCmd(\n            self.0.time().hour(),\n            cmd::hours::new().with_parent(self.cmd()),\n        )\n    }\n\n    pub fn minutes(self) -\u003e ResponseWithCmd\u003cu8\u003e {\n        ResponseWithCmd(\n            self.0.time().minute(),\n            cmd::minutes::new().with_parent(self.cmd()),\n        )\n    }\n\n    pub fn seconds(self) -\u003e ResponseWithCmd\u003cf64\u003e {\n        let time = self.0.time();\n        let second: f64 = time.second().into();\n\n        ResponseWithCmd(\n            second + get_milliseconds(\u0026time),\n            cmd::seconds::new().with_parent(self.cmd()),\n        )\n    }\n\n    pub fn to_iso8601(self) -\u003e ResponseWithCmd\u003cString\u003e {\n        let iso8601 = self.0.format(\u0026Iso8601::DEFAULT).unwrap();\n\n        ResponseWithCmd(iso8601, cmd::to_iso8601::new().with_parent(self.cmd()))\n    }\n\n    pub fn to_epoch_time(self) -\u003e ResponseWithCmd\u003cf64\u003e {\n        let milliseconds = get_milliseconds(\u0026self.0.time());\n        let current_time = self.0.unix_timestamp().to_string();\n        let current_time: f64 = current_time.parse().unwrap_or_default();\n\n        ResponseWithCmd(\n            current_time + milliseconds,\n            cmd::to_epoch_time::new().with_parent(self.cmd()),\n        )\n    }\n\n    fn create_datetime_command(\n        mut self,\n        offset_datetime: Option\u003cOffsetDateTime\u003e,\n        command: Option\u003cCommand\u003e,\n    ) -\u003e Self {\n        if let Some(command) = command {\n            self.1 = Some(command);\n        }\n\n        if let Some(offset_datetime) = offset_datetime {\n            self.0 = offset_datetime\n        }\n\n        self\n    }\n\n    pub fn cmd(self) -\u003e Command {\n        Command::from(self)\n    }\n\n    pub fn value(self) -\u003e Time {\n        Time::from(self)\n    }\n}\n\nimpl\u003c'de\u003e Deserialize\u003c'de\u003e for DateTime {\n    fn deserialize\u003cD\u003e(deserializer: D) -\u003e Result\u003cSelf, D::Error\u003e\n    where\n        D: Deserializer\u003c'de\u003e,\n    {\n        let time = Time::deserialize(deserializer)?;\n        let epoch_time = time.epoch_time.to_string();\n        let format = match format_description::parse(\"[offset_hour]:[offset_minute]\") {\n            Ok(fmt) =\u003e fmt,\n            Err(error) =\u003e {\n                return Err(de::Error::custom(error));\n            }\n        };\n        let offset = match UtcOffset::parse(\u0026time.timezone, \u0026format) {\n            Ok(offset) =\u003e offset,\n            Err(error) =\u003e {\n                return Err(de::Error::custom(error));\n            }\n        };\n        let (secs, msecs) = match epoch_time.split_once('.') {\n            Some(parts) =\u003e parts,\n            None =\u003e (epoch_time.as_str(), \"0\"),\n        };\n        let secs = match secs.parse::\u003ci128\u003e() {\n            Ok(secs) =\u003e match secs.checked_mul(NANOS_PER_SEC) {\n                Some(secs) =\u003e secs,\n                None =\u003e {\n                    return Err(de::Error::custom(\"seconds to nanosecond overflow\"));\n                }\n            },\n            Err(..) =\u003e {\n                return Err(de::Error::custom(\"invalid epoch time seconds\"));\n            }\n        };\n        // RethinkDB timestamps have millisecond precision so we need\n        // to convert the milliseconds to nanoseconds first\n        let msecs = match msecs.parse::\u003ci128\u003e() {\n            Ok(int) =\u003e {\n                let msecs = match msecs.len() {\n                    3 =\u003e int,\n                    2 =\u003e int * 10,\n                    1 =\u003e int * 100,\n                    _ =\u003e {\n                        return Err(de::Error::custom(\"invalid epoch milliseconds\"));\n                    }\n                };\n                match msecs.checked_mul(NANOS_PER_MSEC) {\n                    Some(msecs) =\u003e msecs,\n                    None =\u003e {\n                        return Err(de::Error::custom(\"millisecond to nanosecond overflow\"));\n                    }\n                }\n            }\n            Err(..) =\u003e {\n                return Err(de::Error::custom(\"invalid epoch time milliseconds\"));\n            }\n        };\n        let timestamp = match secs.checked_add(msecs) {\n            Some(timestamp) =\u003e timestamp,\n            None =\u003e {\n                return Err(de::Error::custom(\"timestamp addition overflow\"));\n            }\n        };\n        let dt = match OffsetDateTime::from_unix_timestamp_nanos(timestamp) {\n            Ok(date_time) =\u003e date_time.to_offset(offset),\n            Err(error) =\u003e {\n                return Err(de::Error::custom(error));\n            }\n        };\n        Ok(DateTime(dt, None))\n    }\n}\n\nimpl Serialize for DateTime {\n    fn serialize\u003cS\u003e(\u0026self, serializer: S) -\u003e Result\u003cS::Ok, S::Error\u003e\n    where\n        S: Serializer,\n    {\n        Time::from(self.to_owned()).serialize(serializer)\n    }\n}\n\nimpl Default for DateTime {\n    fn default() -\u003e Self {\n        let offset_datetime = OffsetDateTime::now_utc();\n\n        Self(offset_datetime, None)\n    }\n}\n\nimpl Debug for DateTime {\n    fn fmt(\u0026self, f: \u0026mut std::fmt::Formatter\u003c'_\u003e) -\u003e std::fmt::Result {\n        f.debug_tuple(\"DateTime\").field(\u0026self.0).finish()\n    }\n}\n\nimpl Deref for DateTime {\n    type Target = OffsetDateTime;\n\n    fn deref(\u0026self) -\u003e \u0026Self::Target {\n        \u0026self.0\n    }\n}\n\nimpl PartialEq for DateTime {\n    fn eq(\u0026self, other: \u0026Self) -\u003e bool {\n        self.0.eq(\u0026other.0)\n    }\n}\n\nimpl PartialOrd for DateTime {\n    fn partial_cmp(\u0026self, other: \u0026Self) -\u003e Option\u003cstd::cmp::Ordering\u003e {\n        self.0.partial_cmp(\u0026other.0)\n    }\n}\n\nimpl Eq for DateTime {}\n\nimpl Ord for DateTime {\n    fn cmp(\u0026self, other: \u0026Self) -\u003e std::cmp::Ordering {\n        self.0.cmp(\u0026other.0)\n    }\n}\n\nimpl Hash for DateTime {\n    fn hash\u003cH: std::hash::Hasher\u003e(\u0026self, state: \u0026mut H) {\n        self.0.hash(state);\n    }\n}\n\nimpl From\u003cOffsetDateTime\u003e for DateTime {\n    fn from(dt: OffsetDateTime) -\u003e Self {\n        Self(dt, None)\n    }\n}\n\nimpl From\u003cDateTime\u003e for OffsetDateTime {\n    fn from(DateTime(dt, _): DateTime) -\u003e Self {\n        dt\n    }\n}\n\nimpl From\u003cDateTime\u003e for Command {\n    fn from(date_time: DateTime) -\u003e Self {\n        date_time.1.unwrap()\n    }\n}\n\nimpl From\u003cDateTime\u003e for Time {\n    fn from(date_time: DateTime) -\u003e Self {\n        Self::from(date_time.0)\n    }\n}\n\npub fn timezone_to_string(timezone: UtcOffset) -\u003e String {\n    if timezone.is_utc() {\n        String::from(\"Z\")\n    } else {\n        let format = format_description::parse(TIMEZONE_FORMAT).unwrap();\n        timezone.format(\u0026format).unwrap()\n    }\n}\n\nfn get_milliseconds(time: \u0026time::Time) -\u003e f64 {\n    let milliseconds: f64 = time.millisecond().into();\n\n    milliseconds / 1000.\n}\n","traces":[{"line":21,"address":[4020500,4020527,4020272],"length":1,"stats":{"Line":1},"fn_name":"now"},{"line":22,"address":[4020289],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[4020520,4020308],"length":1,"stats":{"Line":1},"fn_name":null},{"line":27,"address":[4404256,4404782,4404304,4403792],"length":1,"stats":{"Line":2},"fn_name":"time\u003creql_rust::arguments::Args\u003c(time::date::Date, time::time::Time, time::utc_offset::UtcOffset)\u003e\u003e"},{"line":28,"address":[4404336,4403809],"length":1,"stats":{"Line":2},"fn_name":null},{"line":30,"address":[4404447,4403921,4404704,4404178],"length":1,"stats":{"Line":4},"fn_name":null},{"line":31,"address":[4404499,4403973],"length":1,"stats":{"Line":2},"fn_name":null},{"line":32,"address":[4404583,4404167,4404693,4404057],"length":1,"stats":{"Line":4},"fn_name":null},{"line":33,"address":[4404536,4404010],"length":1,"stats":{"Line":2},"fn_name":null},{"line":34,"address":[4404023,4404549],"length":1,"stats":{"Line":2},"fn_name":null},{"line":40,"address":[4021038,4020544,4021008],"length":1,"stats":{"Line":1},"fn_name":"epoch_time"},{"line":41,"address":[4020698,4020574],"length":1,"stats":{"Line":1},"fn_name":null},{"line":43,"address":[4020917,4020675,4020969],"length":1,"stats":{"Line":3},"fn_name":null},{"line":44,"address":[4020794],"length":1,"stats":{"Line":1},"fn_name":null},{"line":45,"address":[4020911,4020831],"length":1,"stats":{"Line":2},"fn_name":null},{"line":49,"address":[4406782,4405801,4404832,4405840],"length":1,"stats":{"Line":2},"fn_name":"iso8601\u003creql_rust::arguments::Args\u003c(\u0026str, time::utc_offset::UtcOffset)\u003e\u003e"},{"line":50,"address":[4405027,4405873,4404849,4406008],"length":1,"stats":{"Line":2},"fn_name":null},{"line":51,"address":[4405988,4405007,4406160,4405179],"length":1,"stats":{"Line":4},"fn_name":null},{"line":52,"address":[4405264,4405382,4406180,4406245,4406363,4405199],"length":1,"stats":{"Line":4},"fn_name":null},{"line":54,"address":[4405571,4406348,4406552,4405367],"length":1,"stats":{"Line":4},"fn_name":null},{"line":57,"address":[4021696,4021649,4021056],"length":1,"stats":{"Line":1},"fn_name":"in_timezone"},{"line":58,"address":[4021113],"length":1,"stats":{"Line":1},"fn_name":null},{"line":60,"address":[4021603,4021262],"length":1,"stats":{"Line":2},"fn_name":null},{"line":61,"address":[4021277],"length":1,"stats":{"Line":1},"fn_name":null},{"line":62,"address":[4021639,4021412,4021306],"length":1,"stats":{"Line":2},"fn_name":null},{"line":66,"address":[4021728,4022131],"length":1,"stats":{"Line":1},"fn_name":"timezone"},{"line":68,"address":[4021750,4021851],"length":1,"stats":{"Line":2},"fn_name":null},{"line":69,"address":[4021904,4022121],"length":1,"stats":{"Line":1},"fn_name":null},{"line":73,"address":[4022923,4022176,4022864],"length":1,"stats":{"Line":1},"fn_name":"during"},{"line":79,"address":[4022370,4022252],"length":1,"stats":{"Line":2},"fn_name":null},{"line":82,"address":[4022425],"length":1,"stats":{"Line":1},"fn_name":null},{"line":83,"address":[4022436,4022854],"length":1,"stats":{"Line":1},"fn_name":null},{"line":87,"address":[4022960,4023453,4023500],"length":1,"stats":{"Line":1},"fn_name":"date"},{"line":88,"address":[4022982],"length":1,"stats":{"Line":1},"fn_name":null},{"line":90,"address":[4023112,4023407],"length":1,"stats":{"Line":2},"fn_name":null},{"line":91,"address":[4023127],"length":1,"stats":{"Line":1},"fn_name":null},{"line":92,"address":[4023164,4023214,4023443],"length":1,"stats":{"Line":2},"fn_name":null},{"line":96,"address":[4024230,4023536],"length":1,"stats":{"Line":1},"fn_name":"time_of_day"},{"line":97,"address":[4023558,4023661],"length":1,"stats":{"Line":2},"fn_name":null},{"line":98,"address":[4023687],"length":1,"stats":{"Line":1},"fn_name":null},{"line":99,"address":[4023715],"length":1,"stats":{"Line":1},"fn_name":null},{"line":100,"address":[4023786],"length":1,"stats":{"Line":1},"fn_name":null},{"line":101,"address":[4023857],"length":1,"stats":{"Line":1},"fn_name":null},{"line":102,"address":[4023954],"length":1,"stats":{"Line":1},"fn_name":null},{"line":105,"address":[4023987],"length":1,"stats":{"Line":1},"fn_name":null},{"line":106,"address":[4024005,4024220],"length":1,"stats":{"Line":1},"fn_name":null},{"line":110,"address":[4024633,4024272],"length":1,"stats":{"Line":1},"fn_name":"year"},{"line":112,"address":[4024294,4024395],"length":1,"stats":{"Line":2},"fn_name":null},{"line":113,"address":[4024623,4024418],"length":1,"stats":{"Line":1},"fn_name":null},{"line":117,"address":[4024672,4025051],"length":1,"stats":{"Line":1},"fn_name":"month"},{"line":119,"address":[4024694,4024795],"length":1,"stats":{"Line":2},"fn_name":null},{"line":120,"address":[4025041,4024836],"length":1,"stats":{"Line":1},"fn_name":null},{"line":124,"address":[4025465,4025104],"length":1,"stats":{"Line":1},"fn_name":"day"},{"line":125,"address":[4025455,4025227,4025126],"length":1,"stats":{"Line":2},"fn_name":null},{"line":128,"address":[4025504,4025887],"length":1,"stats":{"Line":1},"fn_name":"day_of_week"},{"line":130,"address":[4025627,4025526],"length":1,"stats":{"Line":2},"fn_name":null},{"line":131,"address":[4025672,4025877],"length":1,"stats":{"Line":1},"fn_name":null},{"line":135,"address":[4026300,4025936],"length":1,"stats":{"Line":1},"fn_name":"day_of_year"},{"line":137,"address":[4026059,4025958],"length":1,"stats":{"Line":2},"fn_name":null},{"line":138,"address":[4026083,4026290],"length":1,"stats":{"Line":1},"fn_name":null},{"line":142,"address":[4026352,4026743],"length":1,"stats":{"Line":1},"fn_name":"hours"},{"line":144,"address":[4026374,4026477],"length":1,"stats":{"Line":2},"fn_name":null},{"line":145,"address":[4026526,4026733],"length":1,"stats":{"Line":1},"fn_name":null},{"line":149,"address":[4027175,4026784],"length":1,"stats":{"Line":1},"fn_name":"minutes"},{"line":151,"address":[4026806,4026909],"length":1,"stats":{"Line":2},"fn_name":null},{"line":152,"address":[4027165,4026958],"length":1,"stats":{"Line":1},"fn_name":null},{"line":156,"address":[4027694,4027216],"length":1,"stats":{"Line":1},"fn_name":"seconds"},{"line":157,"address":[4027238,4027341],"length":1,"stats":{"Line":2},"fn_name":null},{"line":158,"address":[4027362],"length":1,"stats":{"Line":1},"fn_name":null},{"line":161,"address":[4027432],"length":1,"stats":{"Line":1},"fn_name":null},{"line":162,"address":[4027684,4027475],"length":1,"stats":{"Line":1},"fn_name":null},{"line":166,"address":[4028207,4027744],"length":1,"stats":{"Line":1},"fn_name":"to_iso8601"},{"line":167,"address":[4027867,4027766],"length":1,"stats":{"Line":2},"fn_name":null},{"line":169,"address":[4027891,4028197],"length":1,"stats":{"Line":1},"fn_name":null},{"line":172,"address":[4028924,4028256,4028900],"length":1,"stats":{"Line":1},"fn_name":"to_epoch_time"},{"line":173,"address":[4028278,4028381],"length":1,"stats":{"Line":2},"fn_name":null},{"line":174,"address":[4028440],"length":1,"stats":{"Line":1},"fn_name":null},{"line":175,"address":[4028521,4028597],"length":1,"stats":{"Line":2},"fn_name":null},{"line":178,"address":[4028646],"length":1,"stats":{"Line":1},"fn_name":null},{"line":179,"address":[4028664,4028890],"length":1,"stats":{"Line":1},"fn_name":null},{"line":183,"address":[4029541,4029514,4028960],"length":1,"stats":{"Line":1},"fn_name":"create_datetime_command"},{"line":188,"address":[4029277,4028992],"length":1,"stats":{"Line":2},"fn_name":null},{"line":189,"address":[4029251,4029125,4029196],"length":1,"stats":{"Line":2},"fn_name":null},{"line":192,"address":[4029308,4029169],"length":1,"stats":{"Line":2},"fn_name":null},{"line":193,"address":[4029331],"length":1,"stats":{"Line":1},"fn_name":null},{"line":196,"address":[4029403],"length":1,"stats":{"Line":1},"fn_name":null},{"line":199,"address":[4029552],"length":1,"stats":{"Line":1},"fn_name":"cmd"},{"line":200,"address":[4029568],"length":1,"stats":{"Line":1},"fn_name":null},{"line":203,"address":[4029616],"length":1,"stats":{"Line":1},"fn_name":"value"},{"line":204,"address":[4029632],"length":1,"stats":{"Line":1},"fn_name":null},{"line":213,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":214,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":215,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":216,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":217,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":218,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":221,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":222,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":223,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":224,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":227,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":228,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":229,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":231,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":232,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":233,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":234,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":235,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":238,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":239,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":244,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":245,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":246,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":247,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":248,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":249,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":250,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":251,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":254,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":255,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":256,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":257,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":261,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":262,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":265,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":266,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":267,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":268,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":271,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":272,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":273,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":274,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":277,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":286,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":291,"address":[4029680],"length":1,"stats":{"Line":1},"fn_name":"default"},{"line":292,"address":[4029696],"length":1,"stats":{"Line":1},"fn_name":null},{"line":294,"address":[4029711],"length":1,"stats":{"Line":1},"fn_name":null},{"line":299,"address":[4029792],"length":1,"stats":{"Line":0},"fn_name":"fmt"},{"line":300,"address":[4029811],"length":1,"stats":{"Line":0},"fn_name":null},{"line":307,"address":[4029904],"length":1,"stats":{"Line":0},"fn_name":"deref"},{"line":308,"address":[4029912],"length":1,"stats":{"Line":0},"fn_name":null},{"line":313,"address":[4029920],"length":1,"stats":{"Line":0},"fn_name":"eq"},{"line":314,"address":[4029934],"length":1,"stats":{"Line":0},"fn_name":null},{"line":319,"address":[4029984],"length":1,"stats":{"Line":1},"fn_name":"partial_cmp"},{"line":320,"address":[4029998],"length":1,"stats":{"Line":1},"fn_name":null},{"line":327,"address":[4030032],"length":1,"stats":{"Line":0},"fn_name":"cmp"},{"line":328,"address":[4030046],"length":1,"stats":{"Line":0},"fn_name":null},{"line":333,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":334,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":339,"address":[4030080],"length":1,"stats":{"Line":0},"fn_name":"from"},{"line":340,"address":[4030095],"length":1,"stats":{"Line":0},"fn_name":null},{"line":345,"address":[4751417,4751392],"length":1,"stats":{"Line":0},"fn_name":"from"},{"line":351,"address":[4059584],"length":1,"stats":{"Line":1},"fn_name":"from"},{"line":352,"address":[4059600],"length":1,"stats":{"Line":1},"fn_name":null},{"line":357,"address":[1766208,1766286],"length":1,"stats":{"Line":1},"fn_name":"from"},{"line":358,"address":[1766224],"length":1,"stats":{"Line":1},"fn_name":null},{"line":362,"address":[4030504,4030176],"length":1,"stats":{"Line":1},"fn_name":"timezone_to_string"},{"line":363,"address":[4030228],"length":1,"stats":{"Line":1},"fn_name":null},{"line":364,"address":[4030313],"length":1,"stats":{"Line":1},"fn_name":null},{"line":366,"address":[4030343,4030284],"length":1,"stats":{"Line":2},"fn_name":null},{"line":367,"address":[4030365,4030469],"length":1,"stats":{"Line":2},"fn_name":null},{"line":371,"address":[4030544],"length":1,"stats":{"Line":1},"fn_name":"get_milliseconds"},{"line":372,"address":[4030553],"length":1,"stats":{"Line":1},"fn_name":null},{"line":374,"address":[4030606],"length":1,"stats":{"Line":1},"fn_name":null}],"covered":107,"coverable":164},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","types","group_stream.rs"],"content":"use std::fmt::Debug;\n\nuse serde::{de::DeserializeOwned, Deserialize, Serialize};\nuse serde_json::Value;\n\n#[derive(Debug, Default, Clone, Serialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\npub struct GroupStream\u003cG: DeserializeOwned + Serialize, V: DeserializeOwned + Serialize\u003e(\n    Vec\u003cGroupItem\u003cG, V\u003e\u003e,\n);\n\n#[derive(Debug, Default, Clone, Serialize, Deserialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\npub struct GroupItem\u003cG, V\u003e {\n    pub group: G,\n    pub values: Vec\u003cV\u003e,\n}\n\n#[derive(Debug, Default, Clone, Serialize, Deserialize, Eq, PartialEq)]\nstruct InnerGroup {\n    #[serde(rename = \"$reql_type$\")]\n    reql_type: String,\n    data: Vec\u003c[Value; 2]\u003e,\n}\n\nimpl\u003c'de, G, V\u003e Deserialize\u003c'de\u003e for GroupStream\u003cG, V\u003e\nwhere\n    G: DeserializeOwned + Serialize,\n    V: DeserializeOwned + Serialize,\n{\n    fn deserialize\u003cD: serde::Deserializer\u003c'de\u003e\u003e(deserializer: D) -\u003e Result\u003cSelf, D::Error\u003e {\n        Deserialize::deserialize(deserializer).map(|item| {\n            let inner: InnerGroup = item;\n\n            let data: Vec\u003cGroupItem\u003cG, V\u003e\u003e = inner\n                .data\n                .into_iter()\n                .map(|item| {\n                    let group: G = serde_json::from_value(item[0].clone()).unwrap();\n                    let values: Vec\u003cV\u003e = serde_json::from_value(item[1].clone()).unwrap();\n\n                    GroupItem { group, values }\n                })\n                .collect();\n\n            GroupStream(data)\n        })\n    }\n}\n\nimpl\u003cG, V\u003e GroupStream\u003cG, V\u003e\nwhere\n    G: DeserializeOwned + Serialize,\n    V: DeserializeOwned + Serialize,\n{\n    pub fn collect(self) -\u003e Vec\u003cGroupItem\u003cG, V\u003e\u003e {\n        self.0\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use serde::{Deserialize, Serialize};\n\n    use super::GroupStream;\n\n    #[derive(Serialize, Deserialize, Debug)]\n    struct Posts {\n        id: u8,\n        title: String,\n        content: String,\n        user_id: u8,\n    }\n\n    #[test]\n    fn test_group_stream() {\n        let data = r#\"\n        {\n            \"$reql_type$\": \"GROUPED_DATA\",\n            \"data\": [\n                [\n                    1,\n                    [\n                        {\n                            \"content\": \"content 5\",\n                            \"id\": 5,\n                            \"title\":\"title 5\",\n                            \"user_id\": 1\n                        },\n                        {\n                            \"content\": \"content 3\",\n                            \"id\": 3,\n                            \"title\": \"title 3\",\n                            \"user_id\": 1\n                        },\n                        {\n                            \"content\": \"content 1\",\n                            \"id\": 1,\n                            \"title\": \"title 1\",\n                            \"user_id\": 1\n                        }\n                    ]\n                ],\n                [\n                    2,\n                    [\n                        {\n                            \"content\": \"content 4\",\n                            \"id\": 4,\n                            \"title\": \"title 4\",\n                            \"user_id\": 2\n                        },\n                        {\n                            \"content\": \"content 2\",\n                            \"id\": 2,\n                            \"title\": \"title 2\",\n                            \"user_id\": 2\n                        }\n                    ]\n                ]\n            ]\n        }\n        \"#;\n\n        let elememt: GroupStream\u003cu8, Posts\u003e = serde_json::from_str(data).unwrap();\n        dbg!(elememt);\n    }\n}\n","traces":[{"line":29,"address":[2656128,2656192],"length":1,"stats":{"Line":2},"fn_name":"deserialize\u003cu8, reql_rust::types::group_stream::tests::Posts, \u0026mut serde_json::de::Deserializer\u003cserde_json::read::StrRead\u003e\u003e"},{"line":30,"address":[],"length":0,"stats":{"Line":4},"fn_name":null},{"line":31,"address":[],"length":0,"stats":{"Line":2},"fn_name":null},{"line":33,"address":[],"length":0,"stats":{"Line":4},"fn_name":null},{"line":34,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":35,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":36,"address":[],"length":0,"stats":{"Line":2},"fn_name":null},{"line":37,"address":[2657361,2657307,2656939,2656993],"length":1,"stats":{"Line":4},"fn_name":null},{"line":38,"address":[2657095,2657039,2657470,2657397],"length":1,"stats":{"Line":4},"fn_name":null},{"line":40,"address":[2657514,2657140],"length":1,"stats":{"Line":2},"fn_name":null},{"line":42,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":44,"address":[2656765,2656461],"length":1,"stats":{"Line":2},"fn_name":null},{"line":54,"address":[2657728],"length":1,"stats":{"Line":1},"fn_name":"collect\u003calloc::string::String, reql_rust::spec::Post\u003e"},{"line":55,"address":[2657731],"length":1,"stats":{"Line":1},"fn_name":null},{"line":74,"address":[5137840,5138534],"length":1,"stats":{"Line":3},"fn_name":"test_group_stream"},{"line":75,"address":[5137847],"length":1,"stats":{"Line":1},"fn_name":null},{"line":123,"address":[5137874],"length":1,"stats":{"Line":1},"fn_name":null},{"line":124,"address":[5137927],"length":1,"stats":{"Line":1},"fn_name":null}],"covered":15,"coverable":18},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","types","mod.rs"],"content":"use std::borrow::Cow;\n\nuse serde::{Deserialize, Serialize};\nuse serde_json::Value;\nuse uuid::Uuid;\n\nuse crate::arguments::{Durability, ReadMode};\npub use crate::cmd::geojson::ReqlGeoJson;\npub use crate::cmd::line::Line;\npub use crate::cmd::point::Point;\npub use crate::cmd::polygon::Polygon;\npub use binary::Binary;\npub use datetime::DateTime;\npub use group_stream::{GroupItem, GroupStream};\npub use time_::Time;\n\npub(crate) use datetime::timezone_to_string;\n\npub use crate::Command;\n\nmod binary;\nmod datetime;\nmod group_stream;\nmod response_with_cmd;\nmod time_;\n\n#[derive(Debug, Clone, Copy, Serialize, Deserialize, PartialEq, PartialOrd, Eq, Ord)]\n#[non_exhaustive]\n#[serde(rename_all = \"UPPERCASE\")]\npub enum ReqlType {\n    Geometry,\n    GroupStream,\n    Binary,\n    Time,\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Deserialize, PartialEq, PartialOrd)]\npub enum GeoType {\n    LineString,\n    Point,\n    Polygon,\n}\n\n#[derive(Debug, Default, Clone, Deserialize, Serialize, PartialEq, PartialOrd)]\n#[non_exhaustive]\npub struct ServerInfo {\n    pub id: Uuid,\n    pub proxy: bool,\n    pub name: Option\u003cString\u003e,\n}\n\n/// Structure of return data in `db` table\n#[derive(Debug, Default, Clone, Deserialize, Serialize, PartialEq, PartialOrd)]\n#[non_exhaustive]\npub struct DbResponse {\n    pub config_changes: Vec\u003cConfigChange\u003cConfigResponse\u003e\u003e,\n    pub dbs_created: Option\u003cusize\u003e,\n    pub dbs_dropped: Option\u003cusize\u003e,\n    pub tables_created: Option\u003cusize\u003e,\n    pub tables_dropped: Option\u003cusize\u003e,\n}\n\n/// Structure of return data in `db` table\n#[derive(Debug, Default, Clone, Deserialize, Serialize, PartialEq)]\n#[non_exhaustive]\npub struct MutationResponse {\n    pub inserted: usize,\n    pub replaced: usize,\n    pub unchanged: usize,\n    pub skipped: usize,\n    pub deleted: usize,\n    pub errors: usize,\n    pub first_error: Option\u003cString\u003e,\n    pub generated_keys: Option\u003cVec\u003cUuid\u003e\u003e,\n    pub warnings: Option\u003cVec\u003cString\u003e\u003e,\n    pub changes: Option\u003cVec\u003cConfigChange\u003cValue\u003e\u003e\u003e,\n}\n\n/// Structure of return data in `index` table\n#[derive(Debug, Clone, Deserialize, Serialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\n#[non_exhaustive]\npub struct IndexResponse {\n    pub created: Option\u003cusize\u003e,\n    pub dropped: Option\u003cusize\u003e,\n    pub renamed: Option\u003cusize\u003e,\n}\n\n/// Structure of return data in `index_status` table\n#[derive(Debug, Clone, Deserialize, Serialize)]\n#[non_exhaustive]\npub struct IndexStatusResponse {\n    pub geo: bool,\n    pub ready: bool,\n    pub multi: bool,\n    pub outdated: bool,\n    pub progress: Option\u003cf64\u003e,\n    pub index: Cow\u003c'static, str\u003e,\n    pub query: Cow\u003c'static, str\u003e,\n    pub function: Binary,\n}\n\n/// Structure of return data in `index_status` table\n#[derive(Debug, Clone, Deserialize, Serialize)]\n#[non_exhaustive]\npub struct WriteHookResponse {\n    pub function: Binary,\n    pub query: Cow\u003c'static, str\u003e,\n}\n\n#[derive(Debug, Clone, Deserialize, Serialize)]\n#[non_exhaustive]\npub struct UngroupItem\u003cG, V\u003e {\n    pub group: G,\n    pub reduction: Vec\u003cV\u003e,\n}\n\n#[derive(Debug, Clone, Deserialize, Serialize)]\npub struct SyncResponse {\n    pub synced: u8,\n}\n\n#[derive(Debug, Clone, Copy, Deserialize, Serialize)]\npub struct WaitResponse {\n    /// The value is an integer indicating the number of tables waited for.\n    /// It will always be `1` when `wait` is called on a table,\n    /// and the total number of tables when called on a database.\n    pub ready: u8,\n}\n\n#[derive(Debug, Clone, Serialize, Deserialize)]\npub struct JoinResponse\u003cL, R\u003e {\n    pub left: Option\u003cL\u003e,\n    pub right: Option\u003cR\u003e,\n}\n\n#[derive(Debug, Default, Clone, Serialize, Deserialize, PartialEq, PartialOrd)]\npub struct GrantResponse {\n    /// The granted field will always be 1,\n    pub granted: u8,\n    /// list will have one object, describing the new permissions values and\n    /// the old values they were changed from (which may be None).\n    pub permissions_changes: Vec\u003cConfigChange\u003cGrantChangeValue\u003e\u003e,\n}\n\n#[derive(Debug, Default, Clone, Serialize, Deserialize, PartialEq, PartialOrd)]\npub struct RebalanceResponse {\n    /// the number of tables rebalanced.\n    pub rebalanced: u8,\n    /// a list of new and old table status values.\n    /// Each element of the list will be an object with two fields:\n    /// - `old_val`: The tables [status](crate::Command::status)\n    /// value before `rebalance` was executed.\n    /// - `new_val`: The tables `status` value after `rebalance` was executed.\n    /// (This value will almost always indicate the table is unavailable.)\n    pub status_changes: Vec\u003cConfigChange\u003cStatusResponse\u003e\u003e,\n}\n\n#[derive(Debug, Default, Clone, Serialize, Deserialize, PartialEq, PartialOrd)]\npub struct ReconfigureResponse {\n    /// the number of tables reconfigured.\n    /// This will be `0` if `dry_run` is `true`.\n    pub reconfigured: u8,\n    /// a list of new and old table configuration values.\n    /// Each element of the list will be an object with two fields\n    /// - `old_val`: The tables [config](crate::Command::config)\n    /// value before reconfigure was executed.\n    /// - `new_val`: The tables `config` value after `reconfigure` was executed.\n    pub config_changes: Vec\u003cConfigChange\u003cConfigResponse\u003e\u003e,\n    /// a list of new and old table status values.\n    /// Each element of the list will be an object with two fields\n    /// - `old_val`: The tables [status](crate::Command::status)\n    /// value before reconfigure was executed.\n    /// - `new_val`: The tables `config` value after `reconfigure` was executed.\n    pub status_changes: Vec\u003cConfigChange\u003cStatusResponse\u003e\u003e,\n}\n\n#[derive(Debug, Default, Clone, Deserialize, Serialize, PartialEq, PartialOrd)]\npub struct ConfigChange\u003cT\u003e {\n    pub new_val: Option\u003cT\u003e,\n    pub old_val: Option\u003cT\u003e,\n}\n\n#[derive(Debug, Clone, Deserialize, Serialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\npub struct ConfigResponse {\n    pub id: Cow\u003c'static, str\u003e,\n    pub name: Cow\u003c'static, str\u003e,\n\n    pub db: Option\u003cCow\u003c'static, str\u003e\u003e,\n    pub durability: Option\u003cDurability\u003e,\n    pub indexes: Option\u003cVec\u003cCow\u003c'static, str\u003e\u003e\u003e,\n    pub primary_key: Option\u003cCow\u003c'static, str\u003e\u003e,\n    pub shards: Option\u003cVec\u003cShardType\u003cCow\u003c'static, str\u003e\u003e\u003e\u003e,\n    pub write_acks: Option\u003cReadMode\u003e,\n    pub write_hook: Option\u003cCow\u003c'static, str\u003e\u003e,\n}\n\n#[derive(Debug, Clone, Deserialize, Serialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\npub struct GrantChangeValue {\n    pub write: Option\u003cbool\u003e,\n    pub read: Option\u003cbool\u003e,\n    pub connect: Option\u003cbool\u003e,\n    pub config: Option\u003cbool\u003e,\n}\n\n#[derive(Debug, Clone, Deserialize, Serialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\npub struct StatusResponse {\n    /// the UUID of the table.\n    pub id: Option\u003cCow\u003c'static, str\u003e\u003e,\n    /// the tables name.\n    pub name: Option\u003cCow\u003c'static, str\u003e\u003e,\n    /// the database the table is in.\n    pub db: Option\u003cCow\u003c'static, str\u003e\u003e,\n    /// the subfields in this field indicate whether all shards of\n    /// the table are ready to accept the given type of query\n    pub status: Option\u003cStatusResponseStatus\u003e,\n    /// one entry for each shard in `table_config`\n    pub shards: Option\u003cVec\u003cShardType\u003cShardReplicasType\u003e\u003e\u003e,\n    pub raft_leader: Option\u003cCow\u003c'static, str\u003e\u003e,\n}\n\n#[derive(Debug, Clone, Deserialize, Serialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\npub struct InfoResponse {\n    pub db: DbInfo,\n    pub doc_count_estimates: Vec\u003cusize\u003e,\n    pub id: Cow\u003c'static, str\u003e,\n    pub indexes: Vec\u003cCow\u003c'static, str\u003e\u003e,\n    pub name: Cow\u003c'static, str\u003e,\n    pub primary_key: Cow\u003c'static, str\u003e,\n    #[serde(rename = \"type\")]\n    pub typ: TypeOf,\n}\n\n#[derive(Debug, Clone, Deserialize, Serialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\npub struct DbInfo {\n    id: Cow\u003c'static, str\u003e,\n    name: Cow\u003c'static, str\u003e,\n    #[serde(rename = \"type\")]\n    pub typ: TypeOf,\n}\n\n#[derive(Debug, Clone, Deserialize, Serialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\npub struct StatusResponseStatus {\n    pub all_replicas_ready: Option\u003cbool\u003e,\n    pub ready_for_outdated_reads: Option\u003cbool\u003e,\n    pub ready_for_reads: Option\u003cbool\u003e,\n    pub ready_for_writes: Option\u003cbool\u003e,\n}\n\n#[derive(Debug, Clone, Deserialize, Serialize, PartialEq, PartialOrd)]\npub struct ClosestDocumentResponse\u003cT\u003e {\n    pub dist: f64,\n    pub doc: Option\u003cT\u003e,\n}\n\n#[derive(Debug, Clone, Deserialize, Serialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\npub struct ShardType\u003cR\u003e {\n    pub primary_replica: Option\u003cCow\u003c'static, str\u003e\u003e,\n    pub replicas: Vec\u003cR\u003e,\n    pub nonvoting_replicas: Option\u003cVec\u003cCow\u003c'static, str\u003e\u003e\u003e,\n}\n\n#[derive(Debug, Clone, Deserialize, Serialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\npub struct ShardReplicasType {\n    pub server: Cow\u003c'static, str\u003e,\n    pub state: Cow\u003c'static, str\u003e,\n}\n\n#[derive(Debug, Clone, Deserialize, Serialize, PartialEq, PartialOrd)]\npub struct GeoJson\u003cT: Serialize\u003e {\n    #[serde(rename = \"type\")]\n    pub typ: GeoType,\n    pub coordinates: T,\n}\n\nimpl\u003cT: Serialize + Clone\u003e GeoJson\u003cT\u003e {\n    pub fn new(typ: GeoType, coordinates: T) -\u003e Self {\n        Self { typ, coordinates }\n    }\n}\n\n/// Controls how change notifications are batched\n#[derive(Debug, Clone, Copy, Serialize, Deserialize, PartialEq, PartialOrd)]\n#[non_exhaustive]\n#[serde(untagged)]\npub enum Squash {\n    Bool(bool),\n    Float(f32),\n}\n\n#[derive(Debug, Clone, Serialize, Deserialize, PartialEq, PartialOrd)]\n#[non_exhaustive]\n#[serde(untagged)]\npub enum Interleave {\n    Bool(bool),\n    FieldName(\u0026'static str),\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Deserialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\npub enum GeoSystem {\n    #[serde(rename = \"unit_sphere\")]\n    UnitSphere,\n    WGS84,\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Deserialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\n#[serde(rename_all = \"UPPERCASE\")]\npub enum TypeOf {\n    Array,\n    Bool,\n    Db,\n    Function,\n    GroupedData,\n    GroupedStream,\n    Maxval,\n    Minval,\n    Null,\n    Number,\n    Object,\n\n    #[serde(rename = \"PTYPE\u003cBINARY\u003e\")]\n    PtypeBinary,\n    #[serde(rename = \"PTYPE\u003cGEOMETRY\u003e\")]\n    PtypeGeometry,\n    #[serde(rename = \"PTYPE\u003cTIME\u003e\")]\n    PtypeTime,\n    #[serde(rename = \"SELECTION\u003cARRAY\u003e\")]\n    SelectionArray,\n    #[serde(rename = \"SELECTION\u003cOBJECT\u003e\")]\n    SelectionObject,\n    #[serde(rename = \"SELECTION\u003cSTREAM\u003e\")]\n    SelectionStream,\n\n    Stream,\n    String,\n    TableSlice,\n    Table,\n}\n","traces":[{"line":276,"address":[],"length":0,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":1},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","types","response_with_cmd.rs"],"content":"use crate::Command;\n\n#[derive(Debug, Clone)]\npub struct ResponseWithCmd\u003cT\u003e(pub T, pub Command);\n\nimpl\u003cT\u003e ResponseWithCmd\u003cT\u003e {\n    pub fn value(self) -\u003e T {\n        self.0\n    }\n\n    pub fn cmd(self) -\u003e Command {\n        self.1\n    }\n}\n","traces":[{"line":7,"address":[4773776,4773872,4773984,4773952,4773920,4773840,4773808],"length":1,"stats":{"Line":7},"fn_name":"value\u003cbool\u003e"},{"line":8,"address":[4773777,4773873,4773953,4773809,4773921,4774009,4773841],"length":1,"stats":{"Line":7},"fn_name":null},{"line":11,"address":[4774224,4774128,4774096,4774288,4774192,4774064,4774256],"length":1,"stats":{"Line":7},"fn_name":"cmd\u003cu8\u003e"},{"line":12,"address":[4774072,4774232,4774264,4774145,4774296,4774200,4774104],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":4,"coverable":4},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","types","time_.rs"],"content":"use serde::{Deserialize, Serialize};\nuse time::{format_description, OffsetDateTime, UtcOffset};\n\nuse crate::{\n    constants::{NANOS_PER_MSEC, NANOS_PER_SEC},\n    ReqlDriverError, ReqlError, Result,\n};\n\nuse super::ReqlType;\n\n#[derive(Debug, Clone, Serialize, Deserialize)]\n#[non_exhaustive]\npub struct Time {\n    #[serde(rename = \"$reql_type$\")]\n    pub reql_type: ReqlType,\n    pub epoch_time: f64,\n    pub timezone: String,\n}\n\nimpl Time {\n    pub fn new(epoch_time: f64, timezone: String) -\u003e Self {\n        Self {\n            epoch_time,\n            timezone,\n            reql_type: ReqlType::Time,\n        }\n    }\n\n    pub fn is_valid(\u0026self) -\u003e bool {\n        self.to_offset_date_time().is_ok()\n    }\n\n    pub fn to_offset_date_time(\u0026self) -\u003e Result\u003cOffsetDateTime\u003e {\n        let epoch_time = self.epoch_time.to_string();\n        let format = match format_description::parse(\"[offset_hour]:[offset_minute]\") {\n            Ok(fmt) =\u003e fmt,\n            Err(error) =\u003e {\n                return Err(ReqlError::from(error));\n            }\n        };\n        let offset = match UtcOffset::parse(\u0026self.timezone, \u0026format) {\n            Ok(offset) =\u003e offset,\n            Err(error) =\u003e {\n                return Err(ReqlError::from(error));\n            }\n        };\n        let (secs, msecs) = match epoch_time.split_once('.') {\n            Some(parts) =\u003e parts,\n            None =\u003e (epoch_time.as_str(), \"0\"),\n        };\n        let secs = match secs.parse::\u003ci128\u003e() {\n            Ok(secs) =\u003e match secs.checked_mul(NANOS_PER_SEC) {\n                Some(secs) =\u003e secs,\n                None =\u003e {\n                    return Err(ReqlError::Driver(ReqlDriverError::Time(\n                        \"seconds to nanosecond overflow\".to_owned(),\n                    )));\n                }\n            },\n            Err(..) =\u003e {\n                return Err(ReqlError::Driver(ReqlDriverError::Time(\n                    \"invalid epoch time seconds\".to_owned(),\n                )));\n            }\n        };\n        // RethinkDB timestamps have millisecond precision so we need\n        // to convert the milliseconds to nanoseconds first\n        let msecs = match msecs.parse::\u003ci128\u003e() {\n            Ok(int) =\u003e {\n                let msecs = match msecs.len() {\n                    3 =\u003e int,\n                    2 =\u003e int * 10,\n                    1 =\u003e int * 100,\n                    _ =\u003e {\n                        return Err(ReqlError::Driver(ReqlDriverError::Time(\n                            \"invalid epoch milliseconds\".to_owned(),\n                        )));\n                    }\n                };\n                match msecs.checked_mul(NANOS_PER_MSEC) {\n                    Some(msecs) =\u003e msecs,\n                    None =\u003e {\n                        return Err(ReqlError::Driver(ReqlDriverError::Time(\n                            \"millisecond to nanosecond overflow\".to_owned(),\n                        )));\n                    }\n                }\n            }\n            Err(..) =\u003e {\n                return Err(ReqlError::Driver(ReqlDriverError::Time(\n                    \"invalid epoch time milliseconds\".to_owned(),\n                )));\n            }\n        };\n        let timestamp = match secs.checked_add(msecs) {\n            Some(timestamp) =\u003e timestamp,\n            None =\u003e {\n                return Err(ReqlError::Driver(ReqlDriverError::Time(\n                    \"timestamp addition overflow\".to_owned(),\n                )));\n            }\n        };\n\n        let dt = match OffsetDateTime::from_unix_timestamp_nanos(timestamp) {\n            Ok(date_time) =\u003e date_time.to_offset(offset),\n            Err(error) =\u003e {\n                return Err(ReqlError::from(error));\n            }\n        };\n\n        Ok(dt)\n    }\n}\n\nimpl Eq for Time {}\n\nimpl PartialEq for Time {\n    fn eq(\u0026self, other: \u0026Self) -\u003e bool {\n        let dt = self.to_offset_date_time().unwrap();\n        let dt2 = other.to_offset_date_time().unwrap();\n\n        dt.eq(\u0026dt2)\n    }\n}\n\nimpl PartialOrd for Time {\n    fn partial_cmp(\u0026self, other: \u0026Self) -\u003e Option\u003cstd::cmp::Ordering\u003e {\n        let dt = self.to_offset_date_time().unwrap();\n        let dt2 = other.to_offset_date_time().unwrap();\n\n        dt.partial_cmp(\u0026dt2)\n    }\n}\n\nimpl Ord for Time {\n    fn cmp(\u0026self, other: \u0026Self) -\u003e std::cmp::Ordering {\n        let dt = self.to_offset_date_time().unwrap();\n        let dt2 = other.to_offset_date_time().unwrap();\n\n        dt.cmp(\u0026dt2)\n    }\n}\n\nimpl From\u003cOffsetDateTime\u003e for Time {\n    fn from(dt: OffsetDateTime) -\u003e Self {\n        let offset = dt.offset();\n        let timezone = {\n            let (hours, minutes, _) = offset.as_hms();\n            format!(\n                \"{}{:02}:{:02}\",\n                if offset.is_negative() { '-' } else { '+' },\n                hours.abs(),\n                minutes.abs(),\n            )\n        };\n\n        let epoch_time = format!(\"{}.{:03}\", dt.unix_timestamp(), dt.millisecond())\n            .parse()\n            .unwrap();\n\n        Self::new(epoch_time, timezone)\n    }\n}\n","traces":[{"line":21,"address":[1766320],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":29,"address":[1766478,1766400],"length":1,"stats":{"Line":1},"fn_name":"is_valid"},{"line":30,"address":[1766412],"length":1,"stats":{"Line":1},"fn_name":null},{"line":33,"address":[1766528,1770539],"length":1,"stats":{"Line":1},"fn_name":"to_offset_date_time"},{"line":34,"address":[1766567],"length":1,"stats":{"Line":1},"fn_name":null},{"line":35,"address":[1766580,1766655],"length":1,"stats":{"Line":2},"fn_name":null},{"line":36,"address":[1766682],"length":1,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[1766776],"length":1,"stats":{"Line":0},"fn_name":null},{"line":38,"address":[1766824,1766930],"length":1,"stats":{"Line":0},"fn_name":null},{"line":41,"address":[1767061,1766746],"length":1,"stats":{"Line":2},"fn_name":null},{"line":42,"address":[1767086],"length":1,"stats":{"Line":1},"fn_name":null},{"line":43,"address":[1767180],"length":1,"stats":{"Line":0},"fn_name":null},{"line":44,"address":[1767244],"length":1,"stats":{"Line":0},"fn_name":null},{"line":47,"address":[1767426,1767154,1767620],"length":1,"stats":{"Line":3},"fn_name":null},{"line":48,"address":[1767492],"length":1,"stats":{"Line":1},"fn_name":null},{"line":49,"address":[1767466,1767731],"length":1,"stats":{"Line":2},"fn_name":null},{"line":51,"address":[1767779,1767708],"length":1,"stats":{"Line":2},"fn_name":null},{"line":52,"address":[1767797,1768104],"length":1,"stats":{"Line":2},"fn_name":null},{"line":53,"address":[1768193],"length":1,"stats":{"Line":1},"fn_name":null},{"line":55,"address":[1770366],"length":1,"stats":{"Line":0},"fn_name":null},{"line":56,"address":[1768147],"length":1,"stats":{"Line":0},"fn_name":null},{"line":61,"address":[1767907],"length":1,"stats":{"Line":0},"fn_name":null},{"line":62,"address":[1767872],"length":1,"stats":{"Line":0},"fn_name":null},{"line":68,"address":[1768265],"length":1,"stats":{"Line":1},"fn_name":null},{"line":69,"address":[1768306],"length":1,"stats":{"Line":1},"fn_name":null},{"line":70,"address":[1768582,1768348],"length":1,"stats":{"Line":2},"fn_name":null},{"line":71,"address":[1768666],"length":1,"stats":{"Line":1},"fn_name":null},{"line":72,"address":[1769231,1768692],"length":1,"stats":{"Line":2},"fn_name":null},{"line":73,"address":[1768815,1769124],"length":1,"stats":{"Line":2},"fn_name":null},{"line":75,"address":[1768941],"length":1,"stats":{"Line":0},"fn_name":null},{"line":76,"address":[1768626],"length":1,"stats":{"Line":0},"fn_name":null},{"line":80,"address":[1769294,1769174],"length":1,"stats":{"Line":2},"fn_name":null},{"line":81,"address":[1769383],"length":1,"stats":{"Line":1},"fn_name":null},{"line":83,"address":[1770185],"length":1,"stats":{"Line":0},"fn_name":null},{"line":84,"address":[1769337],"length":1,"stats":{"Line":0},"fn_name":null},{"line":90,"address":[1768401],"length":1,"stats":{"Line":0},"fn_name":null},{"line":91,"address":[1768366],"length":1,"stats":{"Line":0},"fn_name":null},{"line":95,"address":[1769431],"length":1,"stats":{"Line":1},"fn_name":null},{"line":96,"address":[1769539],"length":1,"stats":{"Line":1},"fn_name":null},{"line":98,"address":[1770004],"length":1,"stats":{"Line":0},"fn_name":null},{"line":99,"address":[1769509],"length":1,"stats":{"Line":0},"fn_name":null},{"line":104,"address":[1769587],"length":1,"stats":{"Line":1},"fn_name":null},{"line":105,"address":[1769624],"length":1,"stats":{"Line":1},"fn_name":null},{"line":106,"address":[1769737],"length":1,"stats":{"Line":0},"fn_name":null},{"line":107,"address":[1769785],"length":1,"stats":{"Line":0},"fn_name":null},{"line":111,"address":[1769913],"length":1,"stats":{"Line":1},"fn_name":null},{"line":118,"address":[1770576],"length":1,"stats":{"Line":1},"fn_name":"eq"},{"line":119,"address":[1770610],"length":1,"stats":{"Line":1},"fn_name":null},{"line":120,"address":[1770647],"length":1,"stats":{"Line":1},"fn_name":null},{"line":122,"address":[1770679],"length":1,"stats":{"Line":1},"fn_name":null},{"line":127,"address":[1770720],"length":1,"stats":{"Line":0},"fn_name":"partial_cmp"},{"line":128,"address":[1770754],"length":1,"stats":{"Line":0},"fn_name":null},{"line":129,"address":[1770791],"length":1,"stats":{"Line":0},"fn_name":null},{"line":131,"address":[1770823],"length":1,"stats":{"Line":0},"fn_name":null},{"line":136,"address":[1770864],"length":1,"stats":{"Line":0},"fn_name":"cmp"},{"line":137,"address":[1770898],"length":1,"stats":{"Line":0},"fn_name":null},{"line":138,"address":[1770935],"length":1,"stats":{"Line":0},"fn_name":null},{"line":140,"address":[1770967],"length":1,"stats":{"Line":0},"fn_name":null},{"line":145,"address":[1772399,1771008,1772295],"length":1,"stats":{"Line":1},"fn_name":"from"},{"line":146,"address":[1771039],"length":1,"stats":{"Line":1},"fn_name":null},{"line":148,"address":[1771126],"length":1,"stats":{"Line":1},"fn_name":null},{"line":149,"address":[1771383,1771435,1771487],"length":1,"stats":{"Line":3},"fn_name":null},{"line":151,"address":[1771279],"length":1,"stats":{"Line":1},"fn_name":null},{"line":152,"address":[1771420],"length":1,"stats":{"Line":1},"fn_name":null},{"line":153,"address":[1771472],"length":1,"stats":{"Line":1},"fn_name":null},{"line":157,"address":[1771820,1772226,1771739],"length":1,"stats":{"Line":3},"fn_name":null},{"line":161,"address":[1772320],"length":1,"stats":{"Line":1},"fn_name":null}],"covered":41,"coverable":67},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","tests","make_query.rs"],"content":"use futures::stream::{select_all, TryStreamExt};\nuse reql_rust::arguments::ReadMode;\nuse reql_rust::cmd::run::RunOption;\nuse reql_rust::prelude::Converter;\nuse reql_rust::{args, r, Result};\n\n#[tokio::test]\nasync fn simple() -\u003e Result\u003c()\u003e {\n    let conn = r.connection().connect().await?;\n    let run_option = RunOption::default().read_mode(ReadMode::Outdated);\n    let response = r\n        .db(\"rethinkdb\")\n        .table(\"users\")\n        .make_query(args!(\u0026conn, run_option))\n        .try_next()\n        .await?;\n\n    assert!(response.is_some());\n\n    Ok(())\n}\n\n#[tokio::test]\nasync fn concurrency() -\u003e Result\u003c()\u003e {\n    let conn = r.connection().connect().await?;\n    let expected_messages: Vec\u003cString\u003e = (0..10_000)\n        .into_iter()\n        .map(|i| format!(\"message {}\", i))\n        .collect();\n\n    let mut streams = Vec::new();\n\n    for msg in expected_messages.iter() {\n        streams.push(r.expr(msg).make_query(\u0026conn));\n    }\n\n    let mut list = select_all(streams);\n    let mut response = Vec::new();\n\n    while let Some(msg) = list.try_next().await? {\n        let msg: String = msg.parse()?;\n        response.push(msg);\n    }\n\n    assert!(response == expected_messages);\n\n    Ok(())\n}\n","traces":[{"line":8,"address":[1795952,1796405,1795991,1796357],"length":1,"stats":{"Line":6},"fn_name":"simple"},{"line":9,"address":[1519956,1520232,1519498,1519581,1519732,1519442],"length":1,"stats":{"Line":4},"fn_name":null},{"line":10,"address":[1520493,1520222],"length":1,"stats":{"Line":2},"fn_name":null},{"line":11,"address":[1521486,1521095,1520548,1520624,1520845,1521026,1521285],"length":1,"stats":{"Line":6},"fn_name":null},{"line":14,"address":[1520667],"length":1,"stats":{"Line":1},"fn_name":null},{"line":16,"address":[1548774],"length":1,"stats":{"Line":1},"fn_name":null},{"line":18,"address":[1521648,1521700],"length":1,"stats":{"Line":1},"fn_name":null},{"line":20,"address":[1796028,1796368,1795983,1796088],"length":1,"stats":{"Line":5},"fn_name":null},{"line":24,"address":[1796448,1796901,1796487,1796853],"length":1,"stats":{"Line":6},"fn_name":"concurrency"},{"line":25,"address":[1522252,1522798,1522018,1522101,1521954,1522476],"length":1,"stats":{"Line":4},"fn_name":null},{"line":26,"address":[1523069,1522734],"length":1,"stats":{"Line":2},"fn_name":null},{"line":28,"address":[1525351,1525328],"length":1,"stats":{"Line":2},"fn_name":"{closure#0}"},{"line":31,"address":[1523131],"length":1,"stats":{"Line":1},"fn_name":null},{"line":33,"address":[1523617,1523295,1523202,1523528],"length":1,"stats":{"Line":4},"fn_name":null},{"line":34,"address":[1523544],"length":1,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[1523473],"length":1,"stats":{"Line":1},"fn_name":null},{"line":38,"address":[1523630,1523689],"length":1,"stats":{"Line":2},"fn_name":null},{"line":40,"address":[1522036,1524422,1525153,1524770,1523699,1523747,1525275,1524512],"length":1,"stats":{"Line":6},"fn_name":null},{"line":41,"address":[1524454,1524813,1524988],"length":1,"stats":{"Line":2},"fn_name":null},{"line":42,"address":[1524922],"length":1,"stats":{"Line":1},"fn_name":null},{"line":45,"address":[1524658,1524617,1524539],"length":1,"stats":{"Line":2},"fn_name":null},{"line":47,"address":[1524631],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":22,"coverable":22},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","tests","run.rs"],"content":"use reql_rust::arguments::ReadMode;\nuse reql_rust::cmd::run::RunOption;\nuse reql_rust::{args, r, Result};\n\n#[tokio::test]\nasync fn test_run_ops() -\u003e Result\u003c()\u003e {\n    let conn = r.connection().connect().await?;\n    let run_option = RunOption::default().read_mode(ReadMode::Outdated);\n    let response = r\n        .db(\"rethinkdb\")\n        .table(\"users\")\n        .run(args!(\u0026conn, run_option))\n        .await?;\n\n    assert!(response.is_some());\n\n    Ok(())\n}\n","traces":[{"line":6,"address":[1329242,1329680,1329104,1329081,1329072,1329161,1329377],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":7,"address":[1329952,1329691,1329266,1329482,1329216,1329337],"length":1,"stats":{"Line":4},"fn_name":null},{"line":8,"address":[1330201,1329942],"length":1,"stats":{"Line":2},"fn_name":null},{"line":9,"address":[1330326,1330701,1330886,1331094,1330519,1330253,1330630],"length":1,"stats":{"Line":6},"fn_name":null},{"line":12,"address":[1330366,1330660,1330542,1329281,1330829],"length":1,"stats":{"Line":4},"fn_name":null},{"line":13,"address":[1330998,1331128],"length":1,"stats":{"Line":0},"fn_name":null},{"line":15,"address":[1331267,1330984,1331230],"length":1,"stats":{"Line":2},"fn_name":null},{"line":17,"address":[1331236],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":7,"coverable":8}]};
        var previousData = {"files":[{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","reql-macros","src","func","mod.rs"],"content":"#[cfg(test)]\nmod tests;\n\nuse proc_macro2::{TokenStream, TokenTree};\nuse quote::quote;\nuse std::iter::FromIterator;\nuse syn::Ident;\n\n#[derive(Debug)]\npub(super) struct Func {\n    mv: Option\u003cIdent\u003e,\n    args: Vec\u003cIdent\u003e,\n    body: TokenStream,\n}\n\nimpl Func {\n    pub(super) fn new(input: TokenStream) -\u003e Self {\n        let mut iter = input.into_iter();\n        let mv = iter.next().map(first).unwrap();\n        if mv.is_some() {\n            iter.next().filter(is_pipe).unwrap();\n        }\n        let mut args = Vec::new();\n        while let Some(token) = iter.next() {\n            if is_pipe(\u0026token) {\n                break;\n            }\n            args.push(ident(token));\n            let token = iter.next().unwrap();\n            if is_pipe(\u0026token) {\n                break;\n            }\n            assert_comma(\u0026token);\n        }\n        let body = TokenStream::from_iter(iter);\n        Self { mv, args, body }\n    }\n\n    pub(super) fn process(self) -\u003e TokenStream {\n        let Self { mv, args, body } = self;\n        let mut header = quote!(#mv |);\n        let mut params = TokenStream::new();\n        let func_args = args.len();\n        for (i, arg) in args.into_iter().enumerate() {\n            let var = quote!(Command::var(*ids.get(#i).unwrap()));\n            if i == func_args - 1 {\n                header.extend(quote!(#arg: Command));\n                params.extend(quote!(#var));\n            } else {\n                header.extend(quote!(#arg: Command, ));\n                params.extend(quote!(#var, ));\n            }\n        }\n        header.extend(quote!(|));\n        let closure = quote!(#header #body);\n        quote!({\n            let closure = #closure;\n            let mut ids = Vec::with_capacity(#func_args);\n            for _ in 0..#func_args {\n                let id = var_counter();\n                ids.push(id);\n            }\n            let func = closure(#params);\n            Func::new(ids, func)\n        })\n    }\n}\n\nfn first(token: TokenTree) -\u003e Option\u003cIdent\u003e {\n    if is_pipe(\u0026token) {\n        return None;\n    }\n    match token {\n        TokenTree::Ident(ident) if ident == \"move\" =\u003e Some(ident),\n        _ =\u003e panic!(\"invalid closure\"),\n    }\n}\n\nfn ident(token: TokenTree) -\u003e Ident {\n    match token {\n        TokenTree::Ident(ident) =\u003e ident,\n        _ =\u003e panic!(\"invalid closure\"),\n    }\n}\n\nfn is_pipe(token: \u0026TokenTree) -\u003e bool {\n    matches!(token, TokenTree::Punct(punct) if punct.as_char() == '|')\n}\n\nfn assert_comma(token: \u0026TokenTree) {\n    match token {\n        TokenTree::Punct(punct) if punct.as_char() == ',' =\u003e {}\n        _ =\u003e panic!(\"invalid closure\"),\n    }\n}\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","reql-macros","src","func","tests.rs"],"content":"use super::*;\n\n#[test]\nfn with_move() {\n    Func::new(quote!(move |doc| {\n        doc.get_field(\"author\").bracket(\"name\")\n    }))\n    .process();\n}\n\n#[test]\nfn with_no_arg() {\n    Func::new(quote!(|| r.expr(\"Hello world!\"))).process();\n}\n\n#[test]\nfn with_one_arg() {\n    Func::new(quote!(|doc| { doc.get_field(\"author\").bracket(\"name\") })).process();\n}\n\n#[test]\nfn with_multiple_args() {\n    Func::new(quote!(|with, multiple, args| r.expr(with, multiple, args))).process();\n}\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","reql-macros","src","geometry.rs"],"content":"use quote::quote;\nuse syn::{parse_macro_input, DeriveInput};\n\npub(super) fn parse(input: proc_macro::TokenStream) -\u003e proc_macro::TokenStream {\n    let DeriveInput { ident, .. } = parse_macro_input!(input);\n\n    let output = quote! {\n        impl Geometry for #ident {}\n    };\n\n    output.into()\n}\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","reql-macros","src","lib.rs"],"content":"use func::Func;\nuse proc_macro::TokenStream;\n\nmod geometry;\nmod func;\nmod options;\n\n#[proc_macro]\npub fn func(input: TokenStream) -\u003e TokenStream {\n    Func::new(input.into()).process().into()\n}\n\n#[proc_macro_derive(CommandOptions)]\npub fn command_opts(input: TokenStream) -\u003e TokenStream {\n    options::parse(input)\n}\n\n#[proc_macro_derive(Geometry)]\npub fn make_document(input: TokenStream) -\u003e TokenStream {\n    geometry::parse(input)\n}\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","reql-macros","src","options.rs"],"content":"use proc_macro2::TokenStream;\nuse quote::{quote, ToTokens};\nuse syn::{parse_macro_input, Data, DeriveInput, Fields, GenericArgument, PathArguments, Type};\n\npub(super) fn parse(input: proc_macro::TokenStream) -\u003e proc_macro::TokenStream {\n    let input = parse_macro_input!(input as DeriveInput);\n\n    let mut methods = TokenStream::new();\n\n    match input.data {\n        Data::Struct(data) =\u003e match data.fields {\n            Fields::Named(fields) =\u003e {\n                for field in fields.named {\n                    let name = field.ident;\n                    let mut generics = TokenStream::new();\n                    let mut where_clause = TokenStream::new();\n                    let mut value = quote!(#name);\n                    let mut param = param(\u0026field.ty);\n\n                    if param.is_cow || param.is_db {\n                        generics = quote!(\u003cT\u003e);\n                        where_clause = quote!(where T: crate::cmd::StaticString);\n                        param.ty = quote!(T);\n                        value = quote!(#name.static_string());\n                    }\n\n                    if param.is_db {\n                        value = quote!(Db(#value))\n                    }\n\n                    if param.is_option {\n                        value = quote!(Some(#value))\n                    }\n\n                    let ty = param.ty;\n\n                    methods.extend(quote! {\n                        pub fn #name #generics(mut self, #name: #ty) -\u003e Self #where_clause {\n                            self.#name = #value;\n                            self\n                        }\n                    });\n                }\n            }\n            _ =\u003e unimplemented!(),\n        },\n        Data::Enum(_) | Data::Union(_) =\u003e unimplemented!(),\n    }\n\n    let name = input.ident;\n    let generics = input.generics;\n\n    let options = quote! {\n        impl #generics #name #generics {\n            pub fn new() -\u003e Self {\n                Default::default()\n            }\n\n            #methods\n        }\n    };\n\n    options.into()\n}\n\nstruct Param {\n    ty: TokenStream,\n    is_option: bool,\n    is_cow: bool,\n    is_db: bool,\n}\n\nfn param(typ: \u0026Type) -\u003e Param {\n    if let Type::Path(typ) = typ {\n        if let Some(typ) = typ.path.segments.first() {\n            let mut param = Param {\n                ty: typ.to_token_stream(),\n                is_option: typ.ident == \"Option\",\n                is_cow: typ.ident == \"Cow\",\n                is_db: false,\n            };\n            if !param.is_option {\n                return param;\n            } else if let PathArguments::AngleBracketed(path) = \u0026typ.arguments {\n                if let Some(typ) = path.args.first() {\n                    param.ty = typ.to_token_stream();\n                    if let GenericArgument::Type(Type::Path(typ)) = typ {\n                        if let Some(typ) = typ.path.segments.first() {\n                            param.is_cow = typ.ident == \"Cow\";\n                            param.is_db = typ.ident == \"Db\";\n                        }\n                    }\n                    return param;\n                }\n            }\n        }\n    }\n    unimplemented!()\n}\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","arguments","any_param.rs"],"content":"use serde::Serialize;\n\nuse crate::Command;\n\n#[derive(Debug, Clone)]\npub struct AnyParam(Command);\n\nimpl AnyParam {\n    pub fn new(arg: impl Serialize) -\u003e Self {\n        Self(Command::from_json(arg))\n    }\n}\n\nimpl From\u003cAnyParam\u003e for Command {\n    fn from(param: AnyParam) -\u003e Self {\n        param.0\n    }\n}\n","traces":[{"line":9,"address":[4791712,4791584],"length":1,"stats":{"Line":2},"fn_name":"new\u003c[\u0026str; 2]\u003e"},{"line":10,"address":[4791600,4791744],"length":1,"stats":{"Line":2},"fn_name":null},{"line":15,"address":[4037856],"length":1,"stats":{"Line":1},"fn_name":"from"},{"line":16,"address":[4037864],"length":1,"stats":{"Line":1},"fn_name":null}],"covered":4,"coverable":4},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","arguments","mod.rs"],"content":"use std::{borrow::Cow, collections::HashMap};\n\nuse reql_macros::CommandOptions;\nuse serde::{Deserialize, Serialize};\n\npub use any_param::AnyParam;\npub use return_changes::ReturnChanges;\n\nmod any_param;\nmod return_changes;\n\n#[derive(Debug, Clone, Copy, Eq, PartialEq, Ord, PartialOrd, Hash)]\npub struct Args\u003cT\u003e(pub T);\n\n#[derive(Debug, Clone, Copy, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct Permission {\n    /// allows reading the data in tables.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub read: Option\u003cbool\u003e,\n    /// allows modifying data, including inserting, replacing/updating, and deleting.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub write: Option\u003cbool\u003e,\n    /// allows a user to open HTTP connections via the [http](crate::r::http)\n    /// command. This permission can only be granted in global scope.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub connect: Option\u003cbool\u003e,\n    /// allows users to create/drop\n    /// [secondary indexes](https://rethinkdb.com/docs/secondary-indexes/python/)\n    /// on a table and changing the cluster configuration;\n    /// to create and drop tables, if granted on a database;\n    /// and to create and drop databases, if granted globally.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub config: Option\u003cbool\u003e,\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Deserialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\n#[serde(rename_all = \"lowercase\")]\npub enum Status {\n    Open,\n    Closed,\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Deserialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\n#[serde(rename_all = \"lowercase\")]\npub enum Durability {\n    Hard,\n    Soft,\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Deserialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\n#[serde(rename_all = \"lowercase\")]\npub enum ReadMode {\n    Single,\n    /// will only return values that are safely committed on disk on a majority of replicas.\n    /// This requires sending a message to every replica on each read,\n    /// so it is the slowest but most consistent.\n    Majority,\n    /// will return values that are in memory on an arbitrarily-selected replica.\n    /// This is the fastest but least consistent.\n    Outdated,\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Deserialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\n#[serde(rename_all = \"lowercase\")]\npub enum Format {\n    Native,\n    Raw,\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Deserialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\n#[serde(rename_all = \"lowercase\")]\npub enum Conflict {\n    Error,\n    Replace,\n    Update,\n}\n\n#[derive(Debug, Clone, Serialize, Deserialize, PartialEq)]\n#[non_exhaustive]\npub enum Replicas {\n    Int(usize),\n    Map {\n        replicas: HashMap\u003cCow\u003c'static, str\u003e, usize\u003e,\n        primary_replica_tag: Cow\u003c'static, str\u003e,\n    },\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Deserialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\n#[serde(rename_all = \"snake_case\")]\npub enum EmergencyRepair {\n    UnsafeRollback,\n    UnsafeRollbackOrErase,\n}\n\n#[derive(Debug, Clone, Copy, Serialize, PartialEq, PartialOrd)]\n#[non_exhaustive]\n#[serde(rename_all = \"lowercase\")]\npub enum IdentifierFormat {\n    Name,\n    Uuid,\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Deserialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\n#[serde(rename_all = \"snake_case\")]\npub enum WaitFor {\n    ReadyForOutdatedReads,\n    ReadyForReads,\n    ReadyForWrites,\n    AllReplicasReady,\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Deserialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\npub enum Unit {\n    #[serde(rename = \"m\")]\n    Meter,\n    #[serde(rename = \"km\")]\n    Kilometer,\n    #[serde(rename = \"mi\")]\n    InternationalMile,\n    #[serde(rename = \"nm\")]\n    NauticalMile,\n    #[serde(rename = \"ft\")]\n    InternationalFoot,\n}\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","arguments","return_changes.rs"],"content":"use serde::{Deserialize, Serialize, Serializer};\n\n#[derive(Debug, Clone, Copy, Deserialize, PartialEq, PartialOrd)]\n#[non_exhaustive]\npub enum ReturnChanges {\n    Bool(bool),\n    Always,\n}\n\nimpl Serialize for ReturnChanges {\n    fn serialize\u003cS\u003e(\u0026self, serializer: S) -\u003e Result\u003cS::Ok, S::Error\u003e\n    where\n        S: Serializer,\n    {\n        match self {\n            Self::Bool(boolean) =\u003e boolean.serialize(serializer),\n            Self::Always =\u003e \"always\".serialize(serializer),\n        }\n    }\n}\n","traces":[{"line":11,"address":[7010080],"length":1,"stats":{"Line":1},"fn_name":"serialize\u003cserde_json::value::ser::Serializer\u003e"},{"line":15,"address":[7010104],"length":1,"stats":{"Line":1},"fn_name":null},{"line":16,"address":[7010132],"length":1,"stats":{"Line":1},"fn_name":null},{"line":17,"address":[7010149],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":3,"coverable":4},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","add.rs"],"content":"use std::ops::Add;\n\nuse ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\nimpl\u003cT: AddArg\u003e Add\u003cT\u003e for Command {\n    type Output = Self;\n\n    fn add(self, arg: T) -\u003e Self {\n        Command::new(TermType::Add)\n            .with_arg(arg.into_add_opts())\n            .with_parent(self)\n    }\n}\n\npub trait AddArg {\n    fn into_add_opts(self) -\u003e Command;\n}\n\nimpl\u003cT: Serialize\u003e AddArg for T {\n    fn into_add_opts(self) -\u003e Command {\n        Command::from_json(self)\n    }\n}\n\nimpl AddArg for Command {\n    fn into_add_opts(self) -\u003e Command {\n        self\n    }\n}\n\n// TODO write test\n","traces":[{"line":11,"address":[2189601,2189184,2189553],"length":1,"stats":{"Line":0},"fn_name":"add\u003creql_rust::proto::Command\u003e"},{"line":12,"address":[2189330,2189211,2189431,2189528],"length":1,"stats":{"Line":0},"fn_name":null},{"line":13,"address":[2189543,2189472,2189338],"length":1,"stats":{"Line":0},"fn_name":null},{"line":14,"address":[2189480],"length":1,"stats":{"Line":0},"fn_name":null},{"line":23,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":24,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":29,"address":[4037888],"length":1,"stats":{"Line":0},"fn_name":"into_add_opts"},{"line":30,"address":[4037896],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":8},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","and.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl AndArg) -\u003e Command {\n    args.into_and_opts().add_to_cmd(Command::new(TermType::And))\n}\n\npub trait AndArg {\n    fn into_and_opts(self) -\u003e CmdOpts;\n}\n\nimpl AndArg for bool {\n    fn into_and_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(Command::from_json(self))\n    }\n}\n\nimpl AndArg for Vec\u003cbool\u003e {\n    fn into_and_opts(self) -\u003e CmdOpts {\n        let commands = self.iter().map(Command::from_json).collect();\n\n        CmdOpts::Many(commands)\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_and_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let data_obtained: bool = r\n            .and(vec![true, true, true])\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained);\n\n        Ok(())\n    }\n}\n","traces":[{"line":7,"address":[4532376,4532349,4532144],"length":1,"stats":{"Line":1},"fn_name":"new\u003calloc::vec::Vec\u003cbool, alloc::alloc::Global\u003e\u003e"},{"line":8,"address":[4532369,4532160],"length":1,"stats":{"Line":1},"fn_name":null},{"line":16,"address":[2672528],"length":1,"stats":{"Line":0},"fn_name":"into_and_opts"},{"line":17,"address":[2779776],"length":1,"stats":{"Line":0},"fn_name":null},{"line":22,"address":[4437289,4437040],"length":1,"stats":{"Line":1},"fn_name":"into_and_opts"},{"line":23,"address":[4437070,4437139],"length":1,"stats":{"Line":2},"fn_name":null},{"line":25,"address":[4437217],"length":1,"stats":{"Line":1},"fn_name":null},{"line":35,"address":[4195280,4195312,4195871,4195572,4195437,4195289,4195369],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":36,"address":[4195461,4196150,4195532,4195882,4195693,4195427],"length":1,"stats":{"Line":4},"fn_name":null},{"line":37,"address":[4197043,4196457,4196824,4196639,4197100,4196568,4197327,4196425,4197137],"length":1,"stats":{"Line":6},"fn_name":null},{"line":38,"address":[4196135,4196378],"length":1,"stats":{"Line":2},"fn_name":null},{"line":39,"address":[4196767,4195476,4196598,4196480,4196437],"length":1,"stats":{"Line":4},"fn_name":null},{"line":40,"address":[4196947],"length":1,"stats":{"Line":0},"fn_name":null},{"line":44,"address":[4197439,4197216],"length":1,"stats":{"Line":1},"fn_name":null},{"line":46,"address":[2253144,2253084,2253039,2253424],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":12,"coverable":15},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","append.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(value: impl Serialize) -\u003e Command {\n    let arg = Command::from_json(value);\n\n    Command::new(TermType::Append).with_arg(arg)\n}\n\n// TODO write test\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","args.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new\u003cT, S\u003e(values: T) -\u003e Command\nwhere\n    S: Serialize,\n    T: AsRef\u003c[S]\u003e + Serialize,\n{\n    let args = Command::from_json(values);\n\n    Command::new(TermType::Args).with_arg(args)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::{prelude::Converter, r, Result};\n\n    #[tokio::test]\n    async fn test_args_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let data = vec![1, 2, 3];\n        let response: Vec\u003cu8\u003e = r.args(\u0026data).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == data);\n\n        Ok(())\n    }\n}\n","traces":[{"line":6,"address":[6642560,6642789,6642762],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026alloc::vec::Vec\u003cu8, alloc::alloc::Global\u003e, u8\u003e"},{"line":11,"address":[6642585],"length":1,"stats":{"Line":1},"fn_name":null},{"line":13,"address":[6642678,6642611],"length":1,"stats":{"Line":2},"fn_name":null},{"line":21,"address":[1780224,1780233,1780256,1780815,1780313,1780381,1780516],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":22,"address":[1780637,1780405,1780826,1780476,1780371,1781094],"length":1,"stats":{"Line":4},"fn_name":null},{"line":23,"address":[1781341,1781079],"length":1,"stats":{"Line":2},"fn_name":null},{"line":24,"address":[1781424,1781373,1780420,1782276,1782128],"length":1,"stats":{"Line":3},"fn_name":null},{"line":26,"address":[1782558,1782246,1782521],"length":1,"stats":{"Line":2},"fn_name":null},{"line":28,"address":[1782527],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":9,"coverable":9},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","asc.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::prelude::Func;\nuse crate::Command;\n\npub(crate) fn new(args: impl AscArg) -\u003e Command {\n    Command::new(TermType::Asc).with_arg(args.into_asc_opts())\n}\n\npub trait AscArg {\n    fn into_asc_opts(self) -\u003e Command;\n}\n\nimpl\u003cT\u003e AscArg for T\nwhere\n    T: Into\u003cT\u003e + Serialize,\n{\n    fn into_asc_opts(self) -\u003e Command {\n        Command::from_json(self)\n    }\n}\n\nimpl AscArg for Func {\n    fn into_asc_opts(self) -\u003e Command {\n        self.0\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::*;\n    use crate::spec::*;\n    use crate::{args, r, Result};\n\n    #[tokio::test]\n    async fn test_asc_ops() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let response: Vec\u003cPost\u003e = table\n            .order_by(args!(r.expr(\"view\"), r.asc(\"title\")))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response.len() \u003e 1);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":7,"address":[6408096,6408378],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":8,"address":[6408368,6408244,6408139],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[6408416],"length":1,"stats":{"Line":1},"fn_name":"into_asc_opts\u003c\u0026str\u003e"},{"line":20,"address":[6408437],"length":1,"stats":{"Line":1},"fn_name":null},{"line":25,"address":[2826432],"length":1,"stats":{"Line":0},"fn_name":"into_asc_opts"},{"line":26,"address":[7017416],"length":1,"stats":{"Line":0},"fn_name":null},{"line":37,"address":[1673077,1672663,1673029,1672624],"length":1,"stats":{"Line":6},"fn_name":"test_asc_ops"},{"line":38,"address":[2364425,2363637,2363983,2363411,2363805,2363484],"length":1,"stats":{"Line":4},"fn_name":null},{"line":39,"address":[2365073,2364907,2365150,2365896,2365665,2364373,2365345,2365621,2365564,2364844],"length":1,"stats":{"Line":7},"fn_name":null},{"line":40,"address":[2364395,2364631,2364914,2364932,2364883],"length":1,"stats":{"Line":2},"fn_name":null},{"line":41,"address":[2365278,2363505,2363588,2364982,2365106],"length":1,"stats":{"Line":5},"fn_name":null},{"line":42,"address":[2365468],"length":1,"stats":{"Line":0},"fn_name":null},{"line":46,"address":[2366155,2365785,2366094],"length":1,"stats":{"Line":2},"fn_name":null},{"line":48,"address":[1672700,1672760,1672655,1673040],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":11,"coverable":14},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","avg.rs"],"content":"use ql2::term::TermType;\n\nuse crate::prelude::Func;\nuse crate::Command;\n\npub(crate) fn new(args: impl AvgArg) -\u003e Command {\n    let (arg1, arg2) = args.into_avg_opts();\n    let mut command = Command::new(TermType::Avg);\n\n    if let Some(arg) = arg1 {\n        command = command.with_arg(arg)\n    }\n\n    if let Some(arg) = arg2 {\n        command = command.with_arg(arg)\n    }\n\n    command\n}\n\npub trait AvgArg {\n    fn into_avg_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e);\n}\n\nimpl AvgArg for () {\n    fn into_avg_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        (None, None)\n    }\n}\n\nimpl AvgArg for \u0026str {\n    fn into_avg_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        let arg = Command::from_json(self);\n\n        (None, Some(arg))\n    }\n}\n\nimpl AvgArg for Func {\n    fn into_avg_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        (None, Some(self.0))\n    }\n}\n\nimpl AvgArg for Command {\n    fn into_avg_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        (Some(self), None)\n    }\n}\n\nimpl AvgArg for (Command, \u0026str) {\n    fn into_avg_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        let arg = Command::from_json(self.1);\n\n        (Some(self.0), Some(arg))\n    }\n}\n\nimpl AvgArg for (Command, Func) {\n    fn into_avg_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        let Func(func) = self.1;\n\n        (Some(self.0), Some(func))\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_avg_data() -\u003e Result\u003c()\u003e {\n        let data: Vec\u003cu8\u003e = Post::get_many_data().iter().map(|post| post.view).collect();\n        let avg = data.iter().sum::\u003cu8\u003e() as f32 / data.len() as f32;\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: f32 = table.avg(\"view\").run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained == avg);\n\n        tear_down(conn, table_name.as_str()).await\n    }\n}\n","traces":[{"line":6,"address":[1754384,1755144,1755255],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":7,"address":[1754417],"length":1,"stats":{"Line":1},"fn_name":null},{"line":8,"address":[1754527],"length":1,"stats":{"Line":1},"fn_name":null},{"line":10,"address":[1754624,1754860],"length":1,"stats":{"Line":1},"fn_name":null},{"line":11,"address":[1754739,1754834],"length":1,"stats":{"Line":0},"fn_name":null},{"line":14,"address":[1755085,1754862,1754796],"length":1,"stats":{"Line":3},"fn_name":null},{"line":15,"address":[1754945,1755059],"length":1,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[1755006],"length":1,"stats":{"Line":1},"fn_name":null},{"line":26,"address":[1683648],"length":1,"stats":{"Line":0},"fn_name":"into_avg_opts"},{"line":27,"address":[1683667],"length":1,"stats":{"Line":0},"fn_name":null},{"line":32,"address":[1683760],"length":1,"stats":{"Line":1},"fn_name":"into_avg_opts"},{"line":33,"address":[1683793],"length":1,"stats":{"Line":1},"fn_name":null},{"line":35,"address":[1683803],"length":1,"stats":{"Line":1},"fn_name":null},{"line":40,"address":[2744816],"length":1,"stats":{"Line":0},"fn_name":"into_avg_opts"},{"line":41,"address":[2744832],"length":1,"stats":{"Line":0},"fn_name":null},{"line":46,"address":[4037920],"length":1,"stats":{"Line":0},"fn_name":"into_avg_opts"},{"line":47,"address":[2171520],"length":1,"stats":{"Line":0},"fn_name":null},{"line":52,"address":[4038316,4038064],"length":1,"stats":{"Line":0},"fn_name":"into_avg_opts"},{"line":53,"address":[2171673],"length":1,"stats":{"Line":0},"fn_name":null},{"line":55,"address":[4038157],"length":1,"stats":{"Line":0},"fn_name":null},{"line":60,"address":[2171936],"length":1,"stats":{"Line":0},"fn_name":"into_avg_opts"},{"line":61,"address":[4038374],"length":1,"stats":{"Line":0},"fn_name":null},{"line":63,"address":[2171985],"length":1,"stats":{"Line":0},"fn_name":null},{"line":74,"address":[2366944,2367137,2367363,2366953,2367664,2367045,2366976],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":75,"address":[2370797,2367107,2370784,2367480],"length":1,"stats":{"Line":4},"fn_name":"{closure#0}"},{"line":76,"address":[2367727],"length":1,"stats":{"Line":1},"fn_name":null},{"line":77,"address":[2368002,2367320,2368619,2367167],"length":1,"stats":{"Line":3},"fn_name":null},{"line":78,"address":[2368565,2368831,2369670,2367271,2369560,2367188],"length":1,"stats":{"Line":5},"fn_name":null},{"line":80,"address":[2370025,2369643],"length":1,"stats":{"Line":1},"fn_name":null},{"line":82,"address":[2369981,2370368,2370307,2370502,2367206,2370247,2370123],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":17,"coverable":30},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","between.rs"],"content":"use std::borrow::Cow;\n\nuse ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::arguments::{Args, Status};\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl BetweenArg) -\u003e Command {\n    let (min_key, max_key, opts) = args.into_between_opts();\n    let min_key: Option\u003cCommand\u003e = min_key.into();\n    let max_key: Option\u003cCommand\u003e = max_key.into();\n\n    Command::new(TermType::Between)\n        .with_arg(min_key.unwrap())\n        .with_arg(max_key.unwrap())\n        .with_opts(opts)\n}\n\npub trait BetweenArg {\n    fn into_between_opts(self) -\u003e (CmdOpts, CmdOpts, BetweenOption);\n}\n\nimpl BetweenArg for Args\u003c(Command, Command)\u003e {\n    fn into_between_opts(self) -\u003e (CmdOpts, CmdOpts, BetweenOption) {\n        (\n            CmdOpts::Single(self.0 .0),\n            CmdOpts::Single(self.0 .1),\n            Default::default(),\n        )\n    }\n}\n\nimpl BetweenArg for Args\u003c(Command, Command, BetweenOption)\u003e {\n    fn into_between_opts(self) -\u003e (CmdOpts, CmdOpts, BetweenOption) {\n        (\n            CmdOpts::Single(self.0 .0),\n            CmdOpts::Single(self.0 .1),\n            self.0 .2,\n        )\n    }\n}\n\n#[derive(\n    Debug, Clone, Serialize, Default, Eq, PartialEq, Ord, PartialOrd, Hash, CommandOptions,\n)]\npub struct BetweenOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub index: Option\u003cCow\u003c'static, str\u003e\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub left_bound: Option\u003cStatus\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub right_bound: Option\u003cStatus\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::arguments::Status;\n    use crate::prelude::*;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::{args, r, Result};\n\n    use super::BetweenOption;\n\n    #[tokio::test]\n    async fn test_get_data_between() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_get: Vec\u003cPost\u003e = table\n            .between(args!(r.expr(2), r.expr(4)))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_get.len() == 2);\n        assert!(data_get.first() == data.get(2));\n        assert!(data_get.last() == data.get(1));\n\n        tear_down(conn, table_name.as_str()).await\n    }\n\n    #[tokio::test]\n    async fn test_get_data_between_by_minval() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_get: Vec\u003cPost\u003e = table\n            .between(args!(r::min_val(), r.expr(4)))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_get.len() == 3);\n        assert!(data_get.first() == data.get(2));\n        assert!(data_get.last() == data.first());\n\n        tear_down(conn, table_name.as_str()).await\n    }\n\n    #[tokio::test]\n    async fn test_get_data_between_by_maxval() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_get: Vec\u003cPost\u003e = table\n            .between(args!(r.expr(2), r::max_val()))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_get.len() == 4);\n        assert!(data_get.first() == data.get(3));\n        assert!(data_get.last() == data.get(1));\n\n        tear_down(conn, table_name.as_str()).await\n    }\n\n    #[tokio::test]\n    async fn test_get_data_between_with_opts() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let between_option = BetweenOption::default().right_bound(Status::Closed);\n        let data_get: Vec\u003cPost\u003e = table\n            .between(args!(r.expr(2), r.expr(4), between_option))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_get.len() == 3);\n        assert!(data_get.first() == data.get(3));\n        assert!(data_get.last() == data.get(1));\n\n        tear_down(conn, table_name.as_str()).await\n    }\n\n    #[tokio::test]\n    async fn test_get_data_between_by_minval_and_max_val_with_opts() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let between_option = BetweenOption::default()\n            .right_bound(Status::Closed)\n            .left_bound(Status::Closed)\n            .index(\"title\");\n        let data_get: Vec\u003cPost\u003e = table\n            .between(args!(r::min_val(), r::max_val(), between_option))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_get.len() == data.len());\n        assert!(data_get.first() == data.get(3));\n        assert!(data_get.last() == data.first());\n\n        tear_down(conn, table_name.as_str()).await\n    }\n}\n","traces":[{"line":12,"address":[4899632,4900435,4900779,4898448,4899595,4899251],"length":1,"stats":{"Line":2},"fn_name":"new\u003creql_rust::arguments::Args\u003c(reql_rust::proto::Command, reql_rust::proto::Command)\u003e\u003e"},{"line":13,"address":[4899649,4898465],"length":1,"stats":{"Line":2},"fn_name":null},{"line":14,"address":[4899901,4898801,4898717,4899985],"length":1,"stats":{"Line":4},"fn_name":null},{"line":15,"address":[4900094,4899993,4898809,4898910],"length":1,"stats":{"Line":4},"fn_name":null},{"line":17,"address":[4898918,4899303,4898989,4900102,4900173,4900487,4899108,4899427,4900292,4900611],"length":1,"stats":{"Line":10},"fn_name":null},{"line":18,"address":[4900425,4899241,4899147,4900331,4900181,4898997],"length":1,"stats":{"Line":4},"fn_name":null},{"line":19,"address":[4899442,4899163,4900626,4899262,4900446,4900347,4900531,4899347],"length":1,"stats":{"Line":4},"fn_name":null},{"line":20,"address":[4899355,4900539],"length":1,"stats":{"Line":2},"fn_name":null},{"line":28,"address":[6656677,6656368,6656700],"length":1,"stats":{"Line":1},"fn_name":"into_between_opts"},{"line":30,"address":[6656425],"length":1,"stats":{"Line":1},"fn_name":null},{"line":31,"address":[6656473],"length":1,"stats":{"Line":1},"fn_name":null},{"line":32,"address":[6656540],"length":1,"stats":{"Line":1},"fn_name":null},{"line":38,"address":[6656720],"length":1,"stats":{"Line":1},"fn_name":"into_between_opts"},{"line":40,"address":[6656742],"length":1,"stats":{"Line":1},"fn_name":null},{"line":41,"address":[6656801],"length":1,"stats":{"Line":1},"fn_name":null},{"line":42,"address":[6656873],"length":1,"stats":{"Line":1},"fn_name":null},{"line":69,"address":[2842992,2843379,2842969,2843725,2843061,2843153,2842960],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":70,"address":[2843123],"length":1,"stats":{"Line":1},"fn_name":null},{"line":71,"address":[2843183,2843561,2844190,2843501,2843736,2843336],"length":1,"stats":{"Line":4},"fn_name":null},{"line":72,"address":[2844829,2844596,2844912,2844145,2845326,2845661,2845427,2844663,2845107,2845383],"length":1,"stats":{"Line":7},"fn_name":null},{"line":73,"address":[2844670,2844688,2844363,2844635,2844180],"length":1,"stats":{"Line":2},"fn_name":null},{"line":74,"address":[2845040,2844643,2843287,2844868,2843204,2844738],"length":1,"stats":{"Line":6},"fn_name":null},{"line":75,"address":[2845230],"length":1,"stats":{"Line":0},"fn_name":null},{"line":79,"address":[2845547,2845920,2845968],"length":1,"stats":{"Line":2},"fn_name":null},{"line":80,"address":[2846202,2845941,2846016],"length":1,"stats":{"Line":2},"fn_name":null},{"line":81,"address":[2846421,2846245,2846181],"length":1,"stats":{"Line":2},"fn_name":null},{"line":83,"address":[2846619,2846675,2846755,2846885,2843222,2846380,2846495],"length":1,"stats":{"Line":7},"fn_name":null},{"line":87,"address":[2847651,2847425,2847997,2847264,2847333,2847241,2847232],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":88,"address":[2847395],"length":1,"stats":{"Line":1},"fn_name":null},{"line":89,"address":[2847773,2847455,2847833,2848008,2848457,2847608],"length":1,"stats":{"Line":4},"fn_name":null},{"line":90,"address":[2849928,2848417,2848930,2848863,2849694,2849593,2849096,2849179,2849650,2849374],"length":1,"stats":{"Line":7},"fn_name":null},{"line":91,"address":[2848630,2848955,2848447,2848902,2848937],"length":1,"stats":{"Line":2},"fn_name":null},{"line":92,"address":[2849307,2847476,2848910,2847559,2849005,2849135],"length":1,"stats":{"Line":6},"fn_name":null},{"line":93,"address":[2849497],"length":1,"stats":{"Line":0},"fn_name":null},{"line":97,"address":[2849814,2850235,2850187],"length":1,"stats":{"Line":2},"fn_name":null},{"line":98,"address":[2850208,2850469,2850283],"length":1,"stats":{"Line":2},"fn_name":null},{"line":99,"address":[2850512,2850448,2850683],"length":1,"stats":{"Line":2},"fn_name":null},{"line":101,"address":[2850937,2850642,2851017,2850757,2850881,2847494,2851147],"length":1,"stats":{"Line":7},"fn_name":null},{"line":105,"address":[2851520,2851488,2851497,2852253,2851681,2851907,2851589],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":106,"address":[2851651],"length":1,"stats":{"Line":1},"fn_name":null},{"line":107,"address":[2852264,2852029,2851711,2852718,2852089,2851864],"length":1,"stats":{"Line":4},"fn_name":null},{"line":108,"address":[2853906,2853186,2853950,2853352,2854184,2853630,2853119,2853435,2853849,2852673],"length":1,"stats":{"Line":7},"fn_name":null},{"line":109,"address":[2853211,2852891,2853193,2853158,2852708],"length":1,"stats":{"Line":2},"fn_name":null},{"line":110,"address":[2853563,2851815,2853391,2851732,2853166,2853261],"length":1,"stats":{"Line":6},"fn_name":null},{"line":111,"address":[2853753],"length":1,"stats":{"Line":0},"fn_name":null},{"line":115,"address":[2854070,2854443,2854491],"length":1,"stats":{"Line":2},"fn_name":null},{"line":116,"address":[2854464,2854725,2854539],"length":1,"stats":{"Line":2},"fn_name":null},{"line":117,"address":[2854944,2854768,2854704],"length":1,"stats":{"Line":2},"fn_name":null},{"line":119,"address":[2855198,2855278,2851750,2855408,2855018,2854903,2855142],"length":1,"stats":{"Line":7},"fn_name":null},{"line":123,"address":[2855776,2856167,2856513,2855845,2855753,2855941,2855744],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":124,"address":[2855907],"length":1,"stats":{"Line":1},"fn_name":null},{"line":125,"address":[2856524,2856289,2856911,2856349,2856124,2855971],"length":1,"stats":{"Line":4},"fn_name":null},{"line":126,"address":[2857136,2856901],"length":1,"stats":{"Line":2},"fn_name":null},{"line":127,"address":[2857187,2858320,2857657,2858377,2857906,2858101,2858425,2858659,2857590,2857823],"length":1,"stats":{"Line":7},"fn_name":null},{"line":128,"address":[2857242,2857629,2857682,2857664],"length":1,"stats":{"Line":2},"fn_name":null},{"line":129,"address":[2855992,2856075,2857862,2857732,2857637,2858034],"length":1,"stats":{"Line":6},"fn_name":null},{"line":130,"address":[2858224],"length":1,"stats":{"Line":0},"fn_name":null},{"line":134,"address":[2858545,2858918,2858966],"length":1,"stats":{"Line":2},"fn_name":null},{"line":135,"address":[2858939,2859206,2859014],"length":1,"stats":{"Line":2},"fn_name":null},{"line":136,"address":[2859255,2859179,2859431],"length":1,"stats":{"Line":2},"fn_name":null},{"line":138,"address":[2859523,2859787,2859647,2859917,2859390,2859703,2856010],"length":1,"stats":{"Line":7},"fn_name":null},{"line":142,"address":[2860469,2860272,2860695,2860373,2861041,2860304,2860281],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":143,"address":[2860435],"length":1,"stats":{"Line":1},"fn_name":null},{"line":144,"address":[2860652,2860817,2860877,2860499,2861439,2861052],"length":1,"stats":{"Line":4},"fn_name":null},{"line":145,"address":[2861672,2861711,2861429],"length":1,"stats":{"Line":3},"fn_name":null},{"line":146,"address":[2861664],"length":1,"stats":{"Line":1},"fn_name":null},{"line":147,"address":[2861703],"length":1,"stats":{"Line":1},"fn_name":null},{"line":149,"address":[2862498,2863251,2862249,2862415,2861789,2862969,2863017,2862182,2862693,2862912],"length":1,"stats":{"Line":7},"fn_name":null},{"line":150,"address":[2862256,2862274,2862221,2861839],"length":1,"stats":{"Line":2},"fn_name":null},{"line":151,"address":[2862229,2862626,2860603,2862454,2862324,2860520],"length":1,"stats":{"Line":6},"fn_name":null},{"line":152,"address":[2862816],"length":1,"stats":{"Line":0},"fn_name":null},{"line":156,"address":[2863510,2863588,2863137],"length":1,"stats":{"Line":2},"fn_name":null},{"line":157,"address":[2863636,2863561,2863825],"length":1,"stats":{"Line":2},"fn_name":null},{"line":158,"address":[2864042,2863801,2863871],"length":1,"stats":{"Line":2},"fn_name":null},{"line":160,"address":[2864528,2864134,2860538,2864001,2864258,2864314,2864398],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":70,"coverable":75},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","binary.rs"],"content":"use crate::types::Binary;\n\npub(crate) fn new(bytes: \u0026[u8]) -\u003e Binary {\n    Binary::new(bytes)\n}\n\n#[cfg(test)]\nmod tests {\n    use serde::{Deserialize, Serialize};\n\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::Binary;\n    use crate::{r, Result};\n\n    #[derive(Debug, Serialize, Deserialize)]\n    struct User {\n        id: u8,\n        name: String,\n        avatar: Binary,\n    }\n\n    #[tokio::test]\n    async fn test_binary_ops() -\u003e Result\u003c()\u003e {\n        let avatar_img = std::fs::read(\"logo.png\")?;\n        let user = User {\n            id: 1,\n            name: \"John Doe\".to_string(),\n            avatar: r.binary(\u0026avatar_img),\n        };\n\n        let (conn, table, table_name) = set_up(false).await?;\n        table.clone().insert(\u0026user).run(\u0026conn).await?;\n        let response: User = table.get(1).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response.id == user.id);\n        assert!(response.name == user.name);\n        assert!(!response.avatar.data.is_empty());\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":3,"address":[6929152],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":4,"address":[2124533],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[4110357,4109991,4110405,4109952],"length":1,"stats":{"Line":6},"fn_name":"test_binary_ops"},{"line":25,"address":[4346472,4346353,4345878],"length":1,"stats":{"Line":2},"fn_name":null},{"line":28,"address":[4346442],"length":1,"stats":{"Line":1},"fn_name":null},{"line":29,"address":[4346645,4346737],"length":1,"stats":{"Line":2},"fn_name":null},{"line":32,"address":[6883457],"length":1,"stats":{"Line":4},"fn_name":null},{"line":33,"address":[4347664,4346131,4345974,4347442],"length":1,"stats":{"Line":4},"fn_name":null},{"line":34,"address":[4346080,4345995,4348548,4348424,4349415,4349268],"length":1,"stats":{"Line":5},"fn_name":null},{"line":36,"address":[4349388,4349789],"length":1,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[4349904,4349764,4349872],"length":1,"stats":{"Line":2},"fn_name":null},{"line":38,"address":[4349998,4349938,4349886],"length":1,"stats":{"Line":2},"fn_name":null},{"line":40,"address":[4110088,4110028,4110368,4109983],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":13,"coverable":13},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","bit_and.rs"],"content":"use std::ops::BitAnd;\n\nuse ql2::term::TermType;\n\nuse crate::Command;\n\nimpl\u003cT: BitAndArg\u003e BitAnd\u003cT\u003e for Command {\n    type Output = Self;\n\n    fn bitand(self, arg: T) -\u003e Self {\n        Command::new(TermType::BitAnd)\n            .with_arg(arg.into_bit_and_opts())\n            .with_parent(self)\n    }\n}\n\npub trait BitAndArg {\n    fn into_bit_and_opts(self) -\u003e Command;\n}\n\nimpl BitAndArg for i32 {\n    fn into_bit_and_opts(self) -\u003e Command {\n        Command::from_json(self)\n    }\n}\n\nimpl BitAndArg for Command {\n    fn into_bit_and_opts(self) -\u003e Command {\n        self\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_bit_and_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: u8 = r.expr(5).bit_and(3).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == 1);\n\n        Ok(())\n    }\n\n    #[tokio::test]\n    async fn test_bit_and_ops_with_command() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: u8 = r\n            .bit_and(r.expr(5), r.expr(3))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response == 1);\n\n        Ok(())\n    }\n\n    #[tokio::test]\n    async fn test_bit_and_ops_with_syntax() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: u8 = (r.expr(5) \u0026 r.expr(3)).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == 1);\n\n        Ok(())\n    }\n}\n","traces":[{"line":10,"address":[2190465,2190012,2190048,2189632,2190417,2189974],"length":1,"stats":{"Line":2},"fn_name":"bitand\u003ci32\u003e"},{"line":11,"address":[2189949,2190392,2189852,2190075,2190194,2189783,2189665,2190295],"length":1,"stats":{"Line":8},"fn_name":null},{"line":12,"address":[],"length":0,"stats":{"Line":4},"fn_name":null},{"line":13,"address":[2189901,2190344],"length":1,"stats":{"Line":2},"fn_name":null},{"line":22,"address":[2121024],"length":1,"stats":{"Line":1},"fn_name":"into_bit_and_opts"},{"line":23,"address":[2121040],"length":1,"stats":{"Line":1},"fn_name":null},{"line":28,"address":[4038560],"length":1,"stats":{"Line":1},"fn_name":"into_bit_and_opts"},{"line":29,"address":[2253800],"length":1,"stats":{"Line":1},"fn_name":null},{"line":39,"address":[3586183,3586549,3586597,3586144],"length":1,"stats":{"Line":6},"fn_name":"test_bit_and_ops"},{"line":40,"address":[3578189,3578028,3577923,3578644,3578378,3577957],"length":1,"stats":{"Line":4},"fn_name":null},{"line":41,"address":[6889389,6889321],"length":1,"stats":{"Line":4},"fn_name":null},{"line":43,"address":[3579669,3579897],"length":1,"stats":{"Line":1},"fn_name":null},{"line":45,"address":[3579871],"length":1,"stats":{"Line":5},"fn_name":null},{"line":49,"address":[3586640,3586679,3587093,3587045],"length":1,"stats":{"Line":6},"fn_name":"test_bit_and_ops_with_command"},{"line":50,"address":[3580141,3580212,3580091,3580373,3580562,3580828],"length":1,"stats":{"Line":4},"fn_name":null},{"line":51,"address":[3581346,3582100,3581821,3581121,3581602,3581193,3581417,3581915,3581878],"length":1,"stats":{"Line":6},"fn_name":null},{"line":52,"address":[3581165,3581208,3581024,3580818,3581059],"length":1,"stats":{"Line":3},"fn_name":null},{"line":53,"address":[3581173,3581261,3581545,3580156,3581376],"length":1,"stats":{"Line":5},"fn_name":null},{"line":54,"address":[3581725],"length":1,"stats":{"Line":0},"fn_name":null},{"line":58,"address":[3582212,3581984],"length":1,"stats":{"Line":1},"fn_name":null},{"line":60,"address":[3582186],"length":1,"stats":{"Line":5},"fn_name":null},{"line":64,"address":[3582272,3582281,3582361,3582572,3582304,3582871,3582437],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":65,"address":[3582693,3582411,3582882,3583148,3582461,3582532],"length":1,"stats":{"Line":4},"fn_name":null},{"line":66,"address":[3583344,3583379,3583138,3582476,3584235,3583581,3584324],"length":1,"stats":{"Line":5},"fn_name":null},{"line":68,"address":[3584532,3584304],"length":1,"stats":{"Line":1},"fn_name":null},{"line":70,"address":[3584506],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":25,"coverable":26},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","bit_not.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::BitNot)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_bit_not_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: i32 = r.expr(7).bit_not().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == -8);\n\n        Ok(())\n    }\n\n    #[tokio::test]\n    async fn test_bit_not_ops_with_command() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: i32 = r.bit_not(r.expr(7)).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == -8);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2750608],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2832268],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[1800208,1800265,1800767,1800176,1800468,1800185,1800333],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":16,"address":[1800357,1801044,1800323,1800778,1800589,1800428],"length":1,"stats":{"Line":4},"fn_name":null},{"line":17,"address":[1801034,1802085,1801283,1801995,1800372],"length":1,"stats":{"Line":4},"fn_name":null},{"line":19,"address":[1802293,1802064],"length":1,"stats":{"Line":1},"fn_name":null},{"line":21,"address":[6684168,6684108,6684448,6684063],"length":1,"stats":{"Line":5},"fn_name":null},{"line":25,"address":[1802361,1802644,1802352,1802441,1802384,1802943,1802509],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":26,"address":[1802533,1802765,1802604,1803220,1802954,1802499],"length":1,"stats":{"Line":4},"fn_name":null},{"line":27,"address":[1804171,1802548,1803459,1804261,1803210],"length":1,"stats":{"Line":4},"fn_name":null},{"line":29,"address":[1804469,1804240],"length":1,"stats":{"Line":1},"fn_name":null},{"line":31,"address":[1804443],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":12,"coverable":12},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","bit_or.rs"],"content":"use std::ops::BitOr;\n\nuse ql2::term::TermType;\n\nuse crate::Command;\n\nimpl\u003cT: BitOrArg\u003e BitOr\u003cT\u003e for Command {\n    type Output = Self;\n\n    fn bitor(self, arg: T) -\u003e Self {\n        Command::new(TermType::BitOr)\n            .with_arg(arg.into_bit_or_opts())\n            .with_parent(self)\n    }\n}\n\npub trait BitOrArg {\n    fn into_bit_or_opts(self) -\u003e Command;\n}\n\nimpl BitOrArg for i32 {\n    fn into_bit_or_opts(self) -\u003e Command {\n        Command::from_json(self)\n    }\n}\n\nimpl BitOrArg for Command {\n    fn into_bit_or_opts(self) -\u003e Command {\n        self\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_bit_or_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: u8 = r.expr(5).bit_or(3).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == 7);\n\n        Ok(())\n    }\n\n    #[tokio::test]\n    async fn test_bit_or_ops_with_command() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: u8 = r\n            .bit_or(r.expr(5), r.expr(3))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response == 7);\n\n        Ok(())\n    }\n\n    #[tokio::test]\n    async fn test_bit_or_ops_with_syntax() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: u8 = (r.expr(5) | r.expr(3)).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == 7);\n\n        Ok(())\n    }\n}\n","traces":[{"line":10,"address":[2191281,2190912,2191329,2190876,2190838,2190496],"length":1,"stats":{"Line":2},"fn_name":"bitor\u003ci32\u003e"},{"line":11,"address":[2190529,2190813,2191058,2191159,2190647,2190939,2191256,2190716],"length":1,"stats":{"Line":8},"fn_name":null},{"line":12,"address":[],"length":0,"stats":{"Line":4},"fn_name":null},{"line":13,"address":[2190765,2191208],"length":1,"stats":{"Line":2},"fn_name":null},{"line":22,"address":[2121056],"length":1,"stats":{"Line":1},"fn_name":"into_bit_or_opts"},{"line":23,"address":[2121072],"length":1,"stats":{"Line":1},"fn_name":null},{"line":28,"address":[4038592],"length":1,"stats":{"Line":1},"fn_name":"into_bit_or_opts"},{"line":29,"address":[2253832],"length":1,"stats":{"Line":1},"fn_name":null},{"line":39,"address":[7037712,7038117,7038165,7037751],"length":1,"stats":{"Line":6},"fn_name":"test_bit_or_ops"},{"line":40,"address":[2316131,2316165,2316586,2316852,2316236,2316397],"length":1,"stats":{"Line":4},"fn_name":null},{"line":41,"address":[2316842,2316180,2317897,2317096,2317808],"length":1,"stats":{"Line":4},"fn_name":null},{"line":43,"address":[2317877,2318105],"length":1,"stats":{"Line":1},"fn_name":null},{"line":45,"address":[2318079],"length":1,"stats":{"Line":5},"fn_name":null},{"line":49,"address":[7038247,7038208,7038661,7038613],"length":1,"stats":{"Line":6},"fn_name":"test_bit_or_ops_with_command"},{"line":50,"address":[2318770,2319036,2318420,2318581,2318349,2318299],"length":1,"stats":{"Line":4},"fn_name":null},{"line":51,"address":[2320086,2320308,2319810,2320029,2319401,2319554,2320123,2319329,2319625],"length":1,"stats":{"Line":6},"fn_name":null},{"line":52,"address":[2319026,2319416,2319373,2319232,2319267],"length":1,"stats":{"Line":3},"fn_name":null},{"line":53,"address":[2319469,2318364,2319753,2319584,2319381],"length":1,"stats":{"Line":5},"fn_name":null},{"line":54,"address":[2319933],"length":1,"stats":{"Line":0},"fn_name":null},{"line":58,"address":[2320420,2320192],"length":1,"stats":{"Line":1},"fn_name":null},{"line":60,"address":[2320394],"length":1,"stats":{"Line":5},"fn_name":null},{"line":64,"address":[2320569,2320512,2320645,2321079,2320489,2320480,2320780],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":65,"address":[2321090,2320740,2320619,2320669,2321356,2320901],"length":1,"stats":{"Line":4},"fn_name":null},{"line":66,"address":[2321552,2322443,2322532,2321587,2321346,2320684,2321789],"length":1,"stats":{"Line":5},"fn_name":null},{"line":68,"address":[2322512,2322740],"length":1,"stats":{"Line":1},"fn_name":null},{"line":70,"address":[2322714],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":25,"coverable":26},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","bit_sal.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(args: impl BitSalArg) -\u003e Command {\n    Command::new(TermType::BitSal).with_arg(args.into_bit_sal_opts())\n}\n\npub trait BitSalArg {\n    fn into_bit_sal_opts(self) -\u003e Command;\n}\n\nimpl BitSalArg for i32 {\n    fn into_bit_sal_opts(self) -\u003e Command {\n        Command::from_json(self)\n    }\n}\n\nimpl BitSalArg for Command {\n    fn into_bit_sal_opts(self) -\u003e Command {\n        self\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_bit_sal_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: u8 = r.expr(5).bit_sal(4).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == 80);\n\n        Ok(())\n    }\n\n    #[tokio::test]\n    async fn test_bit_sal_ops_with_command() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: u8 = r\n            .bit_sal(r.expr(5), r.expr(4))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response == 80);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[4457280,4457566,4457237,4456976],"length":1,"stats":{"Line":2},"fn_name":"new\u003ci32\u003e"},{"line":6,"address":[4457004,4457402,4457227,4457556,4457302,4457103],"length":1,"stats":{"Line":4},"fn_name":null},{"line":14,"address":[2039440],"length":1,"stats":{"Line":1},"fn_name":"into_bit_sal_opts"},{"line":15,"address":[2121104],"length":1,"stats":{"Line":1},"fn_name":null},{"line":20,"address":[2172208],"length":1,"stats":{"Line":1},"fn_name":"into_bit_sal_opts"},{"line":21,"address":[2253864],"length":1,"stats":{"Line":1},"fn_name":null},{"line":31,"address":[4412293,4411888,4412341,4411927],"length":1,"stats":{"Line":6},"fn_name":"test_bit_sal_ops"},{"line":32,"address":[4441418,4441068,4440963,4441229,4440997,4441684],"length":1,"stats":{"Line":4},"fn_name":null},{"line":33,"address":[4441674,4442729,4442640,4441928,4441012],"length":1,"stats":{"Line":4},"fn_name":null},{"line":35,"address":[4442937,4442709],"length":1,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[4411919,4411964,4412024,4412304],"length":1,"stats":{"Line":5},"fn_name":null},{"line":41,"address":[4412384,4412423,4412789,4412837],"length":1,"stats":{"Line":6},"fn_name":"test_bit_sal_ops_with_command"},{"line":42,"address":[4443131,4443413,4443602,4443252,4443868,4443181],"length":1,"stats":{"Line":4},"fn_name":null},{"line":43,"address":[4444642,4444861,4444918,4444457,4444233,4444386,4444955,4444161,4445140],"length":1,"stats":{"Line":6},"fn_name":null},{"line":44,"address":[4444099,4443858,4444205,4444248,4444064],"length":1,"stats":{"Line":3},"fn_name":null},{"line":45,"address":[4444213,4443196,4444416,4444585,4444301],"length":1,"stats":{"Line":5},"fn_name":null},{"line":46,"address":[4444765],"length":1,"stats":{"Line":0},"fn_name":null},{"line":50,"address":[4445024,4445252],"length":1,"stats":{"Line":1},"fn_name":null},{"line":52,"address":[4412800,4412520,4412460,4412415],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":18,"coverable":19},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","bit_sar.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(args: impl BitSarArg) -\u003e Command {\n    Command::new(TermType::BitSar).with_arg(args.into_bit_sar_opts())\n}\n\npub trait BitSarArg {\n    fn into_bit_sar_opts(self) -\u003e Command;\n}\n\nimpl BitSarArg for i32 {\n    fn into_bit_sar_opts(self) -\u003e Command {\n        Command::from_json(self)\n    }\n}\n\nimpl BitSarArg for Command {\n    fn into_bit_sar_opts(self) -\u003e Command {\n        self\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_bit_sar_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: u8 = r.expr(32).bit_sar(3).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == 4);\n\n        Ok(())\n    }\n\n    #[tokio::test]\n    async fn test_bit_sar_ops_with_command() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: u8 = r\n            .bit_sar(r.expr(32), r.expr(3))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response == 4);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[4207472,4207429,4207758,4207168],"length":1,"stats":{"Line":2},"fn_name":"new\u003ci32\u003e"},{"line":6,"address":[4207295,4207494,4207196,4207748,4207419,4207594],"length":1,"stats":{"Line":4},"fn_name":null},{"line":14,"address":[2039472],"length":1,"stats":{"Line":1},"fn_name":"into_bit_sar_opts"},{"line":15,"address":[2121136],"length":1,"stats":{"Line":1},"fn_name":null},{"line":20,"address":[2172240],"length":1,"stats":{"Line":1},"fn_name":"into_bit_sar_opts"},{"line":21,"address":[2253896],"length":1,"stats":{"Line":1},"fn_name":null},{"line":31,"address":[4199993,4200141,4200575,4200016,4200073,4200276,4199984],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":32,"address":[4200397,4200586,4200852,4200236,4200131,4200165],"length":1,"stats":{"Line":4},"fn_name":null},{"line":33,"address":[4201897,4201808,4200180,4200842,4201096],"length":1,"stats":{"Line":4},"fn_name":null},{"line":35,"address":[4201877,4202105],"length":1,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[6685440,6685055,6685100,6685160],"length":1,"stats":{"Line":5},"fn_name":null},{"line":41,"address":[4202160,4202460,4202325,4202169,4202192,4202249,4202759],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":42,"address":[4202581,4202420,4202299,4202770,4202349,4203036],"length":1,"stats":{"Line":4},"fn_name":null},{"line":43,"address":[4204029,4203625,4203810,4204086,4203401,4204308,4203329,4203554,4204123],"length":1,"stats":{"Line":6},"fn_name":null},{"line":44,"address":[4203373,4203267,4203232,4203026,4203416],"length":1,"stats":{"Line":3},"fn_name":null},{"line":45,"address":[4203381,4203584,4203753,4203469,4202364],"length":1,"stats":{"Line":5},"fn_name":null},{"line":46,"address":[4203933],"length":1,"stats":{"Line":0},"fn_name":null},{"line":50,"address":[4204420,4204192],"length":1,"stats":{"Line":1},"fn_name":null},{"line":52,"address":[4204394],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":18,"coverable":19},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","bit_xor.rs"],"content":"use std::ops::BitXor;\n\nuse ql2::term::TermType;\n\nuse crate::Command;\n\nimpl\u003cT: BitXorArg\u003e BitXor\u003cT\u003e for Command {\n    type Output = Self;\n\n    fn bitxor(self, arg: T) -\u003e Self {\n        Command::new(TermType::BitXor)\n            .with_arg(arg.into_bit_xor_opts())\n            .with_parent(self)\n    }\n}\n\npub trait BitXorArg {\n    fn into_bit_xor_opts(self) -\u003e Command;\n}\n\nimpl BitXorArg for i32 {\n    fn into_bit_xor_opts(self) -\u003e Command {\n        Command::from_json(self)\n    }\n}\n\nimpl BitXorArg for Command {\n    fn into_bit_xor_opts(self) -\u003e Command {\n        self\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_bit_xor_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: u8 = r.expr(6).bit_xor(4).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == 2);\n\n        Ok(())\n    }\n\n    #[tokio::test]\n    async fn test_bit_xor_ops_with_command() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: u8 = r\n            .bit_xor(r.expr(6), r.expr(4))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response == 2);\n\n        Ok(())\n    }\n\n    #[tokio::test]\n    async fn test_bit_xor_ops_with_syntax() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: u8 = (r.expr(6) ^ r.expr(4)).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == 2);\n\n        Ok(())\n    }\n}\n","traces":[{"line":10,"address":[2191776,2192145,2191740,2191360,2191702,2192193],"length":1,"stats":{"Line":2},"fn_name":"bitxor\u003ci32\u003e"},{"line":11,"address":[2191922,2192023,2191580,2191677,2191393,2191511,2191803,2192120],"length":1,"stats":{"Line":10},"fn_name":null},{"line":12,"address":[],"length":0,"stats":{"Line":5},"fn_name":null},{"line":13,"address":[2191629,2192072],"length":1,"stats":{"Line":3},"fn_name":null},{"line":22,"address":[2121152],"length":1,"stats":{"Line":1},"fn_name":"into_bit_xor_opts"},{"line":23,"address":[2121168],"length":1,"stats":{"Line":1},"fn_name":null},{"line":28,"address":[4038688],"length":1,"stats":{"Line":1},"fn_name":"into_bit_xor_opts"},{"line":29,"address":[2253928],"length":1,"stats":{"Line":2},"fn_name":null},{"line":39,"address":[3587632,3588037,3588085,3587671],"length":1,"stats":{"Line":6},"fn_name":"test_bit_xor_ops"},{"line":40,"address":[1639133,1638972,1638867,1639322,1639588,1638901],"length":1,"stats":{"Line":4},"fn_name":null},{"line":41,"address":[6890537,6890605],"length":1,"stats":{"Line":4},"fn_name":null},{"line":43,"address":[1640841,1640613],"length":1,"stats":{"Line":1},"fn_name":null},{"line":45,"address":[1640815],"length":1,"stats":{"Line":5},"fn_name":null},{"line":49,"address":[3588581,3588533,3588167,3588128],"length":1,"stats":{"Line":6},"fn_name":"test_bit_xor_ops_with_command"},{"line":50,"address":[1641085,1641156,1641035,1641506,1641772,1641317],"length":1,"stats":{"Line":4},"fn_name":null},{"line":51,"address":[1642137,1642361,1642765,1642065,1642290,1642822,1642859,1642546,1643044],"length":1,"stats":{"Line":6},"fn_name":null},{"line":52,"address":[1642152,1642003,1642109,1641968,1641762],"length":1,"stats":{"Line":3},"fn_name":null},{"line":53,"address":[1642117,1642205,1641100,1642489,1642320],"length":1,"stats":{"Line":5},"fn_name":null},{"line":54,"address":[1642669],"length":1,"stats":{"Line":0},"fn_name":null},{"line":58,"address":[1643156,1642928],"length":1,"stats":{"Line":1},"fn_name":null},{"line":60,"address":[1643130],"length":1,"stats":{"Line":5},"fn_name":null},{"line":64,"address":[1643305,1643216,1643225,1643248,1643381,1643516,1643815],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":65,"address":[1643476,1643355,1644092,1643826,1643405,1643637],"length":1,"stats":{"Line":4},"fn_name":null},{"line":66,"address":[1644323,1644288,1644082,1645268,1643420,1645179,1644525],"length":1,"stats":{"Line":5},"fn_name":null},{"line":68,"address":[1645476,1645248],"length":1,"stats":{"Line":1},"fn_name":null},{"line":70,"address":[1645450],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":25,"coverable":26},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","bracket.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(attr: impl Serialize) -\u003e Command {\n    let arg = Command::from_json(attr);\n\n    Command::new(TermType::Bracket).with_arg(arg)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_bracket_data() -\u003e Result\u003c()\u003e {\n        let data = Post::get_one_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: String = table\n            .get(1)\n            .bracket(\"title\")\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained == data.title);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":6,"address":[6642800,6643012,6643039],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":7,"address":[6642833],"length":1,"stats":{"Line":1},"fn_name":null},{"line":9,"address":[6642859,6642926],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[1673525,1673573,1673120,1673159],"length":1,"stats":{"Line":6},"fn_name":"test_bracket_data"},{"line":20,"address":[4407203],"length":1,"stats":{"Line":1},"fn_name":null},{"line":21,"address":[4407255,4407808,4407573,4407408,4407633,4408246],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[4408626,4408703,4408193,4409117,4408446,4409448,4408898,4408509,4409174,4409218],"length":1,"stats":{"Line":7},"fn_name":null},{"line":25,"address":[4408489,4408831,4407276,4408532,4407359,4408659],"length":1,"stats":{"Line":6},"fn_name":null},{"line":26,"address":[4409021],"length":1,"stats":{"Line":0},"fn_name":null},{"line":30,"address":[4409338,4409762,4409707],"length":1,"stats":{"Line":2},"fn_name":null},{"line":32,"address":[1673151,1673536,1673256,1673196],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":10,"coverable":11},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","branch.rs"],"content":"use ql2::term::TermType;\n\nuse crate::{arguments::Args, Command};\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl BranchArg) -\u003e Command {\n    let (test, true_action, false_action) = args.into_branch_opts();\n    let mut command = Command::new(TermType::Branch);\n\n    if let Some(arg) = test {\n        command = command.with_arg(arg)\n    }\n\n    true_action.add_to_cmd(command).with_arg(false_action)\n}\n\npub trait BranchArg {\n    fn into_branch_opts(self) -\u003e (Option\u003cCommand\u003e, CmdOpts, Command);\n}\n\nimpl BranchArg for Args\u003c(Command, Command)\u003e {\n    fn into_branch_opts(self) -\u003e (Option\u003cCommand\u003e, CmdOpts, Command) {\n        (None, CmdOpts::Single(self.0 .0), self.0 .1)\n    }\n}\n\nimpl\u003cconst N: usize\u003e BranchArg for Args\u003c(Command, [(Command, Command); N], Command)\u003e {\n    fn into_branch_opts(self) -\u003e (Option\u003cCommand\u003e, CmdOpts, Command) {\n        let actions = self\n            .0\n             .1\n            .into_iter()\n            .flat_map(|(test, true_action)| [test, true_action])\n            .collect();\n        (Some(self.0 .0), CmdOpts::Many(actions), self.0 .2)\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{args, r, Result};\n\n    #[tokio::test]\n    async fn test_branch_data() -\u003e Result\u003c()\u003e {\n        let x = 10;\n        let conn = r.connection().connect().await?;\n        let response: String = r\n            .branch(r.expr(x \u003e 5), args!(r.expr(\"big\"), r.expr(\"small\")))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response.eq(\"big\"));\n\n        Ok(())\n    }\n\n    #[tokio::test]\n    async fn test_branch_data_with_infix() -\u003e Result\u003c()\u003e {\n        let x = 10;\n        let conn = r.connection().connect().await?;\n        let response: String = r\n            .expr(x \u003e 5)\n            .branch(args!(r.expr(\"big\"), r.expr(\"small\")))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response.eq(\"big\"));\n\n        Ok(())\n    }\n}\n","traces":[{"line":7,"address":[2702728,2701936,2702660],"length":1,"stats":{"Line":1},"fn_name":"new\u003creql_rust::arguments::Args\u003c(reql_rust::proto::Command, reql_rust::proto::Command)\u003e\u003e"},{"line":8,"address":[2701953],"length":1,"stats":{"Line":1},"fn_name":null},{"line":9,"address":[2702133],"length":1,"stats":{"Line":1},"fn_name":null},{"line":11,"address":[2702207,2702511],"length":1,"stats":{"Line":1},"fn_name":null},{"line":12,"address":[2702485,2702322],"length":1,"stats":{"Line":0},"fn_name":null},{"line":15,"address":[2702379,2702516],"length":1,"stats":{"Line":2},"fn_name":null},{"line":23,"address":[6656992],"length":1,"stats":{"Line":1},"fn_name":"into_branch_opts"},{"line":24,"address":[2655030],"length":1,"stats":{"Line":1},"fn_name":null},{"line":29,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":30,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":31,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":32,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":34,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":36,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":46,"address":[6686016,6686421,6686469,6686055],"length":1,"stats":{"Line":6},"fn_name":"test_branch_data"},{"line":47,"address":[1701297],"length":1,"stats":{"Line":1},"fn_name":null},{"line":48,"address":[6885458],"length":1,"stats":{"Line":4},"fn_name":null},{"line":49,"address":[1703312,1702999,1703275,1703555,1702589,1702813,1703218,1702742,1702525],"length":1,"stats":{"Line":6},"fn_name":null},{"line":50,"address":[1702604,1702019,1702280,1702561,1702245],"length":1,"stats":{"Line":3},"fn_name":null},{"line":51,"address":[6885322],"length":1,"stats":{"Line":5},"fn_name":null},{"line":52,"address":[1703122],"length":1,"stats":{"Line":0},"fn_name":null},{"line":56,"address":[1703718,1703425,1703681],"length":1,"stats":{"Line":2},"fn_name":null},{"line":58,"address":[1703687],"length":1,"stats":{"Line":5},"fn_name":null},{"line":62,"address":[1703840,1703897,1703985,1704420,1704120,1703808,1703817],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":63,"address":[1703953],"length":1,"stats":{"Line":1},"fn_name":null},{"line":64,"address":[1704009,1704242,1704080,1703975,1704431,1704704],"length":1,"stats":{"Line":4},"fn_name":null},{"line":65,"address":[1705874,1705655,1705931,1705181,1705968,1706211,1705245,1705469,1704683,1705398],"length":1,"stats":{"Line":7},"fn_name":null},{"line":66,"address":[1704675,1704936],"length":1,"stats":{"Line":2},"fn_name":null},{"line":67,"address":[1704901,1705217,1705260,1704944],"length":1,"stats":{"Line":2},"fn_name":null},{"line":68,"address":[1705597,1705428,1705225,1705313,1704024],"length":1,"stats":{"Line":5},"fn_name":null},{"line":69,"address":[1705778],"length":1,"stats":{"Line":0},"fn_name":null},{"line":73,"address":[1706374,1706081,1706337],"length":1,"stats":{"Line":2},"fn_name":null},{"line":75,"address":[1706343],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":24,"coverable":33},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","ceil.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(args: impl CeilArg) -\u003e Command {\n    let mut command = Command::new(TermType::Ceil);\n\n    if let Some(arg) = args.into_ceil_opts() {\n        command = command.with_arg(arg)\n    }\n\n    command\n}\n\npub trait CeilArg {\n    fn into_ceil_opts(self) -\u003e Option\u003cCommand\u003e;\n}\n\nimpl CeilArg for () {\n    fn into_ceil_opts(self) -\u003e Option\u003cCommand\u003e {\n        None\n    }\n}\n\nimpl CeilArg for f64 {\n    fn into_ceil_opts(self) -\u003e Option\u003cCommand\u003e {\n        Some(Command::from_json(self))\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_ceil_data() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let data_obtained: u8 = r.ceil(12.345).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained == 13);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[7026607,7026038,7026080,7025488],"length":1,"stats":{"Line":1},"fn_name":"new\u003cf64\u003e"},{"line":6,"address":[7025621,7026100,7026192,7025523],"length":1,"stats":{"Line":2},"fn_name":null},{"line":8,"address":[2756655,2755791,2756316,2755729,2756378,2756070],"length":1,"stats":{"Line":3},"fn_name":null},{"line":9,"address":[2674836,2674981,2674396,2674250],"length":1,"stats":{"Line":2},"fn_name":null},{"line":12,"address":[2756680,2756095],"length":1,"stats":{"Line":1},"fn_name":null},{"line":20,"address":[2757696],"length":1,"stats":{"Line":0},"fn_name":"into_ceil_opts"},{"line":21,"address":[2757700],"length":1,"stats":{"Line":0},"fn_name":null},{"line":26,"address":[4750720],"length":1,"stats":{"Line":1},"fn_name":"into_ceil_opts"},{"line":27,"address":[4750746],"length":1,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[4588905,4589487,4588985,4588896,4589053,4589188,4588928],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":38,"address":[4589077,4589043,4589148,4589767,4589498,4589309],"length":1,"stats":{"Line":4},"fn_name":null},{"line":39,"address":[4590695,4590784,4589995,4589757,4589092],"length":1,"stats":{"Line":4},"fn_name":null},{"line":41,"address":[4590764,4590992],"length":1,"stats":{"Line":1},"fn_name":null},{"line":43,"address":[4590966],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":12,"coverable":14},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","change_at.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(offset: isize, value: impl Serialize) -\u003e Command {\n    let arg_offset = Command::from_json(offset);\n    let arg_value = Command::from_json(value);\n\n    Command::new(TermType::ChangeAt)\n        .with_arg(arg_offset)\n        .with_arg(arg_value)\n}\n\n// TODO write test\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","changes.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::types::Squash;\nuse crate::Command;\n\npub(crate) fn new(args: impl ChangesArg) -\u003e Command {\n    Command::new(TermType::Changes)\n        .with_opts(args.into_changes_opts())\n        .mark_change_feed()\n}\n\npub trait ChangesArg {\n    fn into_changes_opts(self) -\u003e ChangesOption;\n}\n\nimpl ChangesArg for () {\n    fn into_changes_opts(self) -\u003e ChangesOption {\n        Default::default()\n    }\n}\n\nimpl ChangesArg for ChangesOption {\n    fn into_changes_opts(self) -\u003e ChangesOption {\n        self\n    }\n}\n\n#[derive(Debug, Clone, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct ChangesOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub squash: Option\u003cSquash\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub changefeed_queue_size: Option\u003cu32\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub include_initial: Option\u003cbool\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub include_states: Option\u003cbool\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub include_offsets: Option\u003cbool\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub include_types: Option\u003cbool\u003e,\n}\n","traces":[{"line":19,"address":[4030768],"length":1,"stats":{"Line":0},"fn_name":"into_changes_opts"},{"line":20,"address":[4030780],"length":1,"stats":{"Line":0},"fn_name":null},{"line":25,"address":[4030800],"length":1,"stats":{"Line":0},"fn_name":"into_changes_opts"},{"line":26,"address":[4030803],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":4},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","circle.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::arguments::{Args, Unit};\nuse crate::types::{GeoSystem, Point};\nuse crate::Command;\n\npub(crate) fn new(args: impl CircleArg) -\u003e Command {\n    let (arg_point, arg_radius, opts) = args.into_circle_opts();\n\n    Command::new(TermType::Circle)\n        .with_arg(arg_point)\n        .with_arg(arg_radius)\n        .with_opts(opts)\n}\n\npub trait CircleArg {\n    fn into_circle_opts(self) -\u003e (Command, Command, CircleOption);\n}\n\nimpl CircleArg for Args\u003c(Point, f64)\u003e {\n    fn into_circle_opts(self) -\u003e (Command, Command, CircleOption) {\n        (\n            Command::from_json(self.0 .0),\n            Command::from_json(self.0 .1),\n            Default::default(),\n        )\n    }\n}\n\nimpl CircleArg for Args\u003c(Command, f64)\u003e {\n    fn into_circle_opts(self) -\u003e (Command, Command, CircleOption) {\n        (self.0 .0, Command::from_json(self.0 .1), Default::default())\n    }\n}\n\nimpl CircleArg for Args\u003c(Point, f64, CircleOption)\u003e {\n    fn into_circle_opts(self) -\u003e (Command, Command, CircleOption) {\n        (\n            Command::from_json(self.0 .0),\n            Command::from_json(self.0 .1),\n            self.0 .2,\n        )\n    }\n}\n\nimpl CircleArg for Args\u003c(Command, f64, CircleOption)\u003e {\n    fn into_circle_opts(self) -\u003e (Command, Command, CircleOption) {\n        (self.0 .0, Command::from_json(self.0 .1), self.0 .2)\n    }\n}\n\n#[derive(\n    Debug, Clone, Serialize, Default, PartialEq, Eq, PartialOrd, Ord, Hash, CommandOptions,\n)]\npub struct CircleOption {\n    /// the number of vertices in the polygon or line. Defaults to 32.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub num_vertices: Option\u003cusize\u003e,\n    /// the reference ellipsoid to use for geographic coordinates.\n    /// Possible values are `WGS84` (the default), a common standard\n    /// for Earths geometry, or `UnitSphere`, a perfect sphere of 1 meter radius.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub geo_system: Option\u003cGeoSystem\u003e,\n    /// Unit for the radius distance.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub unit: Option\u003cUnit\u003e,\n    /// if `true` (the default) the circle is filled, creating a polygon;\n    /// if `false` the circle is unfilled (creating a line).\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub fill: Option\u003cbool\u003e,\n}\n\n// TODO write test\n","traces":[{"line":9,"address":[2328704,2329245],"length":1,"stats":{"Line":1},"fn_name":"new\u003creql_rust::arguments::Args\u003c(reql_rust::cmd::point::Point, f64)\u003e\u003e"},{"line":10,"address":[2328721],"length":1,"stats":{"Line":1},"fn_name":null},{"line":12,"address":[2329122,2329053,2329182,2328918],"length":1,"stats":{"Line":4},"fn_name":null},{"line":13,"address":[2328992],"length":1,"stats":{"Line":1},"fn_name":null},{"line":14,"address":[2329060],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[2329134],"length":1,"stats":{"Line":1},"fn_name":null},{"line":23,"address":[2736880,2737193],"length":1,"stats":{"Line":1},"fn_name":"into_circle_opts"},{"line":25,"address":[6657237],"length":1,"stats":{"Line":1},"fn_name":null},{"line":26,"address":[2736959],"length":1,"stats":{"Line":1},"fn_name":null},{"line":27,"address":[6657359],"length":1,"stats":{"Line":1},"fn_name":null},{"line":33,"address":[2655867,2655584],"length":1,"stats":{"Line":0},"fn_name":"into_circle_opts"},{"line":34,"address":[6657591],"length":1,"stats":{"Line":0},"fn_name":null},{"line":39,"address":[6658144,6657856],"length":1,"stats":{"Line":0},"fn_name":"into_circle_opts"},{"line":41,"address":[6657877],"length":1,"stats":{"Line":0},"fn_name":null},{"line":42,"address":[6657934],"length":1,"stats":{"Line":0},"fn_name":null},{"line":43,"address":[6658000],"length":1,"stats":{"Line":0},"fn_name":null},{"line":49,"address":[6658445,6658176],"length":1,"stats":{"Line":0},"fn_name":"into_circle_opts"},{"line":50,"address":[6658215],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":10,"coverable":18},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","coerce_to.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(value: impl Serialize) -\u003e Command {\n    Command::new(TermType::CoerceTo).with_arg(Command::from_json(value))\n}\n\n#[cfg(test)]\nmod tests {\n    use serde_json::json;\n\n    use crate::prelude::Converter;\n    use crate::spec::Post;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_coerce_to_ops() -\u003e Result\u003c()\u003e {\n        let data = Post::get_one_data();\n        let conn = r.connection().connect().await?;\n        let response: Post = r\n            .expr(json!([\n                [\"id\", 1],\n                [\"title\", \"title1\"],\n                [\"content\", \"content1\"],\n                [\"view\", 0]\n            ]))\n            .coerce_to(\"object\")\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        let response2: char = r\n            .expr(1)\n            .coerce_to(\"string\")\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response == data);\n        assert!(response2 == '1');\n\n        Ok(())\n    }\n}\n","traces":[{"line":6,"address":[1837642,1837360],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":7,"address":[1837508,1837632,1837403],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[2253504,2253957,2253909,2253543],"length":1,"stats":{"Line":6},"fn_name":"test_coerce_to_ops"},{"line":20,"address":[6644851],"length":1,"stats":{"Line":1},"fn_name":null},{"line":21,"address":[6645266,6644891,6645470,6645046,6645757,6645206],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[6648910,6648634,6648175,6648933,6648439,6648853,6648245,6649224,6648362],"length":1,"stats":{"Line":6},"fn_name":null},{"line":23,"address":[6645983,6645739],"length":1,"stats":{"Line":2},"fn_name":null},{"line":30,"address":[6644912,6648567,6644997,6648268,6648225,6648395],"length":1,"stats":{"Line":6},"fn_name":null},{"line":31,"address":[6648757],"length":1,"stats":{"Line":0},"fn_name":null},{"line":35,"address":[6649118,6649812,6650128,6650031,6649617,6650326,6649540,6649420,6650088,6649357],"length":1,"stats":{"Line":7},"fn_name":null},{"line":38,"address":[6644930,6649443,6649400,6649573,6649745],"length":1,"stats":{"Line":5},"fn_name":null},{"line":39,"address":[6649935],"length":1,"stats":{"Line":0},"fn_name":null},{"line":43,"address":[6650209,6650512,6650536],"length":1,"stats":{"Line":2},"fn_name":null},{"line":44,"address":[6650522,6650599],"length":1,"stats":{"Line":1},"fn_name":null},{"line":46,"address":[2253640,2253920,2253535,2253580],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":13,"coverable":15},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","concat_map.rs"],"content":"use ql2::term::TermType;\n\nuse crate::prelude::Func;\nuse crate::Command;\n\npub(crate) fn new(func: Func) -\u003e Command {\n    Command::new(TermType::ConcatMap).with_arg(func.0)\n}\n\n// TODO write test\n","traces":[{"line":6,"address":[4583744,4583921,4583948],"length":1,"stats":{"Line":0},"fn_name":"new"},{"line":7,"address":[4583851,4583766],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":2},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","config.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Config)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::ConfigResponse;\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_get_config_info() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(false).await?;\n        let response: ConfigResponse = table.config().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response.name == table_name);\n\n        tear_down(conn, table_name.as_str()).await\n    }\n}\n","traces":[{"line":5,"address":[2718656],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2718668],"length":1,"stats":{"Line":1},"fn_name":null},{"line":17,"address":[4213813,4213399,4213765,4213360],"length":1,"stats":{"Line":6},"fn_name":"test_get_config_info"},{"line":18,"address":[6688163,6689158,6688726,6688548,6688225,6688380],"length":1,"stats":{"Line":4},"fn_name":null},{"line":19,"address":[6690280,6688246,6690124,6688331,6689415,6689110],"length":1,"stats":{"Line":5},"fn_name":null},{"line":21,"address":[6690627,6690573,6690255],"length":1,"stats":{"Line":2},"fn_name":null},{"line":23,"address":[4213776,4213391,4213496,4213436],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":7,"coverable":7},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","connect.rs"],"content":"#![allow(clippy::unused_io_amount)]\n\n//! Create a new connection to the database server\n\nuse std::borrow::Cow;\nuse std::fs::File;\nuse std::io::Read;\nuse std::sync::atomic::{AtomicBool, AtomicU64};\nuse std::sync::Arc;\nuse std::time::Duration;\n\nuse async_native_tls::{Certificate, TlsConnector};\nuse async_net::TcpStream;\nuse dashmap::DashMap;\nuse futures::channel::oneshot;\nuse futures::lock::Mutex;\nuse tokio::task;\nuse tokio::time;\n\nuse super::{StaticString, TcpStreamConnection};\nuse crate::constants::{\n    DEFAULT_RETHINKDB_DBNAME, DEFAULT_RETHINKDB_HOSTNAME, DEFAULT_RETHINKDB_PASSWORD,\n    DEFAULT_RETHINKDB_PORT, DEFAULT_RETHINKDB_USER,\n};\nuse crate::{InnerSession, Result, Session};\n\n#[derive(Debug)]\n#[non_exhaustive]\npub struct ConnectionCommand {\n    /// Host of the RethinkDB instance. The default value is `localhost`.\n    host: Cow\u003c'static, str\u003e,\n\n    /// The driver port, by default `28015`.\n    port: u16,\n\n    /// The database used if not explicitly specified in a query, by default `test`.\n    db: Cow\u003c'static, str\u003e,\n\n    /// The user account to connect as (default `admin`).\n    user: Cow\u003c'static, str\u003e,\n\n    /// The password for the user account to connect as (default `\"\"`, empty).\n    password: Cow\u003c'static, str\u003e,\n\n    timeout: Option\u003cDuration\u003e,\n\n    tls_connector: Option\u003cTlsConnector\u003e,\n}\n\n#[derive(Debug, Clone)]\n#[non_exhaustive]\npub struct SslContext\u003c'a\u003e {\n    pub ca_certs: \u0026'a str,\n    pub auth_key: Option\u003c\u0026'a str\u003e,\n}\n\nimpl ConnectionCommand {\n    /// This method connect to database\n    pub async fn connect(self) -\u003e Result\u003cSession\u003e {\n        if let Some(timeout) = self.timeout {\n            let (sender, reciever) = oneshot::channel();\n\n            task::spawn(async move { sender.send(self.create_session().await) });\n\n            let session = time::timeout(timeout, reciever)\n                .await\n                .unwrap_or_else(|_| {\n                    panic!(\n                        \"It took {} seconds to open the connection\",\n                        timeout.as_secs_f32()\n                    )\n                })\n                .expect(\"The connection has been closed\");\n\n            session\n        } else {\n            self.create_session().await\n        }\n    }\n\n    /// This method set database host\n    pub fn host(mut self, host: \u0026'static str) -\u003e Self {\n        self.host = host.static_string();\n        self\n    }\n\n    /// This method set database port\n    pub fn port(mut self, port: u16) -\u003e Self {\n        self.port = port;\n        self\n    }\n\n    /// This method set database name\n    pub fn dbname(mut self, dbname: \u0026'static str) -\u003e Self {\n        self.db = Cow::from(dbname);\n        self\n    }\n\n    /// This method set database user\n    pub fn user(mut self, user: \u0026'static str, password: \u0026'static str) -\u003e Self {\n        self.user = user.static_string();\n        self.password = password.static_string();\n        self\n    }\n\n    /// Timeout period in seconds for the connection to be opened\n    pub fn timeout(mut self, timeout: Duration) -\u003e Self {\n        self.timeout = Some(timeout);\n        self\n    }\n\n    /// This method set ssl connection\n    pub fn ssl_context(mut self, ssl_context: SslContext) -\u003e Self {\n        let mut file = File::open(ssl_context.ca_certs).unwrap();\n        let mut certificate = Vec::new();\n\n        file.read_to_end(\u0026mut certificate).unwrap();\n\n        let certificate = if let Ok(cert) = Certificate::from_pem(\u0026certificate) {\n            cert\n        } else {\n            Certificate::from_der(\u0026certificate).unwrap()\n        };\n\n        self.tls_connector = Some(TlsConnector::new().add_root_certificate(certificate));\n\n        self\n    }\n\n    async fn create_session(self) -\u003e Result\u003cSession\u003e {\n        let stream = TcpStream::connect((self.host.as_ref(), self.port)).await?;\n        let mut stream = TcpStreamConnection {\n            tls_stream: if let Some(connector) = \u0026self.tls_connector {\n                let stream = connector\n                    .connect(self.host.as_ref(), stream.clone())\n                    .await?;\n                Some(stream)\n            } else {\n                None\n            },\n            stream,\n        };\n\n        if let Some(tcp_stream) = stream.tls_stream {\n            stream.tls_stream = Some(tools::handshake(tcp_stream, \u0026self).await?);\n        } else {\n            stream.stream = tools::handshake(stream.stream, \u0026self).await?;\n        }\n\n        let inner = InnerSession {\n            stream: Mutex::new(stream),\n            db: Mutex::new(self.db),\n            channels: DashMap::new(),\n            token: AtomicU64::new(0),\n            broken: AtomicBool::new(false),\n            change_feed: AtomicBool::new(false),\n        };\n\n        Ok(Session {\n            inner: Arc::new(inner),\n        })\n    }\n}\n\nimpl Default for ConnectionCommand {\n    fn default() -\u003e Self {\n        Self {\n            host: DEFAULT_RETHINKDB_HOSTNAME.static_string(),\n            port: DEFAULT_RETHINKDB_PORT,\n            db: DEFAULT_RETHINKDB_DBNAME.static_string(),\n            user: DEFAULT_RETHINKDB_USER.static_string(),\n            password: DEFAULT_RETHINKDB_PASSWORD.static_string(),\n            timeout: None,\n            tls_connector: None,\n        }\n    }\n}\n\nmod tools {\n    use futures::io::{AsyncReadExt, AsyncWriteExt};\n    use futures::{AsyncRead, AsyncWrite};\n    use ql2::version_dummy::Version;\n    use scram::client::{ScramClient, ServerFinal, ServerFirst};\n    use serde::{Deserialize, Serialize};\n    use tracing::trace;\n\n    use super::ConnectionCommand;\n    use crate::cmd::bytes_to_string;\n    use crate::constants::{\n        BUFFER_SIZE, DEFAULT_AUTHENTICATION_METHOD, NULL_BYTE, PROTOCOL_VERSION,\n    };\n    use crate::{err, Result};\n\n    // Performs the actual handshake\n    //\n    // This method optimises message exchange as suggested in the RethinkDB\n    // documentation by sending message 3 right after message 1, without waiting\n    // for message 2 first.\n    pub async fn handshake\u003cT\u003e(mut stream: T, opts: \u0026ConnectionCommand) -\u003e Result\u003cT\u003e\n    where\n        T: Unpin + AsyncWrite + AsyncReadExt + AsyncRead + AsyncReadExt,\n    {\n        trace!(\"sending supported version to RethinkDB\");\n\n        stream\n            .write_all(\u0026(Version::V10 as i32).to_le_bytes())\n            .await?; // message 1\n\n        let scram = ScramClient::new(opts.user.as_ref(), opts.password.as_ref(), None);\n        let (scram, msg) = client_first(scram)?;\n        trace!(\"sending client first message\");\n        stream.write_all(\u0026msg).await?; // message 3\n\n        let mut buf = [0u8; BUFFER_SIZE];\n\n        trace!(\"receiving message(s) from RethinkDB\");\n        stream.read(\u0026mut buf).await?; // message 2\n        let (len, resp) = bytes(\u0026buf, 0);\n        trace!(\"received server info; info: {}\", bytes_to_string(resp));\n        ServerInfo::validate(resp)?;\n\n        let offset = len + 1;\n        let resp = if offset \u003c BUFFER_SIZE \u0026\u0026 buf[offset] != NULL_BYTE {\n            bytes(\u0026buf, offset).1\n        } else {\n            trace!(\"reading auth response\");\n            stream.read(\u0026mut buf).await?; // message 4\n            bytes(\u0026buf, 0).1\n        };\n        trace!(\"received auth response\");\n        let info = AuthResponse::from_slice(resp)?;\n        let auth = match info.authentication {\n            Some(auth) =\u003e auth,\n            None =\u003e {\n                let msg = String::from(\"server did not send authentication info\");\n                return Err(err::ReqlDriverError::Other(msg).into());\n            }\n        };\n\n        let (scram, msg) = client_final(scram, \u0026auth)?;\n        trace!(\"sending client final message\");\n        stream.write_all(\u0026msg).await?; // message 5\n\n        trace!(\"reading server final message\");\n        stream.read(\u0026mut buf).await?; // message 6\n        let resp = bytes(\u0026buf, 0).1;\n        trace!(\"received server final message\");\n        server_final(scram, resp)?;\n\n        trace!(\"client connected successfully\");\n\n        Ok(stream)\n    }\n    fn bytes(buf: \u0026[u8], offset: usize) -\u003e (usize, \u0026[u8]) {\n        let len = (\u0026buf[offset..])\n            .iter()\n            .take_while(|x| **x != NULL_BYTE)\n            .count();\n        let max = offset + len;\n        (max, \u0026buf[offset..max])\n    }\n\n    // We are going to use \u0026str for `server_version` because it is safe to do so.\n    // Unfortunately, the other fields that are using String, are doing so because\n    // because they can potentially contain an escaped double quote which is not\n    // supported by serde in \u0026str.\n    #[derive(Serialize, Deserialize, Debug)]\n    struct ServerInfo\u003c'a\u003e {\n        success: bool,\n        min_protocol_version: usize,\n        max_protocol_version: usize,\n        server_version: \u0026'a str,\n    }\n\n    impl ServerInfo\u003c'_\u003e {\n        fn validate(resp: \u0026[u8]) -\u003e Result\u003c()\u003e {\n            let info = serde_json::from_slice::\u003cServerInfo\u003e(resp)?;\n            if !info.success {\n                return Err(err::ReqlRuntimeError::Internal(bytes_to_string(resp)).into());\n            }\n            #[allow(clippy::absurd_extreme_comparisons)]\n            if PROTOCOL_VERSION \u003c info.min_protocol_version\n                || info.max_protocol_version \u003c PROTOCOL_VERSION\n            {\n                let msg = format!(\n                    \"unsupported protocol version {version}, expected between {min} and {max}\",\n                    version = PROTOCOL_VERSION,\n                    min = info.min_protocol_version,\n                    max = info.max_protocol_version,\n                );\n                return Err(err::ReqlDriverError::Other(msg).into());\n            }\n            Ok(())\n        }\n    }\n\n    #[derive(Serialize, Deserialize, Debug)]\n    struct AuthRequest {\n        protocol_version: usize,\n        authentication_method: \u0026'static str,\n        authentication: String,\n    }\n\n    fn client_first(scram: ScramClient\u003c'_\u003e) -\u003e Result\u003c(ServerFirst\u003c'_\u003e, Vec\u003cu8\u003e)\u003e {\n        let (scram, client_first) = scram.client_first();\n        let ar = AuthRequest {\n            protocol_version: PROTOCOL_VERSION,\n            authentication_method: DEFAULT_AUTHENTICATION_METHOD,\n            authentication: client_first,\n        };\n        let mut msg = serde_json::to_vec(\u0026ar)?;\n        msg.push(NULL_BYTE);\n        Ok((scram, msg))\n    }\n\n    #[derive(Serialize, Deserialize, Debug)]\n    struct AuthConfirmation {\n        authentication: String,\n    }\n\n    fn client_final(scram: ServerFirst\u003c'_\u003e, auth: \u0026str) -\u003e Result\u003c(ServerFinal, Vec\u003cu8\u003e)\u003e {\n        let scram = scram\n            .handle_server_first(auth)\n            .map_err(|x| x.to_string())\n            .map_err(err::ReqlDriverError::Other)?;\n        let (scram, client_final) = scram.client_final();\n        let conf = AuthConfirmation {\n            authentication: client_final,\n        };\n        let mut msg = serde_json::to_vec(\u0026conf)?;\n        msg.push(NULL_BYTE);\n        Ok((scram, msg))\n    }\n\n    #[derive(Serialize, Deserialize, Debug)]\n    struct AuthResponse {\n        success: bool,\n        authentication: Option\u003cString\u003e,\n        error_code: Option\u003cusize\u003e,\n        error: Option\u003cString\u003e,\n    }\n\n    impl AuthResponse {\n        fn from_slice(resp: \u0026[u8]) -\u003e Result\u003cSelf\u003e {\n            let info = serde_json::from_slice::\u003cAuthResponse\u003e(resp)?;\n            if !info.success {\n                // If error code is between 10 and 20, this is an auth error\n                if let Some(10..=20) = info.error_code {\n                    if let Some(msg) = info.error {\n                        return Err(err::ReqlDriverError::Auth(msg).into());\n                    }\n                }\n                return Err(err::ReqlRuntimeError::Internal(bytes_to_string(resp)).into());\n            }\n            Ok(info)\n        }\n    }\n\n    fn server_final(scram: ServerFinal, resp: \u0026[u8]) -\u003e Result\u003c()\u003e {\n        let info = AuthResponse::from_slice(resp)?;\n        if let Some(auth) = info.authentication {\n            if let Err(error) = scram.handle_server_final(\u0026auth) {\n                return Err(err::ReqlDriverError::Other(error.to_string()).into());\n            }\n        }\n        Ok(())\n    }\n}\n\n#[cfg(test)]\nmod test {\n    use crate::{ReqlDriverError, ReqlError};\n\n    use super::ConnectionCommand;\n\n    #[tokio::test]\n    async fn test_default_connection() {\n        execute_test(ConnectionCommand::default()).await\n    }\n\n    #[tokio::test]\n    async fn test_custom_connection() {\n        let connection_command = ConnectionCommand::default()\n            .host(\"127.0.0.1\")\n            .port(28015)\n            .user(\"admin\", \"\")\n            .dbname(\"test\");\n\n        execute_test(connection_command).await\n    }\n\n    async fn execute_test(connection_command: ConnectionCommand) {\n        let db_expected = connection_command.db.clone();\n\n        match connection_command.connect().await {\n            Ok(session) =\u003e {\n                let db_obtained = \u0026session.inner.db.lock().await;\n                assert!(db_obtained.eq(\u0026db_expected));\n            }\n            Err(err) =\u003e {\n                if let ReqlError::Driver(err) = err {\n                    match err {\n                        ReqlDriverError::Io(err, msg) =\u003e {\n                            assert!(std::io::ErrorKind::ConnectionRefused.eq(\u0026err), \"{}\", msg)\n                        }\n                        ReqlDriverError::Auth(msg) =\u003e assert!(true, \"{}\", msg),\n                        _ =\u003e (),\n                    }\n                }\n            }\n        };\n    }\n}\n","traces":[{"line":59,"address":[2376014,2375656,2376459,2376237,2375456,2375525,2375814,2377446],"length":1,"stats":{"Line":27},"fn_name":"{async_fn#0}"},{"line":60,"address":[2375636,2375882,2377357],"length":1,"stats":{"Line":4},"fn_name":null},{"line":61,"address":[2376536,2375910],"length":1,"stats":{"Line":0},"fn_name":null},{"line":63,"address":[2376566,2377758,2377504,2377553,2376705],"length":1,"stats":{"Line":0},"fn_name":"{async_block#0}"},{"line":65,"address":[2375771,2375686,2376786,2377236],"length":1,"stats":{"Line":0},"fn_name":null},{"line":67,"address":[2377222,2378448],"length":1,"stats":{"Line":0},"fn_name":"{closure#1}"},{"line":68,"address":[2378481],"length":1,"stats":{"Line":0},"fn_name":null},{"line":70,"address":[2378470],"length":1,"stats":{"Line":0},"fn_name":null},{"line":75,"address":[2377309],"length":1,"stats":{"Line":0},"fn_name":null},{"line":77,"address":[2376070,2375944,2375704,2376248],"length":1,"stats":{"Line":13},"fn_name":null},{"line":82,"address":[1777216,1777451],"length":1,"stats":{"Line":1},"fn_name":"host"},{"line":83,"address":[1777274,1777317],"length":1,"stats":{"Line":2},"fn_name":null},{"line":84,"address":[1777431],"length":1,"stats":{"Line":1},"fn_name":null},{"line":88,"address":[1777488],"length":1,"stats":{"Line":1},"fn_name":"port"},{"line":89,"address":[1777508],"length":1,"stats":{"Line":1},"fn_name":null},{"line":90,"address":[1777515],"length":1,"stats":{"Line":1},"fn_name":null},{"line":94,"address":[1777536,1777777],"length":1,"stats":{"Line":1},"fn_name":"dbname"},{"line":95,"address":[1777637,1777594],"length":1,"stats":{"Line":2},"fn_name":null},{"line":96,"address":[1777757],"length":1,"stats":{"Line":1},"fn_name":null},{"line":100,"address":[1778229,1777808],"length":1,"stats":{"Line":1},"fn_name":"user"},{"line":101,"address":[1777948,1777899],"length":1,"stats":{"Line":2},"fn_name":null},{"line":102,"address":[1778065],"length":1,"stats":{"Line":1},"fn_name":null},{"line":103,"address":[1778206],"length":1,"stats":{"Line":1},"fn_name":null},{"line":107,"address":[1778256],"length":1,"stats":{"Line":0},"fn_name":"timeout"},{"line":108,"address":[1778277],"length":1,"stats":{"Line":0},"fn_name":null},{"line":109,"address":[1778331],"length":1,"stats":{"Line":0},"fn_name":null},{"line":113,"address":[1778916,1779581,1778352],"length":1,"stats":{"Line":0},"fn_name":"ssl_context"},{"line":114,"address":[1778374,1778486],"length":1,"stats":{"Line":0},"fn_name":null},{"line":115,"address":[1778517],"length":1,"stats":{"Line":0},"fn_name":null},{"line":117,"address":[1778571,1778635],"length":1,"stats":{"Line":0},"fn_name":null},{"line":119,"address":[1778654,1778914,1778768],"length":1,"stats":{"Line":0},"fn_name":null},{"line":120,"address":[1778752],"length":1,"stats":{"Line":0},"fn_name":null},{"line":122,"address":[1778849,1778773],"length":1,"stats":{"Line":0},"fn_name":null},{"line":125,"address":[1779052,1779014],"length":1,"stats":{"Line":0},"fn_name":null},{"line":127,"address":[1779352],"length":1,"stats":{"Line":0},"fn_name":null},{"line":130,"address":[2383788,2379132,2378592,2378653,2383962,2379947,2382999,2379514,2378830,2379207],"length":1,"stats":{"Line":27},"fn_name":"{async_fn#0}"},{"line":131,"address":[2379274,2378860,2379525,2379865,2378800,2379089],"length":1,"stats":{"Line":29},"fn_name":null},{"line":133,"address":[2379980,2380877,2379806],"length":1,"stats":{"Line":11},"fn_name":null},{"line":144,"address":[2380192,2382600,2381744,2381092],"length":1,"stats":{"Line":22},"fn_name":null},{"line":145,"address":[2378987,2382059,2382605,2378902,2381129],"length":1,"stats":{"Line":0},"fn_name":null},{"line":147,"address":[2381302,2378920,2381749,2381162],"length":1,"stats":{"Line":23},"fn_name":null},{"line":151,"address":[2381938],"length":1,"stats":{"Line":11},"fn_name":null},{"line":152,"address":[2383130],"length":1,"stats":{"Line":11},"fn_name":null},{"line":153,"address":[2383238],"length":1,"stats":{"Line":11},"fn_name":null},{"line":154,"address":[2383340,2383286],"length":1,"stats":{"Line":22},"fn_name":null},{"line":155,"address":[2383366],"length":1,"stats":{"Line":11},"fn_name":null},{"line":156,"address":[2383404],"length":1,"stats":{"Line":11},"fn_name":null},{"line":159,"address":[2383724],"length":1,"stats":{"Line":11},"fn_name":null},{"line":160,"address":[2383692],"length":1,"stats":{"Line":11},"fn_name":null},{"line":166,"address":[1780192,1779696],"length":1,"stats":{"Line":4},"fn_name":"default"},{"line":168,"address":[1779713],"length":1,"stats":{"Line":4},"fn_name":null},{"line":170,"address":[1779735],"length":1,"stats":{"Line":4},"fn_name":null},{"line":171,"address":[1779800],"length":1,"stats":{"Line":4},"fn_name":null},{"line":172,"address":[1779862],"length":1,"stats":{"Line":4},"fn_name":null},{"line":199,"address":[2405104,2405200,2405422,2426254],"length":1,"stats":{"Line":22},"fn_name":"handshake\u003casync_native_tls::tls_stream::TlsStream\u003casync_net::tcp::TcpStream\u003e\u003e"},{"line":203,"address":[2406157,2427795,2427008,2427684,2427370,2407028,2427879,2427534,2406683,2406833,2406944,2406519],"length":1,"stats":{"Line":33},"fn_name":null},{"line":205,"address":[2407738,2407633,2428680,2428591,2407537,2407919,2407827,2428390,2428775,2428212,2407361,2428486],"length":1,"stats":{"Line":55},"fn_name":null},{"line":206,"address":[2407373,2407664,2428226,2426477,2428413,2405626,2407560,2405999,2407797,2428650,2428517,2426850],"length":1,"stats":{"Line":44},"fn_name":null},{"line":207,"address":[2407941,2428759,2428797,2407903],"length":1,"stats":{"Line":0},"fn_name":null},{"line":209,"address":[2407868,2428721,2408032,2428895],"length":1,"stats":{"Line":22},"fn_name":null},{"line":210,"address":[2429018,2408152,2429446,2408577],"length":1,"stats":{"Line":11},"fn_name":null},{"line":211,"address":[2430449,2409155,2409664,2409469,2409580,2430024,2430533,2430338,2409319,2408793,2430188,2429662],"length":1,"stats":{"Line":33},"fn_name":null},{"line":212,"address":[2430866,2405948,2410543,2431414,2426799,2405647,2426498,2409997],"length":1,"stats":{"Line":22},"fn_name":null},{"line":214,"address":[2410412,2431283],"length":1,"stats":{"Line":11},"fn_name":null},{"line":216,"address":[2431879,2411517,2432304,2411008,2411433,2432043,2411172,2410646,2432193,2411322,2432388,2431517],"length":1,"stats":{"Line":33},"fn_name":null},{"line":217,"address":[2412224,2432721,2405897,2426748,2411850,2426519,2405668,2433098],"length":1,"stats":{"Line":23},"fn_name":null},{"line":218,"address":[2412193,2412294,2433168,2433067],"length":1,"stats":{"Line":22},"fn_name":null},{"line":219,"address":[2413849,2434228,2413354,2412483,2433883,2412845,2434033,2434144,2413270,2413159,2413009,2433357,2433719,2434723],"length":1,"stats":{"Line":33},"fn_name":null},{"line":220,"address":[2413875,2413967,2434841,2434749],"length":1,"stats":{"Line":11},"fn_name":null},{"line":222,"address":[2434813,2413939,2414133,2414151,2435007,2435025],"length":1,"stats":{"Line":22},"fn_name":null},{"line":223,"address":[2414184,2414141,2437168,2416291,2435058,2435015],"length":1,"stats":{"Line":12},"fn_name":null},{"line":224,"address":[2435304,2414430],"length":1,"stats":{"Line":11},"fn_name":null},{"line":226,"address":[2435485,2436356,2436011,2435847,2415137,2415482,2436161,2415398,2414611,2415287,2436272,2414973],"length":1,"stats":{"Line":3},"fn_name":null},{"line":227,"address":[2416189,2405689,2436689,2426697,2415815,2405846,2426540,2437066],"length":1,"stats":{"Line":3},"fn_name":null},{"line":228,"address":[2437035,2416259,2437136,2416158],"length":1,"stats":{"Line":2},"fn_name":null},{"line":230,"address":[2416303,2437856,2437180,2438051,2416979,2416829,2417174,2417090,2437542,2437967,2416665,2437706],"length":1,"stats":{"Line":33},"fn_name":null},{"line":231,"address":[2438693,2417588,2438465,2438376,2417816,2417499],"length":1,"stats":{"Line":22},"fn_name":null},{"line":232,"address":[2417991,2438664,2438868,2417787],"length":1,"stats":{"Line":11},"fn_name":null},{"line":233,"address":[2418031,2438908],"length":1,"stats":{"Line":11},"fn_name":null},{"line":234,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":235,"address":[2417993,2438870],"length":1,"stats":{"Line":0},"fn_name":null},{"line":236,"address":[2425682,2446659],"length":1,"stats":{"Line":0},"fn_name":null},{"line":240,"address":[2418343,2418413,2418692,2439584,2438985,2418108,2439305,2439235],"length":1,"stats":{"Line":22},"fn_name":null},{"line":241,"address":[2419610,2419296,2440697,2440502,2440613,2439826,2440188,2440352,2419721,2419460,2419805,2418934],"length":1,"stats":{"Line":33},"fn_name":null},{"line":242,"address":[2426646,2441548,2405795,2441030,2426561,2405710,2420654,2420138],"length":1,"stats":{"Line":22},"fn_name":null},{"line":244,"address":[2442177,2421628,2442327,2442522,2421119,2442438,2442013,2421544,2421283,2441651,2420757,2421433],"length":1,"stats":{"Line":33},"fn_name":null},{"line":245,"address":[2442855,2421961,2405728,2443232,2422335,2426579],"length":1,"stats":{"Line":12},"fn_name":null},{"line":246,"address":[2422405,2443302,2422304,2443201],"length":1,"stats":{"Line":22},"fn_name":null},{"line":247,"address":[2423441,2423246,2443993,2443829,2444338,2444254,2422932,2422570,2443467,2423357,2444143,2423096],"length":1,"stats":{"Line":33},"fn_name":null},{"line":248,"address":[2424043,2444949,2423790,2444687],"length":1,"stats":{"Line":11},"fn_name":null},{"line":250,"address":[2446006,2445207,2424779,2445703,2425082,2445934,2424627,2424298,2424911,2445551,2425010,2445835],"length":1,"stats":{"Line":33},"fn_name":null},{"line":252,"address":[2446333,2425409],"length":1,"stats":{"Line":11},"fn_name":null},{"line":254,"address":[2397200],"length":1,"stats":{"Line":11},"fn_name":"bytes"},{"line":255,"address":[2397272],"length":1,"stats":{"Line":11},"fn_name":null},{"line":257,"address":[2447120,2447133],"length":1,"stats":{"Line":22},"fn_name":"{closure#0}"},{"line":259,"address":[2397490,2397390],"length":1,"stats":{"Line":11},"fn_name":null},{"line":260,"address":[2397433,2397545],"length":1,"stats":{"Line":22},"fn_name":null},{"line":276,"address":[2397568],"length":1,"stats":{"Line":11},"fn_name":"validate"},{"line":277,"address":[2397611,2397725],"length":1,"stats":{"Line":11},"fn_name":null},{"line":278,"address":[2397708],"length":1,"stats":{"Line":11},"fn_name":null},{"line":279,"address":[2397796],"length":1,"stats":{"Line":0},"fn_name":null},{"line":282,"address":[2397927,2397768],"length":1,"stats":{"Line":22},"fn_name":null},{"line":283,"address":[2397918],"length":1,"stats":{"Line":11},"fn_name":null},{"line":285,"address":[2397973],"length":1,"stats":{"Line":0},"fn_name":null},{"line":291,"address":[2398225],"length":1,"stats":{"Line":0},"fn_name":null},{"line":293,"address":[2397961],"length":1,"stats":{"Line":11},"fn_name":null},{"line":304,"address":[2399509,2398384,2399449],"length":1,"stats":{"Line":11},"fn_name":"client_first"},{"line":305,"address":[2398400],"length":1,"stats":{"Line":11},"fn_name":null},{"line":311,"address":[2398766,2398884,2398703],"length":1,"stats":{"Line":22},"fn_name":null},{"line":312,"address":[2398856],"length":1,"stats":{"Line":11},"fn_name":null},{"line":313,"address":[2399085],"length":1,"stats":{"Line":11},"fn_name":null},{"line":321,"address":[2401141,2399552,2401195],"length":1,"stats":{"Line":11},"fn_name":"client_final"},{"line":322,"address":[2399594,2400171],"length":1,"stats":{"Line":11},"fn_name":null},{"line":324,"address":[2447168,2447152],"length":1,"stats":{"Line":0},"fn_name":"{closure#0}"},{"line":325,"address":[2400043],"length":1,"stats":{"Line":0},"fn_name":null},{"line":326,"address":[2400247,2399927],"length":1,"stats":{"Line":22},"fn_name":null},{"line":330,"address":[2400455,2400518,2400636],"length":1,"stats":{"Line":22},"fn_name":null},{"line":331,"address":[2400608],"length":1,"stats":{"Line":11},"fn_name":null},{"line":332,"address":[2400823],"length":1,"stats":{"Line":11},"fn_name":null},{"line":344,"address":[2401945,2401989,2401232],"length":1,"stats":{"Line":11},"fn_name":"from_slice"},{"line":345,"address":[2401274,2401408],"length":1,"stats":{"Line":11},"fn_name":null},{"line":346,"address":[2401387],"length":1,"stats":{"Line":11},"fn_name":null},{"line":348,"address":[2401578,2401531],"length":1,"stats":{"Line":0},"fn_name":null},{"line":349,"address":[2401586],"length":1,"stats":{"Line":0},"fn_name":null},{"line":350,"address":[2401643,2401784],"length":1,"stats":{"Line":0},"fn_name":null},{"line":353,"address":[2401837,2401568],"length":1,"stats":{"Line":0},"fn_name":null},{"line":355,"address":[2401448],"length":1,"stats":{"Line":11},"fn_name":null},{"line":359,"address":[2402994,2402176],"length":1,"stats":{"Line":11},"fn_name":"server_final"},{"line":360,"address":[2402240,2402390],"length":1,"stats":{"Line":11},"fn_name":null},{"line":361,"address":[2402491,2402362],"length":1,"stats":{"Line":22},"fn_name":null},{"line":362,"address":[2402525,2402707],"length":1,"stats":{"Line":22},"fn_name":null},{"line":363,"address":[2402812,2403085],"length":1,"stats":{"Line":0},"fn_name":null},{"line":366,"address":[2402614],"length":1,"stats":{"Line":11},"fn_name":null},{"line":377,"address":[4534481,4534438,4534048,4534077],"length":1,"stats":{"Line":6},"fn_name":"test_default_connection"},{"line":378,"address":[4534449,4534114,4534174,4534069],"length":1,"stats":{"Line":7},"fn_name":null},{"line":382,"address":[4534902,4534945,4534512,4534541],"length":1,"stats":{"Line":6},"fn_name":"test_custom_connection"},{"line":383,"address":[4786391,4786578],"length":1,"stats":{"Line":2},"fn_name":null},{"line":389,"address":[4534638,4534533,4534578,4534913],"length":1,"stats":{"Line":6},"fn_name":null},{"line":392,"address":[4532432,4532457],"length":1,"stats":{"Line":5},"fn_name":"execute_test"},{"line":393,"address":[4783164],"length":1,"stats":{"Line":1},"fn_name":null},{"line":395,"address":[4783225,4783310,4783603,4783787,4783469],"length":1,"stats":{"Line":4},"fn_name":null},{"line":396,"address":[4784009],"length":1,"stats":{"Line":1},"fn_name":null},{"line":397,"address":[4785032,4784033,4783243],"length":1,"stats":{"Line":2},"fn_name":null},{"line":398,"address":[4785475,4785363,4785428],"length":1,"stats":{"Line":2},"fn_name":null},{"line":400,"address":[4784059],"length":1,"stats":{"Line":0},"fn_name":null},{"line":401,"address":[4784096,4784804,4784202],"length":1,"stats":{"Line":0},"fn_name":null},{"line":402,"address":[4784163],"length":1,"stats":{"Line":0},"fn_name":null},{"line":403,"address":[4784300],"length":1,"stats":{"Line":0},"fn_name":null},{"line":404,"address":[4784506,4784354,4784481],"length":1,"stats":{"Line":0},"fn_name":null},{"line":406,"address":[4784595,4784229],"length":1,"stats":{"Line":0},"fn_name":null},{"line":407,"address":[4784224],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":110,"coverable":151},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","contains.rs"],"content":"use ql2::term::TermType;\n\nuse crate::arguments::AnyParam;\nuse crate::prelude::Func;\nuse crate::Command;\n\npub(crate) fn new(args: impl ContainsArg) -\u003e Command {\n    let (sequence, arg) = args.into_contains_opts();\n    let mut command = Command::new(TermType::Contains);\n\n    if let Some(seq) = sequence {\n        command = command.with_arg(seq)\n    }\n\n    command.with_arg(arg)\n}\n\npub trait ContainsArg {\n    fn into_contains_opts(self) -\u003e (Option\u003cCommand\u003e, Command);\n}\n\nimpl ContainsArg for AnyParam {\n    fn into_contains_opts(self) -\u003e (Option\u003cCommand\u003e, Command) {\n        (None, self.into())\n    }\n}\n\nimpl ContainsArg for Func {\n    fn into_contains_opts(self) -\u003e (Option\u003cCommand\u003e, Command) {\n        (None, self.0)\n    }\n}\n\nimpl ContainsArg for (Command, AnyParam) {\n    fn into_contains_opts(self) -\u003e (Option\u003cCommand\u003e, Command) {\n        (Some(self.0), self.1.into())\n    }\n}\n\nimpl ContainsArg for (Command, Func) {\n    fn into_contains_opts(self) -\u003e (Option\u003cCommand\u003e, Command) {\n        let Func(func) = self.1;\n\n        (Some(self.0), func)\n    }\n}\n\n// TODO write test\n","traces":[{"line":23,"address":[2774208,2774386],"length":1,"stats":{"Line":0},"fn_name":"into_contains_opts"},{"line":24,"address":[5125041],"length":1,"stats":{"Line":0},"fn_name":null},{"line":29,"address":[2826608],"length":1,"stats":{"Line":0},"fn_name":"into_contains_opts"},{"line":30,"address":[7017601],"length":1,"stats":{"Line":0},"fn_name":null},{"line":35,"address":[4038952,4038720],"length":1,"stats":{"Line":0},"fn_name":"into_contains_opts"},{"line":36,"address":[4038776],"length":1,"stats":{"Line":0},"fn_name":null},{"line":41,"address":[4038992],"length":1,"stats":{"Line":0},"fn_name":"into_contains_opts"},{"line":42,"address":[4039013],"length":1,"stats":{"Line":0},"fn_name":null},{"line":44,"address":[4039039],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":9},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","count.rs"],"content":"use ql2::term::TermType;\n\nuse crate::arguments::Args;\nuse crate::prelude::Func;\nuse crate::Command;\n\npub(crate) fn new(args: impl CountArg) -\u003e Command {\n    let mut command = Command::new(TermType::Count);\n    let (arg1, arg2) = args.into_count_arg();\n\n    if let Some(arg) = arg1 {\n        command = command.with_arg(arg)\n    }\n\n    if let Some(arg) = arg2 {\n        command = command.with_arg(arg)\n    }\n\n    command\n}\n\npub trait CountArg {\n    fn into_count_arg(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e);\n}\n\nimpl CountArg for () {\n    fn into_count_arg(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        (None, None)\n    }\n}\n\nimpl CountArg for Command {\n    fn into_count_arg(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        (Some(self), None)\n    }\n}\n\nimpl CountArg for Func {\n    fn into_count_arg(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        (Some(self.0), None)\n    }\n}\n\nimpl CountArg for Args\u003c(Command, Func)\u003e {\n    fn into_count_arg(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        let Func(func) = self.0 .1;\n\n        (Some(self.0 .0), Some(func))\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_count_data() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: usize = table.count(()).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained == data.len());\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":7,"address":[4437328,4438226,4438431],"length":1,"stats":{"Line":1},"fn_name":"new\u003c()\u003e"},{"line":8,"address":[4437456,4437345],"length":1,"stats":{"Line":2},"fn_name":null},{"line":9,"address":[4437464,4437525],"length":1,"stats":{"Line":2},"fn_name":null},{"line":11,"address":[4437600,4437916],"length":1,"stats":{"Line":1},"fn_name":null},{"line":12,"address":[4437700,4437885],"length":1,"stats":{"Line":0},"fn_name":null},{"line":15,"address":[4438161,4437783,4437921],"length":1,"stats":{"Line":1},"fn_name":null},{"line":16,"address":[4437984,4438130],"length":1,"stats":{"Line":0},"fn_name":null},{"line":19,"address":[4438072],"length":1,"stats":{"Line":1},"fn_name":null},{"line":27,"address":[2718704],"length":1,"stats":{"Line":1},"fn_name":"into_count_arg"},{"line":28,"address":[2800211],"length":1,"stats":{"Line":1},"fn_name":null},{"line":33,"address":[2254416],"length":1,"stats":{"Line":0},"fn_name":"into_count_arg"},{"line":34,"address":[2172784],"length":1,"stats":{"Line":0},"fn_name":null},{"line":39,"address":[2826720],"length":1,"stats":{"Line":0},"fn_name":"into_count_arg"},{"line":40,"address":[2826736],"length":1,"stats":{"Line":0},"fn_name":null},{"line":45,"address":[6658480],"length":1,"stats":{"Line":0},"fn_name":"into_count_arg"},{"line":46,"address":[2738214],"length":1,"stats":{"Line":0},"fn_name":null},{"line":48,"address":[6658529],"length":1,"stats":{"Line":0},"fn_name":null},{"line":59,"address":[4791792,4792197,4791831,4792245],"length":1,"stats":{"Line":6},"fn_name":"test_count_data"},{"line":60,"address":[2356611],"length":1,"stats":{"Line":1},"fn_name":null},{"line":61,"address":[2357041,2357216,2356816,2357649,2356663,2356981],"length":1,"stats":{"Line":4},"fn_name":null},{"line":62,"address":[2358586,2357857,2358687,2356767,2357601,2356684],"length":1,"stats":{"Line":5},"fn_name":null},{"line":64,"address":[2359025,2359086,2358672],"length":1,"stats":{"Line":2},"fn_name":null},{"line":66,"address":[2359159,2359534,2359343,2359283,2359400,2359045,2356702],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":14,"coverable":23},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","date.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Date)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::types::Time;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_date_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let datetime = r.now().date();\n        let date1 = datetime.clone().value();\n        let date2: Time = datetime.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(date1 == date2);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2718816],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2718828],"length":1,"stats":{"Line":1},"fn_name":null},{"line":16,"address":[4752735,4752432,4753034,4752598,4752441,4752464,4752521],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":17,"address":[4753045,4752622,4752576,4753306,4752856,4752695],"length":1,"stats":{"Line":4},"fn_name":null},{"line":19,"address":[4753296,4753552],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[4753643,4753580],"length":1,"stats":{"Line":2},"fn_name":null},{"line":21,"address":[4752637,4753757,4753670,4754651,4754469],"length":1,"stats":{"Line":4},"fn_name":null},{"line":23,"address":[4754622,4754895,4754928],"length":1,"stats":{"Line":2},"fn_name":null},{"line":25,"address":[4754901],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":9,"coverable":9},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","day.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Day)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_day_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let day = r.now().day();\n        let day1 = day.clone().value();\n        let day2: u8 = day.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(day1 == day2);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[4750800],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[4750812],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[2254405,2254000,2254453,2254039],"length":1,"stats":{"Line":6},"fn_name":"test_day_ops"},{"line":16,"address":[2545527,2546138,2545877,2545688,2545454,2545408],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[2546128,2546384],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[2546475,2546412],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[2546519,2547414,2546606,2547319,2545469],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[2547607,2547393],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[2254136,2254076,2254031,2254416],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":9,"coverable":9},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","day_of_week.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::DayOfWeek)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_day_of_week_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let day_of_week = r.now().day_of_week();\n        let day_of_week1 = day_of_week.clone().value();\n        let day_of_week2: u8 = day_of_week.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(day_of_week1 == day_of_week2);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2718864],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2718876],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[1712023,1712389,1712437,1711984],"length":1,"stats":{"Line":6},"fn_name":"test_day_of_week_ops"},{"line":16,"address":[4535991,4535872,4535918,4536152,4536602,4536341],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[4536592,4536848],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[4536939,4536876],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[4536983,4537070,4537878,4537783,4535933],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[4537857,4538071],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[1712060,1712015,1712120,1712400],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":9,"coverable":9},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","day_of_year.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::DayOfYear)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_day_of_year_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let day_of_year = r.now().day_of_year();\n        let day_of_year1 = day_of_year.clone().value();\n        let day_of_year2: u16 = day_of_year.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(day_of_year1 == day_of_year2);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2718912],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2718924],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[1534742,1534608,1534665,1535178,1534585,1534576,1534879],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":16,"address":[1534839,1535189,1535000,1534766,1534720,1535450],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[1535696,1535440],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[1535724,1535787],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[1536634,1535921,1535834,1534781,1536734],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[1536712,1536927],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[1536897],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":9,"coverable":9},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","db.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(db_name: \u0026str) -\u003e Command {\n    let arg = Command::from_json(db_name);\n\n    Command::new(TermType::Db).with_arg(arg)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::{r, ReqlError, ReqlRuntimeError, Result};\n\n    #[tokio::test]\n    async fn test_select_db() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response = r.db(\"test\").run(\u0026conn).await.err().unwrap();\n\n        if let ReqlError::Runtime(err) = response {\n            if let ReqlRuntimeError::QueryLogic(msg) = err {\n                assert!(true, \"{}\", msg);\n                return Ok(());\n            }\n        }\n\n        assert!(false);\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2502624,2502593,2502368],"length":1,"stats":{"Line":3},"fn_name":"new"},{"line":6,"address":[4352321],"length":1,"stats":{"Line":3},"fn_name":null},{"line":8,"address":[2584076,2584151],"length":1,"stats":{"Line":6},"fn_name":null},{"line":16,"address":[1673616,1673655,1674021,1674069],"length":1,"stats":{"Line":6},"fn_name":"test_select_db"},{"line":17,"address":[4755195,4755939,4755666,4755245,4755316,4755477],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[6856566],"length":1,"stats":{"Line":3},"fn_name":null},{"line":20,"address":[4756621,4756683],"length":1,"stats":{"Line":1},"fn_name":null},{"line":21,"address":[4756697,4756670],"length":1,"stats":{"Line":2},"fn_name":null},{"line":22,"address":[4756745,4756974],"length":1,"stats":{"Line":1},"fn_name":null},{"line":23,"address":[4756943],"length":1,"stats":{"Line":1},"fn_name":null},{"line":27,"address":[4756842,4756685],"length":1,"stats":{"Line":0},"fn_name":null},{"line":28,"address":[1673752,1674032,1673692,1673647],"length":1,"stats":{"Line":4},"fn_name":null}],"covered":11,"coverable":12},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","db_create.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(db_name: \u0026str) -\u003e Command {\n    let arg = Command::from_json(db_name);\n\n    Command::new(TermType::DbCreate).with_arg(arg)\n}\n\n#[cfg(test)]\nmod tests {\n    use uuid::Uuid;\n\n    use crate::prelude::*;\n    use crate::types::DbResponse;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_create_db() -\u003e Result\u003c()\u003e {\n        let dbname = Uuid::new_v4().to_string();\n        let conn = r.connection().connect().await?;\n        let db_created: DbResponse = r\n            .db_create(dbname.as_str())\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(db_created.dbs_created == Some(1));\n\n        r.db_drop(\u0026dbname).run(\u0026conn).await?;\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[4352756,4352544,4352783],"length":1,"stats":{"Line":2},"fn_name":"new"},{"line":6,"address":[2312913],"length":1,"stats":{"Line":2},"fn_name":null},{"line":8,"address":[2231367,2231292],"length":1,"stats":{"Line":4},"fn_name":null},{"line":20,"address":[2839813,2839417,2839440,2839585,2839509,2840210,2839408],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":21,"address":[2839938,2839563],"length":1,"stats":{"Line":2},"fn_name":null},{"line":22,"address":[2840221,2839953,2839770,2840506,2839615,2840017],"length":1,"stats":{"Line":4},"fn_name":null},{"line":23,"address":[2841383,2840886,2840769,2841463,2841164,2841440,2840734,2841819,2840969],"length":1,"stats":{"Line":6},"fn_name":null},{"line":24,"address":[2840480],"length":1,"stats":{"Line":1},"fn_name":null},{"line":25,"address":[2840925,2840749,2840792,2839636,2839721,2841097],"length":1,"stats":{"Line":6},"fn_name":null},{"line":26,"address":[2841287],"length":1,"stats":{"Line":0},"fn_name":null},{"line":30,"address":[2841691,2841973,2842010],"length":1,"stats":{"Line":2},"fn_name":null},{"line":32,"address":[2841987,2839654,2842090],"length":1,"stats":{"Line":3},"fn_name":null},{"line":33,"address":[2842888],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":12,"coverable":13},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","db_drop.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(db_name: \u0026str) -\u003e Command {\n    let arg = Command::from_json(db_name);\n\n    Command::new(TermType::DbDrop).with_arg(arg)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::*;\n    use crate::types::DbResponse;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_drop_db() -\u003e Result\u003c()\u003e {\n        let dbname = \"zuma\";\n        let conn = r.connection().connect().await?;\n        r.db_create(dbname).run(\u0026conn).await?;\n\n        let db_dropped: DbResponse = r.db_drop(dbname).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(db_dropped.dbs_dropped == Some(1));\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2232608,2232352,2232577],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[4352833],"length":1,"stats":{"Line":1},"fn_name":null},{"line":8,"address":[2314135,2314060],"length":1,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[1674565,1674151,1674112,1674517],"length":1,"stats":{"Line":6},"fn_name":"test_drop_db"},{"line":19,"address":[5121601],"length":1,"stats":{"Line":1},"fn_name":null},{"line":20,"address":[6870801],"length":1,"stats":{"Line":4},"fn_name":null},{"line":21,"address":[5121679,5122642,5122388,5121750],"length":1,"stats":{"Line":4},"fn_name":null},{"line":23,"address":[5124075,5124352,5123391,5123321,5121694],"length":1,"stats":{"Line":4},"fn_name":null},{"line":25,"address":[5124319,5124587,5124554],"length":1,"stats":{"Line":2},"fn_name":null},{"line":26,"address":[1674528,1674143,1674248,1674188],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":10,"coverable":10},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","db_list.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::DbList)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::*;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_list_db() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let db_list: Vec\u003cString\u003e = r.db_list().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(db_list.len() \u003e 0);\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2718960],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2718972],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[2550879,2550580,2550377,2550288,2550297,2550445,2550320],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":16,"address":[2550469,2550435,2551151,2550701,2550890,2550540],"length":1,"stats":{"Line":4},"fn_name":null},{"line":17,"address":[2552079,2551141,2551379,2550484,2552219],"length":1,"stats":{"Line":4},"fn_name":null},{"line":19,"address":[2552442,2552192,2552486],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[2552455],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":7,"coverable":7},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","default.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(args: impl Serialize) -\u003e Command {\n    Command::new(TermType::Default).with_arg(Command::from_json(args))\n}\n\n#[cfg(test)]\nmod tests {\n    use std::collections::HashMap;\n\n    use serde::{Deserialize, Serialize};\n\n    use crate::prelude::*;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::{r, Result};\n\n    #[derive(Debug, Serialize, Deserialize, PartialEq, Eq)]\n    struct InnerPost {\n        title: String,\n        content: String,\n    }\n\n    #[tokio::test]\n    async fn test_default_ops() -\u003e Result\u003c()\u003e {\n        let data: Vec\u003cInnerPost\u003e = Post::get_many_data()\n            .into_iter()\n            .map(|post| InnerPost {\n                title: post.title,\n                content: if let Some(content) = post.content {\n                    content\n                } else {\n                    \"Anonymous\".to_owned()\n                },\n            })\n            .collect();\n        let (conn, table, table_name) = set_up(true).await?;\n        let response: Vec\u003cInnerPost\u003e = table\n            .order_by(r.expr(\"title\"))\n            .map(func!(|doc| {\n                let mut post = HashMap::new();\n                post.insert(\"title\", doc.clone().g(\"title\"));\n                post.insert(\"content\", doc.g(\"content\").default(\"Anonymous\"));\n                r.hash_map(post)\n            }))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response == data);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":6,"address":[4457898,4457616],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":7,"address":[4457764,4457888,4457659],"length":1,"stats":{"Line":2},"fn_name":null},{"line":27,"address":[3080789,3080688,3081549,3080905,3080720,3080697,3081131],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":28,"address":[3081256,3080851],"length":1,"stats":{"Line":2},"fn_name":null},{"line":30,"address":[3085152,3085398,3085367],"length":1,"stats":{"Line":1},"fn_name":"{closure#0}"},{"line":31,"address":[3085179],"length":1,"stats":{"Line":1},"fn_name":null},{"line":32,"address":[3085304,3085215],"length":1,"stats":{"Line":2},"fn_name":null},{"line":33,"address":[3085274],"length":1,"stats":{"Line":1},"fn_name":null},{"line":35,"address":[3085365,3085306],"length":1,"stats":{"Line":2},"fn_name":null},{"line":39,"address":[6891800],"length":1,"stats":{"Line":4},"fn_name":null},{"line":40,"address":[3083803,3083483,3081969,3083288,3083759,3084033,3083052,3082228,3083702,3082918,3083211],"length":1,"stats":{"Line":8},"fn_name":null},{"line":41,"address":[3081991,3082321,3082303,3082194,3082267],"length":1,"stats":{"Line":2},"fn_name":null},{"line":42,"address":[3082376,3082341,3082296,3086058,3082957,3085536],"length":1,"stats":{"Line":3},"fn_name":"{closure#1}"},{"line":43,"address":[3085566],"length":1,"stats":{"Line":1},"fn_name":null},{"line":44,"address":[3085709,3085648],"length":1,"stats":{"Line":2},"fn_name":null},{"line":45,"address":[3085798],"length":1,"stats":{"Line":1},"fn_name":null},{"line":46,"address":[3085960],"length":1,"stats":{"Line":1},"fn_name":null},{"line":48,"address":[3083244,3080956,3083032,3083416,3081039,3083120],"length":1,"stats":{"Line":6},"fn_name":null},{"line":49,"address":[3083606],"length":1,"stats":{"Line":0},"fn_name":null},{"line":53,"address":[3084288,3083923,3084343],"length":1,"stats":{"Line":2},"fn_name":null},{"line":55,"address":[2269656,2269551,2269936,2269596],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":20,"coverable":21},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","delete.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::arguments::{Durability, ReturnChanges};\nuse crate::Command;\n\npub(crate) fn new(args: impl DeleteArg) -\u003e Command {\n    Command::new(TermType::Delete).with_opts(args.into_delete_opts())\n}\n\npub trait DeleteArg {\n    fn into_delete_opts(self) -\u003e DeleteOption;\n}\n\nimpl DeleteArg for () {\n    fn into_delete_opts(self) -\u003e DeleteOption {\n        Default::default()\n    }\n}\nimpl DeleteArg for DeleteOption {\n    fn into_delete_opts(self) -\u003e DeleteOption {\n        self\n    }\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct DeleteOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub durability: Option\u003cDurability\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub return_changes: Option\u003cReturnChanges\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub non_atomic: Option\u003cbool\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub ignore_write_hook: Option\u003cbool\u003e,\n}\n\n// TODO write test\n","traces":[{"line":8,"address":[2353984,2354250],"length":1,"stats":{"Line":1},"fn_name":"new\u003c()\u003e"},{"line":9,"address":[2354001,2354096,2354240],"length":1,"stats":{"Line":2},"fn_name":null},{"line":17,"address":[2697872],"length":1,"stats":{"Line":1},"fn_name":"into_delete_opts"},{"line":18,"address":[2697876],"length":1,"stats":{"Line":1},"fn_name":null},{"line":22,"address":[2697904],"length":1,"stats":{"Line":0},"fn_name":"into_delete_opts"},{"line":23,"address":[2697919],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":4,"coverable":6},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","delete_at.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(args: impl DeleteAtArg) -\u003e Command {\n    let (start_offset, end_offset) = args.into_delete_at_opts();\n    let mut command = Command::new(TermType::DeleteAt).with_arg(start_offset);\n\n    if let Some(end_offset) = end_offset {\n        command = command.with_arg(end_offset);\n    }\n\n    command\n}\n\npub trait DeleteAtArg {\n    fn into_delete_at_opts(self) -\u003e (Command, Option\u003cCommand\u003e);\n}\n\nimpl DeleteAtArg for isize {\n    fn into_delete_at_opts(self) -\u003e (Command, Option\u003cCommand\u003e) {\n        (Command::from_json(self), None)\n    }\n}\n\nimpl DeleteAtArg for (isize, isize) {\n    fn into_delete_at_opts(self) -\u003e (Command, Option\u003cCommand\u003e) {\n        (Command::from_json(self.0), Some(Command::from_json(self.0)))\n    }\n}\n\n// TODO write test\n","traces":[{"line":21,"address":[1550752],"length":1,"stats":{"Line":0},"fn_name":"into_delete_at_opts"},{"line":22,"address":[1550776],"length":1,"stats":{"Line":0},"fn_name":null},{"line":27,"address":[1551055,1550864],"length":1,"stats":{"Line":0},"fn_name":"into_delete_at_opts"},{"line":28,"address":[1550902],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":4},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","desc.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::prelude::Func;\nuse crate::Command;\n\npub(crate) fn new(args: impl DescArg) -\u003e Command {\n    Command::new(TermType::Desc).with_arg(args.into_desc_opts())\n}\n\npub trait DescArg {\n    fn into_desc_opts(self) -\u003e Command;\n}\n\nimpl\u003cT\u003e DescArg for T\nwhere\n    T: Into\u003cT\u003e + Serialize,\n{\n    fn into_desc_opts(self) -\u003e Command {\n        Command::from_json(self)\n    }\n}\n\nimpl DescArg for Func {\n    fn into_desc_opts(self) -\u003e Command {\n        self.0\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::*;\n    use crate::spec::*;\n    use crate::{args, r, Result};\n\n    #[tokio::test]\n    async fn test_desc_ops() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let response: Vec\u003cPost\u003e = table\n            .order_by(args!(r.expr(\"view\"), r.desc(\"title\")))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response.len() \u003e 1);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":7,"address":[6934906,6934624],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":8,"address":[6934896,6934772,6934667],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[6934944],"length":1,"stats":{"Line":1},"fn_name":"into_desc_opts\u003c\u0026str\u003e"},{"line":20,"address":[6934965],"length":1,"stats":{"Line":1},"fn_name":null},{"line":25,"address":[2826864],"length":1,"stats":{"Line":0},"fn_name":"into_desc_opts"},{"line":26,"address":[7017848],"length":1,"stats":{"Line":0},"fn_name":null},{"line":37,"address":[1756052,1755534,1755337,1755360,1755429,1755760,1755328],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":38,"address":[1755885,1755491,1755717,1756505,1756063,1755564],"length":1,"stats":{"Line":4},"fn_name":null},{"line":39,"address":[1756987,1756924,1757230,1756453,1757745,1757976,1757644,1757701,1757425,1757153],"length":1,"stats":{"Line":7},"fn_name":null},{"line":40,"address":[1756475,1756711,1756994,1756963,1757012],"length":1,"stats":{"Line":2},"fn_name":null},{"line":41,"address":[1755668,1755585,1757358,1757186,1757062],"length":1,"stats":{"Line":5},"fn_name":null},{"line":42,"address":[1757548],"length":1,"stats":{"Line":0},"fn_name":null},{"line":46,"address":[1758174,1758235,1757865],"length":1,"stats":{"Line":2},"fn_name":null},{"line":48,"address":[1758304,1758484,1758689,1758428,1758195,1758559,1755603],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":11,"coverable":14},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","difference.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(values: Vec\u003cimpl Serialize\u003e) -\u003e Command {\n    let arg = Command::from_json(values);\n\n    Command::new(TermType::Difference).with_arg(arg)\n}\n\n// TODO write test\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","distance.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::arguments::{Args, Unit};\nuse crate::prelude::Geometry;\nuse crate::types::GeoSystem;\nuse crate::Command;\n\npub(crate) fn new(args: impl DistanceArg) -\u003e Command {\n    let (arg1, arg2, opts) = args.into_distance_opts();\n    let mut command = Command::new(TermType::Distance).with_arg(arg1);\n\n    if let Some(arg) = arg2 {\n        command = command.with_arg(arg)\n    }\n\n    command.with_opts(opts)\n}\n\npub trait DistanceArg {\n    fn into_distance_opts(self) -\u003e (Command, Option\u003cCommand\u003e, DistanceOption);\n}\n\nimpl\u003cT: Geometry\u003e DistanceArg for T {\n    fn into_distance_opts(self) -\u003e (Command, Option\u003cCommand\u003e, DistanceOption) {\n        (self.into(), None, Default::default())\n    }\n}\n\nimpl\u003cT: Geometry\u003e DistanceArg for Args\u003c(T, DistanceOption)\u003e {\n    fn into_distance_opts(self) -\u003e (Command, Option\u003cCommand\u003e, DistanceOption) {\n        (self.0 .0.into(), None, self.0 .1)\n    }\n}\n\n#[derive(\n    Debug, Clone, Copy, Serialize, Default, PartialEq, Eq, PartialOrd, Ord, CommandOptions,\n)]\npub struct DistanceOption {\n    /// the reference ellipsoid to use for geographic coordinates.\n    /// Possible values are `GeoSystem::WGS84` (the default),\n    /// a common standard for Earths geometry, or `GeoSystem::UnitSphere`,\n    /// a perfect sphere of 1 meter radius.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub geo_system: Option\u003cGeoSystem\u003e,\n    /// Unit to return the distance in.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub unit: Option\u003cUnit\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::arguments::Unit;\n    use crate::prelude::*;\n    use crate::{args, r, Result};\n\n    use super::DistanceOption;\n\n    #[tokio::test]\n    async fn test_distance_data() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let point1 = r.point(-122.423246, 37.779388);\n        let point2 = r.point(-117.220406, 32.719464);\n        let distance_option = DistanceOption::default().unit(Unit::Kilometer);\n\n        let response: f64 = r\n            .distance(point1.cmd(), args!(point2, distance_option))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response == 734.125249602186);\n\n        Ok(())\n    }\n}\n","traces":[{"line":10,"address":[3502864,3503591,3503678],"length":1,"stats":{"Line":1},"fn_name":"new\u003creql_rust::arguments::Args\u003c(reql_rust::cmd::point::Point, reql_rust::cmd::distance::DistanceOption)\u003e\u003e"},{"line":11,"address":[3502881],"length":1,"stats":{"Line":1},"fn_name":null},{"line":12,"address":[3503082,3503179],"length":1,"stats":{"Line":2},"fn_name":null},{"line":14,"address":[3503247,3503517],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[3503491,3503368],"length":1,"stats":{"Line":0},"fn_name":null},{"line":18,"address":[3503458],"length":1,"stats":{"Line":1},"fn_name":null},{"line":26,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":27,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":32,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":33,"address":[1817142],"length":1,"stats":{"Line":1},"fn_name":null},{"line":61,"address":[4774477,4774329,4774352,4774911,4774320,4774409,4774612],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":62,"address":[4774922,4774733,4775199,4774501,4774467,4774572],"length":1,"stats":{"Line":4},"fn_name":null},{"line":63,"address":[4775189],"length":1,"stats":{"Line":1},"fn_name":null},{"line":64,"address":[4775460],"length":1,"stats":{"Line":1},"fn_name":null},{"line":65,"address":[4775467],"length":1,"stats":{"Line":1},"fn_name":null},{"line":67,"address":[4776460,4775999,4776497,4775817,4775928,4775785,4776184,4776704,4776403],"length":1,"stats":{"Line":6},"fn_name":null},{"line":68,"address":[4775561,4775651],"length":1,"stats":{"Line":2},"fn_name":null},{"line":69,"address":[4775797,4775840,4774516,4775958,4776127],"length":1,"stats":{"Line":5},"fn_name":null},{"line":70,"address":[4776307],"length":1,"stats":{"Line":0},"fn_name":null},{"line":74,"address":[4776573,4776797],"length":1,"stats":{"Line":1},"fn_name":null},{"line":76,"address":[4214383,4214488,4214768,4214428],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":17,"coverable":21},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","distinct.rs"],"content":"use std::borrow::Cow;\n\nuse ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(args: impl DistinctArg) -\u003e Command {\n    let (args, opts) = args.into_distinct_opts();\n    let mut command = Command::new(TermType::Distinct);\n\n    if let Some(arg) = args {\n        command = command.with_arg(arg)\n    }\n\n    command.with_opts(opts)\n}\n\npub trait DistinctArg {\n    fn into_distinct_opts(self) -\u003e (Option\u003cCommand\u003e, DistinctOption);\n}\n\nimpl DistinctArg for () {\n    fn into_distinct_opts(self) -\u003e (Option\u003cCommand\u003e, DistinctOption) {\n        (None, Default::default())\n    }\n}\n\nimpl DistinctArg for DistinctOption {\n    fn into_distinct_opts(self) -\u003e (Option\u003cCommand\u003e, DistinctOption) {\n        (None, self)\n    }\n}\n\nimpl DistinctArg for Command {\n    fn into_distinct_opts(self) -\u003e (Option\u003cCommand\u003e, DistinctOption) {\n        (Some(self), Default::default())\n    }\n}\n\nimpl DistinctArg for (Command, DistinctOption) {\n    fn into_distinct_opts(self) -\u003e (Option\u003cCommand\u003e, DistinctOption) {\n        (Some(self.0), self.1)\n    }\n}\n\n#[derive(Debug, Clone, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct DistinctOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub index: Option\u003cCow\u003c'static, str\u003e\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    use super::DistinctOption;\n\n    #[tokio::test]\n    async fn test_distinct_data() -\u003e Result\u003c()\u003e {\n        let mut data = Post::get_many_data()\n            .into_iter()\n            .map(|post| post.title)\n            .collect::\u003cVec\u003cString\u003e\u003e();\n        data.pop();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: Vec\u003cString\u003e = table\n            .distinct(DistinctOption::default().index(\"title\"))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained == data);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":9,"address":[1546210,1545552,1546189],"length":1,"stats":{"Line":1},"fn_name":"new\u003creql_rust::cmd::distinct::DistinctOption\u003e"},{"line":10,"address":[1545569],"length":1,"stats":{"Line":1},"fn_name":null},{"line":11,"address":[1545728],"length":1,"stats":{"Line":1},"fn_name":null},{"line":13,"address":[1545802,1546100],"length":1,"stats":{"Line":1},"fn_name":null},{"line":14,"address":[1546074,1545917],"length":1,"stats":{"Line":0},"fn_name":null},{"line":17,"address":[1546007],"length":1,"stats":{"Line":1},"fn_name":null},{"line":25,"address":[2825684,2825504],"length":1,"stats":{"Line":0},"fn_name":"into_distinct_opts"},{"line":26,"address":[2825521],"length":1,"stats":{"Line":0},"fn_name":null},{"line":31,"address":[2825712],"length":1,"stats":{"Line":1},"fn_name":"into_distinct_opts"},{"line":32,"address":[2744083],"length":1,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[2254787,2254560],"length":1,"stats":{"Line":0},"fn_name":"into_distinct_opts"},{"line":38,"address":[4039379],"length":1,"stats":{"Line":0},"fn_name":null},{"line":43,"address":[2254816],"length":1,"stats":{"Line":0},"fn_name":"into_distinct_opts"},{"line":44,"address":[2254837],"length":1,"stats":{"Line":0},"fn_name":null},{"line":63,"address":[4767296,4767335,4767701,4767749],"length":1,"stats":{"Line":6},"fn_name":"test_distinct_data"},{"line":64,"address":[4014451,4014840],"length":1,"stats":{"Line":2},"fn_name":null},{"line":66,"address":[4018096,4018124],"length":1,"stats":{"Line":2},"fn_name":"{closure#0}"},{"line":68,"address":[4014909,4014960],"length":1,"stats":{"Line":2},"fn_name":null},{"line":69,"address":[6760432],"length":1,"stats":{"Line":3},"fn_name":null},{"line":70,"address":[4016396,4015883,4016672,4016946,4015590,4016615,4016201,4016124,4016716,4015958],"length":1,"stats":{"Line":7},"fn_name":null},{"line":71,"address":[4015620,4015983,4015965,4015930,4015807],"length":1,"stats":{"Line":2},"fn_name":null},{"line":72,"address":[4016157,4015938,4014540,4016033,4014623,4016329],"length":1,"stats":{"Line":6},"fn_name":null},{"line":73,"address":[4016519],"length":1,"stats":{"Line":0},"fn_name":null},{"line":77,"address":[4017205,4017260,4016836],"length":1,"stats":{"Line":2},"fn_name":null},{"line":79,"address":[4017457,4017517,4017735,4017333,4014558,4017219,4017601],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":17,"coverable":25},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","div.rs"],"content":"use std::ops::Div;\n\nuse ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\nimpl\u003cT: DivArg\u003e Div\u003cT\u003e for Command {\n    type Output = Self;\n\n    fn div(self, arg: T) -\u003e Self {\n        Command::new(TermType::Div)\n            .with_arg(arg.into_div_opts())\n            .with_parent(self)\n    }\n}\n\npub trait DivArg {\n    fn into_div_opts(self) -\u003e Command;\n}\n\nimpl\u003cT: Serialize\u003e DivArg for T {\n    fn into_div_opts(self) -\u003e Command {\n        Command::from_json(self)\n    }\n}\n\nimpl DivArg for Command {\n    fn into_div_opts(self) -\u003e Command {\n        self\n    }\n}\n\n// TODO write test\n","traces":[{"line":11,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":12,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":13,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":14,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":23,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":24,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":29,"address":[4039808],"length":1,"stats":{"Line":0},"fn_name":"into_div_opts"},{"line":30,"address":[4039816],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":8},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","do_.rs"],"content":"use ql2::term::TermType;\n\nuse crate::arguments::Args;\nuse crate::prelude::Func;\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl DoArg) -\u003e Command {\n    args.into_do_opts()\n        .add_to_cmd(Command::new(TermType::Funcall))\n}\n\npub trait DoArg {\n    fn into_do_opts(self) -\u003e CmdOpts;\n}\n\nimpl DoArg for Command {\n    fn into_do_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(self)\n    }\n}\n\nimpl DoArg for Func {\n    fn into_do_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(self.0)\n    }\n}\n\nimpl DoArg for Args\u003c(Command, Command)\u003e {\n    fn into_do_opts(self) -\u003e CmdOpts {\n        CmdOpts::Many(vec![self.0 .0, self.0 .1])\n    }\n}\n\nimpl DoArg for Args\u003c(Command, Func)\u003e {\n    fn into_do_opts(self) -\u003e CmdOpts {\n        let Func(func) = self.0 .1;\n\n        CmdOpts::Many(vec![self.0 .0, func])\n    }\n}\n\nimpl\u003cconst N: usize\u003e DoArg for Args\u003c([Command; N], Func)\u003e {\n    fn into_do_opts(self) -\u003e CmdOpts {\n        let Func(func) = self.0 .1;\n        let mut args = self.0 .0.to_vec();\n\n        args.push(func);\n        CmdOpts::Many(args)\n    }\n}\n\nimpl\u003cconst N: usize\u003e DoArg for Args\u003c([Command; N], Command)\u003e {\n    fn into_do_opts(self) -\u003e CmdOpts {\n        let mut args = self.0 .0.to_vec();\n\n        args.push(self.0 .1);\n        CmdOpts::Many(args)\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use std::ops::Add;\n\n    use crate::prelude::*;\n    use crate::spec::*;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    #[ignore = \"not work\"]\n    async fn test_do_opts() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let response = table\n            .get(1)\n            .do_(func!(|post| post.g(\"view\").add(r.expr(5))))\n            .run(\u0026conn)\n            .await;\n\n        dbg!(\u0026response);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":9,"address":[4532727,4532700,4532512],"length":1,"stats":{"Line":0},"fn_name":"new\u003creql_rust::cmd::func::Func\u003e"},{"line":10,"address":[4532651,4532528],"length":1,"stats":{"Line":0},"fn_name":null},{"line":11,"address":[4532684,4532720,4532580],"length":1,"stats":{"Line":0},"fn_name":null},{"line":19,"address":[2173424],"length":1,"stats":{"Line":0},"fn_name":"into_do_opts"},{"line":20,"address":[2255088],"length":1,"stats":{"Line":0},"fn_name":null},{"line":25,"address":[2745248],"length":1,"stats":{"Line":0},"fn_name":"into_do_opts"},{"line":26,"address":[2826912],"length":1,"stats":{"Line":0},"fn_name":null},{"line":31,"address":[2656752,2657118],"length":1,"stats":{"Line":0},"fn_name":"into_do_opts"},{"line":32,"address":[2656774,2656874],"length":1,"stats":{"Line":0},"fn_name":null},{"line":37,"address":[6659104,6659502],"length":1,"stats":{"Line":0},"fn_name":"into_do_opts"},{"line":38,"address":[6659126],"length":1,"stats":{"Line":0},"fn_name":null},{"line":40,"address":[6659252,6659194],"length":1,"stats":{"Line":0},"fn_name":null},{"line":45,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":46,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":47,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":49,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":50,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":55,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":56,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":58,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":59,"address":[],"length":0,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":21},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","downcase.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Downcase)\n}\n\n// TODO write test\n","traces":[{"line":5,"address":[2719008],"length":1,"stats":{"Line":0},"fn_name":"new"},{"line":6,"address":[2719020],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":2},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","during.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::arguments::{Args, Status};\nuse crate::types::DateTime;\nuse crate::Command;\n\npub(crate) fn new(args: impl DuringArg) -\u003e Command {\n    let (arg1, arg2, opts) = args.into_during_opts();\n\n    Command::new(TermType::During)\n        .with_arg(arg1)\n        .with_arg(arg2)\n        .with_opts(opts)\n}\n\npub trait DuringArg {\n    fn into_during_opts(self) -\u003e (Command, Command, DuringOption);\n}\n\nimpl DuringArg for Args\u003c(DateTime, DateTime)\u003e {\n    fn into_during_opts(self) -\u003e (Command, Command, DuringOption) {\n        (self.0 .0.into(), self.0 .1.into(), Default::default())\n    }\n}\n\nimpl DuringArg for Args\u003c(DateTime, DateTime, DuringOption)\u003e {\n    fn into_during_opts(self) -\u003e (Command, Command, DuringOption) {\n        (self.0 .0.into(), self.0 .1.into(), self.0 .2)\n    }\n}\n\nimpl DuringArg for Args\u003c(DateTime, DateTime, Option\u003cDuringOption\u003e)\u003e {\n    fn into_during_opts(self) -\u003e (Command, Command, DuringOption) {\n        (\n            self.0 .0.into(),\n            self.0 .1.into(),\n            self.0 .2.unwrap_or_default(),\n        )\n    }\n}\n\nimpl DuringArg for Args\u003c(Command, Command)\u003e {\n    fn into_during_opts(self) -\u003e (Command, Command, DuringOption) {\n        (self.0 .0, self.0 .1, Default::default())\n    }\n}\n\nimpl DuringArg for Args\u003c(Command, Command, DuringOption)\u003e {\n    fn into_during_opts(self) -\u003e (Command, Command, DuringOption) {\n        (self.0 .0, self.0 .1, self.0 .2)\n    }\n}\n\n/// By default, this is inclusive of the start time and exclusive of the end time.\n/// Set left_bound and right_bound to explicitly include\n/// (closed) or exclude (open) that endpoint of the range.\n#[derive(Debug, Clone, Copy, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct DuringOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub left_bound: Option\u003cStatus\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub right_bound: Option\u003cStatus\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use time::macros::{date, offset};\n\n    use crate::prelude::Converter;\n    use crate::{args, r, Result};\n\n    #[tokio::test]\n    async fn test_during_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let start_date = r.time(args!(date!(2022 - 08 - 01), offset!(UTC)));\n        let end_date = r.time(args!(date!(2022 - 12 - 31), offset!(UTC)));\n\n        let datetime = r.epoch_time(1661990400)?;\n\n        let response = datetime\n            .clone()\n            .during(start_date.clone(), end_date.clone(), None);\n        let response2: bool = response.clone().cmd().run(\u0026conn).await?.unwrap().parse()?;\n        let response3: bool = datetime\n            .cmd()\n            .during(args!(start_date, end_date))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response2 == response3 \u0026\u0026 response2 == response.value());\n\n        Ok(())\n    }\n}\n","traces":[{"line":9,"address":[2485696,2486207],"length":1,"stats":{"Line":2},"fn_name":"new\u003creql_rust::arguments::Args\u003c(reql_rust::types::datetime::DateTime, reql_rust::types::datetime::DateTime, core::option::Option\u003creql_rust::cmd::during::DuringOption\u003e)\u003e\u003e"},{"line":10,"address":[2485713],"length":1,"stats":{"Line":2},"fn_name":null},{"line":12,"address":[2486009,2486082,2485886],"length":1,"stats":{"Line":6},"fn_name":null},{"line":13,"address":[2485964],"length":1,"stats":{"Line":2},"fn_name":null},{"line":14,"address":[1794059,1794603],"length":1,"stats":{"Line":2},"fn_name":null},{"line":23,"address":[6659918,6659552],"length":1,"stats":{"Line":1},"fn_name":"into_during_opts"},{"line":24,"address":[6659680,6659574],"length":1,"stats":{"Line":2},"fn_name":null},{"line":29,"address":[6659968,6660307],"length":1,"stats":{"Line":0},"fn_name":"into_during_opts"},{"line":30,"address":[6659990,6660096],"length":1,"stats":{"Line":0},"fn_name":null},{"line":35,"address":[6660352,6660736],"length":1,"stats":{"Line":1},"fn_name":"into_during_opts"},{"line":37,"address":[6660374],"length":1,"stats":{"Line":1},"fn_name":null},{"line":38,"address":[6660480],"length":1,"stats":{"Line":1},"fn_name":null},{"line":39,"address":[6660581],"length":1,"stats":{"Line":1},"fn_name":null},{"line":45,"address":[2659168,2659141,2658912],"length":1,"stats":{"Line":0},"fn_name":"into_during_opts"},{"line":46,"address":[6660833,6661025],"length":1,"stats":{"Line":0},"fn_name":null},{"line":51,"address":[6661056],"length":1,"stats":{"Line":0},"fn_name":"into_during_opts"},{"line":52,"address":[6661078],"length":1,"stats":{"Line":0},"fn_name":null},{"line":75,"address":[4471984,4472212,4472442,4472766,4471993,4472085,4472016],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":76,"address":[4472242,4473138,4472150,4472399,4472777,4472570],"length":1,"stats":{"Line":4},"fn_name":null},{"line":77,"address":[4473402,4473041],"length":1,"stats":{"Line":2},"fn_name":null},{"line":78,"address":[4473569,4473409],"length":1,"stats":{"Line":2},"fn_name":null},{"line":80,"address":[4473664,4473829,4473589],"length":1,"stats":{"Line":2},"fn_name":null},{"line":82,"address":[4474225,4473819],"length":1,"stats":{"Line":2},"fn_name":null},{"line":84,"address":[4474305,4474017,4474358,4474068],"length":1,"stats":{"Line":2},"fn_name":null},{"line":85,"address":[6884184,6884130],"length":1,"stats":{"Line":5},"fn_name":null},{"line":86,"address":[4476240,4476459,4476516,4476539,4475275,4476731,4475808,4476039,4475962],"length":1,"stats":{"Line":6},"fn_name":null},{"line":88,"address":[4475586],"length":1,"stats":{"Line":1},"fn_name":null},{"line":89,"address":[4476167,4472281,4475862,4475995],"length":1,"stats":{"Line":4},"fn_name":null},{"line":90,"address":[4476363],"length":1,"stats":{"Line":0},"fn_name":null},{"line":94,"address":[4477138,4476616,4476963],"length":1,"stats":{"Line":1},"fn_name":null},{"line":96,"address":[1674639,1674684,1675024,1674744],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":24,"coverable":31},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","epoch_time.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn epoch_time(timestamp: i64) -\u003e Command {\n    Command::new(TermType::EpochTime).with_arg(Command::from_json(timestamp))\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::types::Time;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_time_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let date_time = r.epoch_time(531360000)?;\n        let time1 = date_time.clone().value();\n        let time2: Time = date_time.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(time2 == time1);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[1651696,1651878,1651905],"length":1,"stats":{"Line":1},"fn_name":"epoch_time"},{"line":6,"address":[1651726,1651898],"length":1,"stats":{"Line":1},"fn_name":null},{"line":16,"address":[1675509,1675104,1675557,1675143],"length":1,"stats":{"Line":6},"fn_name":"test_time_ops"},{"line":17,"address":[4210247,4210597,4210863,4210408,4210128,4210174],"length":1,"stats":{"Line":4},"fn_name":null},{"line":19,"address":[4210853,4211249,4211120],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[4211239,4211474],"length":1,"stats":{"Line":2},"fn_name":null},{"line":21,"address":[4211501,4212300,4212482,4211588,4210189],"length":1,"stats":{"Line":4},"fn_name":null},{"line":23,"address":[4212453,4212703,4212736],"length":1,"stats":{"Line":2},"fn_name":null},{"line":25,"address":[1675240,1675180,1675520,1675135],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":9,"coverable":9},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","eq.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl EqArg) -\u003e Command {\n    args.into_eq_opts().add_to_cmd(Command::new(TermType::Eq))\n}\n\npub trait EqArg {\n    fn into_eq_opts(self) -\u003e CmdOpts;\n}\n\nimpl EqArg for Command {\n    fn into_eq_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(self)\n    }\n}\n\nimpl\u003cT: Serialize\u003e EqArg for Vec\u003cT\u003e {\n    fn into_eq_opts(self) -\u003e CmdOpts {\n        let commands = self.iter().map(Command::from_json).collect();\n\n        CmdOpts::Many(commands)\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_eq_data() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: bool = table\n            .get(1)\n            .g(\"title\")\n            .eq(r.expr(\"title1\"))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained);\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_eq_data_r() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let data_obtained: bool = r.eq(vec![5, 5, 5]).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained);\n\n        Ok(())\n    }\n}\n","traces":[{"line":8,"address":[4533223,4533008,4533196,4532984,4532957,4532752],"length":1,"stats":{"Line":2},"fn_name":"new\u003calloc::vec::Vec\u003ci32, alloc::alloc::Global\u003e\u003e"},{"line":9,"address":[4533024,4533216,4532977,4532768],"length":1,"stats":{"Line":2},"fn_name":null},{"line":17,"address":[2255152],"length":1,"stats":{"Line":1},"fn_name":"into_eq_opts"},{"line":18,"address":[2255168],"length":1,"stats":{"Line":1},"fn_name":null},{"line":23,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[],"length":0,"stats":{"Line":2},"fn_name":null},{"line":26,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[4412919,4412880,4413285,4413333],"length":1,"stats":{"Line":6},"fn_name":"test_eq_data"},{"line":38,"address":[6650908,6651844,6651407,6651061,6651229,6650835],"length":1,"stats":{"Line":4},"fn_name":null},{"line":39,"address":[6652085,6652967,6652496,6652260,6653201,6651791,6652419,6653011,6652910,6652691,6652189],"length":1,"stats":{"Line":8},"fn_name":null},{"line":42,"address":[6652275,6652236,6652050,6652128],"length":1,"stats":{"Line":2},"fn_name":null},{"line":43,"address":[6850608],"length":1,"stats":{"Line":5},"fn_name":null},{"line":44,"address":[6652814],"length":1,"stats":{"Line":0},"fn_name":null},{"line":48,"address":[6653090,6653404],"length":1,"stats":{"Line":1},"fn_name":null},{"line":50,"address":[4412911,4412956,4413016,4413296],"length":1,"stats":{"Line":7},"fn_name":null},{"line":54,"address":[4413376,4413781,4413829,4413415],"length":1,"stats":{"Line":6},"fn_name":"test_eq_data_r"},{"line":55,"address":[6654291,6654396,6655014,6654746,6654325,6654557],"length":1,"stats":{"Line":4},"fn_name":null},{"line":56,"address":[6654999,6655242,6656104,6654340,6656010],"length":1,"stats":{"Line":4},"fn_name":null},{"line":58,"address":[6656089,6656312],"length":1,"stats":{"Line":1},"fn_name":null},{"line":60,"address":[4413512,4413452,4413792,4413407],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":19,"coverable":20},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","eq_join.rs"],"content":"use std::borrow::Cow;\n\nuse ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::arguments::AnyParam;\nuse crate::prelude::Func;\nuse crate::Command;\n\npub(crate) fn new(args: impl EqJoinArg) -\u003e Command {\n    let (arg, right_table, opts) = args.into_eq_join_opts();\n\n    Command::new(TermType::EqJoin)\n        .with_arg(arg)\n        .with_arg(right_table)\n        .with_opts(opts)\n}\n\npub trait EqJoinArg {\n    fn into_eq_join_opts(self) -\u003e (Command, Command, EqJoinOption);\n}\n\nimpl EqJoinArg for (AnyParam, Command) {\n    fn into_eq_join_opts(self) -\u003e (Command, Command, EqJoinOption) {\n        (self.0.into(), self.1, Default::default())\n    }\n}\n\nimpl EqJoinArg for (Func, Command) {\n    fn into_eq_join_opts(self) -\u003e (Command, Command, EqJoinOption) {\n        let Func(func) = self.0;\n\n        (func, self.1, Default::default())\n    }\n}\n\nimpl EqJoinArg for (Command, Command) {\n    fn into_eq_join_opts(self) -\u003e (Command, Command, EqJoinOption) {\n        (self.0, self.1, Default::default())\n    }\n}\n\nimpl EqJoinArg for (AnyParam, Command, EqJoinOption) {\n    fn into_eq_join_opts(self) -\u003e (Command, Command, EqJoinOption) {\n        (self.0.into(), self.1, self.2)\n    }\n}\n\nimpl EqJoinArg for (Func, Command, EqJoinOption) {\n    fn into_eq_join_opts(self) -\u003e (Command, Command, EqJoinOption) {\n        let Func(func) = self.0;\n\n        (func, self.1, self.2)\n    }\n}\n\nimpl EqJoinArg for (Command, Command, EqJoinOption) {\n    fn into_eq_join_opts(self) -\u003e (Command, Command, EqJoinOption) {\n        (self.0, self.1, self.2)\n    }\n}\n\n#[derive(\n    Debug, Clone, Serialize, Default, Eq, PartialEq, Ord, PartialOrd, Hash, CommandOptions,\n)]\n#[non_exhaustive]\npub struct EqJoinOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub index: Option\u003cCow\u003c'static, str\u003e\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub ordered: Option\u003cbool\u003e,\n}\n\n// TODO write test\n","traces":[{"line":25,"address":[5125540,5125232,5125566],"length":1,"stats":{"Line":0},"fn_name":"into_eq_join_opts"},{"line":26,"address":[5125253,5125556,5125358],"length":1,"stats":{"Line":0},"fn_name":null},{"line":31,"address":[2826976,2827274,2827244],"length":1,"stats":{"Line":0},"fn_name":"into_eq_join_opts"},{"line":32,"address":[7018006],"length":1,"stats":{"Line":0},"fn_name":null},{"line":34,"address":[2827055,2827255],"length":1,"stats":{"Line":0},"fn_name":null},{"line":39,"address":[4040228,4040000,4040251],"length":1,"stats":{"Line":0},"fn_name":"into_eq_join_opts"},{"line":40,"address":[4040244,4040049],"length":1,"stats":{"Line":0},"fn_name":null},{"line":45,"address":[5125863,5125600,5125893],"length":1,"stats":{"Line":0},"fn_name":"into_eq_join_opts"},{"line":46,"address":[5125715,5125647],"length":1,"stats":{"Line":0},"fn_name":null},{"line":51,"address":[7018272],"length":1,"stats":{"Line":0},"fn_name":"into_eq_join_opts"},{"line":52,"address":[7018293],"length":1,"stats":{"Line":0},"fn_name":null},{"line":54,"address":[7018308],"length":1,"stats":{"Line":0},"fn_name":null},{"line":59,"address":[4040272],"length":1,"stats":{"Line":0},"fn_name":"into_eq_join_opts"},{"line":60,"address":[4040294],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":14},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","error.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(message: impl Into\u003cString\u003e) -\u003e Command {\n    let arg = Command::from_json(message.into());\n\n    Command::new(TermType::Error).with_arg(arg)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::{r, ReqlError, ReqlRuntimeError, Result};\n\n    #[tokio::test]\n    async fn test_error_ops() -\u003e Result\u003c()\u003e {\n        let msg = \"Error\";\n        let conn = r.connection().connect().await?;\n        let err = r.error(msg).run(\u0026conn).await.err().unwrap();\n\n        if let ReqlError::Runtime(err) = err {\n            if let ReqlRuntimeError::User(err) = err {\n                assert!(err == msg);\n\n                return Ok(());\n            }\n        }\n\n        assert!(false);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2719315,2719288,2719056],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":6,"address":[2719089],"length":1,"stats":{"Line":1},"fn_name":null},{"line":8,"address":[2719137,2719204],"length":1,"stats":{"Line":2},"fn_name":null},{"line":16,"address":[1838464,1837929,1837849,1838164,1837840,1838029,1837872],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":17,"address":[1837985],"length":1,"stats":{"Line":1},"fn_name":null},{"line":18,"address":[1838744,1838124,1838475,1838019,1838053,1838286],"length":1,"stats":{"Line":4},"fn_name":null},{"line":19,"address":[1838719,1838995,1838068],"length":1,"stats":{"Line":3},"fn_name":null},{"line":21,"address":[1839428,1839490],"length":1,"stats":{"Line":1},"fn_name":null},{"line":22,"address":[1839509,1839477],"length":1,"stats":{"Line":2},"fn_name":null},{"line":23,"address":[1839828,1839549,1839791],"length":1,"stats":{"Line":2},"fn_name":null},{"line":25,"address":[1839797],"length":1,"stats":{"Line":1},"fn_name":null},{"line":29,"address":[1839492,1839645],"length":1,"stats":{"Line":0},"fn_name":null},{"line":31,"address":[1839620],"length":1,"stats":{"Line":4},"fn_name":null}],"covered":12,"coverable":13},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","expr.rs"],"content":"use serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(value: impl Serialize) -\u003e Command {\n    Command::from_json(value)\n}\n\n#[cfg(test)]\nmod tests {\n    use serde::{Deserialize, Serialize};\n    use serde_json::json;\n\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[derive(Debug, Serialize, Deserialize, PartialEq, Eq)]\n    struct Dummy {\n        a: char,\n        b: [u8; 3],\n    }\n\n    #[tokio::test]\n    async fn test_expr_ops() -\u003e Result\u003c()\u003e {\n        let data = Dummy {\n            a: 'b',\n            b: [1, 2, 3],\n        };\n        let conn = r.connection().connect().await?;\n        let response: Dummy = r\n            .expr(json!({'a':'b'}))\n            .merge(r.expr(json!({'b':[1, 2, 3]})))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data == response);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[4353104,4353056,4353232,4353280,4353184],"length":1,"stats":{"Line":6},"fn_name":"new\u003c[i32; 3]\u003e"},{"line":6,"address":[4353067,4353205,4353115,4353296,4353256],"length":1,"stats":{"Line":6},"fn_name":null},{"line":24,"address":[2270663,2271077,2271029,2270624],"length":1,"stats":{"Line":6},"fn_name":"test_expr_ops"},{"line":27,"address":[3497075],"length":1,"stats":{"Line":1},"fn_name":null},{"line":29,"address":[3497135,3497402,3497169,3497240,3497853,3497591],"length":1,"stats":{"Line":4},"fn_name":null},{"line":30,"address":[3499969,3500188,3499712,3500245,3499487,3499783,3499559,3500282,3500485,3498476],"length":1,"stats":{"Line":7},"fn_name":null},{"line":31,"address":[3498483,3498137,3497843,3498098,3498344],"length":1,"stats":{"Line":4},"fn_name":null},{"line":32,"address":[3499531,3498499,3498979,3498842,3498599,3498050,3499348,3499574],"length":1,"stats":{"Line":3},"fn_name":null},{"line":33,"address":[3499627,3499539,3497184,3499742,3499911],"length":1,"stats":{"Line":5},"fn_name":null},{"line":34,"address":[3500092],"length":1,"stats":{"Line":0},"fn_name":null},{"line":38,"address":[3500629,3500592,3500375],"length":1,"stats":{"Line":2},"fn_name":null},{"line":40,"address":[2270760,2270655,2271040,2270700],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":11,"coverable":12},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","fill.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Fill)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::types::{Point, Polygon};\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_fill_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let rectangle = r.line(\u0026[\n            Point::new(-122.423246, 37.779388),\n            Point::new(-122.423246, 37.329898),\n            Point::new(-121.886420, 37.329898),\n            Point::new(-121.886420, 37.779388),\n        ]);\n        let data = Polygon::new(\u0026[\n            Point::new(-122.423246, 37.779388),\n            Point::new(-122.423246, 37.329898),\n            Point::new(-121.88642, 37.329898),\n            Point::new(-121.88642, 37.779388),\n            Point::new(-122.423246, 37.779388),\n        ]);\n\n        let response: Polygon = rectangle.fill().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == data);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2028528],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2110188],"length":1,"stats":{"Line":1},"fn_name":null},{"line":16,"address":[4214887,4214848,4215253,4215301],"length":1,"stats":{"Line":6},"fn_name":"test_fill_ops"},{"line":17,"address":[4483454,4483525,4483408,4483875,4483686,4484152],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[4484486],"length":1,"stats":{"Line":1},"fn_name":null},{"line":19,"address":[4484142],"length":1,"stats":{"Line":1},"fn_name":null},{"line":20,"address":[4484417],"length":1,"stats":{"Line":1},"fn_name":null},{"line":21,"address":[4484448],"length":1,"stats":{"Line":1},"fn_name":null},{"line":22,"address":[4484479],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[4484853],"length":1,"stats":{"Line":1},"fn_name":null},{"line":25,"address":[4484675],"length":1,"stats":{"Line":1},"fn_name":null},{"line":26,"address":[4484748],"length":1,"stats":{"Line":1},"fn_name":null},{"line":27,"address":[4484779],"length":1,"stats":{"Line":1},"fn_name":null},{"line":28,"address":[4484810],"length":1,"stats":{"Line":1},"fn_name":null},{"line":29,"address":[4484841],"length":1,"stats":{"Line":1},"fn_name":null},{"line":32,"address":[4485833,4483469,4485977,4485042,4485133],"length":1,"stats":{"Line":4},"fn_name":null},{"line":34,"address":[4485951,4486218,4486251],"length":1,"stats":{"Line":2},"fn_name":null},{"line":36,"address":[4214924,4214984,4214879,4215264],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":18,"coverable":18},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","filter.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::arguments::Args;\nuse crate::prelude::Func;\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl FilterArg) -\u003e Command {\n    let (args, opts) = args.into_filter_opts();\n\n    args.add_to_cmd(Command::new(TermType::Filter))\n        .with_opts(opts)\n}\n\npub trait FilterArg {\n    fn into_filter_opts(self) -\u003e (CmdOpts, FilterOption);\n}\n\nimpl FilterArg for Func {\n    fn into_filter_opts(self) -\u003e (CmdOpts, FilterOption) {\n        (CmdOpts::Single(self.0), Default::default())\n    }\n}\n\nimpl FilterArg for Command {\n    fn into_filter_opts(self) -\u003e (CmdOpts, FilterOption) {\n        (CmdOpts::Single(self), Default::default())\n    }\n}\n\nimpl FilterArg for Args\u003c(Func, FilterOption)\u003e {\n    fn into_filter_opts(self) -\u003e (CmdOpts, FilterOption) {\n        let Func(func) = self.0 .0;\n\n        (CmdOpts::Single(func), self.0 .1)\n    }\n}\n\nimpl FilterArg for Args\u003c(Command, FilterOption)\u003e {\n    fn into_filter_opts(self) -\u003e (CmdOpts, FilterOption) {\n        (CmdOpts::Single(self.0 .0), self.0 .1)\n    }\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Default, Eq, PartialEq, Ord, PartialOrd, Hash)]\npub struct FilterOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub default: Option\u003cbool\u003e,\n}\n\nimpl FilterOption {\n    pub fn default_(mut self, default: bool) -\u003e Self {\n        self.default = Some(default);\n        self\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use serde_json::json;\n\n    use crate::prelude::*;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_filter_data() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_filtered: Vec\u003cPost\u003e = table\n            .clone()\n            .filter(r.expr(json!({\"view\": 2})))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_filtered.len() == 2);\n        assert!(data_filtered.first() == data.get(3));\n        assert!(data_filtered.last() == data.get(1));\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_filter_data_with_func() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_filtered: Vec\u003cPost\u003e = table\n            .clone()\n            .filter(func!(|user| user.g(\"view\").eq(r.expr(2))))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_filtered.len() == 2);\n        assert!(data_filtered.first() == data.get(3));\n        assert!(data_filtered.last() == data.get(1));\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":10,"address":[1700635,1701067,1700689,1700288,1701121,1700720],"length":1,"stats":{"Line":2},"fn_name":"new\u003creql_rust::cmd::func::Func\u003e"},{"line":11,"address":[1700737,1700305],"length":1,"stats":{"Line":2},"fn_name":null},{"line":13,"address":[1700441,1701060,1700628,1700873],"length":1,"stats":{"Line":2},"fn_name":null},{"line":22,"address":[7018671,7018496],"length":1,"stats":{"Line":1},"fn_name":"into_filter_opts"},{"line":23,"address":[2745923],"length":1,"stats":{"Line":1},"fn_name":null},{"line":28,"address":[4040639,4040464],"length":1,"stats":{"Line":1},"fn_name":"into_filter_opts"},{"line":29,"address":[4040515],"length":1,"stats":{"Line":1},"fn_name":null},{"line":34,"address":[6661248],"length":1,"stats":{"Line":0},"fn_name":"into_filter_opts"},{"line":35,"address":[6661270],"length":1,"stats":{"Line":0},"fn_name":null},{"line":37,"address":[6661285],"length":1,"stats":{"Line":0},"fn_name":null},{"line":42,"address":[6661424],"length":1,"stats":{"Line":0},"fn_name":"into_filter_opts"},{"line":43,"address":[6661445],"length":1,"stats":{"Line":0},"fn_name":null},{"line":54,"address":[5125920],"length":1,"stats":{"Line":0},"fn_name":"default_"},{"line":55,"address":[5125942],"length":1,"stats":{"Line":0},"fn_name":null},{"line":56,"address":[5125955],"length":1,"stats":{"Line":0},"fn_name":null},{"line":69,"address":[4414277,4413872,4414325,4413911],"length":1,"stats":{"Line":6},"fn_name":"test_filter_data"},{"line":70,"address":[2555030],"length":1,"stats":{"Line":1},"fn_name":null},{"line":71,"address":[2555094,2555479,2555657,2555251,2556064,2555419],"length":1,"stats":{"Line":4},"fn_name":null},{"line":72,"address":[2557266,2556982,2556054,2557065,2556742,2557832,2556817,2557542,2557485,2557589],"length":1,"stats":{"Line":7},"fn_name":null},{"line":74,"address":[2556603,2556237,2556288,2556789,2556832,2556396],"length":1,"stats":{"Line":3},"fn_name":null},{"line":75,"address":[2555115,2557193,2556797,2556885,2557021,2555200],"length":1,"stats":{"Line":6},"fn_name":null},{"line":76,"address":[2557389],"length":1,"stats":{"Line":0},"fn_name":null},{"line":80,"address":[2558203,2558155,2557718],"length":1,"stats":{"Line":2},"fn_name":null},{"line":81,"address":[2558176,2558407,2558248],"length":1,"stats":{"Line":2},"fn_name":null},{"line":82,"address":[2558629,2558383,2558450],"length":1,"stats":{"Line":2},"fn_name":null},{"line":84,"address":[6885636],"length":1,"stats":{"Line":7},"fn_name":null},{"line":88,"address":[2559688,2559589,2559918,2560270,2559520,2559488,2559497],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":89,"address":[2559654],"length":1,"stats":{"Line":1},"fn_name":null},{"line":90,"address":[6777135],"length":1,"stats":{"Line":4},"fn_name":null},{"line":91,"address":[2561695,2561860,2562363,2562710,2560678,2561943,2562144,2562467,2561561,2562420],"length":1,"stats":{"Line":7},"fn_name":null},{"line":93,"address":[2560861,2560959,2560917,2564438,2561710,2561600,2564400],"length":1,"stats":{"Line":4},"fn_name":"{closure#0}"},{"line":94,"address":[2559824,2559739,2562071,2561899,2561763,2561675],"length":1,"stats":{"Line":6},"fn_name":null},{"line":95,"address":[2562267],"length":1,"stats":{"Line":0},"fn_name":null},{"line":99,"address":[2562596,2563033,2563084],"length":1,"stats":{"Line":2},"fn_name":null},{"line":100,"address":[2563054,2563132,2563315],"length":1,"stats":{"Line":2},"fn_name":null},{"line":101,"address":[2563358,2563537,2563291],"length":1,"stats":{"Line":2},"fn_name":null},{"line":103,"address":[2563570,2563990,2563694,2559757,2563854,2563493,2563753],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":27,"coverable":37},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","floor.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(args: impl FloorArg) -\u003e Command {\n    let mut command = Command::new(TermType::Floor);\n\n    if let Some(arg) = args.into_floor_opts() {\n        command = command.with_arg(arg)\n    }\n\n    command\n}\n\npub trait FloorArg {\n    fn into_floor_opts(self) -\u003e Option\u003cCommand\u003e;\n}\n\nimpl FloorArg for () {\n    fn into_floor_opts(self) -\u003e Option\u003cCommand\u003e {\n        None\n    }\n}\n\nimpl FloorArg for f64 {\n    fn into_floor_opts(self) -\u003e Option\u003cCommand\u003e {\n        Some(Command::from_json(self))\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_floor_data() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let data_obtained: i8 = r.floor(-12.345).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained == -13);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[7027200,7027167,7026640,7027750],"length":1,"stats":{"Line":1},"fn_name":"new\u003c()\u003e"},{"line":6,"address":[7026752,7027333,7026660,7027235],"length":1,"stats":{"Line":2},"fn_name":null},{"line":8,"address":[2467617,2467020,2467359,2467082,2467679,2467958],"length":1,"stats":{"Line":3},"fn_name":null},{"line":9,"address":[2385685,2385540,2386138,2386284],"length":1,"stats":{"Line":2},"fn_name":null},{"line":12,"address":[2467983,2467384],"length":1,"stats":{"Line":1},"fn_name":null},{"line":20,"address":[2387584],"length":1,"stats":{"Line":0},"fn_name":"into_floor_opts"},{"line":21,"address":[2387588],"length":1,"stats":{"Line":0},"fn_name":null},{"line":26,"address":[4750864],"length":1,"stats":{"Line":1},"fn_name":"into_floor_opts"},{"line":27,"address":[4750890],"length":1,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[2255397,2255031,2255445,2254992],"length":1,"stats":{"Line":6},"fn_name":"test_floor_data"},{"line":38,"address":[4591308,4591469,4591927,4591203,4591237,4591658],"length":1,"stats":{"Line":4},"fn_name":null},{"line":39,"address":[4591252,4592155,4591917,4592944,4592855],"length":1,"stats":{"Line":4},"fn_name":null},{"line":41,"address":[4592924,4593152],"length":1,"stats":{"Line":1},"fn_name":null},{"line":43,"address":[2255023,2255068,2255128,2255408],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":12,"coverable":14},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","fold.rs"],"content":"use ql2::term::TermType;\n\nuse crate::arguments::AnyParam;\nuse crate::prelude::Func;\nuse crate::Command;\n\npub(crate) fn new(base: AnyParam, func: Func) -\u003e Command {\n    let Func(func) = func;\n    let arg: Command = base.into();\n\n    Command::new(TermType::Fold).with_arg(arg).with_arg(func)\n}\n\n// #[derive(Debug, Clone, Serialize, Default)]\n// #[non_exhaustive]\n// pub struct FoldOption {\n//     pub emit: Option\u003cCommand\u003e,\n//     pub final_emit: Option\u003cCommand\u003e,\n// }\n\n// TODO write test\n","traces":[{"line":7,"address":[2673209,2672768],"length":1,"stats":{"Line":0},"fn_name":"new"},{"line":8,"address":[2672803],"length":1,"stats":{"Line":0},"fn_name":null},{"line":9,"address":[2672947,2672884],"length":1,"stats":{"Line":0},"fn_name":null},{"line":11,"address":[2672955,2673026],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":4},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","for_each.rs"],"content":"use ql2::term::TermType;\n\nuse crate::prelude::Func;\nuse crate::Command;\n\npub(crate) fn new(arg: Func) -\u003e Command {\n    Command::new(TermType::ForEach).with_arg(arg.0)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::*;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::MutationResponse;\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_for_each_opts() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let response: MutationResponse = table\n            .clone()\n            .for_each(func!(|doc| table.get(doc.g(\"id\")).delete(())))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response.deleted == 5);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":6,"address":[4583968,4584145,4584172],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":7,"address":[4584075,4583990],"length":1,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[1675600,1675639,1676053,1676005],"length":1,"stats":{"Line":6},"fn_name":"test_for_each_opts"},{"line":19,"address":[4117127,4117540,4116775,4116618,4116518,4116946],"length":1,"stats":{"Line":4},"fn_name":null},{"line":20,"address":[4117530,4118926,4118761,4119769,4118606,4119527,4119423,4119204,4119003,4119480],"length":1,"stats":{"Line":7},"fn_name":null},{"line":22,"address":[4118583,4120885,4118776,4118685,4120864,4118645,4117749,4117800],"length":1,"stats":{"Line":3},"fn_name":"{closure#0}"},{"line":23,"address":[4116639,4118829,4118959,4116724,4119131],"length":1,"stats":{"Line":5},"fn_name":null},{"line":24,"address":[4119327],"length":1,"stats":{"Line":0},"fn_name":null},{"line":28,"address":[4119647,4119984],"length":1,"stats":{"Line":1},"fn_name":null},{"line":30,"address":[1676016,1675676,1675736,1675631],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":9,"coverable":10},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","func.rs"],"content":"use crate::Command;\nuse ql2::term::TermType;\n\n#[derive(Debug, Clone)]\npub struct Func(pub(crate) Command);\n\nimpl Func {\n    pub fn new\u003cT\u003e(ids: Vec\u003cu64\u003e, body: T) -\u003e Self\n    where\n        T: Into\u003cCommand\u003e,\n    {\n        Func(\n            Command::new(TermType::Func)\n                .with_arg(Command::from_json(ids))\n                .with_arg(body),\n        )\n    }\n}\n","traces":[{"line":8,"address":[2703174,2702800,2703242],"length":1,"stats":{"Line":1},"fn_name":"new\u003creql_rust::proto::Command\u003e"},{"line":13,"address":[2703149,2703046,2702827,2702946],"length":1,"stats":{"Line":4},"fn_name":null},{"line":14,"address":[2703090,2703164,2702954],"length":1,"stats":{"Line":2},"fn_name":null},{"line":15,"address":[2703098],"length":1,"stats":{"Line":1},"fn_name":null}],"covered":4,"coverable":4},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","ge.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::arguments::Args;\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl GeArg) -\u003e Command {\n    args.into_ge_opts().add_to_cmd(Command::new(TermType::Ge))\n}\n\npub trait GeArg {\n    fn into_ge_opts(self) -\u003e CmdOpts;\n}\n\nimpl\u003cT: Serialize\u003e GeArg for T {\n    fn into_ge_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(Command::from_json(self))\n    }\n}\n\nimpl\u003cT: Serialize\u003e GeArg for Args\u003cVec\u003cT\u003e\u003e {\n    fn into_ge_opts(self) -\u003e CmdOpts {\n        let commands = self.0.iter().map(Command::from_json).collect();\n\n        CmdOpts::Many(commands)\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::{args, r, Result};\n\n    #[tokio::test]\n    async fn test_ge_data() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: bool = table\n            .get(1)\n            .g(\"view\")\n            .ge(10)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained);\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_ge_data_r() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let data_obtained: bool = r\n            .ge(args!(vec![7, 6, 5]))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained);\n\n        Ok(())\n    }\n}\n","traces":[{"line":9,"address":[2391028,2391272,2391040,2391001,2391245,2390832],"length":1,"stats":{"Line":2},"fn_name":"new\u003ci32\u003e"},{"line":10,"address":[2391265,2391056,2390855,2391021],"length":1,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":19,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":25,"address":[],"length":0,"stats":{"Line":2},"fn_name":null},{"line":27,"address":[1817501],"length":1,"stats":{"Line":1},"fn_name":null},{"line":38,"address":[2579461,2579095,2579056,2579509],"length":1,"stats":{"Line":6},"fn_name":"test_ge_data"},{"line":39,"address":[2335981,2336327,2336149,2335828,2335763,2336764],"length":1,"stats":{"Line":4},"fn_name":null},{"line":40,"address":[2337473,2336711,2337749,2337793,2337201,2337692,2337278,2337983,2336997],"length":1,"stats":{"Line":6},"fn_name":null},{"line":44,"address":[2335849,2335932,2337406,2337234,2337107],"length":1,"stats":{"Line":5},"fn_name":null},{"line":45,"address":[2337596],"length":1,"stats":{"Line":0},"fn_name":null},{"line":49,"address":[2338186,2337872],"length":1,"stats":{"Line":1},"fn_name":null},{"line":51,"address":[6850977],"length":1,"stats":{"Line":7},"fn_name":null},{"line":55,"address":[2338921,2338944,2339503,2338912,2339204,2339001,2339069],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":56,"address":[2339093,2339782,2339059,2339325,2339164,2339514],"length":1,"stats":{"Line":4},"fn_name":null},{"line":57,"address":[2340716,2340130,2340098,2340241,2340810,2340312,2340773,2341000,2340497],"length":1,"stats":{"Line":6},"fn_name":null},{"line":58,"address":[2340010,2339767],"length":1,"stats":{"Line":2},"fn_name":null},{"line":59,"address":[2340153,2340440,2339108,2340110,2340271],"length":1,"stats":{"Line":5},"fn_name":null},{"line":60,"address":[2340620],"length":1,"stats":{"Line":0},"fn_name":null},{"line":64,"address":[2340889,2341112],"length":1,"stats":{"Line":1},"fn_name":null},{"line":66,"address":[2341086],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":20,"coverable":22},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","geojson.rs"],"content":"use ql2::term::TermType;\nuse serde::{Deserialize, Serialize};\n\nuse crate::prelude::Geometry;\nuse crate::types::{GeoJson, GeoType, ReqlType};\nuse crate::Command;\n\n#[derive(Debug, Clone, Serialize, Deserialize, PartialEq, PartialOrd)]\npub struct ReqlGeoJson\u003cT\u003e {\n    #[serde(rename = \"$reql_type$\")]\n    pub reql_type: ReqlType,\n    pub coordinates: T,\n    #[serde(rename = \"type\")]\n    pub typ: GeoType,\n}\n\nimpl\u003cT: Serialize\u003e ReqlGeoJson\u003cT\u003e {\n    pub fn new(geojson: GeoJson\u003cT\u003e) -\u003e Self {\n        Self {\n            reql_type: ReqlType::Geometry,\n            typ: geojson.typ,\n            coordinates: geojson.coordinates,\n        }\n    }\n}\n\nimpl\u003cT: Serialize\u003e From\u003cReqlGeoJson\u003cT\u003e\u003e for Command {\n    fn from(geo: ReqlGeoJson\u003cT\u003e) -\u003e Self {\n        let geo: GeoJson\u003cT\u003e = geo.into();\n        let arg = Command::from_json(geo);\n\n        Command::new(TermType::Geojson).with_arg(arg)\n    }\n}\n\nimpl\u003cT: Serialize\u003e From\u003cReqlGeoJson\u003cT\u003e\u003e for GeoJson\u003cT\u003e {\n    fn from(geo: ReqlGeoJson\u003cT\u003e) -\u003e Self {\n        Self {\n            typ: geo.typ,\n            coordinates: geo.coordinates,\n        }\n    }\n}\n\nimpl\u003cT: Serialize\u003e Geometry for ReqlGeoJson\u003cT\u003e {\n    fn cmd(self) -\u003e Command {\n        self.into()\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use serde::{Deserialize, Serialize};\n\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::{GeoJson, GeoType};\n    use crate::{r, Result};\n\n    use super::ReqlGeoJson;\n\n    #[derive(Debug, Serialize, Deserialize, PartialEq)]\n    struct User {\n        id: u8,\n        name: String,\n        location: ReqlGeoJson\u003c[f64; 2]\u003e,\n    }\n\n    #[tokio::test]\n    async fn test_geojson_data() -\u003e Result\u003c()\u003e {\n        let geo_json = GeoJson {\n            typ: GeoType::Point,\n            coordinates: [-122.423246, 37.779388],\n        };\n        let user = User {\n            id: 1,\n            name: \"Yaound\".to_string(),\n            location: r.geojson(geo_json),\n        };\n        let (conn, table, table_name) = set_up(false).await?;\n        table.clone().insert(\u0026user).run(\u0026conn).await?;\n        let response: User = table.get(1).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == user);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":18,"address":[4686912],"length":1,"stats":{"Line":1},"fn_name":"new\u003c[f64; 2]\u003e"},{"line":21,"address":[4686924],"length":1,"stats":{"Line":1},"fn_name":null},{"line":22,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":28,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":29,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":30,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":32,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":37,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":39,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":40,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":46,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":47,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":70,"address":[4227829,4227737,4227728,4228599,4228315,4227760,4228013],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":73,"address":[4227927],"length":1,"stats":{"Line":1},"fn_name":null},{"line":77,"address":[4227983],"length":1,"stats":{"Line":1},"fn_name":null},{"line":78,"address":[4228427],"length":1,"stats":{"Line":1},"fn_name":null},{"line":80,"address":[4228043,4228666,4229247,4228592,4228272],"length":1,"stats":{"Line":4},"fn_name":null},{"line":81,"address":[4228221,4229471,4229237,4228064],"length":1,"stats":{"Line":4},"fn_name":null},{"line":82,"address":[4228085,4231061,4230341,4228170,4231269,4230217],"length":1,"stats":{"Line":5},"fn_name":null},{"line":84,"address":[4231255,4231751,4231693],"length":1,"stats":{"Line":2},"fn_name":null},{"line":86,"address":[4232077,4231707,4231988,4231805,4231929,4232213,4228103],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":12,"coverable":21},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","get.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(args: impl GetArg) -\u003e Command {\n    Command::new(TermType::Get).with_arg(args.into_get_opts())\n}\n\npub trait GetArg {\n    fn into_get_opts(self) -\u003e Command;\n}\n\nimpl GetArg for Command {\n    fn into_get_opts(self) -\u003e Command {\n        self\n    }\n}\n\nimpl\u003cT\u003e GetArg for T\nwhere\n    T: Serialize,\n{\n    fn into_get_opts(self) -\u003e Command {\n        Command::from_json(self)\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_get_data() -\u003e Result\u003c()\u003e {\n        let expected_post = Post::get_many_data().get(3).unwrap().to_owned();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_inserted: Option\u003cPost\u003e = table\n            .get(expected_post.id)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_inserted == Some(expected_post));\n\n        tear_down(conn, table_name.as_str()).await\n    }\n}\n","traces":[{"line":6,"address":[2219365,2218784,2219066,2219998,2219104,2219712,2219408,2219673],"length":1,"stats":{"Line":4},"fn_name":"new\u003c\u0026str\u003e"},{"line":7,"address":[2219734,2219132,2219056,2219663,2219988,2219355,2219537,2219231,2219438,2218827,2219834,2218932],"length":1,"stats":{"Line":8},"fn_name":null},{"line":15,"address":[2255920],"length":1,"stats":{"Line":1},"fn_name":"into_get_opts"},{"line":16,"address":[2174280],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[],"length":0,"stats":{"Line":3},"fn_name":null},{"line":25,"address":[2220067,2220149,2220112],"length":1,"stats":{"Line":3},"fn_name":null},{"line":36,"address":[1693321,1696516,1693509,1693413,1694014,1693344,1693312,1693737],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":37,"address":[1693475,1693844],"length":1,"stats":{"Line":2},"fn_name":null},{"line":38,"address":[1694675,1693539,1693694,1694083],"length":1,"stats":{"Line":3},"fn_name":null},{"line":39,"address":[1695568,1695612,1695511,1694903,1695292,1694622,1695097,1695020,1696030],"length":1,"stats":{"Line":6},"fn_name":null},{"line":41,"address":[1695225,1694926,1695053,1693560,1694883,1693645],"length":1,"stats":{"Line":6},"fn_name":null},{"line":42,"address":[1695415],"length":1,"stats":{"Line":0},"fn_name":null},{"line":46,"address":[1696417,1696359,1695797,1696257],"length":1,"stats":{"Line":2},"fn_name":null},{"line":48,"address":[1696535,1696928,1696373,1696659,1696715,1696797,1693578],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":13,"coverable":14},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","get_all.rs"],"content":"use std::borrow::Cow;\n\nuse ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl GetAllArg) -\u003e Command {\n    let (args, opts) = args.into_get_all_opts();\n\n    args.add_to_cmd(Command::new(TermType::GetAll))\n        .with_opts(opts)\n}\n\npub trait GetAllArg {\n    fn into_get_all_opts(self) -\u003e (CmdOpts, GetAllOption);\n}\n\nimpl\u003cT: Serialize\u003e GetAllArg for Vec\u003cT\u003e {\n    fn into_get_all_opts(self) -\u003e (CmdOpts, GetAllOption) {\n        let keys = self\n            .into_iter()\n            .map(|key| Command::from_json(key))\n            .collect();\n\n        (CmdOpts::Many(keys), Default::default())\n    }\n}\n\nimpl\u003cT: Serialize\u003e GetAllArg for (Vec\u003cT\u003e, GetAllOption) {\n    fn into_get_all_opts(self) -\u003e (CmdOpts, GetAllOption) {\n        let keys = self\n            .0\n            .into_iter()\n            .map(|key| Command::from_json(key))\n            .collect();\n\n        (CmdOpts::Many(keys), self.1)\n    }\n}\n\n#[derive(Debug, Clone, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct GetAllOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub index: Option\u003cCow\u003c'static, str\u003e\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::*;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    use super::GetAllOption;\n\n    #[tokio::test]\n    async fn test_get_all() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n\n        table.clone().sync().run(\u0026conn).await?;\n\n        let data_get: Vec\u003cPost\u003e = table\n            .get_all((vec![\"title4\"], GetAllOption::default().index(\"title\")))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_get.len() == 2);\n        assert!(data_get.first() == data.get(3));\n        assert!(data_get.last() == data.last());\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":11,"address":[2373003,2373092,2372576],"length":1,"stats":{"Line":1},"fn_name":"new\u003c(alloc::vec::Vec\u003c\u0026str, alloc::alloc::Global\u003e, reql_rust::cmd::get_all::GetAllOption)\u003e"},{"line":12,"address":[2372593],"length":1,"stats":{"Line":1},"fn_name":null},{"line":14,"address":[2372996,2372761,2372969],"length":1,"stats":{"Line":2},"fn_name":null},{"line":15,"address":[2372913],"length":1,"stats":{"Line":1},"fn_name":null},{"line":23,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":24,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":26,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":29,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":34,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":35,"address":[],"length":0,"stats":{"Line":2},"fn_name":null},{"line":36,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":38,"address":[2373173,2373120],"length":1,"stats":{"Line":2},"fn_name":"{closure#0}\u003c\u0026str\u003e"},{"line":41,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":60,"address":[4445813,4445344,4446165,4445321,4445312,4445511,4445413],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":61,"address":[4445478],"length":1,"stats":{"Line":1},"fn_name":null},{"line":62,"address":[4445541,4445770,4445998,4446590,4446176,4445938],"length":1,"stats":{"Line":4},"fn_name":null},{"line":64,"address":[4445562,4446580,4446806,4445719],"length":1,"stats":{"Line":4},"fn_name":null},{"line":66,"address":[4448136,4448420,4448219,4447964,4448962,4447552,4448639,4448719,4447889,4448696],"length":1,"stats":{"Line":7},"fn_name":null},{"line":67,"address":[4447989,4447971,4447936,4447603,4447647],"length":1,"stats":{"Line":2},"fn_name":null},{"line":68,"address":[4448347,4447944,4445583,4448175,4445668,4448039],"length":1,"stats":{"Line":6},"fn_name":null},{"line":69,"address":[4448543],"length":1,"stats":{"Line":0},"fn_name":null},{"line":73,"address":[4449345,4448848,4449294],"length":1,"stats":{"Line":2},"fn_name":null},{"line":74,"address":[4449588,4449315,4449393],"length":1,"stats":{"Line":2},"fn_name":null},{"line":75,"address":[4449558,4449841,4449637],"length":1,"stats":{"Line":2},"fn_name":null},{"line":77,"address":[2255564,2255519,2255904,2255624],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":19,"coverable":25},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","get_field.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(attr: impl Serialize) -\u003e Command {\n    let arg = Command::from_json(attr);\n\n    Command::new(TermType::GetField).with_arg(arg)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_get_fields() -\u003e Result\u003c()\u003e {\n        let data = Post::get_one_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: String = table.get(1).g(\"title\").run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained == data.title);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":6,"address":[4481407,4481168,4481380],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":7,"address":[4481201],"length":1,"stats":{"Line":1},"fn_name":null},{"line":9,"address":[4481227,4481294],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[1676135,1676096,1676549,1676501],"length":1,"stats":{"Line":6},"fn_name":"test_get_fields"},{"line":20,"address":[2704051],"length":1,"stats":{"Line":1},"fn_name":null},{"line":21,"address":[2704103,2704481,2704421,2704656,2705094,2704256],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[2706066,2706200,2705294,2704207,2704124,2705041],"length":1,"stats":{"Line":5},"fn_name":null},{"line":24,"address":[2706555,2706610,2706186],"length":1,"stats":{"Line":2},"fn_name":null},{"line":26,"address":[1676172,1676512,1676232,1676127],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":9,"coverable":9},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","get_intersecting.rs"],"content":"use std::borrow::Cow;\n\nuse ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::prelude::Geometry;\nuse crate::Command;\n\npub(crate) fn new(args: impl GetIntersectingArg, index: \u0026'static str) -\u003e Command {\n    let opts = GetIntersectingOption::default().index(index);\n\n    Command::new(TermType::GetIntersecting)\n        .with_arg(args.into_get_intersecting_opts())\n        .with_opts(opts)\n}\n\npub trait GetIntersectingArg {\n    fn into_get_intersecting_opts(self) -\u003e Command;\n}\n\nimpl GetIntersectingArg for Command {\n    fn into_get_intersecting_opts(self) -\u003e Command {\n        self\n    }\n}\n\nimpl\u003cT\u003e GetIntersectingArg for T\nwhere\n    T: Geometry,\n{\n    fn into_get_intersecting_opts(self) -\u003e Command {\n        self.cmd()\n    }\n}\n\n#[derive(Debug, Clone, Serialize, Default, CommandOptions)]\npub struct GetIntersectingOption {\n    pub index: Option\u003cCow\u003c'static, str\u003e\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use serde::{Deserialize, Serialize};\n    use uuid::Uuid;\n\n    use crate::cmd::index_create::IndexCreateOption;\n    use crate::cmd::point::Point;\n    use crate::cmd::polygon::Polygon;\n    use crate::prelude::Converter;\n    use crate::{args, r, Result};\n\n    #[derive(Debug, Serialize, Deserialize, PartialEq)]\n    struct Park {\n        id: u8,\n        area: Point,\n    }\n\n    impl Park {\n        fn new(id: u8, area: Point) -\u003e Self {\n            Self { id, area }\n        }\n    }\n\n    #[tokio::test]\n    async fn test_get_intersecting_ops() -\u003e Result\u003c()\u003e {\n        let data = vec![\n            Park::new(1, r.point(-0.1, 5.3)),\n            Park::new(2, r.point(-117.220406, 32.719464)),\n            Park::new(2, r.point(-120.6, 58.9)),\n            Park::new(3, r.point(-11.220, 25.764)),\n        ];\n        let table_name = Uuid::new_v4().to_string();\n        let conn = r.connection().connect().await?;\n        let table = r.table(table_name.as_str());\n        let circle: Polygon = r\n            .circle(args!(r.point(-117.220406, 32.719464), 10.))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n        r.table_create(table_name.as_str()).run(\u0026conn).await?;\n        table\n            .clone()\n            .index_create((\"area\", IndexCreateOption::default().geo(true)))\n            .run(\u0026conn)\n            .await?;\n        table.clone().index_wait(()).run(\u0026conn).await?;\n        table.clone().insert(\u0026data).run(\u0026conn).await?;\n\n        let response: Vec\u003cPark\u003e = table\n            .get_intersecting(circle, \"area\")\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response.len() == 1);\n\n        r.table_drop(table_name.as_str()).run(\u0026conn).await?;\n        Ok(())\n    }\n}\n","traces":[{"line":10,"address":[1652381,1651920,1652428],"length":1,"stats":{"Line":1},"fn_name":"new\u003creql_rust::cmd::polygon::Polygon\u003e"},{"line":11,"address":[1651968,1652073],"length":1,"stats":{"Line":2},"fn_name":null},{"line":13,"address":[1652088,1652356,1652164,1652260],"length":1,"stats":{"Line":4},"fn_name":null},{"line":14,"address":[1652371,1652172,1652301],"length":1,"stats":{"Line":2},"fn_name":null},{"line":15,"address":[1652309],"length":1,"stats":{"Line":1},"fn_name":null},{"line":23,"address":[2174304],"length":1,"stats":{"Line":0},"fn_name":"into_get_intersecting_opts"},{"line":24,"address":[4040712],"length":1,"stats":{"Line":0},"fn_name":null},{"line":32,"address":[2062240],"length":1,"stats":{"Line":1},"fn_name":"into_get_intersecting_opts\u003creql_rust::cmd::polygon::Polygon\u003e"},{"line":33,"address":[2062251],"length":1,"stats":{"Line":1},"fn_name":null},{"line":60,"address":[2047216],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":66,"address":[2048544,2048949,2048997,2048583],"length":1,"stats":{"Line":6},"fn_name":"test_get_intersecting_ops"},{"line":67,"address":[1664173,1663366,1664423],"length":1,"stats":{"Line":2},"fn_name":null},{"line":68,"address":[1664158,1664223],"length":1,"stats":{"Line":2},"fn_name":null},{"line":69,"address":[1664254],"length":1,"stats":{"Line":1},"fn_name":null},{"line":70,"address":[1664313],"length":1,"stats":{"Line":1},"fn_name":null},{"line":71,"address":[1664372],"length":1,"stats":{"Line":1},"fn_name":null},{"line":73,"address":[1664541,1664608],"length":1,"stats":{"Line":2},"fn_name":null},{"line":74,"address":[1663963,1665194,1664635,1664703,1663446],"length":1,"stats":{"Line":4},"fn_name":null},{"line":75,"address":[1665164,1665450],"length":1,"stats":{"Line":2},"fn_name":null},{"line":76,"address":[1665632,1666625,1665667,1666373,1666293,1665790,1665873,1666074,1666350],"length":1,"stats":{"Line":6},"fn_name":null},{"line":77,"address":[1665500,1665534],"length":1,"stats":{"Line":2},"fn_name":null},{"line":78,"address":[6789786],"length":1,"stats":{"Line":6},"fn_name":null},{"line":79,"address":[1666197],"length":1,"stats":{"Line":0},"fn_name":null},{"line":82,"address":[6789640,6789583],"length":1,"stats":{"Line":4},"fn_name":null},{"line":83,"address":[1667547,1668118,1667870,1668319,1667795,1668035,1668527],"length":1,"stats":{"Line":6},"fn_name":null},{"line":85,"address":[1667885,1667592,1667635,1667842],"length":1,"stats":{"Line":2},"fn_name":null},{"line":86,"address":[6789500],"length":1,"stats":{"Line":6},"fn_name":null},{"line":87,"address":[6789557,6789514],"length":1,"stats":{"Line":1},"fn_name":null},{"line":88,"address":[6789474,6789417],"length":1,"stats":{"Line":4},"fn_name":null},{"line":89,"address":[6789394,6789340],"length":1,"stats":{"Line":4},"fn_name":null},{"line":91,"address":[1670263,1670761,1670169,1670560,1671060,1670980,1670477,1670354,1671037,1671303],"length":1,"stats":{"Line":7},"fn_name":null},{"line":92,"address":[1670226],"length":1,"stats":{"Line":1},"fn_name":null},{"line":93,"address":[1663657,1663572,1670516,1670688,1670334,1670377],"length":1,"stats":{"Line":6},"fn_name":null},{"line":94,"address":[1670884],"length":1,"stats":{"Line":0},"fn_name":null},{"line":98,"address":[1671189,1671420,1671468],"length":1,"stats":{"Line":2},"fn_name":null},{"line":100,"address":[1671441,1671551,1663590],"length":1,"stats":{"Line":3},"fn_name":null},{"line":101,"address":[1672477],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":33,"coverable":37},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","get_nearest.rs"],"content":"use std::borrow::Cow;\n\nuse ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::arguments::{Args, Unit};\nuse crate::prelude::Geometry;\nuse crate::types::GeoSystem;\nuse crate::Command;\n\npub(crate) fn new(args: impl GetNearestArg) -\u003e Command {\n    let (arg, opts) = args.into_get_nearest_opts();\n\n    Command::new(TermType::GetNearest)\n        .with_arg(arg)\n        .with_opts(opts)\n}\n\npub trait GetNearestArg {\n    fn into_get_nearest_opts(self) -\u003e (Command, GetNearestOption);\n}\n\nimpl\u003cT: Geometry\u003e GetNearestArg for Args\u003c(T, \u0026str)\u003e {\n    fn into_get_nearest_opts(self) -\u003e (Command, GetNearestOption) {\n        let index_name = GetNearestOption::default().index(self.0 .1.to_owned());\n\n        (self.0 .0.into(), index_name)\n    }\n}\n\nimpl GetNearestArg for Args\u003c(Command, \u0026str)\u003e {\n    fn into_get_nearest_opts(self) -\u003e (Command, GetNearestOption) {\n        let index_name = GetNearestOption::default().index(self.0 .1.to_owned());\n\n        (self.0 .0, index_name)\n    }\n}\n\nimpl\u003cT: Geometry\u003e GetNearestArg for Args\u003c(T, \u0026str, GetNearestOption)\u003e {\n    fn into_get_nearest_opts(self) -\u003e (Command, GetNearestOption) {\n        let index_name = self.0 .2.index(self.0 .1.to_owned());\n\n        (self.0 .0.into(), index_name)\n    }\n}\n\nimpl GetNearestArg for Args\u003c(Command, \u0026str, GetNearestOption)\u003e {\n    fn into_get_nearest_opts(self) -\u003e (Command, GetNearestOption) {\n        let index_name = self.0 .2.index(self.0 .1.to_owned());\n\n        (self.0 .0, index_name)\n    }\n}\n\n#[derive(Debug, Clone, Serialize, Default, CommandOptions)]\npub struct GetNearestOption {\n    pub index: Cow\u003c'static, str\u003e,\n    /// the maximum number of results to return (default 100).\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub max_results: Option\u003cusize\u003e,\n    /// Unit for the distance.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub unit: Option\u003cUnit\u003e,\n    /// distance from an object to the specified point (default 100 km).\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub max_dist: Option\u003cusize\u003e,\n    /// the reference ellipsoid to use for geographic coordinates.\n    /// Possible values are `GeoSystem::WGS84` (the default),\n    /// a common standard for Earths geometry, or `GeoSystem::UnitSphere`,\n    /// a perfect sphere of 1 meter radius.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub geo_system: Option\u003cGeoSystem\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use serde::{Deserialize, Serialize};\n    use uuid::Uuid;\n\n    use crate::cmd::index_create::IndexCreateOption;\n    use crate::cmd::point::Point;\n    use crate::prelude::Converter;\n    use crate::types::ClosestDocumentResponse;\n    use crate::{args, r, Result};\n\n    #[derive(Debug, Serialize, Deserialize, PartialEq)]\n    struct Park {\n        id: u8,\n        area: Point,\n    }\n\n    impl Park {\n        fn new(id: u8, area: Point) -\u003e Self {\n            Self { id, area }\n        }\n    }\n\n    #[tokio::test]\n    async fn test_get_nearest_ops() -\u003e Result\u003c()\u003e {\n        let data = vec![\n            Park::new(1, r.point(-121.886420, 37.329898)),\n            Park::new(2, r.point(-117.220406, 32.719464)),\n            Park::new(3, r.point(-122.422876, 37.777128)),\n            Park::new(4, r.point(-122.423246, 37.779388)),\n        ];\n        let table_name = Uuid::new_v4().to_string();\n        let conn = r.connection().connect().await?;\n        let table = r.table(table_name.as_str());\n        r.table_create(table_name.as_str()).run(\u0026conn).await?;\n        table\n            .clone()\n            .index_create((\"area\", IndexCreateOption::default().geo(true)))\n            .run(\u0026conn)\n            .await?;\n        table.clone().index_wait(()).run(\u0026conn).await?;\n        table.clone().insert(\u0026data).run(\u0026conn).await?;\n\n        let secret_base = r.point(-122.422876, 37.777128);\n        let response: Vec\u003cClosestDocumentResponse\u003cPark\u003e\u003e = table\n            .get_nearest(args!(secret_base, \"area\"))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response.len() \u003e 0);\n\n        r.table_drop(table_name.as_str()).run(\u0026conn).await?;\n        Ok(())\n    }\n}\n","traces":[{"line":12,"address":[4535168,4535675],"length":1,"stats":{"Line":1},"fn_name":"new\u003creql_rust::arguments::Args\u003c(reql_rust::cmd::point::Point, \u0026str)\u003e\u003e"},{"line":13,"address":[4535185],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[4535363,4535612,4535496],"length":1,"stats":{"Line":3},"fn_name":null},{"line":16,"address":[4535437],"length":1,"stats":{"Line":1},"fn_name":null},{"line":17,"address":[4535508],"length":1,"stats":{"Line":1},"fn_name":null},{"line":25,"address":[1818037,1817900,1817616],"length":1,"stats":{"Line":1},"fn_name":"into_get_nearest_opts\u003creql_rust::cmd::point::Point\u003e"},{"line":26,"address":[1817890,1817638,1817720],"length":1,"stats":{"Line":2},"fn_name":null},{"line":28,"address":[1817831,1817948],"length":1,"stats":{"Line":2},"fn_name":null},{"line":33,"address":[6661891,6661568],"length":1,"stats":{"Line":0},"fn_name":"into_get_nearest_opts"},{"line":34,"address":[6661589,6661649,6661881],"length":1,"stats":{"Line":0},"fn_name":null},{"line":36,"address":[6661769],"length":1,"stats":{"Line":0},"fn_name":null},{"line":41,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":42,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":44,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":49,"address":[6661920,6662274],"length":1,"stats":{"Line":0},"fn_name":"into_get_nearest_opts"},{"line":50,"address":[6662267,6661944],"length":1,"stats":{"Line":0},"fn_name":null},{"line":52,"address":[6662144],"length":1,"stats":{"Line":0},"fn_name":null},{"line":94,"address":[2047296],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":100,"address":[2050085,2049632,2049671,2050037],"length":1,"stats":{"Line":6},"fn_name":"test_get_nearest_ops"},{"line":101,"address":[4429608,4429358,4428630],"length":1,"stats":{"Line":2},"fn_name":null},{"line":102,"address":[4429343,4429408],"length":1,"stats":{"Line":2},"fn_name":null},{"line":103,"address":[4429439],"length":1,"stats":{"Line":1},"fn_name":null},{"line":104,"address":[4429498],"length":1,"stats":{"Line":1},"fn_name":null},{"line":105,"address":[4429557],"length":1,"stats":{"Line":1},"fn_name":null},{"line":107,"address":[4429726,4429793],"length":1,"stats":{"Line":2},"fn_name":null},{"line":108,"address":[6774063],"length":1,"stats":{"Line":4},"fn_name":null},{"line":109,"address":[4430349,4430623],"length":1,"stats":{"Line":2},"fn_name":null},{"line":110,"address":[6773818,6773875],"length":1,"stats":{"Line":4},"fn_name":null},{"line":111,"address":[4431452,4431751,4431993,4432402,4431676,4432194,4431916],"length":1,"stats":{"Line":6},"fn_name":null},{"line":113,"address":[4431540,4431723,4431497,4431766],"length":1,"stats":{"Line":2},"fn_name":null},{"line":114,"address":[6773735],"length":1,"stats":{"Line":6},"fn_name":null},{"line":115,"address":[4432432,4432284],"length":1,"stats":{"Line":1},"fn_name":null},{"line":116,"address":[6773709,6773652],"length":1,"stats":{"Line":4},"fn_name":null},{"line":117,"address":[4428787,4433248,4428944,4433318],"length":1,"stats":{"Line":4},"fn_name":null},{"line":119,"address":[4434048],"length":1,"stats":{"Line":1},"fn_name":null},{"line":120,"address":[4434968,4435025,4434348,4434088,4435048,4434548,4435288,4434286,4434471,4434749],"length":1,"stats":{"Line":7},"fn_name":null},{"line":121,"address":[4434131],"length":1,"stats":{"Line":1},"fn_name":null},{"line":122,"address":[4428893,4434328,4434504,4428808,4434371,4434676],"length":1,"stats":{"Line":6},"fn_name":null},{"line":123,"address":[4434872],"length":1,"stats":{"Line":0},"fn_name":null},{"line":127,"address":[4435444,4435177,4435402],"length":1,"stats":{"Line":2},"fn_name":null},{"line":129,"address":[4435423,4435518,4428826],"length":1,"stats":{"Line":3},"fn_name":null},{"line":130,"address":[2050048,2049663,2049768,2049708],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":32,"coverable":42},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","get_write_hook.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::GetWriteHook)\n}\n\n// WriteHookResponse\n\n// TODO Write test\n","traces":[{"line":5,"address":[2719376],"length":1,"stats":{"Line":0},"fn_name":"new"},{"line":6,"address":[2719388],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":2},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","grant.rs"],"content":"use ql2::term::TermType;\n\nuse crate::arguments::Permission;\nuse crate::Command;\n\npub(crate) fn new(username: \u0026str, permission: Permission) -\u003e Command {\n    Command::new(TermType::Grant)\n        .with_arg(Command::from_json(username))\n        .with_arg(Command::from_json(permission))\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::arguments::Permission;\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::{ConfigChange, GrantChangeValue, GrantResponse};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_grant_permission() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(false).await?;\n        let expected = GrantResponse {\n            granted: 1,\n            permissions_changes: vec![ConfigChange {\n                old_val: None,\n                new_val: Some(GrantChangeValue {\n                    write: Some(true),\n                    read: Some(true),\n                    config: None,\n                    connect: None,\n                }),\n            }],\n        };\n        let permissions = Permission::default().read(true).write(true);\n        // TODO Replace current user when test user should be created\n        let response: GrantResponse = table\n            .grant(\"bob\", permissions)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response == expected);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":6,"address":[3069340,3069370,3069088],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":7,"address":[2767414,2767536,2767713],"length":1,"stats":{"Line":3},"fn_name":null},{"line":8,"address":[2767576,2767479,2767644],"length":1,"stats":{"Line":2},"fn_name":null},{"line":9,"address":[2686102,2686118,2686026,2685944],"length":1,"stats":{"Line":2},"fn_name":null},{"line":21,"address":[7012080,7012793,7012112,7012275,7012501,7012089,7012181],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":22,"address":[7012804,7012243,7012305,7012458,7013188,7012626],"length":1,"stats":{"Line":4},"fn_name":null},{"line":25,"address":[7013560,7013170],"length":1,"stats":{"Line":2},"fn_name":null},{"line":35,"address":[7013714,7013655],"length":1,"stats":{"Line":2},"fn_name":null},{"line":37,"address":[7014688,7014591,7014177,7013839,7014372,7014922,7014648,7013983,7014100,7013897],"length":1,"stats":{"Line":7},"fn_name":null},{"line":38,"address":[7013883],"length":1,"stats":{"Line":1},"fn_name":null},{"line":39,"address":[6761500],"length":1,"stats":{"Line":5},"fn_name":null},{"line":40,"address":[7014495],"length":1,"stats":{"Line":0},"fn_name":null},{"line":44,"address":[7015122,7015176,7014808],"length":1,"stats":{"Line":2},"fn_name":null},{"line":46,"address":[4768704,4768424,4768319,4768364],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":13,"coverable":14},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","group.rs"],"content":"use std::borrow::Cow;\n\nuse ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::prelude::Func;\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl GroupArg) -\u003e Command {\n    let (args, opts) = args.into_group_opts();\n\n    args.add_to_cmd(Command::new(TermType::Group))\n        .with_opts(opts)\n}\n\npub trait GroupArg {\n    fn into_group_opts(self) -\u003e (CmdOpts, GroupOption);\n}\n\nimpl GroupArg for \u0026str {\n    fn into_group_opts(self) -\u003e (CmdOpts, GroupOption) {\n        let arg = Command::from_json(self);\n\n        (CmdOpts::Single(arg), Default::default())\n    }\n}\n\nimpl GroupArg for Vec\u003c\u0026str\u003e {\n    fn into_group_opts(self) -\u003e (CmdOpts, GroupOption) {\n        let args = self.into_iter().map(Command::from_json).collect();\n\n        (CmdOpts::Many(args), Default::default())\n    }\n}\n\nimpl GroupArg for Func {\n    fn into_group_opts(self) -\u003e (CmdOpts, GroupOption) {\n        (CmdOpts::Single(self.0), Default::default())\n    }\n}\n\nimpl GroupArg for (\u0026str, GroupOption) {\n    fn into_group_opts(self) -\u003e (CmdOpts, GroupOption) {\n        let arg = Command::from_json(self.0);\n\n        (CmdOpts::Single(arg), self.1)\n    }\n}\n\nimpl GroupArg for (Vec\u003c\u0026str\u003e, GroupOption) {\n    fn into_group_opts(self) -\u003e (CmdOpts, GroupOption) {\n        let args = self.0.into_iter().map(Command::from_json).collect();\n\n        (CmdOpts::Many(args), self.1)\n    }\n}\n\nimpl GroupArg for (Func, GroupOption) {\n    fn into_group_opts(self) -\u003e (CmdOpts, GroupOption) {\n        let Func(func) = self.0;\n\n        (CmdOpts::Single(func), self.1)\n    }\n}\n\n#[derive(Debug, Clone, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct GroupOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub index: Option\u003cCow\u003c'static, str\u003e\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub multi: Option\u003cbool\u003e,\n}\n\n// GroupStream\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::types::GroupStream;\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_group_data() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: GroupStream\u003cString, Post\u003e =\n            table.group(\"title\").run(\u0026conn).await?.unwrap().parse()?;\n\n        let data_obtained = data_obtained.collect();\n\n        assert!(data_obtained.len() == 4);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":12,"address":[4373936,4374385,4374474],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":13,"address":[4373969],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[4374127,4374351,4374378],"length":1,"stats":{"Line":2},"fn_name":null},{"line":16,"address":[4374279],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[2800416,2800661],"length":1,"stats":{"Line":1},"fn_name":"into_group_opts"},{"line":25,"address":[2882097],"length":1,"stats":{"Line":1},"fn_name":null},{"line":27,"address":[2882148],"length":1,"stats":{"Line":1},"fn_name":null},{"line":32,"address":[4438448,4438722],"length":1,"stats":{"Line":0},"fn_name":"into_group_opts"},{"line":33,"address":[4438464],"length":1,"stats":{"Line":0},"fn_name":null},{"line":35,"address":[4438536],"length":1,"stats":{"Line":0},"fn_name":null},{"line":40,"address":[2746080,2746278],"length":1,"stats":{"Line":0},"fn_name":"into_group_opts"},{"line":41,"address":[2746131],"length":1,"stats":{"Line":0},"fn_name":null},{"line":46,"address":[2800688,2800935],"length":1,"stats":{"Line":0},"fn_name":"into_group_opts"},{"line":47,"address":[2800713],"length":1,"stats":{"Line":0},"fn_name":null},{"line":49,"address":[2800777],"length":1,"stats":{"Line":0},"fn_name":null},{"line":54,"address":[4438752,4439079],"length":1,"stats":{"Line":0},"fn_name":"into_group_opts"},{"line":55,"address":[4438773,4438864],"length":1,"stats":{"Line":0},"fn_name":null},{"line":57,"address":[4438892],"length":1,"stats":{"Line":0},"fn_name":null},{"line":62,"address":[7018928],"length":1,"stats":{"Line":0},"fn_name":"into_group_opts"},{"line":63,"address":[7018950],"length":1,"stats":{"Line":0},"fn_name":null},{"line":65,"address":[2746341],"length":1,"stats":{"Line":0},"fn_name":null},{"line":87,"address":[1712885,1712480,1712933,1712519],"length":1,"stats":{"Line":6},"fn_name":"test_group_data"},{"line":88,"address":[4759119,4758547,4759563,4758773,4758941,4758620],"length":1,"stats":{"Line":4},"fn_name":null},{"line":89,"address":[4758724,4760731,4760537,4759820,4759503,4758641],"length":1,"stats":{"Line":5},"fn_name":null},{"line":92,"address":[4760669],"length":1,"stats":{"Line":1},"fn_name":null},{"line":94,"address":[4761033,4761095,4761156],"length":1,"stats":{"Line":2},"fn_name":null},{"line":96,"address":[1712511,1712616,1712896,1712556],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":13,"coverable":27},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","gt.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::arguments::Args;\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl GtArg) -\u003e Command {\n    args.into_gt_opts().add_to_cmd(Command::new(TermType::Gt))\n}\n\npub trait GtArg {\n    fn into_gt_opts(self) -\u003e CmdOpts;\n}\n\nimpl\u003cT: Serialize\u003e GtArg for T {\n    fn into_gt_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(Command::from_json(self))\n    }\n}\n\nimpl\u003cT: Serialize\u003e GtArg for Args\u003cVec\u003cT\u003e\u003e {\n    fn into_gt_opts(self) -\u003e CmdOpts {\n        let commands = self.0.iter().map(Command::from_json).collect();\n\n        CmdOpts::Many(commands)\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::{args, r, Result};\n\n    #[tokio::test]\n    async fn test_gt_data() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: bool = table\n            .get(1)\n            .g(\"view\")\n            .gt(5)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained);\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_gt_data_r() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let data_obtained: bool = r\n            .gt(args!(vec![7, 6, 5]))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained);\n\n        Ok(())\n    }\n}\n","traces":[{"line":9,"address":[2391844,2391817,2391624,2391648,2391597,2391392],"length":1,"stats":{"Line":2},"fn_name":"new\u003creql_rust::arguments::Args\u003calloc::vec::Vec\u003ci32, alloc::alloc::Global\u003e\u003e\u003e"},{"line":10,"address":[2391837,2391408,2391617,2391671],"length":1,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":19,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":25,"address":[],"length":0,"stats":{"Line":2},"fn_name":null},{"line":27,"address":[1818237],"length":1,"stats":{"Line":1},"fn_name":null},{"line":38,"address":[6687461,6687047,6687413,6687008],"length":1,"stats":{"Line":6},"fn_name":"test_gt_data"},{"line":39,"address":[7039581,7039428,7039749,7039363,7039927,7040364],"length":1,"stats":{"Line":4},"fn_name":null},{"line":40,"address":[7041393,7040878,7041583,7040597,7040801,7041349,7041292,7040311,7041073],"length":1,"stats":{"Line":6},"fn_name":null},{"line":44,"address":[7040834,7039532,7040707,7041006,7039449],"length":1,"stats":{"Line":5},"fn_name":null},{"line":45,"address":[7041196],"length":1,"stats":{"Line":0},"fn_name":null},{"line":49,"address":[7041472,7041786],"length":1,"stats":{"Line":1},"fn_name":null},{"line":51,"address":[7042064,7042116,7042250,7041743,7041880,7039467,7042004],"length":1,"stats":{"Line":7},"fn_name":null},{"line":55,"address":[6687504,6687543,6687909,6687957],"length":1,"stats":{"Line":6},"fn_name":"test_gt_data_r"},{"line":56,"address":[7042764,7043114,7042693,7042659,7042925,7043382],"length":1,"stats":{"Line":4},"fn_name":null},{"line":57,"address":[7043912,7043841,7043698,7044316,7044600,7044373,7044410,7043730,7044097],"length":1,"stats":{"Line":6},"fn_name":null},{"line":58,"address":[7043367,7043610],"length":1,"stats":{"Line":2},"fn_name":null},{"line":59,"address":[6858105],"length":1,"stats":{"Line":5},"fn_name":null},{"line":60,"address":[7044220],"length":1,"stats":{"Line":0},"fn_name":null},{"line":64,"address":[7044489,7044712],"length":1,"stats":{"Line":1},"fn_name":null},{"line":66,"address":[6687920,6687580,6687640,6687535],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":20,"coverable":22},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","has_fields.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(selector: impl Serialize) -\u003e Command {\n    let arg = Command::from_json(selector);\n\n    Command::new(TermType::HasFields).with_arg(arg)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_has_fields() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: bool = table\n            .get(1)\n            .has_fields(\"title\")\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":6,"address":[4353551,4353312,4353524],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":7,"address":[4353345],"length":1,"stats":{"Line":1},"fn_name":null},{"line":9,"address":[4353438,4353371],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[2256023,2256437,2255984,2256389],"length":1,"stats":{"Line":6},"fn_name":"test_has_fields"},{"line":20,"address":[4100988,4100052,4100205,4100551,4100373,4099987],"length":1,"stats":{"Line":4},"fn_name":null},{"line":21,"address":[4101888,4101474,4100935,4101397,4102179,4101221,4101945,4101989,4101669],"length":1,"stats":{"Line":6},"fn_name":null},{"line":24,"address":[4101303,4101602,4100156,4100073,4101430],"length":1,"stats":{"Line":5},"fn_name":null},{"line":25,"address":[4101792],"length":1,"stats":{"Line":0},"fn_name":null},{"line":29,"address":[4102382,4102068],"length":1,"stats":{"Line":1},"fn_name":null},{"line":31,"address":[2256400,2256015,2256060,2256120],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":9,"coverable":10},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","hash_map.rs"],"content":"use std::collections::HashMap;\n\nuse ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new\u003cT\u003e(args: HashMap\u003cT, Command\u003e) -\u003e Command\nwhere\n    T: Into\u003cString\u003e,\n{\n    args.into_iter()\n        .flat_map(|(key, value)| [Command::from_json(key.into()), value])\n        .fold(Command::new(TermType::Object), |command, arg| {\n            command.with_arg(arg)\n        })\n}\n","traces":[{"line":7,"address":[5126179,5126206,5125968],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":11,"address":[5125985,5126130],"length":1,"stats":{"Line":2},"fn_name":null},{"line":12,"address":[5126224,5126262,5126050],"length":1,"stats":{"Line":3},"fn_name":"{closure#0}\u003c\u0026str\u003e"},{"line":13,"address":[5126058,5126528],"length":1,"stats":{"Line":2},"fn_name":"{closure#1}\u003c\u0026str\u003e"},{"line":14,"address":[5126569],"length":1,"stats":{"Line":1},"fn_name":null}],"covered":5,"coverable":5},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","hours.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Hours)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_hours_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let hours = r.now().hours();\n        let hours1 = hours.clone().value();\n        let hours2: u8 = hours.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(hours1 == hours2);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2719424],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2719436],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[1537081,1537158,1537594,1536992,1537295,1537024,1537001],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":16,"address":[1537255,1537136,1537416,1537605,1537866,1537182],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[1537856,1538112],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[1538203,1538140],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[1539142,1537197,1538247,1539047,1538334],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[1539121,1539335],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[1539305],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":9,"coverable":9},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","http.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::arguments::Args;\nuse crate::Command;\n\npub(crate) fn new\u003cT\u003e(args: impl HttpArg\u003cT\u003e) -\u003e Command\nwhere\n    T: Serialize,\n{\n    let (arg, opts) = args.into_http_opts();\n    let mut command = Command::new(TermType::Http).with_arg(arg);\n\n    if let Some(opts) = opts {\n        command = command.with_opts(opts);\n    }\n\n    command\n}\n\npub trait HttpArg\u003cT: Serialize\u003e {\n    fn into_http_opts(self) -\u003e (Command, Option\u003cT\u003e);\n}\n\nimpl\u003cT\u003e HttpArg\u003cT\u003e for T\nwhere\n    T: Into\u003cString\u003e + Serialize,\n{\n    fn into_http_opts(self) -\u003e (Command, Option\u003cT\u003e) {\n        (Command::from_json(self.into()), None)\n    }\n}\n\nimpl\u003cS, T\u003e HttpArg\u003cT\u003e for Args\u003c(S, T)\u003e\nwhere\n    S: Into\u003cString\u003e,\n    T: Serialize,\n{\n    fn into_http_opts(self) -\u003e (Command, Option\u003cT\u003e) {\n        (Command::from_json(self.0 .0.into()), Some(self.0 .1))\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use serde_json::json;\n\n    use crate::{args, r, Result};\n\n    #[tokio::test]\n    async fn test_http_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response = r.http(\"http://httpbin.org/get\").run(\u0026conn).await?;\n\n        assert!(response.is_some());\n\n        Ok(())\n    }\n\n    #[tokio::test]\n    async fn test_http_ops_with_params() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response = r\n            .http(args!(\n                \"http://httpbin.org/get\",\n                json!({\n                    \"params\": {\n                        \"user\": 1\n                    }\n                })\n            ))\n            .run(\u0026conn)\n            .await?;\n\n        assert!(response.is_some());\n\n        Ok(())\n    }\n}\n","traces":[{"line":7,"address":[2220176,2221501,2221474,2220869,2220778,2220896],"length":1,"stats":{"Line":2},"fn_name":"new\u003cserde_json::value::Value, reql_rust::arguments::Args\u003c(\u0026str, serde_json::value::Value)\u003e\u003e"},{"line":11,"address":[2220929,2220193],"length":1,"stats":{"Line":2},"fn_name":null},{"line":12,"address":[],"length":0,"stats":{"Line":4},"fn_name":null},{"line":14,"address":[2221407,2220735,2220485,2221191],"length":1,"stats":{"Line":3},"fn_name":null},{"line":15,"address":[],"length":0,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[],"length":0,"stats":{"Line":2},"fn_name":null},{"line":29,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":30,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":39,"address":[1818352,1818680],"length":1,"stats":{"Line":1},"fn_name":"into_http_opts\u003c\u0026str, serde_json::value::Value\u003e"},{"line":40,"address":[],"length":0,"stats":{"Line":2},"fn_name":null},{"line":51,"address":[1552624,1552884,1552601,1553183,1552749,1552681,1552592],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":52,"address":[1552739,1552844,1553467,1553194,1553005,1552773],"length":1,"stats":{"Line":4},"fn_name":null},{"line":53,"address":[1553709,1552788,1553437,1554208],"length":1,"stats":{"Line":3},"fn_name":null},{"line":55,"address":[1554428,1554465,1554194],"length":1,"stats":{"Line":2},"fn_name":null},{"line":57,"address":[1554434],"length":1,"stats":{"Line":5},"fn_name":null},{"line":61,"address":[1554528,1554617,1554560,1554701,1555135,1554836,1554537],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":62,"address":[1554667,1554957,1555146,1554796,1555407,1554725],"length":1,"stats":{"Line":4},"fn_name":null},{"line":63,"address":[1556635,1556891,1556524,1556492,1557099,1556706],"length":1,"stats":{"Line":5},"fn_name":null},{"line":64,"address":[1556369],"length":1,"stats":{"Line":1},"fn_name":null},{"line":66,"address":[1555710,1555834,1555644,1556041,1555397],"length":1,"stats":{"Line":4},"fn_name":null},{"line":72,"address":[1556665,1556504,1556547,1554740,1556834],"length":1,"stats":{"Line":5},"fn_name":null},{"line":73,"address":[1557003,1557129],"length":1,"stats":{"Line":0},"fn_name":null},{"line":75,"address":[1556989,1557260,1557223],"length":1,"stats":{"Line":2},"fn_name":null},{"line":77,"address":[1557229],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":23,"coverable":24},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","in_timezone.rs"],"content":"use ql2::term::TermType;\nuse time::UtcOffset;\n\nuse crate::types::timezone_to_string;\nuse crate::Command;\n\npub(crate) fn new(timezone: UtcOffset) -\u003e Command {\n    Command::new(TermType::InTimezone).with_arg(Command::from_json(timezone_to_string(timezone)))\n}\n\n#[cfg(test)]\nmod tests {\n    use time::macros::offset;\n\n    use crate::prelude::Converter;\n    use crate::types::Time;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_in_timezone_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let date_time = r.now().in_timezone(offset!(-08:00));\n        let time1 = date_time.clone().value();\n        let time2: Time = date_time.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(time1.is_valid());\n        assert!(time2.is_valid());\n\n        Ok(())\n    }\n}\n","traces":[{"line":7,"address":[4481719,4481424,4481692],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":8,"address":[4481712,4481477],"length":1,"stats":{"Line":1},"fn_name":null},{"line":20,"address":[4183295,4182992,4183594,4183158,4183001,4183024,4183081],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":21,"address":[4183255,4183416,4183182,4183866,4183605,4183136],"length":1,"stats":{"Line":4},"fn_name":null},{"line":23,"address":[4184112,4183856],"length":1,"stats":{"Line":2},"fn_name":null},{"line":24,"address":[4184189,4184255],"length":1,"stats":{"Line":2},"fn_name":null},{"line":25,"address":[4184369,4185252,4183197,4184282,4185081],"length":1,"stats":{"Line":4},"fn_name":null},{"line":27,"address":[4185496,4185521,4185231],"length":1,"stats":{"Line":2},"fn_name":null},{"line":28,"address":[4185557,4185510,4185590],"length":1,"stats":{"Line":2},"fn_name":null},{"line":30,"address":[4185563],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":10,"coverable":10},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","includes.rs"],"content":"use ql2::term::TermType;\n\nuse crate::{prelude::Geometry, Command};\n\nuse super::CmdOpts;\n\npub(crate) fn new(geometry: impl IncludesArg) -\u003e Command {\n    geometry\n        .into_includes_opts()\n        .add_to_cmd(Command::new(TermType::Includes))\n}\n\npub trait IncludesArg {\n    fn into_includes_opts(self) -\u003e CmdOpts;\n}\n\nimpl\u003cT: Geometry\u003e IncludesArg for T {\n    fn into_includes_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(self.into())\n    }\n}\n\nimpl IncludesArg for Command {\n    fn into_includes_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(self)\n    }\n}\n\nimpl\u003cT: Geometry\u003e IncludesArg for Vec\u003cT\u003e {\n    fn into_includes_opts(self) -\u003e CmdOpts {\n        CmdOpts::Many(self.into_iter().map(|geo| geo.cmd()).collect())\n    }\n}\n\nimpl IncludesArg for Vec\u003cCommand\u003e {\n    fn into_includes_opts(self) -\u003e CmdOpts {\n        CmdOpts::Many(self)\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{args, r, Result};\n\n    #[tokio::test]\n    async fn test_includes_geo() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let point1 = r.point(-117.220406, 32.719464);\n        let point2 = r.point(-117.206201, 32.725186);\n\n        let response: bool = r\n            .circle(args!(point1, 2000.))\n            .includes(point2)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response);\n\n        Ok(())\n    }\n}\n","traces":[{"line":7,"address":[4533248,4533453,4533480],"length":1,"stats":{"Line":1},"fn_name":"new\u003creql_rust::cmd::point::Point\u003e"},{"line":8,"address":[4533404,4533264],"length":1,"stats":{"Line":2},"fn_name":null},{"line":10,"address":[4533473,4533437,4533333],"length":1,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[1646704],"length":1,"stats":{"Line":1},"fn_name":"into_includes_opts\u003creql_rust::cmd::point::Point\u003e"},{"line":19,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[2255984],"length":1,"stats":{"Line":0},"fn_name":"into_includes_opts"},{"line":25,"address":[2256000],"length":1,"stats":{"Line":0},"fn_name":null},{"line":30,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":31,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":36,"address":[4439120],"length":1,"stats":{"Line":0},"fn_name":"into_includes_opts"},{"line":37,"address":[4439127],"length":1,"stats":{"Line":0},"fn_name":null},{"line":47,"address":[4794181,4793815,4793776,4794229],"length":1,"stats":{"Line":6},"fn_name":"test_includes_geo"},{"line":48,"address":[2668943,2668211,2668666,2668477,2668316,2668245],"length":1,"stats":{"Line":4},"fn_name":null},{"line":49,"address":[2668933],"length":1,"stats":{"Line":1},"fn_name":null},{"line":50,"address":[2669204],"length":1,"stats":{"Line":1},"fn_name":null},{"line":52,"address":[2669431,2669645,2670049,2669341,2670333,2670143,2669830,2670106,2669574,2669463],"length":1,"stats":{"Line":7},"fn_name":null},{"line":53,"address":[2669211],"length":1,"stats":{"Line":1},"fn_name":null},{"line":54,"address":[2669375],"length":1,"stats":{"Line":1},"fn_name":null},{"line":55,"address":[2669773,2668260,2669443,2669604,2669486],"length":1,"stats":{"Line":5},"fn_name":null},{"line":56,"address":[2669953],"length":1,"stats":{"Line":0},"fn_name":null},{"line":60,"address":[2670426,2670222],"length":1,"stats":{"Line":1},"fn_name":null},{"line":62,"address":[2670400],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":15,"coverable":22},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","index_create.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::prelude::Func;\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl IndexCreateArg) -\u003e Command {\n    let (args, func, opts) = args.into_table_create_opts();\n\n    let mut command = args\n        .add_to_cmd(Command::new(TermType::IndexCreate))\n        .with_opts(opts);\n\n    if let Some(Func(func)) = func {\n        command = command.with_arg(func);\n    }\n\n    command\n}\n\npub trait IndexCreateArg {\n    fn into_table_create_opts(self) -\u003e (CmdOpts, Option\u003cFunc\u003e, IndexCreateOption);\n}\n\nimpl IndexCreateArg for \u0026str {\n    fn into_table_create_opts(self) -\u003e (CmdOpts, Option\u003cFunc\u003e, IndexCreateOption) {\n        let arg = Command::from_json(self);\n\n        (CmdOpts::Single(arg), None, Default::default())\n    }\n}\n\nimpl IndexCreateArg for (\u0026str, Func) {\n    fn into_table_create_opts(self) -\u003e (CmdOpts, Option\u003cFunc\u003e, IndexCreateOption) {\n        let arg = Command::from_json(self.0);\n\n        (CmdOpts::Single(arg), Some(self.1), Default::default())\n    }\n}\n\nimpl IndexCreateArg for (\u0026str, IndexCreateOption) {\n    fn into_table_create_opts(self) -\u003e (CmdOpts, Option\u003cFunc\u003e, IndexCreateOption) {\n        let arg = Command::from_json(self.0);\n\n        (CmdOpts::Single(arg), None, self.1)\n    }\n}\n\nimpl IndexCreateArg for (\u0026str, Func, IndexCreateOption) {\n    fn into_table_create_opts(self) -\u003e (CmdOpts, Option\u003cFunc\u003e, IndexCreateOption) {\n        let arg = Command::from_json(self.0);\n\n        (CmdOpts::Single(arg), Some(self.1), self.2)\n    }\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct IndexCreateOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub multi: Option\u003cbool\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub geo: Option\u003cbool\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use uuid::Uuid;\n\n    use crate::prelude::*;\n    use crate::types::IndexResponse;\n    use crate::{r, Command, Result, Session};\n\n    use super::IndexCreateOption;\n\n    #[tokio::test]\n    async fn test_create_index() -\u003e Result\u003c()\u003e {\n        let table_name = Uuid::new_v4().to_string();\n        let conn = r.connection().connect().await?;\n        let index_created = r.table(table_name.as_str()).index_create(\"author\");\n\n        setup(\u0026table_name, index_created, \u0026conn).await\n    }\n\n    #[tokio::test]\n    async fn test_create_index_with_options() -\u003e Result\u003c()\u003e {\n        let table_name = Uuid::new_v4().to_string();\n        let conn = r.connection().connect().await?;\n        let index_option = IndexCreateOption::default().multi(true);\n        let index_created = r\n            .table(table_name.as_str())\n            .index_create((\"author\", index_option));\n\n        setup(\u0026table_name, index_created, \u0026conn).await\n    }\n\n    /* #[tokio::test]\n    async fn test_create_index_with_func() -\u003e Result\u003c()\u003e {\n        let table_name = Uuid::new_v4().to_string();\n        let conn = r.connection().connect().await?;\n        let index_created = r\n            .table(table_name.as_str())\n            .index_create((\"author\", func!(|row| row.bracket(\"author\").bracket(\"name\"))));\n\n        setup(\u0026table_name, index_created, \u0026conn).await\n    }\n\n    #[tokio::test]\n    async fn test_create_index_with_func_and_options() -\u003e Result\u003c()\u003e {\n        let table_name = Uuid::new_v4().to_string();\n        let conn = r.connection().connect().await?;\n        let index_option = IndexCreateOption::default().multi(true);\n        let index_created = r.table(table_name.as_str()).index_create((\n            \"author\",\n            func!(|row| row.bracket(\"author\").bracket(\"name\")),\n            index_option,\n        ));\n\n        setup(\u0026table_name, index_created, \u0026conn).await\n    } */\n\n    async fn setup(table_name: \u0026str, index_created: Command, conn: \u0026Session) -\u003e Result\u003c()\u003e {\n        r.table_create(table_name).run(conn).await?;\n\n        let index_created: IndexResponse = index_created.run(conn).await?.unwrap().parse()?;\n\n        assert!(index_created.created \u003e Some(0));\n\n        r.table_drop(table_name).run(conn).await?;\n        Ok(())\n    }\n}\n","traces":[{"line":10,"address":[4460090,4458320,4459680,4459232,4458795,4459203],"length":1,"stats":{"Line":2},"fn_name":"new\u003c(\u0026str, reql_rust::cmd::index_create::IndexCreateOption)\u003e"},{"line":11,"address":[4458337,4459265],"length":1,"stats":{"Line":2},"fn_name":null},{"line":13,"address":[4459594,4459539,4458709,4458557,4458654,4459442],"length":1,"stats":{"Line":6},"fn_name":null},{"line":14,"address":[4459586,4459468,4459673,4458583,4458788,4458701],"length":1,"stats":{"Line":4},"fn_name":null},{"line":17,"address":[4459713,4458828,4459088,4459975],"length":1,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[4459062,4459834,4459949,4458948],"length":1,"stats":{"Line":0},"fn_name":null},{"line":21,"address":[4459896,4459009],"length":1,"stats":{"Line":2},"fn_name":null},{"line":29,"address":[4574997,4574720,4575023],"length":1,"stats":{"Line":1},"fn_name":"into_table_create_opts"},{"line":30,"address":[4574753],"length":1,"stats":{"Line":1},"fn_name":null},{"line":32,"address":[4574802,4575016],"length":1,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[7019555,7019136,7019526],"length":1,"stats":{"Line":0},"fn_name":"into_table_create_opts"},{"line":38,"address":[7019161],"length":1,"stats":{"Line":0},"fn_name":null},{"line":40,"address":[7019276,7019545],"length":1,"stats":{"Line":0},"fn_name":null},{"line":45,"address":[4575040],"length":1,"stats":{"Line":1},"fn_name":"into_table_create_opts"},{"line":46,"address":[4575065],"length":1,"stats":{"Line":1},"fn_name":null},{"line":48,"address":[4575082],"length":1,"stats":{"Line":1},"fn_name":null},{"line":53,"address":[7019917,7019600],"length":1,"stats":{"Line":0},"fn_name":"into_table_create_opts"},{"line":54,"address":[7019625],"length":1,"stats":{"Line":0},"fn_name":null},{"line":56,"address":[7019681],"length":1,"stats":{"Line":0},"fn_name":null},{"line":79,"address":[6643735,6643696,6644149,6644101],"length":1,"stats":{"Line":6},"fn_name":"test_create_index"},{"line":80,"address":[2568134,2568404],"length":1,"stats":{"Line":2},"fn_name":null},{"line":81,"address":[6767585],"length":1,"stats":{"Line":4},"fn_name":null},{"line":82,"address":[2568913,2569203],"length":1,"stats":{"Line":2},"fn_name":null},{"line":84,"address":[2568192,2569530,2569467,2569250,2569337,2569654],"length":1,"stats":{"Line":8},"fn_name":null},{"line":88,"address":[2570081,2569904,2570237,2570634,2569913,2569936,2570005],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":89,"address":[2570362,2570059],"length":1,"stats":{"Line":2},"fn_name":null},{"line":90,"address":[2570441,2570111,2570928,2570645,2570377,2570194],"length":1,"stats":{"Line":4},"fn_name":null},{"line":91,"address":[2570904,2571209],"length":1,"stats":{"Line":2},"fn_name":null},{"line":92,"address":[2571428,2571342],"length":1,"stats":{"Line":2},"fn_name":null},{"line":93,"address":[2571295],"length":1,"stats":{"Line":1},"fn_name":null},{"line":94,"address":[2571363],"length":1,"stats":{"Line":1},"fn_name":null},{"line":96,"address":[2570129,2571892,2571539,2571762,2571690,2571443],"length":1,"stats":{"Line":8},"fn_name":null},{"line":124,"address":[2565066,2564656,2564866,2565841,2565942,2567809,2564699,2565362,2567958],"length":1,"stats":{"Line":5},"fn_name":"{async_fn#0}"},{"line":125,"address":[2564893,2565158,2564834,2565373,2565026],"length":1,"stats":{"Line":4},"fn_name":null},{"line":127,"address":[2566000,2564981,2566837,2564908,2565864,2566656],"length":1,"stats":{"Line":5},"fn_name":null},{"line":129,"address":[2566816,2567024,2567064],"length":1,"stats":{"Line":2},"fn_name":null},{"line":131,"address":[2564923,2567035,2567128],"length":1,"stats":{"Line":3},"fn_name":null},{"line":132,"address":[2567946],"length":1,"stats":{"Line":1},"fn_name":null}],"covered":31,"coverable":38},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","index_drop.rs"],"content":"use crate::Command;\nuse ql2::term::TermType;\n\npub(crate) fn new(index_name: \u0026str) -\u003e Command {\n    let args = Command::from_json(index_name);\n\n    Command::new(TermType::IndexDrop).with_arg(args)\n}\n\n#[cfg(test)]\nmod tests {\n    use uuid::Uuid;\n\n    use crate::prelude::*;\n    use crate::types::IndexResponse;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_drop_db() -\u003e Result\u003c()\u003e {\n        let table_name = Uuid::new_v4().to_string();\n        let index_name = \"author\";\n        let conn = r.connection().connect().await?;\n        let table = r.table(table_name.as_str());\n\n        r.table_create(table_name.as_str()).run(\u0026conn).await?;\n        table.clone().index_create(index_name).run(\u0026conn).await?;\n\n        let index_dropped: IndexResponse = table\n            .index_drop(index_name)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(index_dropped.dropped \u003e Some(0));\n\n        r.table_drop(table_name.as_str()).run(\u0026conn).await?;\n        Ok(())\n    }\n}\n","traces":[{"line":4,"address":[2313408,2313377,2313152],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":5,"address":[2313185],"length":1,"stats":{"Line":1},"fn_name":null},{"line":7,"address":[2313287,2313212],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[4110643,4110457,4110448,4110549,4110480,4111017,4111450],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":20,"address":[4110614,4111145],"length":1,"stats":{"Line":2},"fn_name":null},{"line":21,"address":[4111160],"length":1,"stats":{"Line":1},"fn_name":null},{"line":22,"address":[4110974,4110673,4111254,4111461,4111752,4111187],"length":1,"stats":{"Line":4},"fn_name":null},{"line":23,"address":[4112004,4111726],"length":1,"stats":{"Line":2},"fn_name":null},{"line":25,"address":[6886765,6886708],"length":1,"stats":{"Line":4},"fn_name":null},{"line":26,"address":[4112841,4112918,4110715,4110872],"length":1,"stats":{"Line":4},"fn_name":null},{"line":28,"address":[4113656,4113723,4114462,4113785,4113985,4114485,4113908,4114405,4114186,4114762],"length":1,"stats":{"Line":7},"fn_name":null},{"line":29,"address":[4113707],"length":1,"stats":{"Line":1},"fn_name":null},{"line":30,"address":[4110821,4114113,4113765,4113808,4110736,4113941],"length":1,"stats":{"Line":6},"fn_name":null},{"line":31,"address":[4114309],"length":1,"stats":{"Line":0},"fn_name":null},{"line":35,"address":[4114884,4114645,4114853],"length":1,"stats":{"Line":2},"fn_name":null},{"line":37,"address":[4114961,4114867,4110754],"length":1,"stats":{"Line":3},"fn_name":null},{"line":38,"address":[4115777],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":16,"coverable":17},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","index_list.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::IndexList)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::*;\n    use crate::spec::{set_up, tear_down};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_list_index() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(false).await?;\n        table.clone().index_create(\"author\").run(\u0026conn).await?;\n        let index_list: Vec\u003cString\u003e = table\n            .clone()\n            .index_list()\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(index_list.len() \u003e 0);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":5,"address":[2719472],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2719484],"length":1,"stats":{"Line":1},"fn_name":null},{"line":16,"address":[2256885,2256480,2256933,2256519],"length":1,"stats":{"Line":6},"fn_name":"test_list_index"},{"line":17,"address":[7000003,6999416,6998958,6999245,6999016,6999597],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[6755988,6756042],"length":1,"stats":{"Line":4},"fn_name":null},{"line":19,"address":[7002078,7001097,7001834,7001811,7001334,7001009,7001754,7001535,7001251],"length":1,"stats":{"Line":6},"fn_name":null},{"line":22,"address":[6755865],"length":1,"stats":{"Line":5},"fn_name":null},{"line":23,"address":[7001658],"length":1,"stats":{"Line":0},"fn_name":null},{"line":27,"address":[7002314,7001963,7002378],"length":1,"stats":{"Line":2},"fn_name":null},{"line":29,"address":[2256511,2256896,2256556,2256616],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":9,"coverable":10},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","index_rename.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl IndexRenameArg) -\u003e Command {\n    let (old_index_arg, new_index_arg, opts) = args.into_index_rename_opts();\n    let arg_1: Option\u003cCommand\u003e = old_index_arg.into();\n    let arg_2: Option\u003cCommand\u003e = new_index_arg.into();\n\n    Command::new(TermType::IndexRename)\n        .with_arg(arg_1.unwrap())\n        .with_arg(arg_2.unwrap())\n        .with_opts(opts)\n}\n\npub trait IndexRenameArg {\n    fn into_index_rename_opts(self) -\u003e (CmdOpts, CmdOpts, IndexRenameOption);\n}\n\nimpl IndexRenameArg for (\u0026str, \u0026str) {\n    fn into_index_rename_opts(self) -\u003e (CmdOpts, CmdOpts, IndexRenameOption) {\n        let old_arg = Command::from_json(self.0);\n        let new_arg = Command::from_json(self.1);\n\n        (\n            CmdOpts::Single(old_arg),\n            CmdOpts::Single(new_arg),\n            Default::default(),\n        )\n    }\n}\n\nimpl IndexRenameArg for (\u0026str, \u0026str, IndexRenameOption) {\n    fn into_index_rename_opts(self) -\u003e (CmdOpts, CmdOpts, IndexRenameOption) {\n        let old_arg = Command::from_json(self.0);\n        let new_arg = Command::from_json(self.1);\n\n        (CmdOpts::Single(old_arg), CmdOpts::Single(new_arg), self.2)\n    }\n}\n\n#[derive(Debug, Default, Clone, PartialEq, Serialize, CommandOptions)]\n#[non_exhaustive]\npub struct IndexRenameOption {\n    pub overwrite: Option\u003cbool\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::*;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::IndexResponse;\n    use crate::Result;\n\n    use super::IndexRenameOption;\n\n    #[tokio::test]\n    async fn test_rename_index() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(false).await?;\n        table.clone().index_create(\"author\").run(\u0026conn).await?;\n        let index_renamed: IndexResponse = table\n            .clone()\n            .index_rename((\"author\", \"author_name\"))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(index_renamed.renamed \u003e Some(0));\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_rename_index_with_overwrite() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(false).await?;\n        table.clone().index_create(\"author\").run(\u0026conn).await?;\n        table.clone().index_create(\"author_name\").run(\u0026conn).await?;\n\n        let index_renamed: IndexResponse = table\n            .clone()\n            .index_rename((\n                \"author\",\n                \"author_name\",\n                IndexRenameOption::default().overwrite(true),\n            ))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(index_renamed.renamed \u003e Some(0));\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":9,"address":[1637088,1638091,1636016,1637050,1637843,1636802],"length":1,"stats":{"Line":2},"fn_name":"new\u003c(\u0026str, \u0026str)\u003e"},{"line":10,"address":[1636033,1637105],"length":1,"stats":{"Line":2},"fn_name":null},{"line":11,"address":[1637395,1636352,1636268,1637311],"length":1,"stats":{"Line":4},"fn_name":null},{"line":12,"address":[1637403,1637504,1636360,1636461],"length":1,"stats":{"Line":4},"fn_name":null},{"line":14,"address":[1637702,1637512,1637947,1636469,1637891,1636659,1636850,1636540,1636906,1637583],"length":1,"stats":{"Line":10},"fn_name":null},{"line":15,"address":[1637833,1637591,1636698,1636792,1636548,1637741],"length":1,"stats":{"Line":4},"fn_name":null},{"line":16,"address":[1637939,1637854,1637973,1636813,1636898,1637757,1636932,1636714],"length":1,"stats":{"Line":4},"fn_name":null},{"line":25,"address":[2673248,2673696,2673667],"length":1,"stats":{"Line":1},"fn_name":"into_index_rename_opts"},{"line":26,"address":[2673273],"length":1,"stats":{"Line":1},"fn_name":null},{"line":27,"address":[2673311],"length":1,"stats":{"Line":1},"fn_name":null},{"line":30,"address":[2673375],"length":1,"stats":{"Line":1},"fn_name":null},{"line":31,"address":[2673491],"length":1,"stats":{"Line":1},"fn_name":null},{"line":32,"address":[2673530],"length":1,"stats":{"Line":1},"fn_name":null},{"line":38,"address":[2674061,2673728],"length":1,"stats":{"Line":1},"fn_name":"into_index_rename_opts"},{"line":39,"address":[2673753],"length":1,"stats":{"Line":1},"fn_name":null},{"line":40,"address":[2673775],"length":1,"stats":{"Line":1},"fn_name":null},{"line":42,"address":[2673835],"length":1,"stats":{"Line":1},"fn_name":null},{"line":62,"address":[2580453,2580048,2580501,2580087],"length":1,"stats":{"Line":6},"fn_name":"test_rename_index"},{"line":63,"address":[4168632,4168461,4168174,4168232,4168813,4169219],"length":1,"stats":{"Line":4},"fn_name":null},{"line":64,"address":[4169209,4169455,4168410,4168253],"length":1,"stats":{"Line":4},"fn_name":null},{"line":65,"address":[4170612,4170813,4171112,4170225,4170529,4170375,4171089,4171032,4171389],"length":1,"stats":{"Line":6},"fn_name":null},{"line":67,"address":[4170297],"length":1,"stats":{"Line":1},"fn_name":null},{"line":68,"address":[6768005],"length":1,"stats":{"Line":5},"fn_name":null},{"line":69,"address":[4170936],"length":1,"stats":{"Line":0},"fn_name":null},{"line":73,"address":[4171598,4171655,4171272],"length":1,"stats":{"Line":2},"fn_name":null},{"line":75,"address":[6767817],"length":1,"stats":{"Line":7},"fn_name":null},{"line":79,"address":[2580544,2580583,2580949,2580997],"length":1,"stats":{"Line":6},"fn_name":"test_rename_index_with_overwrite"},{"line":80,"address":[4173064,4173245,4173651,4172526,4172592,4172893],"length":1,"stats":{"Line":4},"fn_name":null},{"line":81,"address":[6793656,6793713],"length":1,"stats":{"Line":4},"fn_name":null},{"line":82,"address":[4172634,4172791,4174729,4174657],"length":1,"stats":{"Line":4},"fn_name":null},{"line":84,"address":[4175467,4176180,4175902,4176399,4176756,4175979,4175666,4176479,4176456,4175737],"length":1,"stats":{"Line":7},"fn_name":null},{"line":86,"address":[4175605],"length":1,"stats":{"Line":1},"fn_name":null},{"line":89,"address":[4175529,4175582],"length":1,"stats":{"Line":2},"fn_name":null},{"line":91,"address":[4175935,4175805,4172655,4176107,4172740],"length":1,"stats":{"Line":5},"fn_name":null},{"line":92,"address":[4176303],"length":1,"stats":{"Line":0},"fn_name":null},{"line":96,"address":[4177022,4176639,4176965],"length":1,"stats":{"Line":2},"fn_name":null},{"line":98,"address":[2580620,2580960,2580575,2580680],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":35,"coverable":37},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","index_status.rs"],"content":"use crate::Command;\nuse ql2::term::TermType;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl IndexStatusArg) -\u003e Command {\n    let mut command = Command::new(TermType::IndexStatus);\n    let args = args.into_index_status_opts();\n\n    if let Some(args) = args {\n        command = args.add_to_cmd(command)\n    }\n\n    command\n}\n\npub trait IndexStatusArg {\n    fn into_index_status_opts(self) -\u003e Option\u003cCmdOpts\u003e;\n}\n\nimpl IndexStatusArg for () {\n    fn into_index_status_opts(self) -\u003e Option\u003cCmdOpts\u003e {\n        None\n    }\n}\n\nimpl IndexStatusArg for \u0026str {\n    fn into_index_status_opts(self) -\u003e Option\u003cCmdOpts\u003e {\n        let arg = Command::from_json(self);\n\n        Some(CmdOpts::Single(arg))\n    }\n}\n\nimpl IndexStatusArg for Vec\u003c\u0026str\u003e {\n    fn into_index_status_opts(self) -\u003e Option\u003cCmdOpts\u003e {\n        let args = self.into_iter().map(Command::from_json).collect();\n\n        Some(CmdOpts::Many(args))\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::spec::{set_up, tear_down};\n    use crate::types::IndexStatusResponse;\n    use crate::Result;\n    use crate::{prelude::*, Command, Session};\n\n    #[tokio::test]\n    async fn test_get_index_status() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(false).await?;\n        generate_index(\u0026conn, \u0026table).await?;\n\n        let index_status: Vec\u003cIndexStatusResponse\u003e = table\n            .clone()\n            .index_status(())\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(index_status.len() == 3);\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_get_index_status_with_param() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(false).await?;\n        generate_index(\u0026conn, \u0026table).await?;\n\n        let index_status: Vec\u003cIndexStatusResponse\u003e = table\n            .clone()\n            .index_status(\"author\")\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(index_status.len() == 1);\n        assert!(index_status.first().unwrap().index == \"author\");\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_get_index_status_with_params() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(false).await?;\n        generate_index(\u0026conn, \u0026table).await?;\n\n        let index_status: Vec\u003cIndexStatusResponse\u003e = table\n            .clone()\n            .index_status(vec![\"age\", \"name\"])\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(index_status.len() == 2);\n        assert!(index_status.first().unwrap().index == \"age\");\n        assert!(index_status.last().unwrap().index == \"name\");\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    async fn generate_index(conn: \u0026Session, table: \u0026Command) -\u003e Result\u003c()\u003e {\n        table.clone().index_create(\"author\").run(conn).await?;\n        table.clone().index_create(\"name\").run(conn).await?;\n        table.clone().index_create(\"age\").run(conn).await?;\n\n        Ok(())\n    }\n}\n","traces":[{"line":6,"address":[7010176,7010816,7011427,7012042,7010784,7011472],"length":1,"stats":{"Line":3},"fn_name":"new\u003c\u0026str\u003e"},{"line":7,"address":[7010332,7010219,7011489,7010946,7011592,7010838],"length":1,"stats":{"Line":6},"fn_name":null},{"line":8,"address":[7011661,7010401,7011046,7011600,7010340,7010954],"length":1,"stats":{"Line":6},"fn_name":null},{"line":10,"address":[7010713,7011971,7011356,7011054,7010409,7011669],"length":1,"stats":{"Line":5},"fn_name":null},{"line":11,"address":[7011325,7011170,7010527,7011785,7011940,7010682],"length":1,"stats":{"Line":4},"fn_name":null},{"line":14,"address":[7010597,7011855,7011240],"length":1,"stats":{"Line":3},"fn_name":null},{"line":22,"address":[2578240],"length":1,"stats":{"Line":1},"fn_name":"into_index_status_opts"},{"line":23,"address":[2578244],"length":1,"stats":{"Line":1},"fn_name":null},{"line":28,"address":[2578256],"length":1,"stats":{"Line":1},"fn_name":"into_index_status_opts"},{"line":29,"address":[2578289],"length":1,"stats":{"Line":1},"fn_name":null},{"line":31,"address":[2578299],"length":1,"stats":{"Line":1},"fn_name":null},{"line":36,"address":[4439200],"length":1,"stats":{"Line":1},"fn_name":"into_index_status_opts"},{"line":37,"address":[4439216],"length":1,"stats":{"Line":1},"fn_name":null},{"line":39,"address":[4439292],"length":1,"stats":{"Line":1},"fn_name":null},{"line":51,"address":[2053797,2053344,2053749,2053383],"length":1,"stats":{"Line":6},"fn_name":"test_get_index_status"},{"line":52,"address":[2753837,2754008,2753550,2754189,2754595,2753608],"length":1,"stats":{"Line":4},"fn_name":null},{"line":53,"address":[2753629,2754585,2755283,2754871,2753786],"length":1,"stats":{"Line":4},"fn_name":null},{"line":55,"address":[2756487,2756247,2755948,2755747,2755261,2755664,2756167,2756224,2755510],"length":1,"stats":{"Line":6},"fn_name":null},{"line":58,"address":[2755703,2755875,2753650,2755564,2753735],"length":1,"stats":{"Line":5},"fn_name":null},{"line":59,"address":[2756071],"length":1,"stats":{"Line":0},"fn_name":null},{"line":63,"address":[2756376,2756719,2756783],"length":1,"stats":{"Line":2},"fn_name":null},{"line":65,"address":[2053375,2053760,2053480,2053420],"length":1,"stats":{"Line":7},"fn_name":null},{"line":69,"address":[2053879,2054245,2054293,2053840],"length":1,"stats":{"Line":6},"fn_name":"test_get_index_status_with_param"},{"line":70,"address":[2757742,2758029,2758200,2758381,2757800,2758787],"length":1,"stats":{"Line":4},"fn_name":null},{"line":71,"address":[2759475,2757821,2757978,2758777,2759063],"length":1,"stats":{"Line":4},"fn_name":null},{"line":73,"address":[2759951,2760428,2760371,2759686,2759868,2760451,2759453,2760152,2760691],"length":1,"stats":{"Line":6},"fn_name":null},{"line":76,"address":[2759768,2757842,2760079,2757927,2759907],"length":1,"stats":{"Line":5},"fn_name":null},{"line":77,"address":[2760275],"length":1,"stats":{"Line":0},"fn_name":null},{"line":81,"address":[2760968,2760923,2760580],"length":1,"stats":{"Line":2},"fn_name":null},{"line":82,"address":[2760944,2761134,2761010],"length":1,"stats":{"Line":2},"fn_name":null},{"line":84,"address":[2053976,2054256,2053916,2053871],"length":1,"stats":{"Line":7},"fn_name":null},{"line":88,"address":[2054375,2054741,2054336,2054789],"length":1,"stats":{"Line":6},"fn_name":"test_get_index_status_with_params"},{"line":89,"address":[2762389,2762741,2763147,2762094,2762160,2762560],"length":1,"stats":{"Line":4},"fn_name":null},{"line":90,"address":[2763423,2763835,2762338,2762181,2763137],"length":1,"stats":{"Line":4},"fn_name":null},{"line":92,"address":[2763813,2764299,2765026,2764549,2764750,2765289,2764472,2764969,2764228,2765049],"length":1,"stats":{"Line":7},"fn_name":null},{"line":94,"address":[2764275,2764324,2764072,2764194,2764306,2764019],"length":1,"stats":{"Line":2},"fn_name":null},{"line":95,"address":[2762287,2764372,2764677,2762202,2764505],"length":1,"stats":{"Line":5},"fn_name":null},{"line":96,"address":[2764873],"length":1,"stats":{"Line":0},"fn_name":null},{"line":100,"address":[2765521,2765566,2765178],"length":1,"stats":{"Line":2},"fn_name":null},{"line":101,"address":[2765713,2765608,2765542],"length":1,"stats":{"Line":2},"fn_name":null},{"line":102,"address":[2765689,2765756,2765880],"length":1,"stats":{"Line":2},"fn_name":null},{"line":104,"address":[2054752,2054472,2054412,2054367],"length":1,"stats":{"Line":7},"fn_name":null},{"line":107,"address":[2053264,2053294],"length":1,"stats":{"Line":5},"fn_name":"generate_index"},{"line":108,"address":[2750974,2750796,2751099,2750845,2751345],"length":1,"stats":{"Line":4},"fn_name":null},{"line":109,"address":[2750860,2750931,2751849,2751916],"length":1,"stats":{"Line":4},"fn_name":null},{"line":110,"address":[2752622,2752668,2750875],"length":1,"stats":{"Line":3},"fn_name":null},{"line":112,"address":[2753369],"length":1,"stats":{"Line":1},"fn_name":null}],"covered":44,"coverable":47},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","index_wait.rs"],"content":"use crate::Command;\nuse ql2::term::TermType;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl IndexWaitArg) -\u003e Command {\n    let mut command = Command::new(TermType::IndexWait);\n\n    if let Some(args) = args.into_index_wait_opts() {\n        command = args.add_to_cmd(command)\n    }\n\n    command\n}\n\npub trait IndexWaitArg {\n    fn into_index_wait_opts(self) -\u003e Option\u003cCmdOpts\u003e;\n}\n\nimpl IndexWaitArg for () {\n    fn into_index_wait_opts(self) -\u003e Option\u003cCmdOpts\u003e {\n        None\n    }\n}\n\nimpl IndexWaitArg for \u0026str {\n    fn into_index_wait_opts(self) -\u003e Option\u003cCmdOpts\u003e {\n        let arg = Command::from_json(self);\n\n        Some(CmdOpts::Single(arg))\n    }\n}\n\nimpl IndexWaitArg for Vec\u003c\u0026str\u003e {\n    fn into_index_wait_opts(self) -\u003e Option\u003cCmdOpts\u003e {\n        let args = self.into_iter().map(Command::from_json).collect();\n\n        Some(CmdOpts::Many(args))\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::spec::{set_up, tear_down};\n    use crate::types::IndexStatusResponse;\n    use crate::Result;\n    use crate::{prelude::*, Command, Session};\n\n    #[tokio::test]\n    async fn test_get_index_waited() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(false).await?;\n        generate_data(\u0026conn, \u0026table).await?;\n\n        let indexes_waited: Vec\u003cIndexStatusResponse\u003e = table\n            .clone()\n            .index_wait(())\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(indexes_waited.len() == 3);\n        indexes_waited\n            .iter()\n            .for_each(|index_waited| assert!(index_waited.ready));\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_get_index_status_with_param() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(false).await?;\n        generate_data(\u0026conn, \u0026table).await?;\n\n        let index_waited = table\n            .clone()\n            .index_wait(\"author\")\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse::\u003cVec\u003cIndexStatusResponse\u003e\u003e()?;\n\n        let index_waited = index_waited.first().unwrap();\n\n        assert!(index_waited.index == \"author\");\n        assert!(index_waited.ready);\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_get_index_status_with_params() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(false).await?;\n        generate_data(\u0026conn, \u0026table).await?;\n\n        let indexes_waited: Vec\u003cIndexStatusResponse\u003e = table\n            .clone()\n            .index_wait(vec![\"age\", \"name\"])\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(indexes_waited.len() == 2);\n        indexes_waited\n            .iter()\n            .for_each(|index_waited| assert!(index_waited.ready));\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    async fn generate_data(conn: \u0026Session, table: \u0026Command) -\u003e Result\u003c()\u003e {\n        table.clone().index_create(\"author\").run(conn).await?;\n        table.clone().index_create(\"name\").run(conn).await?;\n        table.clone().index_create(\"age\").run(conn).await?;\n        Ok(())\n    }\n}\n","traces":[{"line":6,"address":[2698496,2698465,2697936,2699683,2699120,2699066],"length":1,"stats":{"Line":3},"fn_name":"new\u003c()\u003e"},{"line":7,"address":[2698618,2697956,2699166,2699268,2698048,2698521],"length":1,"stats":{"Line":6},"fn_name":null},{"line":9,"address":[2698715,2698056,2698389,2698626,2699607,2699334,2699276,2698990,2698114],"length":1,"stats":{"Line":8},"fn_name":null},{"line":10,"address":[2699581,2699452,2698964,2698835,2698363,2698234],"length":1,"stats":{"Line":4},"fn_name":null},{"line":13,"address":[2698414,2699015,2699632],"length":1,"stats":{"Line":3},"fn_name":null},{"line":21,"address":[2578400],"length":1,"stats":{"Line":1},"fn_name":"into_index_wait_opts"},{"line":22,"address":[2578404],"length":1,"stats":{"Line":1},"fn_name":null},{"line":27,"address":[2578416],"length":1,"stats":{"Line":1},"fn_name":"into_index_wait_opts"},{"line":28,"address":[2578449],"length":1,"stats":{"Line":1},"fn_name":null},{"line":30,"address":[2578459],"length":1,"stats":{"Line":1},"fn_name":null},{"line":35,"address":[4439424],"length":1,"stats":{"Line":1},"fn_name":"into_index_wait_opts"},{"line":36,"address":[4439440],"length":1,"stats":{"Line":1},"fn_name":null},{"line":38,"address":[4439516],"length":1,"stats":{"Line":1},"fn_name":null},{"line":50,"address":[4326377,4326368,4326400,4326469,4327154,4326856,4326554],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":51,"address":[4327165,4327571,4326526,4326584,4326813,4326984],"length":1,"stats":{"Line":4},"fn_name":null},{"line":52,"address":[4326762,4326605,4327847,4327561,4328259],"length":1,"stats":{"Line":4},"fn_name":null},{"line":54,"address":[4328723,4329223,4328486,4329200,4328237,4329463,4329143,4328640,4328924],"length":1,"stats":{"Line":6},"fn_name":null},{"line":57,"address":[4326626,4326711,4328851,4328540,4328679],"length":1,"stats":{"Line":5},"fn_name":null},{"line":58,"address":[4329047],"length":1,"stats":{"Line":0},"fn_name":null},{"line":62,"address":[4329695,4329740,4329352],"length":1,"stats":{"Line":2},"fn_name":null},{"line":63,"address":[4329716,4329782],"length":1,"stats":{"Line":2},"fn_name":null},{"line":65,"address":[4330638,4330624],"length":1,"stats":{"Line":2},"fn_name":"{closure#0}"},{"line":67,"address":[4329824,4326644,4330050,4330136,4329991,4330272],"length":1,"stats":{"Line":7},"fn_name":null},{"line":71,"address":[4330720,4330789,4330697,4331474,4330874,4330688,4331176],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":72,"address":[4330904,4331485,4331133,4331891,4331304,4330846],"length":1,"stats":{"Line":4},"fn_name":null},{"line":73,"address":[4332579,4331881,4332167,4330925,4331082],"length":1,"stats":{"Line":4},"fn_name":null},{"line":75,"address":[4333555,4332790,4333532,4333256,4332557,4333475,4333055,4332972,4333800],"length":1,"stats":{"Line":6},"fn_name":null},{"line":78,"address":[4332872,4333183,4330946,4331031,4333011],"length":1,"stats":{"Line":5},"fn_name":null},{"line":79,"address":[4333379],"length":1,"stats":{"Line":0},"fn_name":null},{"line":83,"address":[4333684,4334037],"length":1,"stats":{"Line":2},"fn_name":null},{"line":85,"address":[4334134,4334086],"length":1,"stats":{"Line":1},"fn_name":null},{"line":86,"address":[4334217,4334123],"length":1,"stats":{"Line":1},"fn_name":null},{"line":88,"address":[4330964,4334174,4334652,4334371,4334430,4334516,4334247],"length":1,"stats":{"Line":7},"fn_name":null},{"line":92,"address":[4335008,4335202,4335504,4335040,4335017,4335109,4335802],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":93,"address":[4335166,4336219,4335461,4335632,4335813,4335232],"length":1,"stats":{"Line":4},"fn_name":null},{"line":94,"address":[4336907,4336495,4335253,4335410,4336209],"length":1,"stats":{"Line":4},"fn_name":null},{"line":96,"address":[4337822,4338098,4338041,4336885,4338361,4337371,4338121,4337300,4337544,4337621],"length":1,"stats":{"Line":7},"fn_name":null},{"line":98,"address":[4337266,4337396,4337378,4337144,4337347,4337091],"length":1,"stats":{"Line":2},"fn_name":null},{"line":99,"address":[4335359,4337444,4335274,4337577,4337749],"length":1,"stats":{"Line":5},"fn_name":null},{"line":100,"address":[4337945],"length":1,"stats":{"Line":0},"fn_name":null},{"line":104,"address":[4338593,4338250,4338638],"length":1,"stats":{"Line":2},"fn_name":null},{"line":105,"address":[4338680,4338614],"length":1,"stats":{"Line":2},"fn_name":null},{"line":107,"address":[4339520,4339534],"length":1,"stats":{"Line":2},"fn_name":"{closure#0}"},{"line":109,"address":[4338722,4339170,4339034,4338948,4338889,4335292],"length":1,"stats":{"Line":7},"fn_name":null},{"line":112,"address":[4324310,4323707,4324849,4323664,4323794,4326357,4323988],"length":1,"stats":{"Line":5},"fn_name":"{async_fn#0}"},{"line":113,"address":[4323772,4323821,4323950,4324321,4324075],"length":1,"stats":{"Line":4},"fn_name":null},{"line":114,"address":[4324825,4323907,4324892,4323836],"length":1,"stats":{"Line":4},"fn_name":null},{"line":115,"address":[4325598,4325644,4323851],"length":1,"stats":{"Line":3},"fn_name":null},{"line":116,"address":[4326345],"length":1,"stats":{"Line":1},"fn_name":null}],"covered":46,"coverable":49},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","info.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Info)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::{InfoResponse, TypeOf};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_info_table() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(false).await?;\n        let data_obtained: InfoResponse = table.info().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained.typ == TypeOf::Table);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":5,"address":[2719520],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2719532],"length":1,"stats":{"Line":1},"fn_name":null},{"line":17,"address":[2257381,2257015,2257429,2256976],"length":1,"stats":{"Line":6},"fn_name":"test_info_table"},{"line":18,"address":[2296022,2295844,2295459,2295521,2295676,2296454],"length":1,"stats":{"Line":4},"fn_name":null},{"line":19,"address":[2295627,2297579,2295542,2297420,2296711,2296406],"length":1,"stats":{"Line":5},"fn_name":null},{"line":21,"address":[2297551,2297872,2297926],"length":1,"stats":{"Line":2},"fn_name":null},{"line":23,"address":[2257052,2257007,2257112,2257392],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":7,"coverable":7},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","inner_join.rs"],"content":"use ql2::term::TermType;\n\nuse crate::prelude::Func;\nuse crate::Command;\n\npub(crate) fn new(other_table: Command, func: Func) -\u003e Command {\n    let Func(func) = func;\n\n    Command::new(TermType::InnerJoin)\n        .with_arg(other_table)\n        .with_arg(func)\n}\n\n// TODO write test\n","traces":[{"line":6,"address":[1551088,1551424],"length":1,"stats":{"Line":0},"fn_name":"new"},{"line":7,"address":[1551123],"length":1,"stats":{"Line":0},"fn_name":null},{"line":9,"address":[1551372,1551309,1551174],"length":1,"stats":{"Line":0},"fn_name":null},{"line":10,"address":[1551253],"length":1,"stats":{"Line":0},"fn_name":null},{"line":11,"address":[1551316],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":5},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","insert.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::arguments::{Args, Conflict, Durability, ReturnChanges};\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl InsertArg) -\u003e Command {\n    let (args, opts) = args.into_insert_opts();\n\n    args.add_to_cmd(Command::new(TermType::Insert))\n        .with_opts(opts)\n}\n\npub trait InsertArg {\n    fn into_insert_opts(self) -\u003e (CmdOpts, InsertOption);\n}\n\nimpl\u003cT\u003e InsertArg for T\nwhere\n    T: Serialize,\n{\n    fn into_insert_opts(self) -\u003e (CmdOpts, InsertOption) {\n        (\n            CmdOpts::Single(Command::from_json(self)),\n            Default::default(),\n        )\n    }\n}\n\nimpl\u003cT\u003e InsertArg for Args\u003c(T, InsertOption)\u003e\nwhere\n    T: Serialize,\n{\n    fn into_insert_opts(self) -\u003e (CmdOpts, InsertOption) {\n        (CmdOpts::Single(Command::from_json(self.0 .0)), self.0 .1)\n    }\n}\n\nimpl InsertArg for Command {\n    fn into_insert_opts(self) -\u003e (CmdOpts, InsertOption) {\n        (CmdOpts::Single(self), Default::default())\n    }\n}\n\nimpl InsertArg for Args\u003c(Command, InsertOption)\u003e {\n    fn into_insert_opts(self) -\u003e (CmdOpts, InsertOption) {\n        (CmdOpts::Single(self.0 .0), self.0 .1)\n    }\n}\n\n// TODO finish this struct\n#[derive(Debug, Clone, Copy, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\n#[non_exhaustive]\npub struct InsertOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub durability: Option\u003cDurability\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub return_changes: Option\u003cReturnChanges\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub conflict: Option\u003cConflict\u003e,\n    // #[serde(skip_serializing_if = \"Option::is_none\")]\n    // pub conflict_func: Command,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub ignore_write_hook: Option\u003cbool\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use uuid::Uuid;\n\n    use crate::arguments::ReturnChanges;\n    use crate::prelude::*;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::types::MutationResponse;\n    use crate::{args, r, Result};\n\n    use super::InsertOption;\n\n    #[tokio::test]\n    async fn test_insert_data() -\u003e Result\u003c()\u003e {\n        let data = Post::get_one_data();\n        let (conn, table, table_name) = set_up(false).await?;\n        let data_inserted: MutationResponse = table\n            .clone()\n            .insert(\u0026data)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_inserted.inserted == 1);\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_insert_many_data() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(false).await?;\n        let data_inserted: MutationResponse = table\n            .clone()\n            .insert(\u0026data)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_inserted.inserted == data.len());\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_insert_data_by_copy() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let table_name2 = Uuid::new_v4().to_string();\n        let (conn, table, table_name) = set_up(false).await?;\n\n        r.table_create(table_name2.as_str()).run(\u0026conn).await?;\n        table.clone().insert(\u0026data).run(\u0026conn).await?;\n\n        let data_inserted: MutationResponse = r\n            .table(table_name2.as_str())\n            .insert(table.clone())\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_inserted.inserted == data.len());\n\n        r.table_drop(table_name2.as_str()).run(\u0026conn).await?;\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_insert_data_with_opts() -\u003e Result\u003c()\u003e {\n        let data = Post::get_one_data();\n        let (conn, table, table_name) = set_up(false).await?;\n        let insert_options = InsertOption::default().return_changes(ReturnChanges::Bool(true));\n        let data_inserted: MutationResponse = table\n            .clone()\n            .insert(args!(\u0026data, insert_options))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!((\u0026data_inserted).inserted == 1);\n        let expected_data: Post = data_inserted\n            .changes\n            .unwrap()\n            .first()\n            .unwrap()\n            .clone()\n            .new_val\n            .unwrap()\n            .parse()?;\n        assert!(expected_data == data);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":10,"address":[4601168,4602427,4598472,4603253,4600642,4602826,4598960,4599733,4600696,4598032,4599392,4600219,4599355,4601995,4597941,4603307,4597563,4599824,4597168,4601077,4602464,4597509,4599301,4601600,4597600,4601509,4599787,4601131,4600736,4598871,4601941,4602880,4597995,4598512,4600256,4598418,4602032,4598925,4602373,4600165,4602912,4601563],"length":1,"stats":{"Line":14},"fn_name":"new\u003c\u0026reql_rust::cmd::geojson::tests::User\u003e"},{"line":11,"address":[4597193,4600273,4602057,4602481,4599849,4598049,4600761,4597625,4602937,4601625,4599417,4598529,4598985,4601193],"length":1,"stats":{"Line":14},"fn_name":null},{"line":13,"address":[4598864,4599294,4598663,4597934,4597733,4598210,4603045,4600158,4599093,4600434,4601301,4599957,4603246,4597460,4598822,4601733,4600869,4598369,4601502,4599525,4602819,4599252,4602366,4598411,4601070,4602165,4602618,4601460,4597892,4601892,4602777,4600593,4602324,4601934,4601028,4597502,4597301,4603204,4599726,4600635,4599684,4600116],"length":1,"stats":{"Line":28},"fn_name":null},{"line":14,"address":[4601014,4600102,4599670,4602310,4602763,4597878,4599238,4600579,4598808,4601446,4598355,4603190,4597446,4601878],"length":1,"stats":{"Line":14},"fn_name":null},{"line":25,"address":[1320544,1320739],"length":1,"stats":{"Line":11},"fn_name":"into_insert_opts\u003c\u0026reql_rust::cmd::polygon::tests::Rectangle\u003e"},{"line":27,"address":[1320569],"length":1,"stats":{"Line":11},"fn_name":null},{"line":28,"address":[1320672,1320618],"length":1,"stats":{"Line":22},"fn_name":null},{"line":37,"address":[1818720,1818864],"length":1,"stats":{"Line":2},"fn_name":"into_insert_opts\u003c\u0026reql_rust::spec::Post\u003e"},{"line":38,"address":[1818741,1818886],"length":1,"stats":{"Line":2},"fn_name":null},{"line":43,"address":[4041019,4040816],"length":1,"stats":{"Line":1},"fn_name":"into_insert_opts"},{"line":44,"address":[4040867],"length":1,"stats":{"Line":1},"fn_name":null},{"line":49,"address":[6662304],"length":1,"stats":{"Line":0},"fn_name":"into_insert_opts"},{"line":50,"address":[6662325],"length":1,"stats":{"Line":0},"fn_name":null},{"line":83,"address":[2731317,2731630,2731400,2731216,2731248,2731979,2731225],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":84,"address":[2731382],"length":1,"stats":{"Line":1},"fn_name":null},{"line":85,"address":[2731430,2732397,2731587,2731752,2731990,2731812],"length":1,"stats":{"Line":4},"fn_name":null},{"line":86,"address":[2732656,2732862,2733282,2733386,2732621,2733339,2733063,2732779,2733628,2732387],"length":1,"stats":{"Line":7},"fn_name":null},{"line":89,"address":[2731536,2732679,2731451,2732990,2732636,2732818],"length":1,"stats":{"Line":6},"fn_name":null},{"line":90,"address":[2733186],"length":1,"stats":{"Line":0},"fn_name":null},{"line":94,"address":[2733506,2733954],"length":1,"stats":{"Line":1},"fn_name":null},{"line":96,"address":[2731469,2734323,2734459,2734222,2734033,2734163,2733904],"length":1,"stats":{"Line":7},"fn_name":null},{"line":100,"address":[2734873,2735048,2734896,2734864,2734965,2735627,2735278],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":101,"address":[2735030],"length":1,"stats":{"Line":1},"fn_name":null},{"line":102,"address":[2735460,2735400,2735235,2735078,2736045,2735638],"length":1,"stats":{"Line":4},"fn_name":null},{"line":103,"address":[2737297,2736711,2736427,2736035,2736304,2736510,2737034,2736269,2736987,2736930],"length":1,"stats":{"Line":7},"fn_name":null},{"line":106,"address":[2735099,2735184,2736466,2736284,2736638,2736327],"length":1,"stats":{"Line":6},"fn_name":null},{"line":107,"address":[2736834],"length":1,"stats":{"Line":0},"fn_name":null},{"line":111,"address":[2737628,2737692,2737168],"length":1,"stats":{"Line":2},"fn_name":null},{"line":113,"address":[2737648,2738008,2735117,2737848,2738144,2737907,2737724],"length":1,"stats":{"Line":7},"fn_name":null},{"line":117,"address":[2738569,2738752,2739638,2738661,2738592,2739198,2738560],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":118,"address":[2738726],"length":1,"stats":{"Line":1},"fn_name":null},{"line":119,"address":[2739310,2739374],"length":1,"stats":{"Line":2},"fn_name":null},{"line":120,"address":[2739471,2738782,2739155,2739649,2740052,2739403],"length":1,"stats":{"Line":4},"fn_name":null},{"line":122,"address":[2740022,2739104,2740284,2738803],"length":1,"stats":{"Line":4},"fn_name":null},{"line":123,"address":[2738824,2739053,2741030,2741126],"length":1,"stats":{"Line":4},"fn_name":null},{"line":125,"address":[2742808,2741932,2742831,2743115,2742331,2742248,2742083,2742008,2742751,2742532],"length":1,"stats":{"Line":7},"fn_name":null},{"line":126,"address":[2741947,2741846],"length":1,"stats":{"Line":2},"fn_name":null},{"line":127,"address":[2742055,2742098,2741873,2741955],"length":1,"stats":{"Line":2},"fn_name":null},{"line":128,"address":[2742287,2742063,2739002,2738845,2742459,2742151],"length":1,"stats":{"Line":6},"fn_name":null},{"line":129,"address":[2742655],"length":1,"stats":{"Line":0},"fn_name":null},{"line":133,"address":[2742986,2743287,2743240],"length":1,"stats":{"Line":2},"fn_name":null},{"line":135,"address":[2743370,2738951,2743260,2738866],"length":1,"stats":{"Line":4},"fn_name":null},{"line":136,"address":[2744681,2738884,2744817,2744330,2744557,2744498],"length":1,"stats":{"Line":7},"fn_name":null},{"line":140,"address":[2745328,2745718,2746067,2745296,2745397,2745488,2745305],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":141,"address":[2745462],"length":1,"stats":{"Line":1},"fn_name":null},{"line":142,"address":[2745518,2745840,2746078,2746468,2745675,2745900],"length":1,"stats":{"Line":4},"fn_name":null},{"line":143,"address":[2746699,2746451],"length":1,"stats":{"Line":2},"fn_name":null},{"line":144,"address":[2747081,2747365,2747664,2747164,2746958,2747914,2747641,2746793,2747584,2746923],"length":1,"stats":{"Line":7},"fn_name":null},{"line":146,"address":[2746847],"length":1,"stats":{"Line":1},"fn_name":null},{"line":147,"address":[2747120,2746981,2747292,2746938,2745539,2745624],"length":1,"stats":{"Line":6},"fn_name":null},{"line":148,"address":[2747488],"length":1,"stats":{"Line":0},"fn_name":null},{"line":152,"address":[2748102,2747792],"length":1,"stats":{"Line":1},"fn_name":null},{"line":153,"address":[2748034,2748193,2748743,2748441,2748263],"length":1,"stats":{"Line":4},"fn_name":null},{"line":162,"address":[2749310,2749396],"length":1,"stats":{"Line":1},"fn_name":null},{"line":164,"address":[2749512,2749349,2749695,2749874,2745557,2749636,2750010],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":49,"coverable":55},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","insert_at.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(offset: isize, value: impl Serialize) -\u003e Command {\n    let arg_offset = Command::from_json(offset);\n    let arg_value = Command::from_json(value);\n\n    Command::new(TermType::InsertAt)\n        .with_arg(arg_offset)\n        .with_arg(arg_value)\n}\n\n// TODO write test\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","intersects.rs"],"content":"use ql2::term::TermType;\n\nuse crate::prelude::Geometry;\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(geometry: impl IntersectsArg) -\u003e Command {\n    let (arg1, arg) = geometry.into_intersects_opts();\n    let mut command = Command::new(TermType::Intersects);\n\n    if let Some(arg) = arg1 {\n        command = arg.add_to_cmd(command);\n    }\n\n    command.with_arg(arg)\n}\n\npub trait IntersectsArg {\n    fn into_intersects_opts(self) -\u003e (Option\u003cCmdOpts\u003e, Command);\n}\n\nimpl IntersectsArg for Command {\n    fn into_intersects_opts(self) -\u003e (Option\u003cCmdOpts\u003e, Command) {\n        (None, self)\n    }\n}\n\nimpl\u003cT\u003e IntersectsArg for T\nwhere\n    T: Geometry,\n{\n    fn into_intersects_opts(self) -\u003e (Option\u003cCmdOpts\u003e, Command) {\n        (None, self.into())\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{args, r, Result};\n\n    #[tokio::test]\n    async fn test_intersects_geo() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let point1 = r.point(-117.220406, 32.719464);\n        let point2 = r.point(-117.206201, 32.725186);\n\n        let response: bool = r\n            .circle(args!(point1, 2000.))\n            .intersects(point2)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response);\n\n        Ok(())\n    }\n}\n","traces":[{"line":8,"address":[4208445,4208466,4207808],"length":1,"stats":{"Line":1},"fn_name":"new\u003creql_rust::cmd::point::Point\u003e"},{"line":9,"address":[4207825],"length":1,"stats":{"Line":1},"fn_name":null},{"line":10,"address":[4207973],"length":1,"stats":{"Line":1},"fn_name":null},{"line":12,"address":[4208047,4208353],"length":1,"stats":{"Line":1},"fn_name":null},{"line":13,"address":[4208327,4208159],"length":1,"stats":{"Line":0},"fn_name":null},{"line":16,"address":[4208262],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[2256304],"length":1,"stats":{"Line":0},"fn_name":"into_intersects_opts"},{"line":25,"address":[4041072],"length":1,"stats":{"Line":0},"fn_name":null},{"line":33,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":34,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":44,"address":[4794725,4794677,4794272,4794311],"length":1,"stats":{"Line":6},"fn_name":"test_intersects_geo"},{"line":45,"address":[6679763,6679868,6679797,6680495,6680029,6680218],"length":1,"stats":{"Line":4},"fn_name":null},{"line":46,"address":[6680485],"length":1,"stats":{"Line":1},"fn_name":null},{"line":47,"address":[6680756],"length":1,"stats":{"Line":1},"fn_name":null},{"line":49,"address":[6681197,6681885,6681695,6680983,6681601,6681126,6681382,6681015,6680893,6681658],"length":1,"stats":{"Line":7},"fn_name":null},{"line":50,"address":[6680763],"length":1,"stats":{"Line":1},"fn_name":null},{"line":51,"address":[6680927],"length":1,"stats":{"Line":1},"fn_name":null},{"line":52,"address":[6679812,6681038,6681325,6681156,6680995],"length":1,"stats":{"Line":5},"fn_name":null},{"line":53,"address":[6681505],"length":1,"stats":{"Line":0},"fn_name":null},{"line":57,"address":[6681774,6681978],"length":1,"stats":{"Line":1},"fn_name":null},{"line":59,"address":[4794408,4794348,4794688,4794303],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":17,"coverable":21},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","is_empty.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::IsEmpty)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_is_empty() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: bool = table.is_empty().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(!data_obtained);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":5,"address":[2719568],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2719580],"length":1,"stats":{"Line":1},"fn_name":null},{"line":16,"address":[1677088,1677493,1677127,1677541],"length":1,"stats":{"Line":6},"fn_name":"test_is_empty"},{"line":17,"address":[6994423,6994245,6993924,6993859,6994077,6994855],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[6884986,6884912],"length":1,"stats":{"Line":5},"fn_name":null},{"line":20,"address":[6995900,6996216],"length":1,"stats":{"Line":1},"fn_name":null},{"line":22,"address":[1677164,1677119,1677224,1677504],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":7,"coverable":7},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","iso8601.rs"],"content":"use ql2::term::TermType;\nuse time::{format_description, UtcOffset};\n\nuse crate::{arguments::Args, constants::TIMEZONE_FORMAT, Command};\n\npub(crate) fn new(iso_datetime: \u0026str) -\u003e Command {\n    Command::new(TermType::Iso8601).with_arg(Command::from_json(iso_datetime))\n}\n\npub trait Iso8601 {\n    fn into_iso8601_opts(self) -\u003e crate::Result\u003cString\u003e;\n}\n\nimpl\u003cT\u003e Iso8601 for T\nwhere\n    T: Into\u003cString\u003e,\n{\n    fn into_iso8601_opts(self) -\u003e crate::Result\u003cString\u003e {\n        Ok(self.into())\n    }\n}\n\nimpl\u003cT\u003e Iso8601 for Args\u003c(T, UtcOffset)\u003e\nwhere\n    T: Into\u003cString\u003e,\n{\n    fn into_iso8601_opts(self) -\u003e crate::Result\u003cString\u003e {\n        let timezone_format = format_description::parse(TIMEZONE_FORMAT)?;\n        let timezone = self.0 .1.format(\u0026timezone_format)?;\n\n        Ok(format!(\"{}{}\", self.0 .0.into(), timezone))\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use time::macros::offset;\n\n    use crate::prelude::Converter;\n    use crate::types::Time;\n    use crate::{args, r, Result};\n\n    #[tokio::test]\n    async fn test_iso8601_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let date_time = r.iso8601(\"1986-11-03T08:30:00-07:00\")?;\n        let time1 = date_time.clone().value();\n        let time2: Time = date_time.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(time2 == time1);\n\n        Ok(())\n    }\n\n    #[tokio::test]\n    async fn test_iso8601_ops_with_default_timezone() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let date_time = r.iso8601(args!(\"1986-11-03T08:30:00\", offset!(+01:00)))?;\n        let time1 = date_time.clone().value();\n        let time2: Time = date_time.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(time2 == time1);\n\n        Ok(())\n    }\n}\n","traces":[{"line":6,"address":[2124560,2124800,2124769],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":7,"address":[2042955,2043136],"length":1,"stats":{"Line":1},"fn_name":null},{"line":18,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":19,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":27,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":28,"address":[],"length":0,"stats":{"Line":2},"fn_name":null},{"line":29,"address":[],"length":0,"stats":{"Line":2},"fn_name":null},{"line":31,"address":[],"length":0,"stats":{"Line":2},"fn_name":null},{"line":44,"address":[4486970,4486377,4486457,4486400,4486534,4486368,4486671],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":45,"address":[4486631,4487254,4486512,4486981,4486558,4486792],"length":1,"stats":{"Line":4},"fn_name":null},{"line":47,"address":[4487224,4487511,4487640],"length":1,"stats":{"Line":2},"fn_name":null},{"line":48,"address":[4487630,4487865],"length":1,"stats":{"Line":2},"fn_name":null},{"line":49,"address":[4488691,4486573,4487892,4487979,4488873],"length":1,"stats":{"Line":4},"fn_name":null},{"line":51,"address":[4488844,4489094,4489127],"length":1,"stats":{"Line":2},"fn_name":null},{"line":53,"address":[4489100],"length":1,"stats":{"Line":5},"fn_name":null},{"line":57,"address":[2581575,2581536,2581941,2581989],"length":1,"stats":{"Line":6},"fn_name":"test_iso8601_ops_with_default_timezone"},{"line":58,"address":[4489861,4489511,4489672,4490250,4489392,4489438],"length":1,"stats":{"Line":4},"fn_name":null},{"line":60,"address":[4490636,4490507,4490107],"length":1,"stats":{"Line":2},"fn_name":null},{"line":61,"address":[4490861,4490626],"length":1,"stats":{"Line":2},"fn_name":null},{"line":62,"address":[4490888,4491687,4490975,4489453,4491869],"length":1,"stats":{"Line":4},"fn_name":null},{"line":64,"address":[4491840,4492090,4492123],"length":1,"stats":{"Line":2},"fn_name":null},{"line":66,"address":[2581952,2581612,2581567,2581672],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":22,"coverable":22},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","js.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::arguments::Args;\nuse crate::Command;\n\npub(crate) fn new(args: impl JsArg) -\u003e Command {\n    let (arg, opts) = args.into_js_opts();\n\n    Command::new(TermType::Javascript)\n        .with_arg(arg)\n        .with_opts(opts)\n}\n\npub trait JsArg {\n    fn into_js_opts(self) -\u003e (Command, JsOption);\n}\n\nimpl\u003cT\u003e JsArg for T\nwhere\n    T: Into\u003cString\u003e,\n{\n    fn into_js_opts(self) -\u003e (Command, JsOption) {\n        (Command::from_json(self.into()), Default::default())\n    }\n}\n\nimpl\u003cT\u003e JsArg for Args\u003c(T, JsOption)\u003e\nwhere\n    T: Into\u003cString\u003e,\n{\n    fn into_js_opts(self) -\u003e (Command, JsOption) {\n        (Command::from_json(self.0 .0.into()), self.0 .1)\n    }\n}\n\n#[derive(Debug, Clone, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct JsOption {\n    /// `timeout` is the number of seconds before r.js times out.\n    /// The default value is 5 seconds.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub timeout: Option\u003cf64\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_js_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: String = r.js(\"'str1' + 'str2'\").run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response.eq(\"str1str2\"));\n\n        Ok(())\n    }\n}\n","traces":[{"line":8,"address":[2047376,2047731,2047704],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":9,"address":[2047409],"length":1,"stats":{"Line":1},"fn_name":null},{"line":11,"address":[2047645,2047510],"length":1,"stats":{"Line":2},"fn_name":null},{"line":12,"address":[2047584],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[2047925,2047744],"length":1,"stats":{"Line":1},"fn_name":"into_js_opts\u003c\u0026str\u003e"},{"line":25,"address":[2047777],"length":1,"stats":{"Line":1},"fn_name":null},{"line":33,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":34,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":52,"address":[4794768,4795173,4795221,4794807],"length":1,"stats":{"Line":6},"fn_name":"test_js_ops"},{"line":53,"address":[6917491,6917525,6917757,6918219,6917946,6917596],"length":1,"stats":{"Line":4},"fn_name":null},{"line":54,"address":[6849469,6849401],"length":1,"stats":{"Line":4},"fn_name":null},{"line":56,"address":[6919516,6919260,6919553],"length":1,"stats":{"Line":2},"fn_name":null},{"line":58,"address":[4794904,4795184,4794799,4794844],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":11,"coverable":13},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","json.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new\u003cT\u003e(value: T) -\u003e Command\nwhere\n    T: Into\u003cString\u003e,\n{\n    Command::new(TermType::Json).with_arg(Command::from_json(value.into()))\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_json_table() -\u003e Result\u003c()\u003e {\n        let data = [1, 2, 3];\n        let conn = r.connection().connect().await?;\n        let data_obtained: [u8; 3] = r.json(\"[1, 2, 3]\").run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained == data);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[1684243,1683936],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":9,"address":[1683978,1684233,1684082],"length":1,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[1805136,1804528,1804560,1804837,1804617,1804537,1804702],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":19,"address":[1804672],"length":1,"stats":{"Line":1},"fn_name":null},{"line":20,"address":[1805420,1804726,1804958,1805147,1804692,1804797],"length":1,"stats":{"Line":4},"fn_name":null},{"line":21,"address":[1805390,1805648,1804741,1806348,1806487],"length":1,"stats":{"Line":4},"fn_name":null},{"line":23,"address":[1806690,1806461,1806727],"length":1,"stats":{"Line":2},"fn_name":null},{"line":25,"address":[1806701],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":8,"coverable":8},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","keys.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Keys)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_keys_values() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: Vec\u003cString\u003e = table.get(1).keys().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained == vec![\"content\", \"id\", \"title\", \"view\"]);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":5,"address":[2719616],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2719628],"length":1,"stats":{"Line":1},"fn_name":null},{"line":16,"address":[2258007,2258421,2258373,2257968],"length":1,"stats":{"Line":6},"fn_name":"test_keys_values"},{"line":17,"address":[4745620,4746556,4746119,4745555,4745773,4745941],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[4747695,4745641,4746503,4745724,4746805,4747545],"length":1,"stats":{"Line":5},"fn_name":null},{"line":20,"address":[4748243,4747993,4747680],"length":1,"stats":{"Line":2},"fn_name":null},{"line":22,"address":[2257999,2258044,2258384,2258104],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":7,"coverable":7},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","le.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::arguments::Args;\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl LeArg) -\u003e Command {\n    args.into_le_opts().add_to_cmd(Command::new(TermType::Le))\n}\n\npub trait LeArg {\n    fn into_le_opts(self) -\u003e CmdOpts;\n}\n\nimpl\u003cT: Serialize\u003e LeArg for T {\n    fn into_le_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(Command::from_json(self))\n    }\n}\n\nimpl\u003cT: Serialize\u003e LeArg for Args\u003cVec\u003cT\u003e\u003e {\n    fn into_le_opts(self) -\u003e CmdOpts {\n        let commands = self.0.iter().map(Command::from_json).collect();\n\n        CmdOpts::Many(commands)\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::{args, r, Result};\n\n    #[tokio::test]\n    async fn test_le_data() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: bool = table\n            .get(1)\n            .g(\"view\")\n            .le(10)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained);\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_le_data_r() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let data_obtained: bool = r\n            .le(args!(vec![5, 6, 7]))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained);\n\n        Ok(())\n    }\n}\n","traces":[{"line":9,"address":[2392184,2392157,2392208,2392377,2392404,2391952],"length":1,"stats":{"Line":2},"fn_name":"new\u003creql_rust::arguments::Args\u003calloc::vec::Vec\u003ci32, alloc::alloc::Global\u003e\u003e\u003e"},{"line":10,"address":[2392397,2392231,2391968,2392177],"length":1,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":19,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":25,"address":[],"length":0,"stats":{"Line":2},"fn_name":null},{"line":27,"address":[1820477],"length":1,"stats":{"Line":1},"fn_name":null},{"line":38,"address":[4416261,4415895,4416309,4415856],"length":1,"stats":{"Line":6},"fn_name":"test_le_data"},{"line":39,"address":[2342332,2341549,2341717,2341331,2341895,2341396],"length":1,"stats":{"Line":4},"fn_name":null},{"line":40,"address":[2343361,2343551,2343041,2343260,2343317,2342565,2342846,2342279,2342769],"length":1,"stats":{"Line":6},"fn_name":null},{"line":44,"address":[2342974,2341500,2342802,2341417,2342675],"length":1,"stats":{"Line":5},"fn_name":null},{"line":45,"address":[2343164],"length":1,"stats":{"Line":0},"fn_name":null},{"line":49,"address":[2343754,2343440],"length":1,"stats":{"Line":1},"fn_name":null},{"line":51,"address":[6852001],"length":1,"stats":{"Line":7},"fn_name":null},{"line":55,"address":[2344772,2344480,2344489,2344637,2344569,2345071,2344512],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":56,"address":[2345082,2345350,2344661,2344893,2344732,2344627],"length":1,"stats":{"Line":4},"fn_name":null},{"line":57,"address":[2346341,2346378,2346568,2345809,2345666,2345698,2346284,2345880,2346065],"length":1,"stats":{"Line":6},"fn_name":null},{"line":58,"address":[2345335,2345578],"length":1,"stats":{"Line":2},"fn_name":null},{"line":59,"address":[2345721,2345678,2346008,2345839,2344676],"length":1,"stats":{"Line":5},"fn_name":null},{"line":60,"address":[2346188],"length":1,"stats":{"Line":0},"fn_name":null},{"line":64,"address":[2346680,2346457],"length":1,"stats":{"Line":1},"fn_name":null},{"line":66,"address":[2346654],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":20,"coverable":22},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","limit.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(step: usize) -\u003e Command {\n    let arg = Command::from_json(step);\n\n    Command::new(TermType::Limit).with_arg(arg)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::cmd::order_by::OrderByOption;\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_limit_data() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: Vec\u003cPost\u003e = table\n            .order_by(OrderByOption::default().index(\"title\"))\n            .limit(1)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained.first() == data.first());\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":5,"address":[2584288,2584499,2584530],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2584313],"length":1,"stats":{"Line":1},"fn_name":null},{"line":8,"address":[2584411,2584340],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[4216245,4215840,4215879,4216293],"length":1,"stats":{"Line":6},"fn_name":"test_limit_data"},{"line":20,"address":[4893027],"length":1,"stats":{"Line":1},"fn_name":null},{"line":21,"address":[4894071,4893640,4893465,4893240,4893405,4893087],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[4894320,4894031,4894864,4894669,4894475,4894388,4895184,4895420,4895083,4895140,4894592],"length":1,"stats":{"Line":8},"fn_name":null},{"line":23,"address":[4894061,4894359,4894244,4894413,4894395],"length":1,"stats":{"Line":2},"fn_name":null},{"line":25,"address":[4893108,4894498,4894455,4894797,4893191,4894625],"length":1,"stats":{"Line":6},"fn_name":null},{"line":26,"address":[4894987],"length":1,"stats":{"Line":0},"fn_name":null},{"line":30,"address":[4895852,4895681,4895304],"length":1,"stats":{"Line":2},"fn_name":null},{"line":32,"address":[4215871,4215976,4216256,4215916],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":11,"coverable":12},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","line.rs"],"content":"use ql2::term::TermType;\nuse serde::{Deserialize, Serialize};\n\nuse crate::prelude::Geometry;\nuse crate::types::{GeoType, ReqlType};\nuse crate::Command;\n\nuse super::point::Point;\n\n#[derive(Debug, Serialize, Deserialize, Clone, PartialEq, PartialOrd, Geometry)]\npub struct Line {\n    #[serde(rename = \"$reql_type$\")]\n    pub reql_type: ReqlType,\n    pub coordinates: Vec\u003c[f64; 2]\u003e,\n    #[serde(rename = \"type\")]\n    pub typ: GeoType,\n}\n\nimpl Line {\n    pub fn new(points: \u0026[Point]) -\u003e Self {\n        assert!(points.len() \u003e= 2);\n\n        Self {\n            reql_type: ReqlType::Geometry,\n            typ: GeoType::LineString,\n            coordinates: points.iter().map(|point| point.coordinates).collect(),\n        }\n    }\n\n    /// Convert a Line object into a Polygon object.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// line.fill()  polygon\n    /// ```\n    ///\n    /// Where:\n    /// - polygon: [Polygon](crate::cmd::polygon::Polygon)\n    ///\n    /// # Description\n    ///\n    /// If the last point does not specify the same coordinates as the first point,\n    /// `polygon` will close the polygon by connecting them.\n    ///\n    /// Longitude (180 to 180) and latitude (90 to 90)\n    /// of vertices are plotted on a perfect sphere.\n    /// See [Geospatial support](https://rethinkdb.com/docs/geo-support/python/)\n    /// for more information on ReQLs coordinate system.\n    ///\n    /// If the last point does not specify the same coordinates as the first point,\n    /// `polygon` will close the polygon by connecting them.\n    /// You cannot directly construct a polygon with holes in it using `polygon`,\n    /// but you can use [polygon_sub](crate::types::Polygon::polygon_sub)\n    /// to use a second polygon within the interior of the first to define a hole.\n    ///\n    /// ## Examples\n    ///\n    /// Create a line object and then convert it to a polygon.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.line(\u0026[\n    ///         r.point(-122.423246, 37.779388),\n    ///         r.point(-122.423246, 37.329898),\n    ///         r.point(-121.886420, 37.329898),\n    ///         r.point(-121.886420, 37.779388),\n    ///     ])\n    ///     .fill()\n    ///     .run(\u0026conn)\n    ///     .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [polygon](crate::r::polygon)\n    /// - [line](crate::r::line)\n    pub fn fill(self) -\u003e Command {\n        super::fill::new().with_parent(self.into())\n    }\n}\n\nimpl From\u003cLine\u003e for Command {\n    fn from(line: Line) -\u003e Self {\n        line.coordinates\n            .iter()\n            .fold(Command::new(TermType::Line), |command, coord| {\n                let point: Command = Point::new(coord[0], coord[1]).into();\n\n                command.with_arg(point)\n            })\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use serde::{Deserialize, Serialize};\n\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::{Line, Point};\n    use crate::{r, Result};\n\n    #[derive(Debug, Serialize, Deserialize, PartialEq)]\n    struct Route {\n        id: u8,\n        route: Line,\n    }\n\n    #[tokio::test]\n    async fn test_line_data() -\u003e Result\u003c()\u003e {\n        let route = Route {\n            id: 1,\n            route: r.line(\u0026[\n                Point::new(-122.423246, 37.779388),\n                Point::new(-121.886420, 37.329898),\n            ]),\n        };\n        let (conn, table, table_name) = set_up(false).await?;\n        table.clone().insert(\u0026route).run(\u0026conn).await?;\n        let response: Route = table.get(1).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == route);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":20,"address":[4744848],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":21,"address":[2026581,2026530],"length":1,"stats":{"Line":1},"fn_name":null},{"line":26,"address":[2654864,2654848],"length":1,"stats":{"Line":4},"fn_name":"{closure#0}"},{"line":88,"address":[2108368,2108649],"length":1,"stats":{"Line":1},"fn_name":"fill"},{"line":89,"address":[4745176,4745094,4745331],"length":1,"stats":{"Line":2},"fn_name":null},{"line":94,"address":[2256635,2256416],"length":1,"stats":{"Line":1},"fn_name":"from"},{"line":95,"address":[2256606,2256518,2256446],"length":1,"stats":{"Line":3},"fn_name":null},{"line":97,"address":[2256558],"length":1,"stats":{"Line":2},"fn_name":null},{"line":98,"address":[4190326,4190420],"length":1,"stats":{"Line":2},"fn_name":null},{"line":100,"address":[2655048],"length":1,"stats":{"Line":1},"fn_name":null},{"line":121,"address":[4420869,4420455,4420821,4420416],"length":1,"stats":{"Line":6},"fn_name":"test_line_data"},{"line":124,"address":[4682420],"length":1,"stats":{"Line":1},"fn_name":null},{"line":129,"address":[6869595],"length":1,"stats":{"Line":4},"fn_name":null},{"line":130,"address":[4682026,4682183,4683436,4683202],"length":1,"stats":{"Line":4},"fn_name":null},{"line":131,"address":[4682047,4685194,4684176,4684300,4685020,4682132],"length":1,"stats":{"Line":5},"fn_name":null},{"line":133,"address":[4685676,4685180,4685618],"length":1,"stats":{"Line":2},"fn_name":null},{"line":135,"address":[4420447,4420552,4420832,4420492],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":17,"coverable":17},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","literal.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(selector: impl Serialize) -\u003e Command {\n    let arg = Command::from_json(selector);\n\n    Command::new(TermType::Literal).with_arg(arg)\n}\n\n// TODO write test\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","lt.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::arguments::Args;\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl LtArg) -\u003e Command {\n    args.into_lt_opts().add_to_cmd(Command::new(TermType::Lt))\n}\n\npub trait LtArg {\n    fn into_lt_opts(self) -\u003e CmdOpts;\n}\n\nimpl\u003cT: Serialize\u003e LtArg for T {\n    fn into_lt_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(Command::from_json(self))\n    }\n}\n\nimpl\u003cT: Serialize\u003e LtArg for Args\u003cVec\u003cT\u003e\u003e {\n    fn into_lt_opts(self) -\u003e CmdOpts {\n        let commands = self.0.iter().map(Command::from_json).collect();\n\n        CmdOpts::Many(commands)\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::{args, r, Result};\n\n    #[tokio::test]\n    async fn test_lt_data() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: bool = table\n            .get(1)\n            .g(\"view\")\n            .lt(15)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained);\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_lt_data_r() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let data_obtained: bool = r\n            .lt(args!(vec![5, 6, 7]))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained);\n\n        Ok(())\n    }\n}\n","traces":[{"line":9,"address":[6679056,6679496,6679469,6679264,6679225,6679252],"length":1,"stats":{"Line":2},"fn_name":"new\u003ci32\u003e"},{"line":10,"address":[6679245,6679079,6679489,6679280],"length":1,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":19,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":25,"address":[],"length":0,"stats":{"Line":2},"fn_name":null},{"line":27,"address":[1820765],"length":1,"stats":{"Line":1},"fn_name":null},{"line":38,"address":[2582437,2582485,2582071,2582032],"length":1,"stats":{"Line":6},"fn_name":"test_lt_data"},{"line":39,"address":[3589501,3589847,3589348,3590284,3589669,3589283],"length":1,"stats":{"Line":4},"fn_name":null},{"line":40,"address":[3590993,3591269,3590231,3590721,3590798,3591212,3590517,3591503,3591313],"length":1,"stats":{"Line":6},"fn_name":null},{"line":44,"address":[3589452,3590627,3590754,3589369,3590926],"length":1,"stats":{"Line":5},"fn_name":null},{"line":45,"address":[3591116],"length":1,"stats":{"Line":0},"fn_name":null},{"line":49,"address":[3591706,3591392],"length":1,"stats":{"Line":1},"fn_name":null},{"line":51,"address":[6852513],"length":1,"stats":{"Line":7},"fn_name":null},{"line":55,"address":[2582567,2582528,2582933,2582981],"length":1,"stats":{"Line":6},"fn_name":"test_lt_data_r"},{"line":56,"address":[3593302,3592613,3592579,3592684,3593034,3592845],"length":1,"stats":{"Line":4},"fn_name":null},{"line":57,"address":[3593618,3593761,3594520,3594293,3593832,3594236,3594017,3594330,3593650],"length":1,"stats":{"Line":6},"fn_name":null},{"line":58,"address":[3593530,3593287],"length":1,"stats":{"Line":2},"fn_name":null},{"line":59,"address":[3593673,3593960,3593630,3592628,3593791],"length":1,"stats":{"Line":5},"fn_name":null},{"line":60,"address":[3594140],"length":1,"stats":{"Line":0},"fn_name":null},{"line":64,"address":[3594632,3594409],"length":1,"stats":{"Line":1},"fn_name":null},{"line":66,"address":[2582664,2582604,2582944,2582559],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":20,"coverable":22},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","map.rs"],"content":"use ql2::term::TermType;\n\nuse crate::arguments::Args;\nuse crate::prelude::Func;\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl MapArg) -\u003e Command {\n    let (args, func) = args.into_map_opts();\n    let mut command = Command::new(TermType::Map);\n\n    if let Some(args) = args {\n        command = args.add_to_cmd(command);\n    }\n\n    command.with_arg(func)\n}\n\npub trait MapArg {\n    fn into_map_opts(self) -\u003e (Option\u003cCmdOpts\u003e, Command);\n}\n\nimpl MapArg for Func {\n    fn into_map_opts(self) -\u003e (Option\u003cCmdOpts\u003e, Command) {\n        (None, self.0)\n    }\n}\n\nimpl MapArg for Args\u003c(Command, Func)\u003e {\n    fn into_map_opts(self) -\u003e (Option\u003cCmdOpts\u003e, Command) {\n        let Func(func) = self.0 .1;\n\n        (Some(CmdOpts::Single(self.0 .0)), func)\n    }\n}\n\nimpl MapArg for Args\u003c(Vec\u003cCommand\u003e, Func)\u003e {\n    fn into_map_opts(self) -\u003e (Option\u003cCmdOpts\u003e, Command) {\n        let Func(func) = self.0 .1;\n\n        (Some(CmdOpts::Many(self.0 .0)), func)\n    }\n}\n\n// TODO write test\n","traces":[{"line":9,"address":[4209164,4208544,4209185],"length":1,"stats":{"Line":1},"fn_name":"new\u003creql_rust::cmd::func::Func\u003e"},{"line":10,"address":[4208561],"length":1,"stats":{"Line":1},"fn_name":null},{"line":11,"address":[4208692],"length":1,"stats":{"Line":1},"fn_name":null},{"line":13,"address":[4209072,4208766],"length":1,"stats":{"Line":1},"fn_name":null},{"line":14,"address":[4209046,4208878],"length":1,"stats":{"Line":0},"fn_name":null},{"line":17,"address":[4208981],"length":1,"stats":{"Line":1},"fn_name":null},{"line":25,"address":[2828992],"length":1,"stats":{"Line":1},"fn_name":"into_map_opts"},{"line":26,"address":[7019968],"length":1,"stats":{"Line":1},"fn_name":null},{"line":31,"address":[2660608],"length":1,"stats":{"Line":0},"fn_name":"into_map_opts"},{"line":32,"address":[6662470],"length":1,"stats":{"Line":0},"fn_name":null},{"line":34,"address":[6662497],"length":1,"stats":{"Line":0},"fn_name":null},{"line":39,"address":[6662672],"length":1,"stats":{"Line":0},"fn_name":"into_map_opts"},{"line":40,"address":[6662694],"length":1,"stats":{"Line":0},"fn_name":null},{"line":42,"address":[6662718],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":7,"coverable":14},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","match_.rs"],"content":"use ql2::term::TermType;\nuse regex::Regex;\n\nuse crate::Command;\n\npub(crate) fn new(regex: Regex) -\u003e Command {\n    let arg = Command::from_json(regex.as_str());\n\n    Command::new(TermType::Match).with_arg(arg)\n}\n\n// write test\n","traces":[{"line":6,"address":[4751244,4750944],"length":1,"stats":{"Line":0},"fn_name":"new"},{"line":7,"address":[4750971,4751061],"length":1,"stats":{"Line":0},"fn_name":null},{"line":9,"address":[4751143,4751076],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":3},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","max.rs"],"content":"use std::borrow::Cow;\n\nuse ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::prelude::Func;\nuse crate::Command;\n\npub(crate) fn new(args: impl MaxArg) -\u003e Command {\n    let (arg1, arg2, opts) = args.into_max_opts();\n    let mut command = Command::new(TermType::Max);\n\n    if let Some(arg) = arg1 {\n        command = command.with_arg(arg)\n    }\n\n    if let Some(arg) = arg2 {\n        command = command.with_arg(arg)\n    }\n\n    command.with_opts(opts)\n}\n\npub trait MaxArg {\n    fn into_max_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, MaxOption);\n}\n\nimpl MaxArg for \u0026str {\n    fn into_max_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, MaxOption) {\n        let arg = Command::from_json(self);\n\n        (None, Some(arg), Default::default())\n    }\n}\n\nimpl MaxArg for Func {\n    fn into_max_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, MaxOption) {\n        (None, Some(self.0), Default::default())\n    }\n}\n\nimpl MaxArg for MaxOption {\n    fn into_max_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, MaxOption) {\n        (None, None, self)\n    }\n}\n\nimpl MaxArg for (Command, \u0026str) {\n    fn into_max_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, MaxOption) {\n        let arg = Command::from_json(self.1);\n\n        (Some(self.0), Some(arg), Default::default())\n    }\n}\n\nimpl MaxArg for (Command, Func) {\n    fn into_max_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, MaxOption) {\n        (Some(self.0), None, Default::default())\n    }\n}\n\nimpl MaxArg for (Command, MaxOption) {\n    fn into_max_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, MaxOption) {\n        (Some(self.0), None, self.1)\n    }\n}\n\n#[derive(Debug, Clone, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct MaxOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub index: Option\u003cCow\u003c'static, str\u003e\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_max_data() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: Post = table.max(\"view\").run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(Some(\u0026data_obtained) == data.first());\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":10,"address":[2305840,2306717,2306891],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":11,"address":[2305873],"length":1,"stats":{"Line":1},"fn_name":null},{"line":12,"address":[2306034],"length":1,"stats":{"Line":1},"fn_name":null},{"line":14,"address":[2306108,2306350],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[2306324,2306229],"length":1,"stats":{"Line":0},"fn_name":null},{"line":18,"address":[2306352,2306619,2306286],"length":1,"stats":{"Line":3},"fn_name":null},{"line":19,"address":[2306436,2306593],"length":1,"stats":{"Line":2},"fn_name":null},{"line":22,"address":[2306526],"length":1,"stats":{"Line":1},"fn_name":null},{"line":30,"address":[2460135,2459824,2460165],"length":1,"stats":{"Line":1},"fn_name":"into_max_opts"},{"line":31,"address":[4789169],"length":1,"stats":{"Line":1},"fn_name":null},{"line":33,"address":[2460146,2459868],"length":1,"stats":{"Line":1},"fn_name":null},{"line":38,"address":[2747758,2747731,2747456],"length":1,"stats":{"Line":0},"fn_name":"into_max_opts"},{"line":39,"address":[2747473,2747742],"length":1,"stats":{"Line":0},"fn_name":null},{"line":44,"address":[4789488],"length":1,"stats":{"Line":0},"fn_name":"into_max_opts"},{"line":45,"address":[4789508],"length":1,"stats":{"Line":0},"fn_name":null},{"line":50,"address":[2175040,2175470,2175503],"length":1,"stats":{"Line":0},"fn_name":"into_max_opts"},{"line":51,"address":[2175065],"length":1,"stats":{"Line":0},"fn_name":null},{"line":53,"address":[4041849,4041521],"length":1,"stats":{"Line":0},"fn_name":null},{"line":58,"address":[4042168,4042209,4041888],"length":1,"stats":{"Line":0},"fn_name":"into_max_opts"},{"line":59,"address":[2175832,2175592],"length":1,"stats":{"Line":0},"fn_name":null},{"line":64,"address":[2175904],"length":1,"stats":{"Line":0},"fn_name":"into_max_opts"},{"line":65,"address":[2175926],"length":1,"stats":{"Line":0},"fn_name":null},{"line":82,"address":[4795303,4795264,4795717,4795669],"length":1,"stats":{"Line":6},"fn_name":"test_max_data"},{"line":83,"address":[4584355],"length":1,"stats":{"Line":1},"fn_name":null},{"line":84,"address":[4584960,4584407,4585405,4584785,4584560,4584725],"length":1,"stats":{"Line":4},"fn_name":null},{"line":85,"address":[4586342,4584428,4586549,4585613,4584511,4585345],"length":1,"stats":{"Line":5},"fn_name":null},{"line":87,"address":[4586906,4587017,4586521],"length":1,"stats":{"Line":2},"fn_name":null},{"line":89,"address":[4587270,4584446,4586976,4587350,4587480,4587214,4587090],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":16,"coverable":28},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","merge.rs"],"content":"use ql2::term::TermType;\n\nuse crate::arguments::AnyParam;\nuse crate::prelude::Func;\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl MergeArg) -\u003e Command {\n    args.into_merge_opts()\n        .add_to_cmd(Command::new(TermType::Merge))\n}\n\npub trait MergeArg {\n    fn into_merge_opts(self) -\u003e CmdOpts;\n}\n\nimpl MergeArg for AnyParam {\n    fn into_merge_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(self.into())\n    }\n}\n\nimpl MergeArg for Command {\n    fn into_merge_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(self)\n    }\n}\n\nimpl MergeArg for Func {\n    fn into_merge_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(self.0)\n    }\n}\n\nimpl MergeArg for Vec\u003cCommand\u003e {\n    fn into_merge_opts(self) -\u003e CmdOpts {\n        CmdOpts::Many(self)\n    }\n}\n\nimpl MergeArg for Vec\u003cFunc\u003e {\n    fn into_merge_opts(self) -\u003e CmdOpts {\n        let cmds = self.into_iter().map(|func| func.0).collect();\n\n        CmdOpts::Many(cmds)\n    }\n}\n\n// TODO write test\n","traces":[{"line":9,"address":[2719664,2719879,2719852],"length":1,"stats":{"Line":1},"fn_name":"new\u003creql_rust::proto::Command\u003e"},{"line":10,"address":[2719680,2719803],"length":1,"stats":{"Line":2},"fn_name":null},{"line":11,"address":[2719732,2719836,2719872],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[5126656],"length":1,"stats":{"Line":0},"fn_name":"into_merge_opts"},{"line":20,"address":[2856785],"length":1,"stats":{"Line":0},"fn_name":null},{"line":25,"address":[4042512],"length":1,"stats":{"Line":1},"fn_name":"into_merge_opts"},{"line":26,"address":[4042528],"length":1,"stats":{"Line":1},"fn_name":null},{"line":31,"address":[7020384],"length":1,"stats":{"Line":0},"fn_name":"into_merge_opts"},{"line":32,"address":[7020400],"length":1,"stats":{"Line":0},"fn_name":null},{"line":37,"address":[4439648],"length":1,"stats":{"Line":0},"fn_name":"into_merge_opts"},{"line":38,"address":[4439655],"length":1,"stats":{"Line":0},"fn_name":null},{"line":43,"address":[4439728],"length":1,"stats":{"Line":0},"fn_name":"into_merge_opts"},{"line":44,"address":[2719904,2719932],"length":1,"stats":{"Line":0},"fn_name":"{closure#0}"},{"line":46,"address":[4439824],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":5,"coverable":14},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","min.rs"],"content":"use std::borrow::Cow;\n\nuse ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::prelude::Func;\nuse crate::Command;\n\npub(crate) fn new(args: impl MinArg) -\u003e Command {\n    let (arg1, arg2, opts) = args.into_min_opts();\n    let mut command = Command::new(TermType::Min);\n\n    if let Some(arg) = arg1 {\n        command = command.with_arg(arg)\n    }\n\n    if let Some(arg) = arg2 {\n        command = command.with_arg(arg)\n    }\n\n    command.with_opts(opts)\n}\n\npub trait MinArg {\n    fn into_min_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, MinOption);\n}\n\nimpl MinArg for \u0026str {\n    fn into_min_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, MinOption) {\n        let arg = Command::from_json(self);\n\n        (None, Some(arg), Default::default())\n    }\n}\n\nimpl MinArg for Func {\n    fn into_min_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, MinOption) {\n        (None, Some(self.0), Default::default())\n    }\n}\n\nimpl MinArg for MinOption {\n    fn into_min_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, MinOption) {\n        (None, None, self)\n    }\n}\n\nimpl MinArg for (Command, \u0026str) {\n    fn into_min_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, MinOption) {\n        let arg = Command::from_json(self.1);\n\n        (Some(self.0), Some(arg), Default::default())\n    }\n}\n\nimpl MinArg for (Command, Func) {\n    fn into_min_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, MinOption) {\n        (Some(self.0), None, Default::default())\n    }\n}\n\nimpl MinArg for (Command, MinOption) {\n    fn into_min_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, MinOption) {\n        (Some(self.0), None, self.1)\n    }\n}\n\n#[derive(Debug, Clone, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct MinOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub index: Option\u003cCow\u003c'static, str\u003e\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_min_data() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: Post = table.min(\"view\").run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(Some(\u0026data_obtained) == data.last());\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":10,"address":[4669325,4668448,4669499],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":11,"address":[4668481],"length":1,"stats":{"Line":1},"fn_name":null},{"line":12,"address":[4668642],"length":1,"stats":{"Line":1},"fn_name":null},{"line":14,"address":[4668958,4668716],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[4668932,4668837],"length":1,"stats":{"Line":0},"fn_name":null},{"line":18,"address":[4668894,4668960,4669227],"length":1,"stats":{"Line":3},"fn_name":null},{"line":19,"address":[4669201,4669044],"length":1,"stats":{"Line":2},"fn_name":null},{"line":22,"address":[4669134],"length":1,"stats":{"Line":1},"fn_name":null},{"line":30,"address":[2731879,2731909,2731568],"length":1,"stats":{"Line":1},"fn_name":"into_min_opts"},{"line":31,"address":[4789745],"length":1,"stats":{"Line":1},"fn_name":null},{"line":33,"address":[2731612,2731890],"length":1,"stats":{"Line":1},"fn_name":null},{"line":38,"address":[2747856,2748158,2748131],"length":1,"stats":{"Line":0},"fn_name":"into_min_opts"},{"line":39,"address":[2748142,2747873],"length":1,"stats":{"Line":0},"fn_name":null},{"line":44,"address":[4790064],"length":1,"stats":{"Line":0},"fn_name":"into_min_opts"},{"line":45,"address":[4790084],"length":1,"stats":{"Line":0},"fn_name":null},{"line":50,"address":[2176686,2176719,2176256],"length":1,"stats":{"Line":0},"fn_name":"into_min_opts"},{"line":51,"address":[2176281],"length":1,"stats":{"Line":0},"fn_name":null},{"line":53,"address":[4043033,4042705],"length":1,"stats":{"Line":0},"fn_name":null},{"line":58,"address":[4043352,4043393,4043072],"length":1,"stats":{"Line":0},"fn_name":"into_min_opts"},{"line":59,"address":[2176808,2177048],"length":1,"stats":{"Line":0},"fn_name":null},{"line":64,"address":[2177120],"length":1,"stats":{"Line":0},"fn_name":"into_min_opts"},{"line":65,"address":[2177142],"length":1,"stats":{"Line":0},"fn_name":null},{"line":82,"address":[4795799,4795760,4796213,4796165],"length":1,"stats":{"Line":6},"fn_name":"test_min_data"},{"line":83,"address":[4762147],"length":1,"stats":{"Line":1},"fn_name":null},{"line":84,"address":[4762199,4762352,4762577,4762752,4762517,4763197],"length":1,"stats":{"Line":4},"fn_name":null},{"line":85,"address":[4763137,4764341,4762303,4764134,4762220,4763405],"length":1,"stats":{"Line":5},"fn_name":null},{"line":87,"address":[4764809,4764698,4764313],"length":1,"stats":{"Line":2},"fn_name":null},{"line":89,"address":[4765142,4764768,4762238,4764882,4765006,4765272,4765062],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":16,"coverable":28},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","minutes.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Minutes)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_minutes_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let minutes = r.now().minutes();\n        let minutes1 = minutes.clone().value();\n        let minutes2: u8 = minutes.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(minutes1 == minutes2);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2719952],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2719964],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[4540704,4540672,4540761,4540681,4540838,4540975,4541274],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":16,"address":[4540935,4541096,4540862,4541285,4540816,4541546],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[4541536,4541792],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[4541820,4541883],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[4541927,4542822,4542014,4542727,4540877],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[4542801,4543015],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[4542985],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":9,"coverable":9},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","month.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Month)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_month_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let month = r.now().month();\n        let month1 = month.clone().value();\n        let month2: u8 = month.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(month1 == month2);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2720000],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2720012],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[1539392,1539994,1539424,1539481,1539558,1539695,1539401],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":16,"address":[1539582,1540266,1539816,1539655,1539536,1540005],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[1540256,1540512],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[1540603,1540540],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[1539597,1540647,1541542,1540734,1541447],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[1541735,1541521],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[1541705],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":9,"coverable":9},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","mul.rs"],"content":"use std::ops::Mul;\n\nuse ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\nimpl\u003cT: MulArg\u003e Mul\u003cT\u003e for Command {\n    type Output = Self;\n\n    fn mul(self, arg: T) -\u003e Self {\n        Command::new(TermType::Mul)\n            .with_arg(arg.into_mul_opts())\n            .with_parent(self)\n    }\n}\n\npub trait MulArg {\n    fn into_mul_opts(self) -\u003e Command;\n}\n\nimpl\u003cT: AsRef\u003c[f64]\u003e + Serialize\u003e MulArg for T {\n    fn into_mul_opts(self) -\u003e Command {\n        Command::from_json(self)\n    }\n}\n\nimpl MulArg for Command {\n    fn into_mul_opts(self) -\u003e Command {\n        self\n    }\n}\n\n// TODO write test\n","traces":[{"line":11,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":12,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":13,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":14,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":23,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":24,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":29,"address":[4043696],"length":1,"stats":{"Line":0},"fn_name":"into_mul_opts"},{"line":30,"address":[4043704],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":8},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","ne.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::arguments::AnyParam;\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl NeArg) -\u003e Command {\n    args.into_ne_opts().add_to_cmd(Command::new(TermType::Ne))\n}\n\npub trait NeArg {\n    fn into_ne_opts(self) -\u003e CmdOpts;\n}\n\nimpl NeArg for AnyParam {\n    fn into_ne_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(self.into())\n    }\n}\n\nimpl\u003cT: Serialize\u003e NeArg for Vec\u003cT\u003e {\n    fn into_ne_opts(self) -\u003e CmdOpts {\n        let commands = self.iter().map(Command::from_json).collect();\n\n        CmdOpts::Many(commands)\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::arguments::AnyParam;\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_ne_data() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: bool = table\n            .get(1)\n            .g(\"title\")\n            .ne(AnyParam::new(\"title\"))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained);\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_ne_data_r() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let data_obtained: bool = r.ne(vec![5, 6, 7]).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained);\n\n        Ok(())\n    }\n}\n","traces":[{"line":9,"address":[6643456,6643405,6643200,6643671,6643432,6643644],"length":1,"stats":{"Line":2},"fn_name":"new\u003calloc::vec::Vec\u003ci32, alloc::alloc::Global\u003e\u003e"},{"line":10,"address":[6643425,6643664,6643216,6643472],"length":1,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[2856880],"length":1,"stats":{"Line":1},"fn_name":"into_ne_opts"},{"line":19,"address":[2856897],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":25,"address":[],"length":0,"stats":{"Line":2},"fn_name":null},{"line":27,"address":[],"length":0,"stats":{"Line":1},"fn_name":null},{"line":39,"address":[1653797,1653392,1653845,1653431],"length":1,"stats":{"Line":6},"fn_name":"test_ne_data"},{"line":40,"address":[5130468,5129459,5129685,5129532,5130031,5129853],"length":1,"stats":{"Line":4},"fn_name":null},{"line":41,"address":[5131043,5131591,5130415,5131120,5131315,5131534,5130709,5130884,5130813,5131635,5131825],"length":1,"stats":{"Line":8},"fn_name":null},{"line":44,"address":[5130860,5130899,5130674,5130752],"length":1,"stats":{"Line":2},"fn_name":null},{"line":45,"address":[6853168],"length":1,"stats":{"Line":5},"fn_name":null},{"line":46,"address":[5131438],"length":1,"stats":{"Line":0},"fn_name":null},{"line":50,"address":[5131714,5132028],"length":1,"stats":{"Line":1},"fn_name":null},{"line":52,"address":[1653528,1653423,1653808,1653468],"length":1,"stats":{"Line":7},"fn_name":null},{"line":56,"address":[1654293,1653888,1654341,1653927],"length":1,"stats":{"Line":6},"fn_name":"test_ne_data_r"},{"line":57,"address":[5133020,5132949,5133181,5133638,5132915,5133370],"length":1,"stats":{"Line":4},"fn_name":null},{"line":58,"address":[5133623,5133866,5132964,5134728,5134634],"length":1,"stats":{"Line":4},"fn_name":null},{"line":60,"address":[5134713,5134936],"length":1,"stats":{"Line":1},"fn_name":null},{"line":62,"address":[1653919,1653964,1654304,1654024],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":19,"coverable":20},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","not_.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\n// TODO use std::ops::Not\npub(crate) fn new(args: impl NotArg) -\u003e Command {\n    let mut command = Command::new(TermType::Not);\n\n    if let Some(arg) = args.into_not_opts() {\n        command = command.with_arg(arg)\n    }\n\n    command\n}\n\npub trait NotArg {\n    fn into_not_opts(self) -\u003e Option\u003cCommand\u003e;\n}\n\nimpl NotArg for () {\n    fn into_not_opts(self) -\u003e Option\u003cCommand\u003e {\n        None\n    }\n}\n\nimpl NotArg for bool {\n    fn into_not_opts(self) -\u003e Option\u003cCommand\u003e {\n        Some(Command::from_json(self))\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_not_data_r() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let data_obtained: bool = r.not(false).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained);\n\n        Ok(())\n    }\n\n    #[tokio::test]\n    async fn test_not_data() -\u003e Result\u003c()\u003e {\n        let object = vec![\"id\", \"id1\", \"title\", \"title1\"];\n        let conn = r.connection().connect().await?;\n        let data_obtained: bool = r\n            .object(object)\n            .has_fields(\"content\")\n            .not_()\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained);\n\n        Ok(())\n    }\n}\n","traces":[{"line":6,"address":[7028911,7028345,7027792,7028384],"length":1,"stats":{"Line":2},"fn_name":"new\u003cbool\u003e"},{"line":7,"address":[2606884,2607480,2607380,2606788],"length":1,"stats":{"Line":4},"fn_name":null},{"line":9,"address":[2606954,2607833,2607488,2607231,2606892,2607556],"length":1,"stats":{"Line":5},"fn_name":null},{"line":10,"address":[2607060,2607205,2607662,2607807],"length":1,"stats":{"Line":2},"fn_name":null},{"line":13,"address":[2689506,2688904],"length":1,"stats":{"Line":2},"fn_name":null},{"line":21,"address":[4106624],"length":1,"stats":{"Line":1},"fn_name":"into_not_opts"},{"line":22,"address":[2839444],"length":1,"stats":{"Line":1},"fn_name":null},{"line":27,"address":[4106640],"length":1,"stats":{"Line":1},"fn_name":"into_not_opts"},{"line":28,"address":[4106672],"length":1,"stats":{"Line":1},"fn_name":null},{"line":38,"address":[4416848,4417301,4417253,4416887],"length":1,"stats":{"Line":6},"fn_name":"test_not_data_r"},{"line":39,"address":[2392764,2393377,2393114,2392659,2392925,2392693],"length":1,"stats":{"Line":4},"fn_name":null},{"line":40,"address":[2394305,2393605,2394399,2392708,2393367],"length":1,"stats":{"Line":4},"fn_name":null},{"line":42,"address":[2394607,2394384],"length":1,"stats":{"Line":1},"fn_name":null},{"line":44,"address":[2394581],"length":1,"stats":{"Line":5},"fn_name":null},{"line":48,"address":[2394761,2395452,2394681,2395050,2394672,2394846,2394981,2394704],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":49,"address":[2394817,2395101],"length":1,"stats":{"Line":2},"fn_name":null},{"line":50,"address":[6865621],"length":1,"stats":{"Line":4},"fn_name":null},{"line":51,"address":[2395962,2395750,2396628,2396223,2396908,2396409,2396685,2396718,2396152],"length":1,"stats":{"Line":6},"fn_name":null},{"line":52,"address":[2395706],"length":1,"stats":{"Line":1},"fn_name":null},{"line":55,"address":[2396064,2394885,2396182,2396351],"length":1,"stats":{"Line":4},"fn_name":null},{"line":56,"address":[2396532],"length":1,"stats":{"Line":0},"fn_name":null},{"line":60,"address":[2396797,2397082],"length":1,"stats":{"Line":1},"fn_name":null},{"line":62,"address":[2397063],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":22,"coverable":23},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","now.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Now)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::types::Time;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_now_time() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let time1 = r.now().value();\n        let time2: Time = r.now().cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(time1.is_valid());\n        assert!(time2.is_valid());\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2720048],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2720060],"length":1,"stats":{"Line":1},"fn_name":null},{"line":16,"address":[1678485,1678080,1678533,1678119],"length":1,"stats":{"Line":6},"fn_name":"test_now_time"},{"line":17,"address":[1783820,1783715,1783749,1784170,1784431,1783981],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[1784673,1784421],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[1785630,1783764,1784750,1785462,1784700],"length":1,"stats":{"Line":4},"fn_name":null},{"line":21,"address":[1785612,1785867,1785892],"length":1,"stats":{"Line":2},"fn_name":null},{"line":22,"address":[1785881,1785961,1785928],"length":1,"stats":{"Line":2},"fn_name":null},{"line":24,"address":[1678111,1678216,1678496,1678156],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":9,"coverable":9},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","nth.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(index: isize) -\u003e Command {\n    let arg = Command::from_json(index);\n\n    Command::new(TermType::Nth).with_arg(arg)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::cmd::order_by::OrderByOption;\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_nth_data() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: Post = table\n            .order_by(OrderByOption::default().index(\"title\"))\n            .nth(-1)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data.last() == Some(\u0026data_obtained));\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":5,"address":[2313424,2313635,2313666],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2313449],"length":1,"stats":{"Line":1},"fn_name":null},{"line":8,"address":[2313476,2313547],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[4495680,4495749,4495657,4495841,4496067,4495648,4496413],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":20,"address":[4495811],"length":1,"stats":{"Line":1},"fn_name":null},{"line":21,"address":[4496855,4495871,4496189,4496249,4496424,4496024],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[4497455,4497261,4497650,4497378,4497174,4497970,4496815,4497104,4498258,4497869,4497926],"length":1,"stats":{"Line":8},"fn_name":null},{"line":23,"address":[4497028,4497181,4497199,4496845,4497143],"length":1,"stats":{"Line":2},"fn_name":null},{"line":25,"address":[4497241,4497583,4497411,4495892,4497284,4495975],"length":1,"stats":{"Line":6},"fn_name":null},{"line":26,"address":[4497773],"length":1,"stats":{"Line":0},"fn_name":null},{"line":30,"address":[4498142,4498519,4498650],"length":1,"stats":{"Line":2},"fn_name":null},{"line":32,"address":[4498847,4498903,4498983,4495910,4499113,4498723,4498609],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":11,"coverable":12},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","object.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(values: Vec\u003cimpl Serialize\u003e) -\u003e Command {\n    let mut command = Command::new(TermType::Object);\n\n    for value in values {\n        let arg = Command::from_json(value);\n\n        command = command.with_arg(arg);\n    }\n\n    command\n}\n\n#[cfg(test)]\nmod tests {\n    use serde::{Deserialize, Serialize};\n\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[derive(Debug, PartialEq, Eq, Serialize, Deserialize)]\n    struct InnerPost {\n        id: String,\n        title: String,\n    }\n\n    #[tokio::test]\n    async fn test_object_converted() -\u003e Result\u003c()\u003e {\n        let post = InnerPost {\n            id: \"id1\".to_string(),\n            title: \"title1\".to_string(),\n        };\n        let object = vec![\"id\", \"id1\", \"title\", \"title1\"];\n\n        let conn = r.connection().connect().await?;\n        let data_obtained: InnerPost = r.object(object).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained == post);\n\n        Ok(())\n    }\n}\n","traces":[{"line":6,"address":[3585424,3586102,3586047],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":7,"address":[3585449,3585538],"length":1,"stats":{"Line":2},"fn_name":null},{"line":9,"address":[3585546,3586042,3585633,3585878],"length":1,"stats":{"Line":3},"fn_name":null},{"line":10,"address":[3585871],"length":1,"stats":{"Line":1},"fn_name":null},{"line":12,"address":[3585910],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[3586063],"length":1,"stats":{"Line":1},"fn_name":null},{"line":32,"address":[4097578,4097040,4097210,4097049,4097129,4097072,4097345],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":34,"address":[4097183],"length":1,"stats":{"Line":1},"fn_name":null},{"line":35,"address":[4097451],"length":1,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[4097640,4097566],"length":1,"stats":{"Line":2},"fn_name":null},{"line":39,"address":[4097813,4097748,4098289,4097305,4097234],"length":1,"stats":{"Line":4},"fn_name":null},{"line":40,"address":[4098235,4099197,4099369,4098496,4097249],"length":1,"stats":{"Line":4},"fn_name":null},{"line":42,"address":[4099665,4099698,4099355],"length":1,"stats":{"Line":2},"fn_name":null},{"line":44,"address":[4099671],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":14,"coverable":14},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","offsets_of.rs"],"content":"use ql2::term::TermType;\n\nuse crate::arguments::AnyParam;\nuse crate::prelude::Func;\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl OffsetsOfArg) -\u003e Command {\n    args.into_offsets_of_opts()\n        .add_to_cmd(Command::new(TermType::OffsetsOf))\n}\n\npub trait OffsetsOfArg {\n    fn into_offsets_of_opts(self) -\u003e CmdOpts;\n}\n\nimpl OffsetsOfArg for AnyParam {\n    fn into_offsets_of_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(self.into())\n    }\n}\n\nimpl OffsetsOfArg for Func {\n    fn into_offsets_of_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(self.0)\n    }\n}\n\nimpl OffsetsOfArg for Command {\n    fn into_offsets_of_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(self)\n    }\n}\n\n// TODO write test\n","traces":[{"line":19,"address":[5126880],"length":1,"stats":{"Line":0},"fn_name":"into_offsets_of_opts"},{"line":20,"address":[5126897],"length":1,"stats":{"Line":0},"fn_name":null},{"line":25,"address":[7020784],"length":1,"stats":{"Line":0},"fn_name":"into_offsets_of_opts"},{"line":26,"address":[7020800],"length":1,"stats":{"Line":0},"fn_name":null},{"line":31,"address":[4043728],"length":1,"stats":{"Line":0},"fn_name":"into_offsets_of_opts"},{"line":32,"address":[4043744],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":6},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","or.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl OrArg) -\u003e Command {\n    args.into_or_opts().add_to_cmd(Command::new(TermType::Or))\n}\n\npub trait OrArg {\n    fn into_or_opts(self) -\u003e CmdOpts;\n}\n\nimpl OrArg for bool {\n    fn into_or_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(Command::from_json(self))\n    }\n}\n\nimpl OrArg for Command {\n    fn into_or_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(self)\n    }\n}\n\nimpl OrArg for Vec\u003cbool\u003e {\n    fn into_or_opts(self) -\u003e CmdOpts {\n        let commands = self.iter().map(Command::from_json).collect();\n\n        CmdOpts::Many(commands)\n    }\n}\n\nimpl OrArg for Vec\u003cCommand\u003e {\n    fn into_or_opts(self) -\u003e CmdOpts {\n        CmdOpts::Many(self)\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_or_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let data_obtained: bool = r.or(vec![true, false]).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained);\n\n        Ok(())\n    }\n}\n","traces":[{"line":7,"address":[4533949,4533744,4533976],"length":1,"stats":{"Line":1},"fn_name":"new\u003calloc::vec::Vec\u003cbool, alloc::alloc::Global\u003e\u003e"},{"line":8,"address":[4533760,4533969],"length":1,"stats":{"Line":1},"fn_name":null},{"line":16,"address":[2121184],"length":1,"stats":{"Line":0},"fn_name":"into_or_opts"},{"line":17,"address":[2121216],"length":1,"stats":{"Line":0},"fn_name":null},{"line":22,"address":[2259152],"length":1,"stats":{"Line":0},"fn_name":"into_or_opts"},{"line":23,"address":[4043824],"length":1,"stats":{"Line":0},"fn_name":null},{"line":28,"address":[4439920,4440169],"length":1,"stats":{"Line":1},"fn_name":"into_or_opts"},{"line":29,"address":[4439950,4440019],"length":1,"stats":{"Line":2},"fn_name":null},{"line":31,"address":[4440097],"length":1,"stats":{"Line":1},"fn_name":null},{"line":36,"address":[4440208],"length":1,"stats":{"Line":0},"fn_name":"into_or_opts"},{"line":37,"address":[4440215],"length":1,"stats":{"Line":0},"fn_name":null},{"line":47,"address":[4121184,4121241,4121152,4121309,4121743,4121161,4121444],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":48,"address":[4122022,4121565,4121299,4121404,4121754,4121333],"length":1,"stats":{"Line":4},"fn_name":null},{"line":49,"address":[4123099,4122007,4121348,4123005,4122250],"length":1,"stats":{"Line":4},"fn_name":null},{"line":51,"address":[4123307,4123084],"length":1,"stats":{"Line":1},"fn_name":null},{"line":53,"address":[4123281],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":10,"coverable":16},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","order_by.rs"],"content":"use std::borrow::Cow;\n\nuse ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::arguments::Args;\nuse crate::prelude::Func;\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl OrderByArg) -\u003e Command {\n    let (args, opts) = args.into_order_by_opts();\n    let mut command = Command::new(TermType::OrderBy);\n\n    if let Some(args) = args {\n        command = args.add_to_cmd(command)\n    }\n\n    command.with_opts(opts)\n}\n\npub trait OrderByArg {\n    fn into_order_by_opts(self) -\u003e (Option\u003cCmdOpts\u003e, OrderByOption);\n}\n\nimpl OrderByArg for OrderByOption {\n    fn into_order_by_opts(self) -\u003e (Option\u003cCmdOpts\u003e, OrderByOption) {\n        (Default::default(), self)\n    }\n}\n\nimpl OrderByArg for Func {\n    fn into_order_by_opts(self) -\u003e (Option\u003cCmdOpts\u003e, OrderByOption) {\n        (Some(CmdOpts::Single(self.0)), Default::default())\n    }\n}\n\nimpl OrderByArg for Command {\n    fn into_order_by_opts(self) -\u003e (Option\u003cCmdOpts\u003e, OrderByOption) {\n        (Some(CmdOpts::Single(self)), Default::default())\n    }\n}\n\nimpl OrderByArg for Args\u003c(Func, OrderByOption)\u003e {\n    fn into_order_by_opts(self) -\u003e (Option\u003cCmdOpts\u003e, OrderByOption) {\n        let Func(func) = self.0 .0;\n\n        (Some(CmdOpts::Single(func)), self.0 .1)\n    }\n}\n\nimpl OrderByArg for Args\u003c(Command, OrderByOption)\u003e {\n    fn into_order_by_opts(self) -\u003e (Option\u003cCmdOpts\u003e, OrderByOption) {\n        (Some(CmdOpts::Single(self.0 .0)), self.0 .1)\n    }\n}\n\nimpl OrderByArg for Args\u003c(Command, Command)\u003e {\n    fn into_order_by_opts(self) -\u003e (Option\u003cCmdOpts\u003e, OrderByOption) {\n        (\n            Some(CmdOpts::Many(vec![self.0 .0, self.0 .1])),\n            Default::default(),\n        )\n    }\n}\n\nimpl OrderByArg for Args\u003c(Func, Command)\u003e {\n    fn into_order_by_opts(self) -\u003e (Option\u003cCmdOpts\u003e, OrderByOption) {\n        let Func(func) = self.0 .0;\n        (\n            Some(CmdOpts::Many(vec![func, self.0 .1])),\n            Default::default(),\n        )\n    }\n}\n\n#[derive(Debug, Clone, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\n#[non_exhaustive]\npub struct OrderByOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub index: Option\u003cCow\u003c'static, str\u003e\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::{args, r, Result};\n\n    use super::OrderByOption;\n\n    #[tokio::test]\n    async fn test_order_by_with_opts() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: Vec\u003cPost\u003e = table\n            .order_by(OrderByOption::default().index(\"id\"))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained == data);\n\n        tear_down(conn, \u0026table_name).await\n    }\n\n    #[tokio::test]\n    async fn test_order_by_title_with_opts() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let order_by_option = OrderByOption::default().index(\"title\");\n        let data_obtained: Vec\u003cPost\u003e = table\n            .order_by(args!(r.expr(\"id\"), order_by_option))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained == data);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":13,"address":[2768542,2768563,2769344,2767232,2769979,2767859,2770000,2769267,2768640,2767936,2769246,2767838],"length":1,"stats":{"Line":4},"fn_name":"new\u003creql_rust::proto::Command\u003e"},{"line":14,"address":[2767249,2768657,2769361,2767953],"length":1,"stats":{"Line":4},"fn_name":null},{"line":15,"address":[2768083,2768787,2769520,2767379],"length":1,"stats":{"Line":4},"fn_name":null},{"line":17,"address":[2769890,2769157,2767453,2769594,2767749,2768157,2768861,2768453],"length":1,"stats":{"Line":7},"fn_name":null},{"line":18,"address":[2769131,2768973,2769706,2769864,2767723,2768269,2768427,2767565],"length":1,"stats":{"Line":6},"fn_name":null},{"line":21,"address":[2769065,2768361,2767657,2769798],"length":1,"stats":{"Line":4},"fn_name":null},{"line":29,"address":[2544762,2544544],"length":1,"stats":{"Line":1},"fn_name":"into_order_by_opts"},{"line":30,"address":[2544622,2544570],"length":1,"stats":{"Line":2},"fn_name":null},{"line":35,"address":[7021130,7020864],"length":1,"stats":{"Line":0},"fn_name":"into_order_by_opts"},{"line":36,"address":[7020916],"length":1,"stats":{"Line":0},"fn_name":null},{"line":41,"address":[4044154,4043888],"length":1,"stats":{"Line":1},"fn_name":"into_order_by_opts"},{"line":42,"address":[4043940],"length":1,"stats":{"Line":1},"fn_name":null},{"line":47,"address":[6662928],"length":1,"stats":{"Line":0},"fn_name":"into_order_by_opts"},{"line":48,"address":[6662949],"length":1,"stats":{"Line":0},"fn_name":null},{"line":50,"address":[6662964],"length":1,"stats":{"Line":0},"fn_name":null},{"line":55,"address":[6663232],"length":1,"stats":{"Line":1},"fn_name":"into_order_by_opts"},{"line":56,"address":[6663254],"length":1,"stats":{"Line":1},"fn_name":null},{"line":61,"address":[6664013,6664048,6663504],"length":1,"stats":{"Line":1},"fn_name":"into_order_by_opts"},{"line":63,"address":[6663626,6663526],"length":1,"stats":{"Line":2},"fn_name":null},{"line":64,"address":[6663871],"length":1,"stats":{"Line":1},"fn_name":null},{"line":70,"address":[6664096,6664674,6664639],"length":1,"stats":{"Line":0},"fn_name":"into_order_by_opts"},{"line":71,"address":[6664118],"length":1,"stats":{"Line":0},"fn_name":null},{"line":73,"address":[6664232,6664179],"length":1,"stats":{"Line":0},"fn_name":null},{"line":74,"address":[6664483],"length":1,"stats":{"Line":0},"fn_name":null},{"line":95,"address":[4417840,4418293,4417879,4418245],"length":1,"stats":{"Line":6},"fn_name":"test_order_by_with_opts"},{"line":96,"address":[2287923],"length":1,"stats":{"Line":1},"fn_name":null},{"line":97,"address":[2288301,2288967,2287983,2288136,2288361,2288536],"length":1,"stats":{"Line":4},"fn_name":null},{"line":98,"address":[2289291,2290049,2289216,2290005,2289534,2290279,2289729,2288927,2289457,2289948],"length":1,"stats":{"Line":7},"fn_name":null},{"line":99,"address":[2289140,2288957,2289298,2289316,2289263],"length":1,"stats":{"Line":2},"fn_name":null},{"line":100,"address":[2289271,2289366,2288087,2289490,2288004,2289662],"length":1,"stats":{"Line":6},"fn_name":null},{"line":101,"address":[2289852],"length":1,"stats":{"Line":0},"fn_name":null},{"line":105,"address":[2290169,2290534,2290589],"length":1,"stats":{"Line":2},"fn_name":null},{"line":107,"address":[6775409],"length":1,"stats":{"Line":7},"fn_name":null},{"line":111,"address":[2292161,2291392,2291815,2291424,2291493,2291401,2291589],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":112,"address":[2291555],"length":1,"stats":{"Line":1},"fn_name":null},{"line":113,"address":[2291997,2291772,2291619,2292553,2291937,2292172],"length":1,"stats":{"Line":4},"fn_name":null},{"line":114,"address":[2292543,2292778],"length":1,"stats":{"Line":2},"fn_name":null},{"line":115,"address":[2293319,2293591,2293915,2293086,2293867,2294145,2293396,2293153,2293810,2292825],"length":1,"stats":{"Line":7},"fn_name":null},{"line":116,"address":[2293125,2293160,2293178,2292867],"length":1,"stats":{"Line":2},"fn_name":null},{"line":117,"address":[2293524,2291723,2291640,2293133,2293228,2293352],"length":1,"stats":{"Line":6},"fn_name":null},{"line":118,"address":[2293714],"length":1,"stats":{"Line":0},"fn_name":null},{"line":122,"address":[2294400,2294035,2294455],"length":1,"stats":{"Line":2},"fn_name":null},{"line":124,"address":[2294726,2294810,2294940,2294414,2294546,2294670,2291658],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":32,"coverable":43},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","outer_join.rs"],"content":"use ql2::term::TermType;\n\nuse crate::prelude::Func;\nuse crate::Command;\n\npub(crate) fn new(other_table: Command, func: Func) -\u003e Command {\n    let Func(func) = func;\n\n    Command::new(TermType::OuterJoin)\n        .with_arg(other_table)\n        .with_arg(func)\n}\n\n// TODO write test\n","traces":[{"line":6,"address":[6929616,6929280],"length":1,"stats":{"Line":0},"fn_name":"new"},{"line":7,"address":[6929315],"length":1,"stats":{"Line":0},"fn_name":null},{"line":9,"address":[6929501,6929564,6929366],"length":1,"stats":{"Line":0},"fn_name":null},{"line":10,"address":[6929445],"length":1,"stats":{"Line":0},"fn_name":null},{"line":11,"address":[6929508],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":5},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","pluck.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(selector: impl Serialize) -\u003e Command {\n    let arg = Command::from_json(selector);\n\n    Command::new(TermType::Pluck).with_arg(arg)\n}\n\n#[cfg(test)]\nmod tests {\n    use serde::{Deserialize, Serialize};\n\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[derive(Debug, Serialize, Deserialize, PartialEq, Eq)]\n    struct InnerPost {\n        id: u8,\n        title: String,\n    }\n\n    #[tokio::test]\n    async fn test_pluck_data() -\u003e Result\u003c()\u003e {\n        let data = Post::get_one_data();\n        let data = InnerPost {\n            id: data.id,\n            title: data.title,\n        };\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: InnerPost = table\n            .get(1)\n            .pluck([\"id\", \"title\"])\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained == data);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":6,"address":[4354315,4354342,4354064],"length":1,"stats":{"Line":1},"fn_name":"new\u003c[\u0026str; 2]\u003e"},{"line":7,"address":[4354081],"length":1,"stats":{"Line":1},"fn_name":null},{"line":9,"address":[4354229,4354162],"length":1,"stats":{"Line":2},"fn_name":null},{"line":27,"address":[4369685,4369584,4370413,4369616,4369999,4369769,4369593],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":28,"address":[4369747],"length":1,"stats":{"Line":1},"fn_name":null},{"line":30,"address":[4370116],"length":1,"stats":{"Line":1},"fn_name":null},{"line":31,"address":[4370119],"length":1,"stats":{"Line":1},"fn_name":null},{"line":33,"address":[4370249,4370424,4370182,4370832,4369956,4369799],"length":1,"stats":{"Line":4},"fn_name":null},{"line":34,"address":[4371861,4371817,4371114,4371269,4371149,4371346,4372101,4371541,4370785,4371760],"length":1,"stats":{"Line":7},"fn_name":null},{"line":36,"address":[4371036],"length":1,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[4371474,4369820,4371302,4369905,4371129,4371172],"length":1,"stats":{"Line":6},"fn_name":null},{"line":38,"address":[4371664],"length":1,"stats":{"Line":0},"fn_name":null},{"line":42,"address":[4371987,4372427,4372482],"length":1,"stats":{"Line":2},"fn_name":null},{"line":44,"address":[4372555,4372679,4372735,4369838,4372978,4372845,4372441],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":13,"coverable":14},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","point.rs"],"content":"use ql2::term::TermType;\nuse serde::{Deserialize, Serialize};\n\nuse crate::constants::{MAX_LATITUDE_VALUE, MAX_LONGITUDE_VALUE};\nuse crate::prelude::Geometry;\nuse crate::types::{GeoType, ReqlType};\nuse crate::Command;\n\n#[derive(Debug, Serialize, Deserialize, Clone, PartialEq, PartialOrd, Geometry)]\npub struct Point {\n    #[serde(rename = \"$reql_type$\")]\n    pub reql_type: ReqlType,\n    pub coordinates: [f64; 2],\n    #[serde(rename = \"type\")]\n    pub typ: GeoType,\n}\n\nimpl Point {\n    pub fn new(longitude: f64, latitude: f64) -\u003e Self {\n        assert!((-MAX_LONGITUDE_VALUE..=MAX_LONGITUDE_VALUE).contains(\u0026longitude));\n        assert!((-MAX_LATITUDE_VALUE..=MAX_LATITUDE_VALUE).contains(\u0026latitude));\n\n        Self {\n            reql_type: ReqlType::Geometry,\n            coordinates: [longitude, latitude],\n            typ: GeoType::Point,\n        }\n    }\n}\n\nimpl From\u003cPoint\u003e for Command {\n    fn from(point: Point) -\u003e Self {\n        point\n            .coordinates\n            .iter()\n            .fold(Command::new(TermType::Point), |command, coord| {\n                command.with_arg(Command::from_json(coord))\n            })\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use serde::{Deserialize, Serialize};\n\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::Point;\n    use crate::{r, Result};\n\n    #[derive(Debug, Serialize, Deserialize, PartialEq)]\n    struct User {\n        id: u8,\n        name: String,\n        location: Point,\n    }\n\n    #[tokio::test]\n    async fn test_point_data() -\u003e Result\u003c()\u003e {\n        let user = User {\n            id: 1,\n            name: \"Yaound\".to_string(),\n            location: r.point(-122.423246, 37.779388),\n        };\n        let (conn, table, table_name) = set_up(false).await?;\n        table.clone().insert(\u0026user).run(\u0026conn).await?;\n        let response: User = table.get(1).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == user);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":19,"address":[2689792],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":20,"address":[2608170,2608226],"length":1,"stats":{"Line":1},"fn_name":null},{"line":21,"address":[4406930,4407000,4406873],"length":1,"stats":{"Line":2},"fn_name":null},{"line":25,"address":[2608276],"length":1,"stats":{"Line":1},"fn_name":null},{"line":32,"address":[4044192],"length":1,"stats":{"Line":1},"fn_name":"from"},{"line":33,"address":[2177916,2177981],"length":1,"stats":{"Line":2},"fn_name":null},{"line":36,"address":[1647040,1647259,1647232],"length":1,"stats":{"Line":2},"fn_name":"{closure#0}"},{"line":37,"address":[2782135,2781969],"length":1,"stats":{"Line":1},"fn_name":null},{"line":59,"address":[4594469,4594421,4594016,4594055],"length":1,"stats":{"Line":6},"fn_name":"test_point_data"},{"line":62,"address":[1630805],"length":1,"stats":{"Line":1},"fn_name":null},{"line":63,"address":[1631273],"length":1,"stats":{"Line":1},"fn_name":null},{"line":65,"address":[1631094,1630865,1631390,1631464,1632012],"length":1,"stats":{"Line":4},"fn_name":null},{"line":66,"address":[1632002,1632236,1631043,1630886],"length":1,"stats":{"Line":4},"fn_name":null},{"line":67,"address":[1630992,1633820,1634028,1630907,1632976,1633100],"length":1,"stats":{"Line":5},"fn_name":null},{"line":69,"address":[1634452,1634510,1634014],"length":1,"stats":{"Line":2},"fn_name":null},{"line":71,"address":[1634466,1630925,1634688,1634747,1634972,1634564,1634836],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":16,"coverable":16},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","polygon.rs"],"content":"use ql2::term::TermType;\nuse serde::{Deserialize, Serialize};\n\nuse crate::prelude::Geometry;\nuse crate::types::{GeoType, ReqlType};\nuse crate::Command;\n\nuse super::point::Point;\nuse super::polygon_sub;\n\n#[derive(Debug, Serialize, Deserialize, Clone, PartialEq, PartialOrd, Geometry)]\npub struct Polygon {\n    #[serde(rename = \"$reql_type$\")]\n    pub reql_type: ReqlType,\n    pub coordinates: Vec\u003cVec\u003c[f64; 2]\u003e\u003e,\n    #[serde(rename = \"type\")]\n    pub typ: GeoType,\n}\n\nimpl Polygon {\n    pub fn new(points: \u0026[Point]) -\u003e Self {\n        assert!(points.len() \u003e= 3);\n\n        Self {\n            reql_type: ReqlType::Geometry,\n            typ: GeoType::Polygon,\n            coordinates: vec![points.iter().map(|point| point.coordinates).collect()],\n        }\n    }\n\n    pub fn new_from_vec(coordinates: Vec\u003cVec\u003c[f64; 2]\u003e\u003e) -\u003e Self {\n        Self {\n            reql_type: ReqlType::Geometry,\n            typ: GeoType::Polygon,\n            coordinates,\n        }\n    }\n\n    /// Use `polygon2` to punch out a hole in `polygon1`.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// polygon1.polygon_sub(polygon2)  polygon\n    /// ```\n    ///\n    /// Where:\n    /// - polygon1, polygon1, polygon: [Polygon](crate::cmd::polygon::Polygon)\n    ///\n    /// # Description\n    ///\n    /// `polygon2` must be completely contained within `polygon1` and must\n    /// have no holes itself (it must not be the output of `polygon_sub` itself).\n    ///\n    /// ## Examples\n    ///\n    /// Define a polygon with a hole punched in it.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::Polygon;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let expected_data = Polygon::new_from_vec(vec![\n    ///         vec![\n    ///             [-122.4, 37.7],\n    ///             [-122.4, 37.3],\n    ///             [-121.8, 37.3],\n    ///             [-121.8, 37.7],\n    ///             [-122.4, 37.7],\n    ///         ],\n    ///         vec![\n    ///             [-122.3, 37.4],\n    ///             [-122.3, 37.6],\n    ///             [-122.0, 37.6],\n    ///             [-122.0, 37.4],\n    ///             [-122.3, 37.4],\n    ///         ],\n    ///     ]);\n    ///     let outer_polygon = r.polygon(\u0026[\n    ///         r.point(-122.4, 37.7),\n    ///         r.point(-122.4, 37.3),\n    ///         r.point(-121.8, 37.3),\n    ///         r.point(-121.8, 37.7),\n    ///     ]);\n    ///     let inner_polygon = r.polygon(\u0026[\n    ///         r.point(-122.3, 37.4),\n    ///         r.point(-122.3, 37.6),\n    ///         r.point(-122.0, 37.6),\n    ///         r.point(-122.0, 37.4),\n    ///     ]);\n    ///\n    ///     let response: Polygon = outer_polygon\n    ///         .polygon_sub(inner_polygon)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == expected_data);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [polygon](crate::r::polygon)\n    pub fn polygon_sub(self, polygon: Polygon) -\u003e Command {\n        polygon_sub::new(polygon).with_parent(self.into())\n    }\n}\n\nimpl From\u003cPolygon\u003e for Command {\n    fn from(polygon: Polygon) -\u003e Self {\n        polygon.coordinates.iter().flatten().fold(\n            Command::new(TermType::Polygon),\n            |command, coord| {\n                let point: Command = Point::new(coord[0], coord[1]).into();\n\n                command.with_arg(point)\n            },\n        )\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use serde::{Deserialize, Serialize};\n\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::{Point, Polygon};\n    use crate::{r, Result};\n\n    #[derive(Debug, Serialize, Deserialize, PartialEq)]\n    struct Rectangle {\n        id: u8,\n        rectangle: Polygon,\n    }\n\n    #[tokio::test]\n    async fn test_polygon_data() -\u003e Result\u003c()\u003e {\n        let rectangle = Rectangle {\n            id: 1,\n            rectangle: r.polygon(\u0026[\n                Point::new(-122.423246, 37.779388),\n                Point::new(-122.423246, 37.329898),\n                Point::new(-121.886420, 37.329898),\n                Point::new(-121.886420, 37.779388),\n            ]),\n        };\n        let (conn, table, table_name) = set_up(false).await?;\n        table.clone().insert(\u0026rectangle).run(\u0026conn).await?;\n        let response: Rectangle = table.get(1).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == rectangle);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":21,"address":[2044560,2044850],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":22,"address":[2162075,2162120],"length":1,"stats":{"Line":1},"fn_name":null},{"line":27,"address":[2243746,2243818],"length":1,"stats":{"Line":4},"fn_name":null},{"line":31,"address":[2244080],"length":1,"stats":{"Line":1},"fn_name":"new_from_vec"},{"line":111,"address":[2162822,2162512],"length":1,"stats":{"Line":1},"fn_name":"polygon_sub"},{"line":112,"address":[2244293,2244181,2244451],"length":1,"stats":{"Line":2},"fn_name":null},{"line":117,"address":[4044320,4044515],"length":1,"stats":{"Line":1},"fn_name":"from"},{"line":118,"address":[4044350,4044414,4044496],"length":1,"stats":{"Line":3},"fn_name":null},{"line":119,"address":[2259811],"length":1,"stats":{"Line":1},"fn_name":null},{"line":120,"address":[2062574,2062601,2062320],"length":1,"stats":{"Line":1},"fn_name":"{closure#0}"},{"line":121,"address":[2062452,2062358],"length":1,"stats":{"Line":2},"fn_name":null},{"line":123,"address":[2062464],"length":1,"stats":{"Line":1},"fn_name":null},{"line":145,"address":[1324617,1324640,1325125,1324709,1324608,1324823,1325761],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":148,"address":[1325330],"length":1,"stats":{"Line":1},"fn_name":null},{"line":155,"address":[1325531,1324853,1326186,1325594,1325082,1325772],"length":1,"stats":{"Line":4},"fn_name":null},{"line":156,"address":[1326410,1325031,1326176,1324874],"length":1,"stats":{"Line":4},"fn_name":null},{"line":157,"address":[1327156,1324980,1328192,1324895,1327286,1328012],"length":1,"stats":{"Line":5},"fn_name":null},{"line":159,"address":[1328175,1328619,1328677],"length":1,"stats":{"Line":2},"fn_name":null},{"line":161,"address":[1324913,1328731,1328633,1328914,1329139,1329003,1328855],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":19,"coverable":19},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","polygon_sub.rs"],"content":"use ql2::term::TermType;\n\nuse crate::types::Polygon;\nuse crate::Command;\n\npub(crate) fn new(polygon: Polygon) -\u003e Command {\n    let arg: Command = polygon.into();\n\n    Command::new(TermType::PolygonSub).with_arg(arg)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::cmd::polygon::Polygon;\n    use crate::prelude::Converter;\n    use crate::types::Point;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_polygon_sub_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let expected_data = Polygon::new_from_vec(vec![\n            vec![\n                [-122.4, 37.7],\n                [-122.4, 37.3],\n                [-121.8, 37.3],\n                [-121.8, 37.7],\n                [-122.4, 37.7],\n            ],\n            vec![\n                [-122.3, 37.4],\n                [-122.3, 37.6],\n                [-122.0, 37.6],\n                [-122.0, 37.4],\n                [-122.3, 37.4],\n            ],\n        ]);\n        let outer_polygon = r.polygon(\u0026[\n            Point::new(-122.4, 37.7),\n            Point::new(-122.4, 37.3),\n            Point::new(-121.8, 37.3),\n            Point::new(-121.8, 37.7),\n        ]);\n        let inner_polygon = r.polygon(\u0026[\n            Point::new(-122.3, 37.4),\n            Point::new(-122.3, 37.6),\n            Point::new(-122.0, 37.6),\n            Point::new(-122.0, 37.4),\n        ]);\n        let response: Polygon = outer_polygon\n            .polygon_sub(inner_polygon)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response == expected_data);\n\n        Ok(())\n    }\n}\n","traces":[{"line":6,"address":[4354646,4354619,4354368],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":7,"address":[2232049],"length":1,"stats":{"Line":1},"fn_name":null},{"line":9,"address":[4354533,4354466],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[1762473,1762464,1762496,1762765,1763064,1762630,1762553],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":21,"address":[1762886,1763075,1762654,1762725,1763343,1762608],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[1763328,1764121,1763617,1763880],"length":1,"stats":{"Line":2},"fn_name":null},{"line":23,"address":[1763771,1763600],"length":1,"stats":{"Line":2},"fn_name":null},{"line":24,"address":[1763661],"length":1,"stats":{"Line":1},"fn_name":null},{"line":25,"address":[1763687],"length":1,"stats":{"Line":1},"fn_name":null},{"line":26,"address":[1763723],"length":1,"stats":{"Line":1},"fn_name":null},{"line":27,"address":[1763739],"length":1,"stats":{"Line":1},"fn_name":null},{"line":28,"address":[1763755],"length":1,"stats":{"Line":1},"fn_name":null},{"line":30,"address":[1764037,1763860],"length":1,"stats":{"Line":2},"fn_name":null},{"line":31,"address":[1763927],"length":1,"stats":{"Line":1},"fn_name":null},{"line":32,"address":[1763953],"length":1,"stats":{"Line":1},"fn_name":null},{"line":33,"address":[1763989],"length":1,"stats":{"Line":1},"fn_name":null},{"line":34,"address":[1764005],"length":1,"stats":{"Line":1},"fn_name":null},{"line":35,"address":[1764021],"length":1,"stats":{"Line":1},"fn_name":null},{"line":38,"address":[1764381],"length":1,"stats":{"Line":1},"fn_name":null},{"line":39,"address":[1764236],"length":1,"stats":{"Line":1},"fn_name":null},{"line":40,"address":[1764312],"length":1,"stats":{"Line":1},"fn_name":null},{"line":41,"address":[1764343],"length":1,"stats":{"Line":1},"fn_name":null},{"line":42,"address":[1764374],"length":1,"stats":{"Line":1},"fn_name":null},{"line":44,"address":[1764712],"length":1,"stats":{"Line":1},"fn_name":null},{"line":45,"address":[1764570],"length":1,"stats":{"Line":1},"fn_name":null},{"line":46,"address":[1764643],"length":1,"stats":{"Line":1},"fn_name":null},{"line":47,"address":[1764674],"length":1,"stats":{"Line":1},"fn_name":null},{"line":48,"address":[1764705],"length":1,"stats":{"Line":1},"fn_name":null},{"line":50,"address":[1765391,1765024,1765948,1765206,1765610,1765135,1764873,1764965,1765667,1765708],"length":1,"stats":{"Line":7},"fn_name":null},{"line":51,"address":[1764909],"length":1,"stats":{"Line":1},"fn_name":null},{"line":52,"address":[1765334,1765165,1762669,1765047,1765004],"length":1,"stats":{"Line":5},"fn_name":null},{"line":53,"address":[1765514],"length":1,"stats":{"Line":0},"fn_name":null},{"line":57,"address":[1766106,1766073,1765826],"length":1,"stats":{"Line":2},"fn_name":null},{"line":59,"address":[1766079],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":33,"coverable":34},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","prepend.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(value: impl Serialize) -\u003e Command {\n    let arg = Command::from_json(value);\n\n    Command::new(TermType::Prepend).with_arg(arg)\n}\n\n// TODO write test\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","random.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(args: impl RandomArg) -\u003e Command {\n    let (arg1, arg2, opts) = args.into_random_opts();\n    let mut command = Command::new(TermType::Random);\n\n    if let Some(arg) = arg1 {\n        command = command.with_arg(arg)\n    }\n\n    if let Some(arg) = arg2 {\n        command = command.with_arg(arg)\n    }\n\n    command.with_opts(opts)\n}\n\npub trait RandomArg {\n    fn into_random_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, RandomOption);\n}\n\nimpl RandomArg for () {\n    fn into_random_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, RandomOption) {\n        (None, None, Default::default())\n    }\n}\n\nimpl RandomArg for isize {\n    fn into_random_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, RandomOption) {\n        (Some(Command::from_json(self)), None, Default::default())\n    }\n}\n\nimpl RandomArg for f64 {\n    fn into_random_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, RandomOption) {\n        (Some(Command::from_json(self)), None, Default::default())\n    }\n}\n\nimpl RandomArg for (isize, isize) {\n    fn into_random_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, RandomOption) {\n        (\n            Some(Command::from_json(self.0)),\n            Some(Command::from_json(self.1)),\n            Default::default(),\n        )\n    }\n}\n\nimpl RandomArg for (f64, f64) {\n    fn into_random_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, RandomOption) {\n        (\n            Some(Command::from_json(self.0)),\n            Some(Command::from_json(self.1)),\n            Default::default(),\n        )\n    }\n}\n\nimpl RandomArg for (isize, isize, RandomOption) {\n    fn into_random_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, RandomOption) {\n        (\n            Some(Command::from_json(self.0)),\n            Some(Command::from_json(self.1)),\n            self.2,\n        )\n    }\n}\n\nimpl RandomArg for (f64, f64, RandomOption) {\n    fn into_random_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e, RandomOption) {\n        (\n            Some(Command::from_json(self.0)),\n            Some(Command::from_json(self.1)),\n            self.2,\n        )\n    }\n}\n\n#[derive(\n    Debug, Default, Clone, PartialEq, Eq, PartialOrd, Ord, Hash, Serialize, CommandOptions,\n)]\npub struct RandomOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub float: Option\u003cbool\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    use super::RandomOption;\n\n    #[tokio::test]\n    async fn test_random_data() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let data_obtained1: f64 = r.random(()).run(\u0026conn).await?.unwrap().parse()?;\n        let data_obtained2: isize = r.random(100).run(\u0026conn).await?.unwrap().parse()?;\n        let data_obtained3: f64 = r\n            .random((-100.52, -10.71, RandomOption::default().float(true)))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained1.is_normal());\n        assert!(data_obtained2 \u003e= 0);\n        assert!(data_obtained3.is_normal());\n\n        Ok(())\n    }\n}\n","traces":[{"line":7,"address":[2386191,2388114,2386077,2387093,2385216,2386272,2387296,2387207,2388228],"length":1,"stats":{"Line":3},"fn_name":"new\u003c(f64, f64, reql_rust::cmd::random::RandomOption)\u003e"},{"line":8,"address":[2387316,2385236,2386297],"length":1,"stats":{"Line":3},"fn_name":null},{"line":9,"address":[2385410,2386428,2387447],"length":1,"stats":{"Line":3},"fn_name":null},{"line":11,"address":[2387544,2385749,2387786,2385507,2386767,2386525],"length":1,"stats":{"Line":5},"fn_name":null},{"line":12,"address":[2386741,2387760,2387665,2386646,2385628,2385723],"length":1,"stats":{"Line":4},"fn_name":null},{"line":15,"address":[2387722,2387788,2386993,2386703,2385977,2385751,2386769,2385685,2388014],"length":1,"stats":{"Line":5},"fn_name":null},{"line":16,"address":[2387988,2386967,2386853,2385835,2387872,2385951],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[2385925,2387962,2386942],"length":1,"stats":{"Line":3},"fn_name":null},{"line":27,"address":[4891131,4890944,4891108],"length":1,"stats":{"Line":1},"fn_name":"into_random_opts"},{"line":28,"address":[4890961,4891124],"length":1,"stats":{"Line":1},"fn_name":null},{"line":33,"address":[4891152,4891378,4891355],"length":1,"stats":{"Line":1},"fn_name":"into_random_opts"},{"line":34,"address":[4891371,4891177],"length":1,"stats":{"Line":1},"fn_name":null},{"line":39,"address":[4891635,4891612,4891408],"length":1,"stats":{"Line":0},"fn_name":"into_random_opts"},{"line":40,"address":[4891434,4891628],"length":1,"stats":{"Line":0},"fn_name":null},{"line":45,"address":[4891955,4891664],"length":1,"stats":{"Line":0},"fn_name":"into_random_opts"},{"line":47,"address":[4891702],"length":1,"stats":{"Line":0},"fn_name":null},{"line":48,"address":[4891755,4891827],"length":1,"stats":{"Line":0},"fn_name":null},{"line":49,"address":[4891829],"length":1,"stats":{"Line":0},"fn_name":null},{"line":55,"address":[4892279,4891984],"length":1,"stats":{"Line":0},"fn_name":"into_random_opts"},{"line":57,"address":[4892025],"length":1,"stats":{"Line":0},"fn_name":null},{"line":58,"address":[4892079,4892151],"length":1,"stats":{"Line":0},"fn_name":null},{"line":59,"address":[4892153],"length":1,"stats":{"Line":0},"fn_name":null},{"line":65,"address":[4892320,4892562],"length":1,"stats":{"Line":0},"fn_name":"into_random_opts"},{"line":67,"address":[4892342],"length":1,"stats":{"Line":0},"fn_name":null},{"line":68,"address":[4892446,4892390],"length":1,"stats":{"Line":0},"fn_name":null},{"line":69,"address":[4892482],"length":1,"stats":{"Line":0},"fn_name":null},{"line":75,"address":[4892592,4892836],"length":1,"stats":{"Line":1},"fn_name":"into_random_opts"},{"line":77,"address":[4892614],"length":1,"stats":{"Line":1},"fn_name":null},{"line":78,"address":[4892720,4892663],"length":1,"stats":{"Line":2},"fn_name":null},{"line":79,"address":[4892756],"length":1,"stats":{"Line":1},"fn_name":null},{"line":100,"address":[1678981,1678576,1679029,1678615],"length":1,"stats":{"Line":6},"fn_name":"test_random_data"},{"line":101,"address":[2214441,2214052,2214089,2214279,2214630,2214891],"length":1,"stats":{"Line":4},"fn_name":null},{"line":102,"address":[2215800,2215900,2215136,2214107,2214881,2214236],"length":1,"stats":{"Line":5},"fn_name":null},{"line":103,"address":[6888065,6888014],"length":1,"stats":{"Line":5},"fn_name":null},{"line":104,"address":[2217771,2217366,2217295,2217851,2217156,2218053,2217828,2217552],"length":1,"stats":{"Line":5},"fn_name":null},{"line":105,"address":[2216871,2217074],"length":1,"stats":{"Line":2},"fn_name":null},{"line":106,"address":[2217494,2217207,2217325,2214137],"length":1,"stats":{"Line":4},"fn_name":null},{"line":107,"address":[2217675],"length":1,"stats":{"Line":0},"fn_name":null},{"line":111,"address":[2218171,2217938,2218144],"length":1,"stats":{"Line":2},"fn_name":null},{"line":112,"address":[2218220,2218155],"length":1,"stats":{"Line":1},"fn_name":null},{"line":113,"address":[2218209,2218254,2218287],"length":1,"stats":{"Line":2},"fn_name":null},{"line":115,"address":[1678607,1678712,1678992,1678652],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":27,"coverable":42},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","range.rs"],"content":"use ql2::term::TermType;\n\nuse crate::{arguments::Args, Command};\n\npub(crate) fn new(args: impl RangeArg) -\u003e Command {\n    let (arg1, arg2) = args.into_range_opts();\n    let mut command = Command::new(TermType::Range);\n\n    if let Some(arg) = arg1 {\n        command = command.with_arg(arg)\n    }\n\n    if let Some(arg) = arg2 {\n        command = command.with_arg(arg)\n    }\n\n    command\n}\n\npub trait RangeArg {\n    fn into_range_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e);\n}\n\nimpl RangeArg for () {\n    fn into_range_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        (None, None)\n    }\n}\n\nimpl RangeArg for isize {\n    fn into_range_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        (None, Some(Command::from_json(self)))\n    }\n}\n\nimpl RangeArg for Args\u003c(isize, isize)\u003e {\n    fn into_range_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        (\n            Some(Command::from_json(self.0 .0)),\n            Some(Command::from_json(self.0 .1)),\n        )\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{args, r, Result};\n\n    #[tokio::test]\n    async fn test_range_data() -\u003e Result\u003c()\u003e {\n        let data = [0, 1, 2, 3];\n        let data2 = [-5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5];\n        let conn = r.connection().connect().await?;\n        let response: [isize; 4] = r.range(4).run(\u0026conn).await?.unwrap().parse()?;\n        let response2: [isize; 4] = r.range(()).limit(4).run(\u0026conn).await?.unwrap().parse()?;\n        let response3: [isize; 11] = r.range(args!(-5, 6)).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response == data);\n        assert!(response2 == data);\n        assert!(response3 == data2);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2265223,2263408,2266153,2265112,2264352,2264273,2266042,2265296,2264162],"length":1,"stats":{"Line":3},"fn_name":"new\u003cisize\u003e"},{"line":6,"address":[2265313,2263433,2264385],"length":1,"stats":{"Line":3},"fn_name":null},{"line":7,"address":[2263543,2265423,2264495],"length":1,"stats":{"Line":3},"fn_name":null},{"line":9,"address":[2263876,2263640,2264592,2264828,2265756,2265520],"length":1,"stats":{"Line":4},"fn_name":null},{"line":10,"address":[2263850,2265635,2264802,2264707,2265730,2263755],"length":1,"stats":{"Line":2},"fn_name":null},{"line":13,"address":[2265983,2265692,2265053,2263878,2263812,2264764,2264103,2265758,2264830],"length":1,"stats":{"Line":7},"fn_name":null},{"line":14,"address":[2264077,2265027,2265842,2264913,2263962,2265957],"length":1,"stats":{"Line":4},"fn_name":null},{"line":17,"address":[2265904,2264024,2264974],"length":1,"stats":{"Line":3},"fn_name":null},{"line":25,"address":[6929664],"length":1,"stats":{"Line":1},"fn_name":"into_range_opts"},{"line":26,"address":[2756915],"length":1,"stats":{"Line":1},"fn_name":null},{"line":31,"address":[2838836,2838656],"length":1,"stats":{"Line":1},"fn_name":"into_range_opts"},{"line":32,"address":[2757033],"length":1,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[6664720,6664939],"length":1,"stats":{"Line":1},"fn_name":"into_range_opts"},{"line":39,"address":[2744597],"length":1,"stats":{"Line":1},"fn_name":null},{"line":40,"address":[6664809,6664850],"length":1,"stats":{"Line":2},"fn_name":null},{"line":51,"address":[4796752,4797205,4797157,4796791],"length":1,"stats":{"Line":6},"fn_name":"test_range_data"},{"line":52,"address":[6392964],"length":1,"stats":{"Line":1},"fn_name":null},{"line":53,"address":[6392995],"length":1,"stats":{"Line":1},"fn_name":null},{"line":54,"address":[6393489,6393324,6393681,6393091,6393954,6393128],"length":1,"stats":{"Line":4},"fn_name":null},{"line":55,"address":[6394186,6393146,6395019,6394885,6393279,6393944],"length":1,"stats":{"Line":5},"fn_name":null},{"line":56,"address":[6393161,6396180,6395260,6395009,6395971,6393234],"length":1,"stats":{"Line":5},"fn_name":null},{"line":57,"address":[6397069,6397339,6396370,6393176,6396090],"length":1,"stats":{"Line":4},"fn_name":null},{"line":59,"address":[6397558,6397526,6397318],"length":1,"stats":{"Line":2},"fn_name":null},{"line":60,"address":[6397594,6397628,6397537],"length":1,"stats":{"Line":2},"fn_name":null},{"line":61,"address":[6397662,6397699,6397605],"length":1,"stats":{"Line":2},"fn_name":null},{"line":63,"address":[4796783,4797168,4796888,4796828],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":26,"coverable":26},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","rebalance.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Rebalance)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::RebalanceResponse;\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_rebalance_table() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let response: RebalanceResponse = table.rebalance().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response.rebalanced == 1);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":5,"address":[2720096],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2720108],"length":1,"stats":{"Line":1},"fn_name":null},{"line":17,"address":[3069912,3070204,3069589,3069488,3069520,3069497,3069686],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":18,"address":[3070037,3069716,3070215,3069651,3070647,3069869],"length":1,"stats":{"Line":4},"fn_name":null},{"line":19,"address":[3069737,3069820,3071613,3071807,3070904,3070599],"length":1,"stats":{"Line":5},"fn_name":null},{"line":21,"address":[3072106,3071785],"length":1,"stats":{"Line":1},"fn_name":null},{"line":23,"address":[3072399,3072604,3072343,3072063,3069755,3072474,3072219],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":7,"coverable":7},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","reconfigure.rs"],"content":"use std::borrow::Cow;\nuse std::collections::HashMap;\n\nuse ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::{Serialize, Serializer};\n\nuse crate::arguments::{EmergencyRepair, Replicas};\nuse crate::Command;\n\npub(crate) fn new(opts: ReconfigureOption) -\u003e Command {\n    Command::new(TermType::Reconfigure).with_opts(opts)\n}\n\n#[derive(Debug, Clone, Default, PartialEq, CommandOptions)]\n#[non_exhaustive]\npub struct ReconfigureOption {\n    /// the number of shards, an integer from 1-64. Required.\n    pub shards: Option\u003cu8\u003e,\n    /// either an usize or a mapping struct. Required.\n    /// - If `replicas` is an usize, it specifies the number of replicas per shard.\n    /// Specifying more replicas than there are servers will return an error.\n    /// - If `replicas` is an struct, it specifies key-value pairs of server tags\n    /// and the number of replicas to assign to those servers:\n    /// `{\"tag1\": 2, \"tag2\": 4, \"tag3\": 2, ...}`.\n    /// For more information about server tags, read\n    /// [Administration tools](https://rethinkdb.com/docs/administration-tools/).\n    pub replicas: Option\u003cReplicas\u003e,\n    /// the generated configuration will not be applied to the table, only returned.\n    pub dry_run: Option\u003cbool\u003e,\n    /// Used for the Emergency Repair mode.\n    /// See \u003chttps://rethinkdb.com/api/python/reconfigure#emergency-repair-mode\u003e\n    /// for more information.\n    pub emergency_repair: Option\u003cEmergencyRepair\u003e,\n}\n\nimpl Serialize for ReconfigureOption {\n    fn serialize\u003cS\u003e(\u0026self, serializer: S) -\u003e Result\u003cS::Ok, S::Error\u003e\n    where\n        S: Serializer,\n    {\n        #[derive(Serialize)]\n        struct InnerOptions\u003c'a\u003e {\n            #[serde(skip_serializing_if = \"Option::is_none\")]\n            dry_run: Option\u003cbool\u003e,\n            #[serde(skip_serializing_if = \"Option::is_none\")]\n            emergency_repair: Option\u003cEmergencyRepair\u003e,\n            #[serde(skip_serializing_if = \"Option::is_none\")]\n            shards: Option\u003cu8\u003e,\n            #[serde(skip_serializing_if = \"Option::is_none\")]\n            replicas: Option\u003cInnerReplicas\u003c'a\u003e\u003e,\n            /// the primary server specified by its server tag.\n            /// Required if `replicas` is an object; the tag must be in the object.\n            /// This must not be specified if `replicas` is an usize.\n            #[serde(skip_serializing_if = \"Option::is_none\")]\n            primary_replica_tag: Option\u003c\u0026'a Cow\u003c'static, str\u003e\u003e,\n        }\n\n        #[derive(Serialize)]\n        #[serde(untagged)]\n        enum InnerReplicas\u003c'a\u003e {\n            Int(usize),\n            Map(\u0026'a HashMap\u003cCow\u003c'static, str\u003e, usize\u003e),\n        }\n\n        let (replicas, primary_replica_tag) = match \u0026self.replicas {\n            Some(Replicas::Int(i)) =\u003e (Some(InnerReplicas::Int(*i)), None),\n            Some(Replicas::Map {\n                replicas,\n                primary_replica_tag,\n            }) =\u003e (\n                Some(InnerReplicas::Map(replicas)),\n                Some(primary_replica_tag),\n            ),\n            None =\u003e (None, None),\n        };\n\n        let opts = InnerOptions {\n            dry_run: self.dry_run,\n            emergency_repair: self.emergency_repair,\n            replicas,\n            primary_replica_tag,\n            shards: self.shards,\n        };\n\n        opts.serialize(serializer)\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::arguments::Replicas;\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::ReconfigureResponse;\n    use crate::Result;\n\n    use super::ReconfigureOption;\n\n    #[tokio::test]\n    async fn test_reconfigure_table() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let reconfigure_option = ReconfigureOption::default()\n            .shards(2)\n            .replicas(Replicas::Int(1));\n        let response: ReconfigureResponse = table\n            .reconfigure(reconfigure_option)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(response.reconfigured == 1);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":11,"address":[4311122,4311095,4310864],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":12,"address":[2598155,2598054],"length":1,"stats":{"Line":2},"fn_name":null},{"line":38,"address":[2388576],"length":1,"stats":{"Line":1},"fn_name":"serialize\u003cserde_json::value::ser::Serializer\u003e"},{"line":66,"address":[5117390,5117476,5117706],"length":1,"stats":{"Line":3},"fn_name":null},{"line":67,"address":[5117493],"length":1,"stats":{"Line":1},"fn_name":null},{"line":68,"address":[2307150],"length":1,"stats":{"Line":0},"fn_name":null},{"line":69,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":70,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":71,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":72,"address":[2307177],"length":1,"stats":{"Line":0},"fn_name":null},{"line":73,"address":[5117655],"length":1,"stats":{"Line":0},"fn_name":null},{"line":75,"address":[2306987],"length":1,"stats":{"Line":0},"fn_name":null},{"line":79,"address":[2307307],"length":1,"stats":{"Line":1},"fn_name":null},{"line":80,"address":[2307311],"length":1,"stats":{"Line":1},"fn_name":null},{"line":83,"address":[2307341],"length":1,"stats":{"Line":1},"fn_name":null},{"line":86,"address":[2307420],"length":1,"stats":{"Line":1},"fn_name":null},{"line":101,"address":[4504822,4504633,4505340,4504656,4504624,4505048,4504725],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":102,"address":[4504787,4505731,4505173,4504852,4505351,4505005],"length":1,"stats":{"Line":4},"fn_name":null},{"line":103,"address":[4505721,4506006,4506061],"length":1,"stats":{"Line":3},"fn_name":null},{"line":105,"address":[4506013],"length":1,"stats":{"Line":1},"fn_name":null},{"line":106,"address":[4506679,4506076,4506955,4506898,4506999,4506232,4506484,4507234,4506290,4506407],"length":1,"stats":{"Line":7},"fn_name":null},{"line":107,"address":[4506120],"length":1,"stats":{"Line":1},"fn_name":null},{"line":108,"address":[4504873,4506440,4504956,4506313,4506612],"length":1,"stats":{"Line":5},"fn_name":null},{"line":109,"address":[4506802],"length":1,"stats":{"Line":0},"fn_name":null},{"line":113,"address":[4507414,4507116],"length":1,"stats":{"Line":1},"fn_name":null},{"line":115,"address":[1679103,1679208,1679148,1679488],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":18,"coverable":26},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","reduce.rs"],"content":"use ql2::term::TermType;\n\nuse crate::arguments::AnyParam;\nuse crate::prelude::Func;\nuse crate::Command;\n\npub(crate) fn new(args: impl ReduceArg) -\u003e Command {\n    let (sequence, func) = args.into_reduce_opts();\n    let mut command = Command::new(TermType::Reduce);\n\n    if let Some(seq) = sequence {\n        command = command.with_arg(seq)\n    }\n\n    command.with_arg(func)\n}\n\npub trait ReduceArg {\n    fn into_reduce_opts(self) -\u003e (Option\u003cCommand\u003e, Command);\n}\n\nimpl ReduceArg for Func {\n    fn into_reduce_opts(self) -\u003e (Option\u003cCommand\u003e, Command) {\n        (None, self.0)\n    }\n}\n\nimpl ReduceArg for (Command, Func) {\n    fn into_reduce_opts(self) -\u003e (Option\u003cCommand\u003e, Command) {\n        let Func(func) = self.1;\n\n        (Some(self.0), func)\n    }\n}\n\nimpl ReduceArg for (AnyParam, Func) {\n    fn into_reduce_opts(self) -\u003e (Option\u003cCommand\u003e, Command) {\n        let Func(func) = self.1;\n\n        (Some(self.0.into()), func)\n    }\n}\n\n// TODO write test\n","traces":[{"line":7,"address":[4209908,4209264,4209887],"length":1,"stats":{"Line":0},"fn_name":"new\u003creql_rust::cmd::func::Func\u003e"},{"line":8,"address":[4209281],"length":1,"stats":{"Line":0},"fn_name":null},{"line":9,"address":[2853434],"length":1,"stats":{"Line":0},"fn_name":null},{"line":11,"address":[4209491,4209795],"length":1,"stats":{"Line":0},"fn_name":null},{"line":12,"address":[2853798,2853627],"length":1,"stats":{"Line":0},"fn_name":null},{"line":15,"address":[4209705],"length":1,"stats":{"Line":0},"fn_name":null},{"line":23,"address":[7021168],"length":1,"stats":{"Line":0},"fn_name":"into_reduce_opts"},{"line":24,"address":[7021185],"length":1,"stats":{"Line":0},"fn_name":null},{"line":29,"address":[4044560],"length":1,"stats":{"Line":0},"fn_name":"into_reduce_opts"},{"line":30,"address":[4044581],"length":1,"stats":{"Line":0},"fn_name":null},{"line":32,"address":[4044607],"length":1,"stats":{"Line":0},"fn_name":null},{"line":37,"address":[5127249,5126992],"length":1,"stats":{"Line":0},"fn_name":"into_reduce_opts"},{"line":38,"address":[5127013],"length":1,"stats":{"Line":0},"fn_name":null},{"line":40,"address":[5127077,5127136],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":14},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","rem.rs"],"content":"use std::ops::Rem;\n\nuse ql2::term::TermType;\n\nuse crate::Command;\n\nimpl\u003cT: RemArg\u003e Rem\u003cT\u003e for Command {\n    type Output = Self;\n\n    fn rem(self, arg: T) -\u003e Self {\n        Command::new(TermType::Mod)\n            .with_arg(arg.into_rem_opts())\n            .with_parent(self)\n    }\n}\n\npub trait RemArg {\n    fn into_rem_opts(self) -\u003e Command;\n}\n\nimpl RemArg for f64 {\n    fn into_rem_opts(self) -\u003e Command {\n        Command::from_json(self)\n    }\n}\n\nimpl RemArg for Command {\n    fn into_rem_opts(self) -\u003e Command {\n        self\n    }\n}\n\n// TODO write test\n","traces":[{"line":10,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":11,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":12,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":13,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":22,"address":[6929984],"length":1,"stats":{"Line":0},"fn_name":"into_rem_opts"},{"line":23,"address":[6930002],"length":1,"stats":{"Line":0},"fn_name":null},{"line":28,"address":[4044752],"length":1,"stats":{"Line":0},"fn_name":"into_rem_opts"},{"line":29,"address":[4044760],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":8},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","replace.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::arguments::{AnyParam, Durability, ReturnChanges};\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl ReplaceArg) -\u003e Command {\n    let (args, opts) = args.into_replace_opts();\n\n    args.add_to_cmd(Command::new(TermType::Replace))\n        .with_opts(opts)\n}\n\npub trait ReplaceArg {\n    fn into_replace_opts(self) -\u003e (CmdOpts, ReplaceOption);\n}\n\nimpl ReplaceArg for AnyParam {\n    fn into_replace_opts(self) -\u003e (CmdOpts, ReplaceOption) {\n        (CmdOpts::Single(self.into()), Default::default())\n    }\n}\n\nimpl ReplaceArg for Command {\n    fn into_replace_opts(self) -\u003e (CmdOpts, ReplaceOption) {\n        (CmdOpts::Single(self), Default::default())\n    }\n}\n\nimpl ReplaceArg for (AnyParam, ReplaceOption) {\n    fn into_replace_opts(self) -\u003e (CmdOpts, ReplaceOption) {\n        (CmdOpts::Single(self.0.into()), self.1)\n    }\n}\n\nimpl ReplaceArg for (Command, ReplaceOption) {\n    fn into_replace_opts(self) -\u003e (CmdOpts, ReplaceOption) {\n        (CmdOpts::Single(self.0), self.1)\n    }\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct ReplaceOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub durability: Option\u003cDurability\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub return_changes: Option\u003cReturnChanges\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub non_atomic: Option\u003cbool\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub ignore_write_hook: Option\u003cbool\u003e,\n}\n\n// TODO write test\n","traces":[{"line":22,"address":[5127280,5127493],"length":1,"stats":{"Line":0},"fn_name":"into_replace_opts"},{"line":23,"address":[5127297],"length":1,"stats":{"Line":0},"fn_name":null},{"line":28,"address":[4044987,4044784],"length":1,"stats":{"Line":0},"fn_name":"into_replace_opts"},{"line":29,"address":[2178563],"length":1,"stats":{"Line":0},"fn_name":null},{"line":34,"address":[5127520],"length":1,"stats":{"Line":0},"fn_name":"into_replace_opts"},{"line":35,"address":[5127542],"length":1,"stats":{"Line":0},"fn_name":null},{"line":40,"address":[4045024],"length":1,"stats":{"Line":0},"fn_name":"into_replace_opts"},{"line":41,"address":[4045045],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":8},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","round.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(args: impl RoundArg) -\u003e Command {\n    let mut command = Command::new(TermType::Round);\n\n    if let Some(arg) = args.into_round_opts() {\n        command = command.with_arg(arg)\n    }\n\n    command\n}\n\npub trait RoundArg {\n    fn into_round_opts(self) -\u003e Option\u003cCommand\u003e;\n}\n\nimpl RoundArg for () {\n    fn into_round_opts(self) -\u003e Option\u003cCommand\u003e {\n        None\n    }\n}\n\nimpl RoundArg for f64 {\n    fn into_round_opts(self) -\u003e Option\u003cCommand\u003e {\n        Some(Command::from_json(self))\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_round_data() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let data_obtained: u8 = r.round(12.345).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained == 12);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[4471215,4470646,4470096,4470688],"length":1,"stats":{"Line":1},"fn_name":"new\u003cf64\u003e"},{"line":6,"address":[4470708,4470229,4470800,4470131],"length":1,"stats":{"Line":2},"fn_name":null},{"line":8,"address":[2692602,2692294,2692015,2692540,2691953,2692879],"length":1,"stats":{"Line":3},"fn_name":null},{"line":9,"address":[2611060,2610620,2611205,2610474],"length":1,"stats":{"Line":2},"fn_name":null},{"line":12,"address":[2692904,2692319],"length":1,"stats":{"Line":1},"fn_name":null},{"line":20,"address":[2757904],"length":1,"stats":{"Line":0},"fn_name":"into_round_opts"},{"line":21,"address":[2757908],"length":1,"stats":{"Line":0},"fn_name":null},{"line":26,"address":[4106752],"length":1,"stats":{"Line":1},"fn_name":"into_round_opts"},{"line":27,"address":[4106778],"length":1,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[4217863,4217824,4218277,4218229],"length":1,"stats":{"Line":6},"fn_name":"test_round_data"},{"line":38,"address":[4595114,4594693,4594925,4594764,4594659,4595383],"length":1,"stats":{"Line":4},"fn_name":null},{"line":39,"address":[4596311,4594708,4595373,4595611,4596400],"length":1,"stats":{"Line":4},"fn_name":null},{"line":41,"address":[4596380,4596608],"length":1,"stats":{"Line":1},"fn_name":null},{"line":43,"address":[4217855,4217900,4218240,4217960],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":12,"coverable":14},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","run.rs"],"content":"use std::borrow::Cow;\nuse std::sync::atomic::Ordering;\nuse std::{mem, str};\n\nuse async_stream::try_stream;\nuse futures::io::{AsyncReadExt, AsyncWriteExt};\nuse futures::stream::{Stream, StreamExt};\nuse futures::{AsyncRead, AsyncWrite};\nuse ql2::query::QueryType;\nuse ql2::response::{ErrorType, ResponseType};\nuse reql_macros::CommandOptions;\nuse serde::de::DeserializeOwned;\nuse serde::{Deserialize, Serialize};\nuse serde_json::Value;\nuse tracing::trace;\n\nuse crate::arguments::{Args, Durability, Format, ReadMode};\nuse crate::constants::{DATA_SIZE, DEFAULT_RETHINKDB_DBNAME, HEADER_SIZE, TOKEN_SIZE};\nuse crate::proto::{Payload, Query};\nuse crate::{err, Command, Connection, Result, Session};\n\n#[derive(Deserialize, Debug)]\n#[allow(dead_code)]\npub(crate) struct Response {\n    t: i32,\n    e: Option\u003ci32\u003e,\n    pub(crate) r: Value,\n    b: Option\u003cValue\u003e,\n    p: Option\u003cValue\u003e,\n    n: Option\u003cValue\u003e,\n}\n\nimpl Response {\n    fn new() -\u003e Self {\n        Self {\n            t: ResponseType::SuccessAtom as i32,\n            e: None,\n            r: Value::Array(Vec::new()),\n            b: None,\n            p: None,\n            n: None,\n        }\n    }\n}\n\n#[derive(Debug, Clone, CommandOptions, Serialize, Default, PartialEq, PartialOrd)]\npub struct RunOption {\n    /// One of three possible values affecting\n    /// the consistency guarantee for the query (default: `ReadMode::Single`).\n    /// - `ReadMode::Single` (the default) returns values that are in memory\n    /// (but not necessarily written to disk) on the primary replica.\n    /// - `ReadMode::Majority` will only return values that are safely\n    /// committed on disk on a majority of replicas.\n    /// This requires sending a message to every replica on each read,\n    /// so it is the slowest but most consistent.\n    /// - `ReadMode::Outdated` will return values that are in memory\n    /// on an arbitrarily-selected replica.\n    /// This is the fastest but least consistent.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub read_mode: Option\u003cReadMode\u003e,\n    /// what format to return times in (default: `Format::Native`).\n    /// Set this to `Format::Raw`\n    /// if you want times returned as JSON objects for exporting.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub time_format: Option\u003cFormat\u003e,\n    /// whether or not to return a profile\n    /// of the querys execution (default: `false`).\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub profile: Option\u003cbool\u003e,\n    /// possible values are `Durability::Hard` and `Durability::Soft`.\n    /// In soft durability mode RethinkDB will acknowledge\n    /// the write immediately after receiving it,\n    /// but before the write has been committed to disk.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub durability: Option\u003cDurability\u003e,\n    /// what format to return `grouped_data` and\n    /// `grouped_streams` in (default: `Format::Native`).\n    /// Set this to `Format::Raw` if you want the raw pseudotype.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub group_format: Option\u003cFormat\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub noreply: Option\u003cbool\u003e,\n    /// the database to run this query against as a string.\n    /// The default is the database specified in\n    /// the `db` [connection](crate::connection::Connection)\n    /// method (which defaults to `test`).\n    /// The database may also be specified with the db command.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub db: Option\u003cDb\u003e,\n    /// the maximum numbers of array elements\n    /// that can be returned by a query (default: 100,000).\n    /// This affects all ReQL commands that return arrays.\n    /// Note that it has no effect on the size of arrays\n    /// being **written** to the database;\n    /// those always have an upper limit of 100,000 elements.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub array_limit: Option\u003cusize\u003e,\n    /// what format to return binary data in (default: `Format::Native`).\n    /// Set this to `Format::Raw` if you want the raw pseudotype.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub binary_format: Option\u003cFormat\u003e,\n    /// minimum number of rows to wait for before batching\n    /// a result set (default: 8). This is an usize.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub min_batch_rows: Option\u003cusize\u003e,\n    /// maximum number of rows to wait for before batching\n    /// a result set (default: unlimited). This is an usize.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub max_batch_rows: Option\u003cusize\u003e,\n    /// maximum number of bytes to wait for before batching\n    /// a result set (default: 1MB). This is an usize.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub max_batch_bytes: Option\u003cusize\u003e,\n    /// maximum number of seconds to wait before batching\n    /// a result set (default: 0.5).\n    /// This is a f64 and may be specified to the microsecond.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub max_batch_seconds: Option\u003cf64\u003e,\n    /// factor to scale the other parameters down by on the first batch (default: 4).\n    /// For example, with this set to 8 and `max_batch_rows` set to 80,\n    /// on the first batch `max_batch_rows` will be adjusted to 10 (80 / 8).\n    /// This allows the first batch to return faster.\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub first_batch_scaledown_factor: Option\u003cusize\u003e,\n}\n\n#[derive(Debug, Clone, Eq, PartialEq, Ord, PartialOrd, Hash)]\npub struct Db(pub Cow\u003c'static, str\u003e);\n\nimpl RunOption {\n    async fn default_db(self, session: \u0026Session) -\u003e RunOption {\n        let session_db = session.inner.db.lock().await;\n        if self.db.is_none() \u0026\u0026 *session_db != DEFAULT_RETHINKDB_DBNAME {\n            return self.db(\u0026*session_db);\n        }\n        self\n    }\n}\n\npub trait RunArg {\n    fn into_run_opts(self) -\u003e Result\u003c(Connection, RunOption)\u003e;\n}\n\nimpl RunArg for \u0026Session {\n    fn into_run_opts(self) -\u003e Result\u003c(Connection, RunOption)\u003e {\n        let conn = self.connection()?;\n        Ok((conn, Default::default()))\n    }\n}\n\nimpl RunArg for Connection {\n    fn into_run_opts(self) -\u003e Result\u003c(Connection, RunOption)\u003e {\n        Ok((self, Default::default()))\n    }\n}\n\nimpl RunArg for Args\u003c(\u0026Session, RunOption)\u003e {\n    fn into_run_opts(self) -\u003e Result\u003c(Connection, RunOption)\u003e {\n        let Args((session, options)) = self;\n        let conn = session.connection()?;\n        Ok((conn, options))\n    }\n}\n\nimpl RunArg for Args\u003c(Connection, RunOption)\u003e {\n    fn into_run_opts(self) -\u003e Result\u003c(Connection, RunOption)\u003e {\n        let Args(arg) = self;\n        Ok(arg)\n    }\n}\n\nimpl RunArg for \u0026mut Session {\n    fn into_run_opts(self) -\u003e Result\u003c(Connection, RunOption)\u003e {\n        self.connection()?.into_run_opts()\n    }\n}\n\nimpl RunArg for Args\u003c(\u0026mut Session, RunOption)\u003e {\n    fn into_run_opts(self) -\u003e Result\u003c(Connection, RunOption)\u003e {\n        let Args((session, options)) = self;\n        let conn = session.connection()?;\n\n        Args((conn, options)).into_run_opts()\n    }\n}\n\npub(crate) fn new\u003cA, T\u003e(query: Command, arg: A) -\u003e impl Stream\u003cItem = Result\u003cT\u003e\u003e\nwhere\n    A: RunArg,\n    T: Unpin + DeserializeOwned,\n{\n    try_stream! {\n        let (mut conn, mut opts) = arg.into_run_opts()?;\n        opts = opts.default_db(\u0026conn.session).await;\n        let change_feed = query.change_feed();\n        if change_feed {\n            conn.session.inner.mark_change_feed();\n        }\n        let noreply = opts.noreply.unwrap_or_default();\n        let mut payload = Payload(QueryType::Start, Some(Query(\u0026query)), opts);\n\n        loop {\n            let (response_type, resp) = conn.request(\u0026payload, noreply).await?;\n            trace!(\"yielding response; token: {}\", conn.token);\n\n            match response_type {\n                ResponseType::SuccessAtom | ResponseType::ServerInfo =\u003e {\n                    for val in serde_json::from_value::\u003cVec\u003cT\u003e\u003e(resp.r)? {\n                        yield val;\n                    }\n                    break;\n                }\n                ResponseType::SuccessSequence =\u003e {\n                    yield serde_json::from_value::\u003cT\u003e(resp.r)?;\n                    break;\n                }\n                ResponseType::SuccessPartial =\u003e {\n                    if conn.closed() {\n                        // reopen so we can use the connection in future\n                        conn.set_closed(false);\n                        trace!(\"connection closed; token: {}\", conn.token);\n                        break;\n                    }\n                    payload = Payload(QueryType::Continue, None, Default::default());\n                    // for val in serde_json::from_value::\u003cVec\u003cT\u003e\u003e(resp.r)? {\n                    //     yield val;\n                    // }\n                    yield serde_json::from_value::\u003cT\u003e(resp.r)?;\n                    continue;\n                }\n                ResponseType::WaitComplete =\u003e { break; }\n                typ =\u003e {\n                    let msg = error_message(resp.r)?;\n                    match typ {\n                        // This feed has been closed by conn.close().\n                        ResponseType::ClientError if change_feed \u0026\u0026 msg.contains(\"not in stream cache\") =\u003e { break; }\n                        _ =\u003e Err(response_error(typ, resp.e, msg))?,\n                    }\n                }\n            }\n        }\n    }\n}\n\nimpl Payload\u003c'_\u003e {\n    fn encode(\u0026self, token: u64) -\u003e Result\u003cVec\u003cu8\u003e\u003e {\n        let bytes = self.to_bytes()?;\n        let data_len = bytes.len();\n        let mut buf = Vec::with_capacity(HEADER_SIZE + data_len);\n        buf.extend_from_slice(\u0026token.to_le_bytes());\n        buf.extend_from_slice(\u0026(data_len as u32).to_le_bytes());\n        buf.extend_from_slice(\u0026bytes);\n        Ok(buf)\n    }\n}\n\nimpl Connection {\n    fn send_response(\u0026self, db_token: u64, resp: Result\u003c(ResponseType, Response)\u003e) {\n        if let Some(tx) = self.session.inner.channels.get(\u0026db_token) {\n            if let Err(error) = tx.unbounded_send(resp) {\n                if error.is_disconnected() {\n                    self.session.inner.channels.remove(\u0026db_token);\n                }\n            }\n        }\n    }\n\n    pub(crate) async fn request\u003c'a\u003e(\n        \u0026mut self,\n        query: \u0026'a Payload\u003c'a\u003e,\n        noreply: bool,\n    ) -\u003e Result\u003c(ResponseType, Response)\u003e {\n        self.submit(query, noreply).await;\n        match self.rx.lock().await.next().await {\n            Some(resp) =\u003e resp,\n            None =\u003e Ok((ResponseType::SuccessAtom, Response::new())),\n        }\n    }\n\n    async fn submit\u003c'a\u003e(\u0026self, query: \u0026'a Payload\u003c'a\u003e, noreply: bool) {\n        let mut db_token = self.token;\n        let result = self.exec(query, noreply, \u0026mut db_token).await;\n        self.send_response(db_token, result);\n    }\n\n    async fn exec\u003c'a\u003e(\n        \u0026self,\n        query: \u0026'a Payload\u003c'a\u003e,\n        noreply: bool,\n        db_token: \u0026mut u64,\n    ) -\u003e Result\u003c(ResponseType, Response)\u003e {\n        let buf = query.encode(self.token)?;\n        let mut stream = self.session.inner.stream.lock().await;\n        let tls_stream = mem::take(\u0026mut stream.tls_stream);\n\n        trace!(\"sending query; token: {}, payload: {}\", self.token, query);\n        if let Some(tcp_stream) = tls_stream {\n            self.tcp_ops(tcp_stream, buf, noreply, db_token).await\n        } else {\n            self.tcp_ops(stream.stream.clone(), buf, noreply, db_token)\n                .await\n        }\n    }\n\n    async fn tcp_ops\u003cT\u003e(\n        \u0026self,\n        mut stream: T,\n        buf: Vec\u003cu8\u003e,\n        noreply: bool,\n        db_token: \u0026mut u64,\n    ) -\u003e Result\u003c(ResponseType, Response)\u003e\n    where\n        T: Unpin + AsyncWrite + AsyncReadExt + AsyncRead + AsyncReadExt,\n    {\n        stream.write_all(\u0026buf).await?;\n        trace!(\"query sent; token: {}\", self.token);\n\n        if noreply {\n            return Ok((ResponseType::SuccessAtom, Response::new()));\n        }\n\n        trace!(\"reading header; token: {}\", self.token);\n        let mut header = [0u8; HEADER_SIZE];\n        stream.read_exact(\u0026mut header).await?;\n\n        let mut buf = [0u8; TOKEN_SIZE];\n        buf.copy_from_slice(\u0026header[..TOKEN_SIZE]);\n        *db_token = {\n            let token = u64::from_le_bytes(buf);\n            trace!(\"db_token: {}\", token);\n            if token \u003e self.session.inner.token.load(Ordering::SeqCst) {\n                self.session.inner.mark_broken();\n                return Err(err::ReqlDriverError::ConnectionBroken.into());\n            }\n            token\n        };\n\n        let mut buf = [0u8; DATA_SIZE];\n        buf.copy_from_slice(\u0026header[TOKEN_SIZE..]);\n        let len = u32::from_le_bytes(buf) as usize;\n        trace!(\n            \"header read; token: {}, db_token: {}, response_len: {}\",\n            self.token,\n            db_token,\n            len\n        );\n\n        trace!(\"reading body; token: {}\", self.token);\n        let mut buf = vec![0u8; len];\n        stream.read_exact(\u0026mut buf).await?;\n\n        trace!(\n            \"body read; token: {}, db_token: {}, body: {}\",\n            self.token,\n            db_token,\n            super::bytes_to_string(\u0026buf),\n        );\n\n        let resp = serde_json::from_slice::\u003cResponse\u003e(\u0026buf)?;\n        trace!(\"response successfully parsed; token: {}\", self.token,);\n\n        let response_type = ResponseType::from_i32(resp.t).ok_or_else(|| {\n            err::ReqlDriverError::Other(format!(\"unknown response type `{}`\", resp.t))\n        })?;\n\n        if let Some(error_type) = resp.e {\n            let msg = error_message(resp.r)?;\n            return Err(response_error(response_type, Some(error_type), msg));\n        }\n\n        Ok((response_type, resp))\n    }\n}\n\nfn error_message(response: Value) -\u003e Result\u003cString\u003e {\n    let messages = serde_json::from_value::\u003cVec\u003cString\u003e\u003e(response)?;\n    Ok(messages.join(\" \"))\n}\n\nfn response_error(\n    response_type: ResponseType,\n    error_type: Option\u003ci32\u003e,\n    msg: String,\n) -\u003e err::ReqlError {\n    match response_type {\n        ResponseType::ClientError =\u003e err::ReqlDriverError::Other(msg).into(),\n        ResponseType::CompileError =\u003e err::ReqlError::Compile(msg),\n        ResponseType::RuntimeError =\u003e match error_type.map(ErrorType::from_i32).ok_or_else(|| {\n            err::ReqlDriverError::Other(format!(\"unexpected runtime error: {}\", msg))\n        }) {\n            Ok(Some(ErrorType::Internal)) =\u003e err::ReqlRuntimeError::Internal(msg).into(),\n            Ok(Some(ErrorType::ResourceLimit)) =\u003e err::ReqlRuntimeError::ResourceLimit(msg).into(),\n            Ok(Some(ErrorType::QueryLogic)) =\u003e err::ReqlRuntimeError::QueryLogic(msg).into(),\n            Ok(Some(ErrorType::NonExistence)) =\u003e err::ReqlRuntimeError::NonExistence(msg).into(),\n            Ok(Some(ErrorType::OpFailed)) =\u003e err::ReqlAvailabilityError::OpFailed(msg).into(),\n            Ok(Some(ErrorType::OpIndeterminate)) =\u003e {\n                err::ReqlAvailabilityError::OpIndeterminate(msg).into()\n            }\n            Ok(Some(ErrorType::User)) =\u003e err::ReqlRuntimeError::User(msg).into(),\n            Ok(Some(ErrorType::PermissionError)) =\u003e err::ReqlRuntimeError::Permission(msg).into(),\n            Err(error) =\u003e error.into(),\n            _ =\u003e err::ReqlDriverError::Other(format!(\"unexpected runtime error: {}\", msg)).into(),\n        },\n        _ =\u003e err::ReqlDriverError::Other(format!(\"unexpected response: {}\", msg)).into(),\n    }\n}\n","traces":[{"line":34,"address":[2274704],"length":1,"stats":{"Line":0},"fn_name":"new"},{"line":38,"address":[2274729],"length":1,"stats":{"Line":0},"fn_name":null},{"line":131,"address":[3000205,3000142,2999332,2999118,2999072,2999642,2999258],"length":1,"stats":{"Line":50},"fn_name":"{async_fn#0}"},{"line":132,"address":[2999442,2999279,2999653,2999243],"length":1,"stats":{"Line":20},"fn_name":null},{"line":133,"address":[2999744,2999806],"length":1,"stats":{"Line":20},"fn_name":null},{"line":134,"address":[3000130,3000109,2999952],"length":1,"stats":{"Line":0},"fn_name":null},{"line":136,"address":[2999893],"length":1,"stats":{"Line":10},"fn_name":null},{"line":145,"address":[4671848,4671360,4671827],"length":1,"stats":{"Line":3},"fn_name":"into_run_opts"},{"line":146,"address":[4671545,4671384],"length":1,"stats":{"Line":3},"fn_name":null},{"line":147,"address":[4671651,4671493],"length":1,"stats":{"Line":9},"fn_name":null},{"line":152,"address":[4671888,4672111],"length":1,"stats":{"Line":0},"fn_name":"into_run_opts"},{"line":153,"address":[4671905],"length":1,"stats":{"Line":0},"fn_name":null},{"line":158,"address":[6664976,6665645],"length":1,"stats":{"Line":2},"fn_name":"into_run_opts"},{"line":159,"address":[6664992],"length":1,"stats":{"Line":2},"fn_name":null},{"line":160,"address":[6665104,6665044,6665488],"length":1,"stats":{"Line":4},"fn_name":null},{"line":161,"address":[6665261],"length":1,"stats":{"Line":2},"fn_name":null},{"line":166,"address":[6665696],"length":1,"stats":{"Line":0},"fn_name":"into_run_opts"},{"line":167,"address":[6665713],"length":1,"stats":{"Line":0},"fn_name":null},{"line":168,"address":[6665728],"length":1,"stats":{"Line":0},"fn_name":null},{"line":173,"address":[4672144],"length":1,"stats":{"Line":0},"fn_name":"into_run_opts"},{"line":174,"address":[4672168],"length":1,"stats":{"Line":0},"fn_name":null},{"line":179,"address":[6666526,6665808],"length":1,"stats":{"Line":0},"fn_name":"into_run_opts"},{"line":180,"address":[6665825],"length":1,"stats":{"Line":0},"fn_name":null},{"line":181,"address":[6665965,6665901,6666269],"length":1,"stats":{"Line":0},"fn_name":null},{"line":183,"address":[6666066],"length":1,"stats":{"Line":0},"fn_name":null},{"line":187,"address":[3000272,3000542,3000515],"length":1,"stats":{"Line":5},"fn_name":"new\u003c\u0026reql_rust::connection::Session, serde_json::value::Value\u003e"},{"line":192,"address":[3000397,3000307],"length":1,"stats":{"Line":10},"fn_name":null},{"line":193,"address":[3054553,3053411],"length":1,"stats":{"Line":16},"fn_name":null},{"line":194,"address":[3055347,3055615,3054215,3054679,3055486,3053482],"length":1,"stats":{"Line":55},"fn_name":null},{"line":195,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":196,"address":[3055788],"length":1,"stats":{"Line":11},"fn_name":null},{"line":197,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":199,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":200,"address":[3055922,3055964],"length":1,"stats":{"Line":22},"fn_name":null},{"line":202,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":203,"address":[3053503,3056607,3056175,3056450,3056080,3056534,3056314,3054164],"length":1,"stats":{"Line":56},"fn_name":null},{"line":204,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":206,"address":[3058634],"length":1,"stats":{"Line":5},"fn_name":null},{"line":207,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":208,"address":[3065629,3058775],"length":1,"stats":{"Line":6},"fn_name":null},{"line":209,"address":[3065659],"length":1,"stats":{"Line":3},"fn_name":null},{"line":211,"address":[3066035],"length":1,"stats":{"Line":1},"fn_name":null},{"line":213,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":214,"address":[3058856],"length":1,"stats":{"Line":3},"fn_name":null},{"line":215,"address":[3064544],"length":1,"stats":{"Line":0},"fn_name":null},{"line":217,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":218,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":220,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":221,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":222,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":224,"address":[3062432,3060907],"length":1,"stats":{"Line":2},"fn_name":null},{"line":228,"address":[3062562],"length":1,"stats":{"Line":1},"fn_name":null},{"line":229,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":231,"address":[3058950],"length":1,"stats":{"Line":0},"fn_name":null},{"line":232,"address":[3058691],"length":1,"stats":{"Line":0},"fn_name":null},{"line":233,"address":[3058705],"length":1,"stats":{"Line":0},"fn_name":null},{"line":234,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":236,"address":[3059687],"length":1,"stats":{"Line":0},"fn_name":null},{"line":237,"address":[3059704],"length":1,"stats":{"Line":0},"fn_name":null},{"line":246,"address":[4045915,4045168],"length":1,"stats":{"Line":10},"fn_name":"encode"},{"line":247,"address":[4045206,4045332],"length":1,"stats":{"Line":10},"fn_name":null},{"line":248,"address":[4045471,4045308],"length":1,"stats":{"Line":8},"fn_name":null},{"line":249,"address":[4045479],"length":1,"stats":{"Line":4},"fn_name":null},{"line":250,"address":[4045556,4045617],"length":1,"stats":{"Line":20},"fn_name":null},{"line":251,"address":[4045678],"length":1,"stats":{"Line":10},"fn_name":null},{"line":252,"address":[4045748],"length":1,"stats":{"Line":10},"fn_name":null},{"line":253,"address":[4045808],"length":1,"stats":{"Line":10},"fn_name":null},{"line":258,"address":[4672432,4673207,4673052],"length":1,"stats":{"Line":4},"fn_name":"send_response"},{"line":259,"address":[4672462,4672552],"length":1,"stats":{"Line":8},"fn_name":null},{"line":260,"address":[4672726,4672640],"length":1,"stats":{"Line":8},"fn_name":null},{"line":261,"address":[4672969,4672875],"length":1,"stats":{"Line":0},"fn_name":null},{"line":262,"address":[4672995],"length":1,"stats":{"Line":0},"fn_name":null},{"line":268,"address":[4673264],"length":1,"stats":{"Line":10},"fn_name":"request"},{"line":273,"address":[3001259,3000920,3001086,3000767,3000715],"length":1,"stats":{"Line":32},"fn_name":null},{"line":274,"address":[3001737,3000788,3001331,3000871,3001383],"length":1,"stats":{"Line":16},"fn_name":null},{"line":275,"address":[3002027],"length":1,"stats":{"Line":4},"fn_name":null},{"line":276,"address":[3002125,3002001],"length":1,"stats":{"Line":0},"fn_name":null},{"line":280,"address":[3002272,3002512,3002305,3002440,3002783],"length":1,"stats":{"Line":40},"fn_name":"{async_fn#0}"},{"line":281,"address":[3002399],"length":1,"stats":{"Line":10},"fn_name":null},{"line":282,"address":[3002637,3002418,3002461,3002794],"length":1,"stats":{"Line":22},"fn_name":null},{"line":283,"address":[3002918],"length":1,"stats":{"Line":4},"fn_name":null},{"line":286,"address":[4673456],"length":1,"stats":{"Line":10},"fn_name":"exec"},{"line":292,"address":[3003178,3003561,3003677],"length":1,"stats":{"Line":20},"fn_name":null},{"line":293,"address":[3003238,3004200,3003655,3003949,3003391],"length":1,"stats":{"Line":31},"fn_name":null},{"line":294,"address":[3004375,3004292],"length":1,"stats":{"Line":20},"fn_name":null},{"line":296,"address":[3005441,3004932,3005096,3004570,3005357,3005246],"length":1,"stats":{"Line":30},"fn_name":null},{"line":297,"address":[3005918],"length":1,"stats":{"Line":10},"fn_name":null},{"line":298,"address":[3006520,3003342,3003259,3005961],"length":1,"stats":{"Line":0},"fn_name":null},{"line":300,"address":[3006042,3003277],"length":1,"stats":{"Line":12},"fn_name":null},{"line":301,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":305,"address":[4481984,4482176],"length":1,"stats":{"Line":10},"fn_name":"tcp_ops\u003casync_native_tls::tls_stream::TlsStream\u003casync_net::tcp::TcpStream\u003e\u003e"},{"line":315,"address":[3022246,3022463,3008058,3007220,3022306,3022646,3023078,3007623,3007437,3007280],"length":1,"stats":{"Line":30},"fn_name":null},{"line":316,"address":[3008948,3023965,3008161,3023704,3023540,3008687,3024049,3008523,3023854,3009032,3008837,3023178],"length":1,"stats":{"Line":30},"fn_name":null},{"line":318,"address":[3024457,3009443],"length":1,"stats":{"Line":10},"fn_name":null},{"line":319,"address":[3024575,3009564],"length":1,"stats":{"Line":0},"fn_name":null},{"line":322,"address":[3010364,3010475,3010050,3025061,3009688,3025486,3010559,3010214,3025375,3024699,3025570,3025225],"length":1,"stats":{"Line":30},"fn_name":null},{"line":323,"address":[3025978,3010970],"length":1,"stats":{"Line":10},"fn_name":null},{"line":324,"address":[3022327,3007301,3022412,3011437,3026425,3026000,3011001,3007386],"length":1,"stats":{"Line":22},"fn_name":null},{"line":326,"address":[3011352,3026345],"length":1,"stats":{"Line":4},"fn_name":null},{"line":327,"address":[3011531,3026519,3026371,3011380],"length":1,"stats":{"Line":8},"fn_name":null},{"line":328,"address":[3013125,3028110],"length":1,"stats":{"Line":4},"fn_name":null},{"line":329,"address":[3011562,3026550],"length":1,"stats":{"Line":4},"fn_name":null},{"line":330,"address":[3027508,3012520,3027083,3011733,3012095,3012604,3027247,3027397,3026721,3012409,3012259,3027592],"length":1,"stats":{"Line":12},"fn_name":null},{"line":331,"address":[3027992,3013004],"length":1,"stats":{"Line":4},"fn_name":null},{"line":332,"address":[3013227,3028206],"length":1,"stats":{"Line":0},"fn_name":null},{"line":333,"address":[3028240,3013264],"length":1,"stats":{"Line":0},"fn_name":null},{"line":335,"address":[3013117,3028102],"length":1,"stats":{"Line":4},"fn_name":null},{"line":338,"address":[3013135,3028117],"length":1,"stats":{"Line":4},"fn_name":null},{"line":339,"address":[3028144,3028342,3013162,3013366],"length":1,"stats":{"Line":8},"fn_name":null},{"line":340,"address":[3013397,3028373],"length":1,"stats":{"Line":4},"fn_name":null},{"line":341,"address":[3029074,3013934,3013572,3029224,3028548,3028910,3014443,3014359,3029419,3014248,3029335,3014098],"length":1,"stats":{"Line":12},"fn_name":null},{"line":343,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":344,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":345,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":348,"address":[3030141,3031012,3015958,3030928,3016042,3030503,3030667,3015847,3015171,3015533,3015697,3030817],"length":1,"stats":{"Line":12},"fn_name":null},{"line":349,"address":[3031420,3016453],"length":1,"stats":{"Line":4},"fn_name":null},{"line":350,"address":[3007319,3016622,3031587,3031455,3017057,3032019,3022345,3016488],"length":1,"stats":{"Line":8},"fn_name":null},{"line":352,"address":[3033736,3018031,3032798,3017160,3032993,3032909,3033296,3032122,3017522,3018780,3018340,3017686,3032648,3032484,3017836,3017947],"length":1,"stats":{"Line":12},"fn_name":null},{"line":354,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":355,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":356,"address":[3018275,3033231],"length":1,"stats":{"Line":0},"fn_name":null},{"line":359,"address":[3018883,3033839,3019111,3033746,3018790,3034067],"length":1,"stats":{"Line":8},"fn_name":null},{"line":360,"address":[3019978,3019747,3020050,3034195,3034835,3034703,3019239,3034551,3019595,3019879,3034934,3035006],"length":1,"stats":{"Line":12},"fn_name":null},{"line":362,"address":[3036960,3035388,3037184,3020435,3020652,3035605],"length":1,"stats":{"Line":4},"fn_name":"{closure#0}\u003casync_native_tls::tls_stream::TlsStream\u003casync_net::tcp::TcpStream\u003e\u003e"},{"line":363,"address":[3036998,3037222],"length":1,"stats":{"Line":0},"fn_name":null},{"line":366,"address":[3020730,3020566,3035683,3035519],"length":1,"stats":{"Line":5},"fn_name":null},{"line":367,"address":[3036165,3021442,3021235,3035701,3036372,3020748],"length":1,"stats":{"Line":2},"fn_name":null},{"line":368,"address":[3036274,3021344,3021647,3036577],"length":1,"stats":{"Line":2},"fn_name":null},{"line":371,"address":[3020814,3035767],"length":1,"stats":{"Line":4},"fn_name":null},{"line":375,"address":[2275485,2275104],"length":1,"stats":{"Line":1},"fn_name":"error_message"},{"line":376,"address":[2275299,2275121],"length":1,"stats":{"Line":1},"fn_name":null},{"line":377,"address":[2275389,2275269],"length":1,"stats":{"Line":2},"fn_name":null},{"line":380,"address":[2277616,2277670,2275520],"length":1,"stats":{"Line":1},"fn_name":"response_error"},{"line":385,"address":[2275568],"length":1,"stats":{"Line":1},"fn_name":null},{"line":386,"address":[2275672,2277665],"length":1,"stats":{"Line":0},"fn_name":null},{"line":387,"address":[2275753],"length":1,"stats":{"Line":0},"fn_name":null},{"line":388,"address":[2275852,2276178,2276380,2276121,2276160],"length":1,"stats":{"Line":5},"fn_name":null},{"line":389,"address":[3037446],"length":1,"stats":{"Line":0},"fn_name":null},{"line":391,"address":[2277579,2276736],"length":1,"stats":{"Line":0},"fn_name":null},{"line":392,"address":[2277574,2276839],"length":1,"stats":{"Line":0},"fn_name":null},{"line":393,"address":[2276942,2277569],"length":1,"stats":{"Line":2},"fn_name":null},{"line":394,"address":[2277564,2277045],"length":1,"stats":{"Line":0},"fn_name":null},{"line":395,"address":[2277148,2277559],"length":1,"stats":{"Line":0},"fn_name":null},{"line":397,"address":[2277554,2277251],"length":1,"stats":{"Line":0},"fn_name":null},{"line":399,"address":[2277549,2277354],"length":1,"stats":{"Line":2},"fn_name":null},{"line":400,"address":[2277454],"length":1,"stats":{"Line":0},"fn_name":null},{"line":401,"address":[2276356,2276225],"length":1,"stats":{"Line":0},"fn_name":null},{"line":402,"address":[2276516,2276176],"length":1,"stats":{"Line":0},"fn_name":null},{"line":404,"address":[2275917,2275638],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":88,"coverable":149},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","sample.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(number: usize) -\u003e Command {\n    let arg = Command::from_json(number);\n\n    Command::new(TermType::Sample).with_arg(arg)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_sample_data() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: Vec\u003cPost\u003e = table.sample(3).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained.len() == 3);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":5,"address":[4354901,4354672,4354874],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[4354697],"length":1,"stats":{"Line":1},"fn_name":null},{"line":8,"address":[4354790,4354723],"length":1,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[4772165,4771760,4771799,4772213],"length":1,"stats":{"Line":6},"fn_name":"test_sample_data"},{"line":19,"address":[6692588,6691587,6692151,6691805,6691652,6691973],"length":1,"stats":{"Line":4},"fn_name":null},{"line":20,"address":[6692845,6693554,6692535,6693689,6691673,6691756],"length":1,"stats":{"Line":5},"fn_name":null},{"line":22,"address":[6693983,6694044,6693674],"length":1,"stats":{"Line":2},"fn_name":null},{"line":24,"address":[4772176,4771836,4771896,4771791],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":8,"coverable":8},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","seconds.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Seconds)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_seconds_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let seconds = r.now().seconds();\n        let seconds1 = seconds.clone().value();\n        let seconds2: f64 = seconds.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(seconds1.is_normal());\n        assert!(seconds2.is_normal());\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2720144],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2720156],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[2258869,2258503,2258464,2258917],"length":1,"stats":{"Line":6},"fn_name":"test_seconds_ops"},{"line":16,"address":[4777095,4776976,4777022,4777256,4777706,4777445],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[4777952,4777696],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[4778043,4777980],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[4778182,4777037,4778895,4778095,4779004],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[4778982,4779166,4779189],"length":1,"stats":{"Line":2},"fn_name":null},{"line":23,"address":[4779225,4779266,4779178],"length":1,"stats":{"Line":2},"fn_name":null},{"line":25,"address":[2258880,2258600,2258495,2258540],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":10,"coverable":10},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","set_difference.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(values: Vec\u003cimpl Serialize\u003e) -\u003e Command {\n    let arg = Command::from_json(values);\n\n    Command::new(TermType::SetDifference).with_arg(arg)\n}\n\n// TODO write test\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","set_insert.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(value: impl Serialize) -\u003e Command {\n    let arg = Command::from_json(value);\n\n    Command::new(TermType::SetInsert).with_arg(arg)\n}\n\n// TODO write test\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","set_intersection.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(values: Vec\u003cimpl Serialize\u003e) -\u003e Command {\n    let arg = Command::from_json(values);\n\n    Command::new(TermType::SetIntersection).with_arg(arg)\n}\n\n// TODO write test\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","set_union.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(values: Vec\u003cimpl Serialize\u003e) -\u003e Command {\n    let arg = Command::from_json(values);\n\n    Command::new(TermType::SetUnion).with_arg(arg)\n}\n\n// TODO write test\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","set_write_hook.rs"],"content":"use ql2::term::TermType;\n\nuse crate::prelude::Func;\nuse crate::{types::Binary, Command};\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: Option\u003cimpl SetWriteHookArg\u003e) -\u003e Command {\n    let mut command = Command::new(TermType::SetWriteHook);\n\n    if let Some(arg) = args {\n        command = arg.into_set_write_hook_opts().add_to_cmd(command);\n    }\n\n    command\n}\n\npub trait SetWriteHookArg {\n    fn into_set_write_hook_opts(self) -\u003e CmdOpts;\n}\n\nimpl SetWriteHookArg for Func {\n    fn into_set_write_hook_opts(self) -\u003e CmdOpts {\n        CmdOpts::Single(self.0)\n    }\n}\n\nimpl SetWriteHookArg for Binary {\n    fn into_set_write_hook_opts(self) -\u003e CmdOpts {\n        let arg = Command::from_json(self);\n\n        CmdOpts::Single(arg)\n    }\n}\n\n// WriteHookResponse\n// TODO Write test\n","traces":[{"line":23,"address":[7021280],"length":1,"stats":{"Line":0},"fn_name":"into_set_write_hook_opts"},{"line":24,"address":[7021296],"length":1,"stats":{"Line":0},"fn_name":null},{"line":29,"address":[2212176],"length":1,"stats":{"Line":0},"fn_name":"into_set_write_hook_opts"},{"line":30,"address":[2212193],"length":1,"stats":{"Line":0},"fn_name":null},{"line":32,"address":[2212258],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":5},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","skip.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(step: usize) -\u003e Command {\n    let arg = Command::from_json(step);\n\n    Command::new(TermType::Skip).with_arg(arg)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_skip_data() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: Vec\u003cPost\u003e = table\n            .skip(data.len() - 1)\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained.first() == data.first());\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":5,"address":[2584755,2584544,2584786],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2584569],"length":1,"stats":{"Line":1},"fn_name":null},{"line":8,"address":[2584596,2584667],"length":1,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[4218320,4218359,4218725,4218773],"length":1,"stats":{"Line":6},"fn_name":"test_skip_data"},{"line":19,"address":[5138739],"length":1,"stats":{"Line":1},"fn_name":null},{"line":20,"address":[5139117,5138952,5138799,5139352,5139785,5139177],"length":1,"stats":{"Line":4},"fn_name":null},{"line":21,"address":[5140028,5140784,5140565,5140885,5140370,5140841,5139737,5140293,5141121,5140127],"length":1,"stats":{"Line":7},"fn_name":null},{"line":22,"address":[5140059,5140134,5139767,5139958,5140152],"length":1,"stats":{"Line":1},"fn_name":null},{"line":23,"address":[5140202,5140498,5140107,5138903,5140326,5138820],"length":1,"stats":{"Line":6},"fn_name":null},{"line":24,"address":[5140688],"length":1,"stats":{"Line":0},"fn_name":null},{"line":28,"address":[5141005,5141382,5141553],"length":1,"stats":{"Line":2},"fn_name":null},{"line":30,"address":[4218456,4218396,4218351,4218736],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":11,"coverable":12},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","slice.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::{arguments::Status, Command};\n\npub(crate) fn new(args: impl SliceArg) -\u003e Command {\n    let (start_offset, end_offset, opts) = args.into_slice_opts();\n    let mut command = Command::new(TermType::Slice).with_arg(start_offset);\n\n    if let Some(end_offset) = end_offset {\n        command = command.with_arg(end_offset);\n    }\n\n    command.with_opts(opts)\n}\n\npub trait SliceArg {\n    fn into_slice_opts(self) -\u003e (Command, Option\u003cCommand\u003e, SliceOption);\n}\n\nimpl SliceArg for isize {\n    fn into_slice_opts(self) -\u003e (Command, Option\u003cCommand\u003e, SliceOption) {\n        (Command::from_json(self), None, Default::default())\n    }\n}\n\nimpl SliceArg for (isize, isize) {\n    fn into_slice_opts(self) -\u003e (Command, Option\u003cCommand\u003e, SliceOption) {\n        (\n            Command::from_json(self.0),\n            Some(Command::from_json(self.1)),\n            Default::default(),\n        )\n    }\n}\n\nimpl SliceArg for (isize, SliceOption) {\n    fn into_slice_opts(self) -\u003e (Command, Option\u003cCommand\u003e, SliceOption) {\n        (Command::from_json(self), None, self.1)\n    }\n}\n\nimpl SliceArg for (isize, isize, SliceOption) {\n    fn into_slice_opts(self) -\u003e (Command, Option\u003cCommand\u003e, SliceOption) {\n        (\n            Command::from_json(self.0),\n            Some(Command::from_json(self.1)),\n            self.2,\n        )\n    }\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct SliceOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub left_bound: Option\u003cStatus\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub right_bound: Option\u003cStatus\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::cmd::order_by::OrderByOption;\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_slice_data() -\u003e Result\u003c()\u003e {\n        let data = Post::get_many_data();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: Vec\u003cPost\u003e = table\n            .order_by(OrderByOption::default().index(\"id\"))\n            .slice((4, 5))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained.last() == data.last());\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":7,"address":[1331392,1331479,1330704],"length":1,"stats":{"Line":1},"fn_name":"new\u003c(isize, isize)\u003e"},{"line":8,"address":[1330737],"length":1,"stats":{"Line":1},"fn_name":null},{"line":9,"address":[1330980,1330883],"length":1,"stats":{"Line":2},"fn_name":null},{"line":11,"address":[1331048,1331318],"length":1,"stats":{"Line":2},"fn_name":null},{"line":12,"address":[1331292,1331169],"length":1,"stats":{"Line":2},"fn_name":null},{"line":15,"address":[1331259],"length":1,"stats":{"Line":1},"fn_name":null},{"line":23,"address":[2788880,2789074,2789101],"length":1,"stats":{"Line":0},"fn_name":"into_slice_opts"},{"line":24,"address":[2221885,2221705],"length":1,"stats":{"Line":0},"fn_name":null},{"line":29,"address":[2789120,2789410],"length":1,"stats":{"Line":1},"fn_name":"into_slice_opts"},{"line":31,"address":[2789158],"length":1,"stats":{"Line":1},"fn_name":null},{"line":32,"address":[2789262,2789174],"length":1,"stats":{"Line":2},"fn_name":null},{"line":33,"address":[2789264],"length":1,"stats":{"Line":1},"fn_name":null},{"line":39,"address":[2222224],"length":1,"stats":{"Line":0},"fn_name":"into_slice_opts"},{"line":40,"address":[2222246],"length":1,"stats":{"Line":0},"fn_name":null},{"line":45,"address":[2789872,2789632],"length":1,"stats":{"Line":0},"fn_name":"into_slice_opts"},{"line":47,"address":[2222438],"length":1,"stats":{"Line":0},"fn_name":null},{"line":48,"address":[2789737,2789673],"length":1,"stats":{"Line":0},"fn_name":null},{"line":49,"address":[2222548],"length":1,"stats":{"Line":0},"fn_name":null},{"line":70,"address":[4797653,4797287,4797701,4797248],"length":1,"stats":{"Line":6},"fn_name":"test_slice_data"},{"line":71,"address":[5142515],"length":1,"stats":{"Line":1},"fn_name":null},{"line":72,"address":[5142728,5142893,5142575,5143128,5143559,5142953],"length":1,"stats":{"Line":4},"fn_name":null},{"line":73,"address":[5143998,5143808,5144707,5143519,5144943,5144115,5143879,5144192,5144387,5144606,5144663],"length":1,"stats":{"Line":8},"fn_name":null},{"line":74,"address":[5143549,5143847,5143732,5143918,5143936],"length":1,"stats":{"Line":2},"fn_name":null},{"line":75,"address":[5143855],"length":1,"stats":{"Line":1},"fn_name":null},{"line":76,"address":[5144320,5142596,5144148,5142679,5143978,5144021],"length":1,"stats":{"Line":6},"fn_name":null},{"line":77,"address":[5144510],"length":1,"stats":{"Line":0},"fn_name":null},{"line":81,"address":[5145204,5145375,5144827],"length":1,"stats":{"Line":2},"fn_name":null},{"line":83,"address":[4797279,4797384,4797664,4797324],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":19,"coverable":28},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","splice_at.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(offset: isize, value: impl Serialize) -\u003e Command {\n    let arg_offset = Command::from_json(offset);\n    let arg_value = Command::from_json(value);\n\n    Command::new(TermType::SpliceAt)\n        .with_arg(arg_offset)\n        .with_arg(arg_value)\n}\n\n// TODO write test\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","split.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(args: impl SplitArg) -\u003e Command {\n    let (arg1, arg2) = args.into_split_opts();\n    let mut command = Command::new(TermType::Split);\n\n    if let Some(arg) = arg1 {\n        command = command.with_arg(arg);\n    }\n\n    if let Some(arg1) = arg2 {\n        command = command.with_arg(arg1);\n    }\n\n    command\n}\n\npub trait SplitArg {\n    fn into_split_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e);\n}\n\nimpl SplitArg for () {\n    fn into_split_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        (None, None)\n    }\n}\n\nimpl SplitArg for Option\u003c\u0026str\u003e {\n    fn into_split_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        (Some(Command::from_json(self)), None)\n    }\n}\n\nimpl SplitArg for (Option\u003c\u0026str\u003e, usize) {\n    fn into_split_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        (\n            Some(Command::from_json(self.0)),\n            Some(Command::from_json(self.1)),\n        )\n    }\n}\n\n// TODO write test\n","traces":[{"line":25,"address":[2720192],"length":1,"stats":{"Line":0},"fn_name":"into_split_opts"},{"line":26,"address":[2720211],"length":1,"stats":{"Line":0},"fn_name":null},{"line":31,"address":[2703280],"length":1,"stats":{"Line":0},"fn_name":"into_split_opts"},{"line":32,"address":[2703312],"length":1,"stats":{"Line":0},"fn_name":null},{"line":37,"address":[2703641,2703424],"length":1,"stats":{"Line":0},"fn_name":"into_split_opts"},{"line":39,"address":[2703448],"length":1,"stats":{"Line":0},"fn_name":null},{"line":40,"address":[2703499,2703552],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":7},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","status.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Status)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::StatusResponse;\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_status_table() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let response: StatusResponse = table.status().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response.name.unwrap() == table_name);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":5,"address":[2720304],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2720316],"length":1,"stats":{"Line":1},"fn_name":null},{"line":17,"address":[1654485,1654416,1654818,1654590,1654393,1654384,1655110],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":18,"address":[1654547,1654775,1654620,1655553,1654943,1655121],"length":1,"stats":{"Line":4},"fn_name":null},{"line":19,"address":[1654641,1656527,1655505,1655810,1656734,1654726],"length":1,"stats":{"Line":5},"fn_name":null},{"line":21,"address":[1657200,1657046,1656669],"length":1,"stats":{"Line":2},"fn_name":null},{"line":23,"address":[1657560,1657500,1657376,1657717,1657157,1654659,1657854],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":7,"coverable":7},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","sub.rs"],"content":"use std::ops::Sub;\n\nuse ql2::term::TermType;\n\nuse crate::Command;\n\nimpl\u003cT: SubArg\u003e Sub\u003cT\u003e for Command {\n    type Output = Self;\n\n    fn sub(self, arg: T) -\u003e Self {\n        Command::new(TermType::Sub)\n            .with_arg(arg.into_sub_opts())\n            .with_parent(self)\n    }\n}\n\npub trait SubArg {\n    fn into_sub_opts(self) -\u003e Command;\n}\n\nimpl SubArg for f64 {\n    fn into_sub_opts(self) -\u003e Command {\n        Command::from_json(self)\n    }\n}\n\nimpl SubArg for Vec\u003cf64\u003e {\n    fn into_sub_opts(self) -\u003e Command {\n        Command::from_json(self)\n    }\n}\n\nimpl SubArg for Command {\n    fn into_sub_opts(self) -\u003e Command {\n        self\n    }\n}\n\n// TODO write test\n","traces":[{"line":10,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":11,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":12,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":13,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":22,"address":[2674304],"length":1,"stats":{"Line":0},"fn_name":"into_sub_opts"},{"line":23,"address":[2674322],"length":1,"stats":{"Line":0},"fn_name":null},{"line":28,"address":[4440288],"length":1,"stats":{"Line":0},"fn_name":"into_sub_opts"},{"line":29,"address":[4440300],"length":1,"stats":{"Line":0},"fn_name":null},{"line":34,"address":[4045952],"length":1,"stats":{"Line":0},"fn_name":"into_sub_opts"},{"line":35,"address":[4045960],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":10},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","sum.rs"],"content":"use ql2::term::TermType;\n\nuse crate::prelude::Func;\nuse crate::Command;\n\npub(crate) fn new(args: impl SumArg) -\u003e Command {\n    let (arg1, arg2) = args.into_sum_opts();\n    let mut command = Command::new(TermType::Sum);\n\n    if let Some(arg) = arg1 {\n        command = command.with_arg(arg)\n    }\n\n    if let Some(arg) = arg2 {\n        command = command.with_arg(arg)\n    }\n\n    command\n}\n\npub trait SumArg {\n    fn into_sum_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e);\n}\n\nimpl SumArg for () {\n    fn into_sum_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        (None, None)\n    }\n}\n\nimpl SumArg for \u0026str {\n    fn into_sum_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        let arg = Command::from_json(self);\n\n        (None, Some(arg))\n    }\n}\n\nimpl SumArg for Func {\n    fn into_sum_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        (None, Some(self.0))\n    }\n}\n\nimpl SumArg for Command {\n    fn into_sum_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        (Some(self), None)\n    }\n}\n\nimpl SumArg for (Command, \u0026str) {\n    fn into_sum_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        let arg = Command::from_json(self.1);\n\n        (Some(self.0), Some(arg))\n    }\n}\n\nimpl SumArg for (Command, Func) {\n    fn into_sum_opts(self) -\u003e (Option\u003cCommand\u003e, Option\u003cCommand\u003e) {\n        let Func(func) = self.1;\n\n        (Some(self.0), Some(func))\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_sum_data() -\u003e Result\u003c()\u003e {\n        let data: u8 = Post::get_many_data().iter().map(|post| post.view).sum();\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: u8 = table.sum(\"view\").run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(data_obtained == data);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":6,"address":[1762280,1761520,1762391],"length":1,"stats":{"Line":1},"fn_name":"new\u003c\u0026str\u003e"},{"line":7,"address":[1761553],"length":1,"stats":{"Line":1},"fn_name":null},{"line":8,"address":[1761663],"length":1,"stats":{"Line":1},"fn_name":null},{"line":10,"address":[1761760,1761996],"length":1,"stats":{"Line":1},"fn_name":null},{"line":11,"address":[1761875,1761970],"length":1,"stats":{"Line":0},"fn_name":null},{"line":14,"address":[1761932,1762221,1761998],"length":1,"stats":{"Line":3},"fn_name":null},{"line":15,"address":[1762195,1762081],"length":1,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[1762142],"length":1,"stats":{"Line":1},"fn_name":null},{"line":26,"address":[1684272],"length":1,"stats":{"Line":0},"fn_name":"into_sum_opts"},{"line":27,"address":[1684291],"length":1,"stats":{"Line":0},"fn_name":null},{"line":32,"address":[1684384],"length":1,"stats":{"Line":1},"fn_name":"into_sum_opts"},{"line":33,"address":[1684417],"length":1,"stats":{"Line":1},"fn_name":null},{"line":35,"address":[1684427],"length":1,"stats":{"Line":1},"fn_name":null},{"line":40,"address":[2748752],"length":1,"stats":{"Line":0},"fn_name":"into_sum_opts"},{"line":41,"address":[2748768],"length":1,"stats":{"Line":0},"fn_name":null},{"line":46,"address":[2179712],"length":1,"stats":{"Line":0},"fn_name":"into_sum_opts"},{"line":47,"address":[2261376],"length":1,"stats":{"Line":0},"fn_name":null},{"line":52,"address":[2261504,2261764],"length":1,"stats":{"Line":0},"fn_name":"into_sum_opts"},{"line":53,"address":[2179881],"length":1,"stats":{"Line":0},"fn_name":null},{"line":55,"address":[4046221],"length":1,"stats":{"Line":0},"fn_name":null},{"line":60,"address":[2180144],"length":1,"stats":{"Line":0},"fn_name":"into_sum_opts"},{"line":61,"address":[2180166],"length":1,"stats":{"Line":0},"fn_name":null},{"line":63,"address":[2180193],"length":1,"stats":{"Line":0},"fn_name":null},{"line":74,"address":[4219765,4219351,4219312,4219717],"length":1,"stats":{"Line":6},"fn_name":"test_sum_data"},{"line":75,"address":[2274656,2274669,2271283,2271656],"length":1,"stats":{"Line":4},"fn_name":"{closure#0}"},{"line":76,"address":[2271900,2271496,2271343,2272558],"length":1,"stats":{"Line":3},"fn_name":null},{"line":77,"address":[2272498,2271447,2273622,2273524,2271364,2272815],"length":1,"stats":{"Line":5},"fn_name":null},{"line":79,"address":[2273601,2273921],"length":1,"stats":{"Line":1},"fn_name":null},{"line":81,"address":[2274251,2274385,2274139,2271382,2273878,2274015,2274199],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":16,"coverable":29},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","sync.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Sync)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::*;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::SyncResponse;\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_sync_ops() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let sync_response: SyncResponse = table.sync().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(sync_response.synced == 1);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":5,"address":[2720352],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2720364],"length":1,"stats":{"Line":1},"fn_name":null},{"line":17,"address":[1679568,1680021,1679973,1679607],"length":1,"stats":{"Line":6},"fn_name":"test_sync_ops"},{"line":18,"address":[4103669,4104279,4103283,4103348,4103501,4103847],"length":1,"stats":{"Line":4},"fn_name":null},{"line":19,"address":[4105245,4103369,4104231,4103452,4105334,4104536],"length":1,"stats":{"Line":5},"fn_name":null},{"line":21,"address":[4105633,4105314],"length":1,"stats":{"Line":1},"fn_name":null},{"line":23,"address":[1679599,1679704,1679984,1679644],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":7,"coverable":7},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","table.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::arguments::{IdentifierFormat, ReadMode};\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl TableArg) -\u003e Command {\n    let (args, opts) = args.into_table_opts();\n\n    args.add_to_cmd(Command::new(TermType::Table))\n        .with_opts(opts)\n}\n\npub trait TableArg {\n    fn into_table_opts(self) -\u003e (CmdOpts, TableOption);\n}\n\nimpl TableArg for \u0026str {\n    fn into_table_opts(self) -\u003e (CmdOpts, TableOption) {\n        let arg = Command::from_json(self);\n\n        (CmdOpts::Single(arg), Default::default())\n    }\n}\n\nimpl TableArg for (\u0026str, TableOption) {\n    fn into_table_opts(self) -\u003e (CmdOpts, TableOption) {\n        let arg = Command::from_json(self.0);\n\n        (CmdOpts::Single(arg), self.1)\n    }\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\n#[non_exhaustive]\npub struct TableOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub read_mode: Option\u003cReadMode\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub identifier_format: Option\u003cIdentifierFormat\u003e,\n}\n\n// Sequence\u003cDocument\u003cT\u003e\u003e\n#[cfg(test)]\nmod tests {\n    use serde_json::Value;\n\n    use crate::arguments::ReadMode;\n    use crate::cmd::table::TableOption;\n    use crate::prelude::*;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_table() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let table: Vec\u003cValue\u003e = r\n            .db(\"todo_app\")\n            .table(\"geo\")\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(table.len() \u003e 0);\n        Ok(())\n    }\n\n    #[tokio::test]\n    async fn test_table_with_options() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let table_options = TableOption::default().read_mode(ReadMode::Outdated);\n        let table: Vec\u003cValue\u003e = r\n            .db(\"todo_app\")\n            .table((\"geo\", table_options))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(table.len() \u003e 0);\n        Ok(())\n    }\n}\n","traces":[{"line":10,"address":[3086957,3087040,3087011,3087488,3086592,3087434],"length":1,"stats":{"Line":9},"fn_name":"new\u003c\u0026str\u003e"},{"line":11,"address":[1354161],"length":1,"stats":{"Line":9},"fn_name":null},{"line":13,"address":[3086756,3087427,3087233,3086950],"length":1,"stats":{"Line":9},"fn_name":null},{"line":22,"address":[2393122,2392880],"length":1,"stats":{"Line":8},"fn_name":"into_table_opts"},{"line":23,"address":[2474561],"length":1,"stats":{"Line":8},"fn_name":null},{"line":25,"address":[2392964],"length":1,"stats":{"Line":8},"fn_name":null},{"line":30,"address":[2474800],"length":1,"stats":{"Line":1},"fn_name":"into_table_opts"},{"line":31,"address":[2393177],"length":1,"stats":{"Line":1},"fn_name":null},{"line":33,"address":[2545114],"length":1,"stats":{"Line":1},"fn_name":null},{"line":57,"address":[3088768,3088777,3088925,3089060,3088800,3089359,3088857],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":58,"address":[3088949,3089020,3089370,3089643,3088915,3089181],"length":1,"stats":{"Line":4},"fn_name":null},{"line":59,"address":[3089866,3089613,3090293,3090108,3090842,3090606,3090037,3090569,3089926,3090512],"length":1,"stats":{"Line":7},"fn_name":null},{"line":62,"address":[3088964,3090067,3090236,3089949,3089906],"length":1,"stats":{"Line":5},"fn_name":null},{"line":63,"address":[3090416],"length":1,"stats":{"Line":0},"fn_name":null},{"line":67,"address":[3090719,3090969,3091013],"length":1,"stats":{"Line":2},"fn_name":null},{"line":68,"address":[4418863,4418968,4418908,4419248],"length":1,"stats":{"Line":5},"fn_name":null},{"line":72,"address":[4419367,4419328,4419733,4419781],"length":1,"stats":{"Line":6},"fn_name":"test_table_with_options"},{"line":73,"address":[3091251,3091517,3091356,3091285,3091967,3091706],"length":1,"stats":{"Line":4},"fn_name":null},{"line":74,"address":[3091949,3092212],"length":1,"stats":{"Line":2},"fn_name":null},{"line":75,"address":[3093028,3092809,3093085,3093358,3092283,3092553,3092442,3092624,3093122,3092410],"length":1,"stats":{"Line":7},"fn_name":null},{"line":77,"address":[3092345],"length":1,"stats":{"Line":1},"fn_name":null},{"line":78,"address":[3092752,3091300,3092583,3092465,3092422],"length":1,"stats":{"Line":5},"fn_name":null},{"line":79,"address":[3092932],"length":1,"stats":{"Line":0},"fn_name":null},{"line":83,"address":[3093469,3093235,3093513],"length":1,"stats":{"Line":2},"fn_name":null},{"line":84,"address":[3093482],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":23,"coverable":25},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","table_create.rs"],"content":"use std::borrow::Cow;\nuse std::collections::HashMap;\n\nuse ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::{Serialize, Serializer};\n\nuse crate::arguments::{Durability, Replicas};\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl TableCreateArg) -\u003e Command {\n    let (args, opts) = args.into_table_create_opts();\n\n    args.add_to_cmd(Command::new(TermType::TableCreate))\n        .with_opts(opts)\n}\n\npub trait TableCreateArg {\n    fn into_table_create_opts(self) -\u003e (CmdOpts, TableCreateOption);\n}\n\nimpl TableCreateArg for \u0026str {\n    fn into_table_create_opts(self) -\u003e (CmdOpts, TableCreateOption) {\n        let arg = Command::from_json(self);\n\n        (CmdOpts::Single(arg), Default::default())\n    }\n}\n\nimpl TableCreateArg for (\u0026str, TableCreateOption) {\n    fn into_table_create_opts(self) -\u003e (CmdOpts, TableCreateOption) {\n        let arg = Command::from_json(self.0);\n\n        (CmdOpts::Single(arg), self.1)\n    }\n}\n\n#[derive(Debug, Default, Clone, PartialEq, CommandOptions)]\n#[non_exhaustive]\npub struct TableCreateOption {\n    pub primary_key: Option\u003cCow\u003c'static, str\u003e\u003e,\n    pub durability: Option\u003cDurability\u003e,\n    pub shards: Option\u003cu8\u003e,\n    pub replicas: Option\u003cReplicas\u003e,\n}\n\nimpl Serialize for TableCreateOption {\n    fn serialize\u003cS\u003e(\u0026self, serializer: S) -\u003e Result\u003cS::Ok, S::Error\u003e\n    where\n        S: Serializer,\n    {\n        #[derive(Serialize)]\n        struct InnerOptions\u003c'a\u003e {\n            #[serde(skip_serializing_if = \"Option::is_none\")]\n            primary_key: Option\u003c\u0026'a Cow\u003c'static, str\u003e\u003e,\n            #[serde(skip_serializing_if = \"Option::is_none\")]\n            durability: Option\u003cDurability\u003e,\n            #[serde(skip_serializing_if = \"Option::is_none\")]\n            shards: Option\u003cu8\u003e,\n            #[serde(skip_serializing_if = \"Option::is_none\")]\n            replicas: Option\u003cInnerReplicas\u003c'a\u003e\u003e,\n            #[serde(skip_serializing_if = \"Option::is_none\")]\n            primary_replica_tag: Option\u003c\u0026'a Cow\u003c'static, str\u003e\u003e,\n        }\n\n        #[derive(Serialize)]\n        #[serde(untagged)]\n        enum InnerReplicas\u003c'a\u003e {\n            Int(usize),\n            Map(\u0026'a HashMap\u003cCow\u003c'static, str\u003e, usize\u003e),\n        }\n\n        let (replicas, primary_replica_tag) = match \u0026self.replicas {\n            Some(Replicas::Int(i)) =\u003e (Some(InnerReplicas::Int(*i)), None),\n            Some(Replicas::Map {\n                replicas,\n                primary_replica_tag,\n            }) =\u003e (\n                Some(InnerReplicas::Map(replicas)),\n                Some(primary_replica_tag),\n            ),\n            None =\u003e (None, None),\n        };\n\n        let opts = InnerOptions {\n            replicas,\n            primary_replica_tag,\n            primary_key: self.primary_key.as_ref(),\n            durability: self.durability,\n            shards: self.shards,\n        };\n\n        opts.serialize(serializer)\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use uuid::Uuid;\n\n    use crate::cmd::table_create::TableCreateOption;\n    use crate::types::DbResponse;\n    use crate::{prelude::*, Session};\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_create_table() -\u003e Result\u003c()\u003e {\n        let table_name = Uuid::new_v4().to_string();\n        let conn = r.connection().connect().await?;\n        let table_created: DbResponse = r\n            .table_create(table_name.as_str())\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        drop_table(\u0026table_name, table_created, \u0026conn).await\n    }\n\n    #[tokio::test]\n    async fn test_create_table_with_options() -\u003e Result\u003c()\u003e {\n        let table_name = Uuid::new_v4().to_string();\n        let conn = r.connection().connect().await?;\n        let table_options = TableCreateOption::default().primary_key(\"id\");\n        let table_created = r\n            .db(\"test\")\n            .table_create((table_name.as_str(), table_options))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        drop_table(\u0026table_name, table_created, \u0026conn).await\n    }\n\n    async fn drop_table(table_name: \u0026str, table_created: DbResponse, conn: \u0026Session) -\u003e Result\u003c()\u003e {\n        assert!(table_created.tables_created \u003e Some(0));\n        r.table_drop(table_name).run(conn).await?;\n        Ok(())\n    }\n}\n","traces":[{"line":13,"address":[2687745,2687834,2687136,2687108,2686400,2687019],"length":1,"stats":{"Line":7},"fn_name":"new\u003c(\u0026str, reql_rust::cmd::table_create::TableCreateOption)\u003e"},{"line":14,"address":[2686417,2687169],"length":1,"stats":{"Line":7},"fn_name":null},{"line":16,"address":[2686681,2687407,2687738,2687012,2687711,2686985],"length":1,"stats":{"Line":14},"fn_name":null},{"line":17,"address":[2686833,2687559],"length":1,"stats":{"Line":7},"fn_name":null},{"line":25,"address":[4013982,4013744],"length":1,"stats":{"Line":6},"fn_name":"into_table_create_opts"},{"line":26,"address":[4013777],"length":1,"stats":{"Line":6},"fn_name":null},{"line":28,"address":[4013826],"length":1,"stats":{"Line":6},"fn_name":null},{"line":33,"address":[4014016,4014252],"length":1,"stats":{"Line":1},"fn_name":"into_table_create_opts"},{"line":34,"address":[4014040],"length":1,"stats":{"Line":1},"fn_name":null},{"line":36,"address":[4014095],"length":1,"stats":{"Line":1},"fn_name":null},{"line":50,"address":[2687872,2688465],"length":1,"stats":{"Line":6},"fn_name":"serialize\u003cserde_json::value::ser::Serializer\u003e"},{"line":75,"address":[2688009,2688249,2687902],"length":1,"stats":{"Line":12},"fn_name":null},{"line":76,"address":[2688026],"length":1,"stats":{"Line":0},"fn_name":null},{"line":77,"address":[2688118],"length":1,"stats":{"Line":0},"fn_name":null},{"line":78,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":79,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":80,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":81,"address":[2688145],"length":1,"stats":{"Line":0},"fn_name":null},{"line":82,"address":[2688197],"length":1,"stats":{"Line":0},"fn_name":null},{"line":84,"address":[2687952],"length":1,"stats":{"Line":6},"fn_name":null},{"line":90,"address":[2688289],"length":1,"stats":{"Line":6},"fn_name":null},{"line":91,"address":[2688365],"length":1,"stats":{"Line":6},"fn_name":null},{"line":92,"address":[2688369],"length":1,"stats":{"Line":6},"fn_name":null},{"line":95,"address":[2688429],"length":1,"stats":{"Line":6},"fn_name":null},{"line":109,"address":[4356645,4356279,4356240,4356693],"length":1,"stats":{"Line":6},"fn_name":"test_create_table"},{"line":110,"address":[2309286,2309617],"length":1,"stats":{"Line":2},"fn_name":null},{"line":111,"address":[2309632,2309882,2309693,2309332,2309461,2310146],"length":1,"stats":{"Line":4},"fn_name":null},{"line":112,"address":[2310379,2310779,2310593,2310522,2311055,2311092,2310998,2311457,2310411],"length":1,"stats":{"Line":6},"fn_name":null},{"line":113,"address":[2310126],"length":1,"stats":{"Line":1},"fn_name":null},{"line":114,"address":[6769564],"length":1,"stats":{"Line":6},"fn_name":null},{"line":115,"address":[2310902],"length":1,"stats":{"Line":0},"fn_name":null},{"line":119,"address":[4356376,4356656,4356316,4356271],"length":1,"stats":{"Line":8},"fn_name":null},{"line":123,"address":[4356736,4356775,4357141,4357189],"length":1,"stats":{"Line":6},"fn_name":"test_create_table_with_options"},{"line":124,"address":[2312754,2312411],"length":1,"stats":{"Line":2},"fn_name":null},{"line":125,"address":[2313019,2312830,2312598,2313281,2312469,2312769],"length":1,"stats":{"Line":4},"fn_name":null},{"line":126,"address":[2313500,2313271],"length":1,"stats":{"Line":2},"fn_name":null},{"line":127,"address":[2314205,2314037,2313544,2314681,2313965,2315144,2314276,2314738,2314779,2314462],"length":1,"stats":{"Line":7},"fn_name":null},{"line":129,"address":[2313571,2314009,2313619,2314052],"length":1,"stats":{"Line":2},"fn_name":null},{"line":130,"address":[2314017,2314404,2314235,2312555,2314120,2312484],"length":1,"stats":{"Line":6},"fn_name":null},{"line":131,"address":[2314585],"length":1,"stats":{"Line":0},"fn_name":null},{"line":135,"address":[2315541,2315604,2312499,2315321,2315730,2315028],"length":1,"stats":{"Line":8},"fn_name":null},{"line":138,"address":[2309003,2308135,2308061,2308529,2309128,2307824,2307867],"length":1,"stats":{"Line":5},"fn_name":"{async_fn#0}"},{"line":139,"address":[2308271,2308240,2308033],"length":1,"stats":{"Line":2},"fn_name":null},{"line":140,"address":[2308082,2308264,2308540,2308348],"length":1,"stats":{"Line":3},"fn_name":null},{"line":141,"address":[2309116],"length":1,"stats":{"Line":1},"fn_name":null}],"covered":36,"coverable":45},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","table_drop.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(table_name: \u0026str) -\u003e Command {\n    let args = Command::from_json(table_name);\n\n    Command::new(TermType::TableDrop).with_arg(args)\n}\n\n#[cfg(test)]\nmod tests {\n    use uuid::Uuid;\n\n    use crate::prelude::*;\n    use crate::types::DbResponse;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_drop_table() -\u003e Result\u003c()\u003e {\n        let table_name = Uuid::new_v4().to_string();\n        let conn = r.connection().connect().await?;\n\n        r.table_create(table_name.as_str()).run(\u0026conn).await?;\n\n        let table_dropped: DbResponse = r\n            .table_drop(table_name.as_str())\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(table_dropped.tables_dropped \u003e Some(0));\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[4355295,4355056,4355268],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2314561],"length":1,"stats":{"Line":1},"fn_name":null},{"line":8,"address":[2233015,2232940],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[1658535,1658496,1658901,1658949],"length":1,"stats":{"Line":6},"fn_name":"test_drop_table"},{"line":21,"address":[2299248,2298875],"length":1,"stats":{"Line":2},"fn_name":null},{"line":22,"address":[2299531,2299263,2299327,2299816,2298927,2299080],"length":1,"stats":{"Line":4},"fn_name":null},{"line":24,"address":[2299790,2298948,2299031,2300044],"length":1,"stats":{"Line":4},"fn_name":null},{"line":26,"address":[2301294,2301099,2301513,2300864,2301570,2300899,2301016,2301593,2301962],"length":1,"stats":{"Line":6},"fn_name":null},{"line":27,"address":[2300771],"length":1,"stats":{"Line":1},"fn_name":null},{"line":28,"address":[2301227,2301055,2300922,2298966,2300879],"length":1,"stats":{"Line":5},"fn_name":null},{"line":29,"address":[2301417],"length":1,"stats":{"Line":0},"fn_name":null},{"line":33,"address":[2302152,2301837,2302119],"length":1,"stats":{"Line":2},"fn_name":null},{"line":35,"address":[1658912,1658572,1658527,1658632],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":12,"coverable":13},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","table_list.rs"],"content":"use crate::Command;\nuse ql2::term::TermType;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::TableList)\n}\n#[cfg(test)]\nmod tests {\n    use crate::prelude::*;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_list_table() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let db_list: Vec\u003cString\u003e = r.table_list().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(db_list.len() \u003e 0);\n        Ok(())\n    }\n}\n","traces":[{"line":4,"address":[2720400],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":5,"address":[2720412],"length":1,"stats":{"Line":1},"fn_name":null},{"line":13,"address":[2552576,2552585,2552665,2552868,2552608,2552733,2553167],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":14,"address":[2553439,2552828,2552989,2552723,2553178,2552757],"length":1,"stats":{"Line":4},"fn_name":null},{"line":15,"address":[2553429,2554507,2552772,2553667,2554367],"length":1,"stats":{"Line":4},"fn_name":null},{"line":17,"address":[2554730,2554774,2554480],"length":1,"stats":{"Line":2},"fn_name":null},{"line":18,"address":[2554743],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":7,"coverable":7},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","time.rs"],"content":"use ql2::term::TermType;\nuse time::{Date, OffsetDateTime, PrimitiveDateTime, Time, UtcOffset};\n\nuse crate::{arguments::Args, types::timezone_to_string, Command};\n\npub(crate) fn new(\n    offset_datetime: OffsetDateTime,\n    timezone_formated: String,\n    with_time: bool,\n) -\u003e Command {\n    let date = offset_datetime.date();\n    let month: u8 = date.month().into();\n    let mut command = Command::new(TermType::Time);\n    command = command.with_arg(Command::from_json(date.year()));\n    command = command.with_arg(Command::from_json(month));\n    command = command.with_arg(Command::from_json(date.day()));\n\n    if with_time {\n        let time = offset_datetime.time();\n\n        command = command.with_arg(Command::from_json(time.hour()));\n        command = command.with_arg(Command::from_json(time.minute()));\n        command = command.with_arg(Command::from_json(time.second()));\n    }\n\n    command.with_arg(Command::from_json(timezone_formated))\n}\n\npub trait TimeArg {\n    fn into_time_opts(self) -\u003e (OffsetDateTime, String, bool);\n}\n\nimpl TimeArg for Args\u003c(Date, UtcOffset)\u003e {\n    fn into_time_opts(self) -\u003e (OffsetDateTime, String, bool) {\n        let (offset_datetime, timezone_formated) =\n            make_time(self.0 .0, time::macros::time!(0:00), self.0 .1);\n\n        (offset_datetime, timezone_formated, false)\n    }\n}\n\nimpl TimeArg for Args\u003c(Date, Time, UtcOffset)\u003e {\n    fn into_time_opts(self) -\u003e (OffsetDateTime, String, bool) {\n        let (offset_datetime, timezone_formated) = make_time(self.0 .0, self.0 .1, self.0 .2);\n\n        (offset_datetime, timezone_formated, true)\n    }\n}\n\nfn make_time(date: Date, time: Time, timezone: UtcOffset) -\u003e (OffsetDateTime, String) {\n    let timezone_formated = timezone_to_string(timezone);\n    let primetive_datetime = PrimitiveDateTime::new(date, time);\n    let offset_datetime = primetive_datetime.assume_offset(timezone);\n\n    (offset_datetime, timezone_formated)\n}\n\n#[cfg(test)]\nmod tests {\n    use time::macros::{date, offset, time};\n\n    use crate::prelude::Converter;\n    use crate::types::Time;\n    use crate::{args, r, Result};\n\n    #[tokio::test]\n    async fn test_time_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let date = date!(1986 - 11 - 3);\n        let timezone = offset!(+01:00);\n        let time = time!(09:30:40);\n\n        let date_time = r.time(args!(date, time, timezone));\n        let time1 = date_time.clone().value();\n        let time2: Time = date_time.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(time2 == time1);\n\n        Ok(())\n    }\n}\n","traces":[{"line":6,"address":[1794800,1795466,1797001],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":11,"address":[2790873,2791038],"length":1,"stats":{"Line":2},"fn_name":null},{"line":12,"address":[1795029],"length":1,"stats":{"Line":1},"fn_name":null},{"line":13,"address":[1795085],"length":1,"stats":{"Line":1},"fn_name":null},{"line":14,"address":[1795126,1795459],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[1795477,1795381,1795686],"length":1,"stats":{"Line":1},"fn_name":null},{"line":16,"address":[1795630,1795865,1795696],"length":1,"stats":{"Line":1},"fn_name":null},{"line":18,"address":[1795847,1796834],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[1795994],"length":1,"stats":{"Line":1},"fn_name":null},{"line":21,"address":[1796083,1796419],"length":1,"stats":{"Line":1},"fn_name":null},{"line":22,"address":[1796346,1796680,1796429],"length":1,"stats":{"Line":1},"fn_name":null},{"line":23,"address":[1796690,1796607,1796847],"length":1,"stats":{"Line":1},"fn_name":null},{"line":26,"address":[1796857,1795875,1796973],"length":1,"stats":{"Line":1},"fn_name":null},{"line":34,"address":[6666576],"length":1,"stats":{"Line":1},"fn_name":"into_time_opts"},{"line":35,"address":[6666677],"length":1,"stats":{"Line":1},"fn_name":null},{"line":38,"address":[6666727],"length":1,"stats":{"Line":1},"fn_name":null},{"line":43,"address":[6666864],"length":1,"stats":{"Line":1},"fn_name":"into_time_opts"},{"line":44,"address":[6666883],"length":1,"stats":{"Line":1},"fn_name":null},{"line":46,"address":[6666999],"length":1,"stats":{"Line":1},"fn_name":null},{"line":50,"address":[1797040,1797472],"length":1,"stats":{"Line":1},"fn_name":"make_time"},{"line":51,"address":[1797118],"length":1,"stats":{"Line":1},"fn_name":null},{"line":52,"address":[1797165],"length":1,"stats":{"Line":1},"fn_name":null},{"line":53,"address":[1797237],"length":1,"stats":{"Line":1},"fn_name":null},{"line":55,"address":[1797340],"length":1,"stats":{"Line":1},"fn_name":null},{"line":67,"address":[4798149,4797783,4797744,4798197],"length":1,"stats":{"Line":6},"fn_name":"test_time_ops"},{"line":68,"address":[7044958,7045381,7045822,7045192,7044912,7045031],"length":1,"stats":{"Line":4},"fn_name":null},{"line":69,"address":[7045627],"length":1,"stats":{"Line":1},"fn_name":null},{"line":70,"address":[7045638],"length":1,"stats":{"Line":1},"fn_name":null},{"line":71,"address":[7045666],"length":1,"stats":{"Line":1},"fn_name":null},{"line":73,"address":[7046068,7045681],"length":1,"stats":{"Line":2},"fn_name":null},{"line":74,"address":[7046072,7046135],"length":1,"stats":{"Line":2},"fn_name":null},{"line":75,"address":[6866723,6866649],"length":1,"stats":{"Line":4},"fn_name":null},{"line":77,"address":[7047114,7047420,7047387],"length":1,"stats":{"Line":2},"fn_name":null},{"line":79,"address":[4797820,4798160,4797880,4797775],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":34,"coverable":34},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","time_of_day.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::TimeOfDay)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_date_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let datetime = r.now().time_of_day();\n        let date1 = datetime.clone().value();\n        let date2: f64 = datetime.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(date1.is_normal());\n        assert!(date2.is_normal());\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2720448],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2720460],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[2258960,2258999,2259365,2259413],"length":1,"stats":{"Line":6},"fn_name":"test_date_ops"},{"line":16,"address":[4451285,4451546,4451096,4450862,4450816,4450935],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[4451536,4451792],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[4451883,4451820],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[4452735,4451935,4452844,4450877,4452022],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[4452822,4453029,4453006],"length":1,"stats":{"Line":2},"fn_name":null},{"line":23,"address":[4453065,4453018,4453106],"length":1,"stats":{"Line":2},"fn_name":null},{"line":25,"address":[2259096,2259376,2258991,2259036],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":10,"coverable":10},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","timezone.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Timezone)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_timezone_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let timezone = r.now().timezone();\n        let timezone2: String = timezone.clone().cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(timezone.value().to_string() != timezone2);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2720496],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2720508],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[1840064,1840096,1840230,1840367,1840666,1840153,1840073],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":16,"address":[1840254,1840677,1840208,1840938,1840488,1840327],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[1841184,1840928],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[1840269,1841995,1841274,1841212,1842167],"length":1,"stats":{"Line":4},"fn_name":null},{"line":21,"address":[1842113,1842628,1842413],"length":1,"stats":{"Line":2},"fn_name":null},{"line":23,"address":[1842597],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":8,"coverable":8},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","to_epoch_time.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::ToEpochTime)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_to_epoch_time_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let time = r.now().to_epoch_time();\n        let time1 = time.clone().value();\n        let time2: f64 = time.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(time1.is_normal());\n        assert!(time2.is_normal());\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2720544],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2720556],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[4453177,4453257,4453334,4453770,4453200,4453471,4453168],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":16,"address":[4453312,4453592,4454042,4453431,4453358,4453781],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[4454288,4454032],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[4454316,4454379],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[4454518,4454431,4455340,4453373,4455231],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[4455502,4455318,4455525],"length":1,"stats":{"Line":2},"fn_name":null},{"line":23,"address":[4455561,4455514,4455602],"length":1,"stats":{"Line":2},"fn_name":null},{"line":25,"address":[4455572],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":10,"coverable":10},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","to_geojson.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::ToGeojson)\n}\n\n#[cfg(test)]\nmod tests {\n    use serde::{Deserialize, Serialize};\n\n    use crate::cmd::point::Point;\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::{GeoJson, GeoType};\n    use crate::{r, Result};\n\n    #[derive(Debug, Serialize, Deserialize, PartialEq)]\n    struct User {\n        id: u8,\n        name: String,\n        location: Point,\n    }\n\n    #[tokio::test]\n    async fn test_to_geojson_ops() -\u003e Result\u003c()\u003e {\n        let user = User {\n            id: 1,\n            name: \"sfo\".to_string(),\n            location: r.point(-122.423246, 37.779388),\n        };\n        let geo: GeoJson\u003c[f64; 2]\u003e = GeoJson {\n            typ: GeoType::Point,\n            coordinates: [-122.423246, 37.779388],\n        };\n        let (conn, table, table_name) = set_up(false).await?;\n        table.clone().insert(\u0026user).run(\u0026conn).await?;\n        let location: GeoJson\u003c[f64; 2]\u003e = table\n            .get(1)\n            .g(\"location\")\n            .to_geojson()\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(location == geo);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":5,"address":[2720592],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2237820],"length":1,"stats":{"Line":1},"fn_name":null},{"line":27,"address":[2243376,2244215,2243587,2243889,2243385,2243408,2243477],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":30,"address":[2243557],"length":1,"stats":{"Line":1},"fn_name":null},{"line":31,"address":[2244025],"length":1,"stats":{"Line":1},"fn_name":null},{"line":35,"address":[2244150],"length":1,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[6770527],"length":1,"stats":{"Line":4},"fn_name":null},{"line":38,"address":[2243795,2245042,2243638,2244808],"length":1,"stats":{"Line":4},"fn_name":null},{"line":39,"address":[2245898,2246604,2246684,2246184,2246927,2245984,2246107,2246661,2246385,2245782],"length":1,"stats":{"Line":7},"fn_name":null},{"line":43,"address":[2243659,2246007,2246312,2246140,2243744,2245964],"length":1,"stats":{"Line":6},"fn_name":null},{"line":44,"address":[2246508],"length":1,"stats":{"Line":0},"fn_name":null},{"line":48,"address":[2247291,2247233,2246813],"length":1,"stats":{"Line":2},"fn_name":null},{"line":50,"address":[2247595,2247735,2247532,2247345,2247469,2247247,2243677],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":12,"coverable":13},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","to_iso8601.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::ToIso8601)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_to_iso8601_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let iso8601 = r.now().to_iso8601();\n        let iso8601_1 = iso8601.clone().value();\n        let iso8601_2: String = iso8601.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(!iso8601_1.is_empty());\n        assert!(!iso8601_2.is_empty());\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2720640],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2720652],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[2266313,2266256,2266233,2266527,2266390,2266224,2266826],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":16,"address":[2266368,2266414,2266648,2266487,2266837,2267098],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[2267344,2267088],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[2267372,2267435],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[2267549,2268265,2267462,2268404,2266429],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[2268683,2268383,2268656],"length":1,"stats":{"Line":2},"fn_name":null},{"line":23,"address":[2268672,2268719,2268758],"length":1,"stats":{"Line":2},"fn_name":null},{"line":25,"address":[2268727],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":10,"coverable":10},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","to_json.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::ToJsonString)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_to_json_string() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: String = table.get(1).to_json().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(!data_obtained.is_empty());\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":5,"address":[2720688],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2720700],"length":1,"stats":{"Line":1},"fn_name":null},{"line":16,"address":[4124357,4124972,4124288,4124454,4124256,4124265,4124680],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":17,"address":[4124805,4124637,4124419,4124484,4125420,4124983],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[4125669,4124588,4124505,4126543,4125367,4126409],"length":1,"stats":{"Line":5},"fn_name":null},{"line":20,"address":[4126529,4126896,4126840],"length":1,"stats":{"Line":2},"fn_name":null},{"line":22,"address":[4127089,4126965,4127224,4127149,4126856,4124523,4127358],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":7,"coverable":7},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","type_of.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::TypeOf)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::types::TypeOf;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_type_of_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let array: TypeOf = r\n            .expr([1, 2, 3])\n            .type_of()\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n        let boolean: TypeOf = r.expr(true).type_of().run(\u0026conn).await?.unwrap().parse()?;\n        let db: TypeOf = r.db(\"test\").type_of().run(\u0026conn).await?.unwrap().parse()?;\n        let string: TypeOf = r.expr(\"foo\").type_of().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(array == TypeOf::Array);\n        assert!(boolean == TypeOf::Bool);\n        assert!(db == TypeOf::Db);\n        assert!(string == TypeOf::String);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2720736],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2110380],"length":1,"stats":{"Line":1},"fn_name":null},{"line":16,"address":[2259991,2260357,2259952,2260405],"length":1,"stats":{"Line":6},"fn_name":"test_type_of_ops"},{"line":17,"address":[7030102,7029689,7029652,7030593,7030291,7029940],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[7030833,7031505,7031528,7031448,7031717,7030972,7030583,7031043,7031229],"length":1,"stats":{"Line":6},"fn_name":null},{"line":19,"address":[7030534],"length":1,"stats":{"Line":1},"fn_name":null},{"line":21,"address":[6894831],"length":1,"stats":{"Line":5},"fn_name":null},{"line":22,"address":[7031352],"length":1,"stats":{"Line":0},"fn_name":null},{"line":25,"address":[6894736,6894787],"length":1,"stats":{"Line":5},"fn_name":null},{"line":26,"address":[6894659,6894710],"length":1,"stats":{"Line":5},"fn_name":null},{"line":27,"address":[6894582,6894633],"length":1,"stats":{"Line":4},"fn_name":null},{"line":29,"address":[7034822,7034855,7034610],"length":1,"stats":{"Line":2},"fn_name":null},{"line":30,"address":[7034833,7034924,7034891],"length":1,"stats":{"Line":2},"fn_name":null},{"line":31,"address":[7034990,7034958,7034902],"length":1,"stats":{"Line":2},"fn_name":null},{"line":32,"address":[7035060,7035027,7034964],"length":1,"stats":{"Line":2},"fn_name":null},{"line":34,"address":[2260088,2260028,2260368,2259983],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":15,"coverable":16},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","ungroup.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Ungroup)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::types::UngroupItem;\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_ungroup_data() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: Vec\u003cUngroupItem\u003cString, Post\u003e\u003e = table\n            .group(\"title\")\n            .ungroup()\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained.len() == 4);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":5,"address":[2720784],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2720796],"length":1,"stats":{"Line":1},"fn_name":null},{"line":17,"address":[1680064,1680469,1680103,1680517],"length":1,"stats":{"Line":6},"fn_name":"test_ungroup_data"},{"line":18,"address":[2360189,2360357,2360036,2360535,2359971,2360979],"length":1,"stats":{"Line":4},"fn_name":null},{"line":19,"address":[2361648,2361376,2361867,2361228,2361968,2360919,2362199,2361453,2361924],"length":1,"stats":{"Line":6},"fn_name":null},{"line":22,"address":[2361581,2361409,2361282,2360057,2360140],"length":1,"stats":{"Line":5},"fn_name":null},{"line":23,"address":[2361771],"length":1,"stats":{"Line":0},"fn_name":null},{"line":27,"address":[2362088,2362397,2362458],"length":1,"stats":{"Line":2},"fn_name":null},{"line":29,"address":[1680480,1680200,1680140,1680095],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":8,"coverable":9},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","union.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::arguments::AnyParam;\nuse crate::types::Interleave;\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl UnionArg) -\u003e Command {\n    let (args, opts) = args.into_union_opts();\n\n    args.add_to_cmd(Command::new(TermType::Union))\n        .with_opts(opts)\n}\n\npub trait UnionArg {\n    fn into_union_opts(self) -\u003e (CmdOpts, UnionOption);\n}\n\nimpl UnionArg for Command {\n    fn into_union_opts(self) -\u003e (CmdOpts, UnionOption) {\n        (CmdOpts::Single(self), Default::default())\n    }\n}\n\nimpl UnionArg for Vec\u003cCommand\u003e {\n    fn into_union_opts(self) -\u003e (CmdOpts, UnionOption) {\n        (CmdOpts::Many(self), Default::default())\n    }\n}\n\nimpl UnionArg for AnyParam {\n    fn into_union_opts(self) -\u003e (CmdOpts, UnionOption) {\n        (CmdOpts::Single(self.into()), Default::default())\n    }\n}\n\nimpl UnionArg for (Command, UnionOption) {\n    fn into_union_opts(self) -\u003e (CmdOpts, UnionOption) {\n        (CmdOpts::Single(self.0), self.1)\n    }\n}\n\nimpl UnionArg for (Vec\u003cCommand\u003e, UnionOption) {\n    fn into_union_opts(self) -\u003e (CmdOpts, UnionOption) {\n        (CmdOpts::Many(self.0), self.1)\n    }\n}\n\nimpl UnionArg for (AnyParam, UnionOption) {\n    fn into_union_opts(self) -\u003e (CmdOpts, UnionOption) {\n        (CmdOpts::Single(self.0.into()), self.1)\n    }\n}\n\n#[derive(Debug, Clone, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct UnionOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub interleave: Option\u003cInterleave\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use serde::{Deserialize, Serialize};\n    use serde_json::json;\n    use uuid::Uuid;\n\n    use crate::prelude::*;\n    use crate::spec::{set_up, tear_down};\n    use crate::{r, Result};\n\n    #[derive(Debug, Serialize, Deserialize, PartialEq, Eq)]\n    struct AuthorPost {\n        id: Option\u003cu8\u003e,\n        first_name: Option\u003cString\u003e,\n        last_name: Option\u003cString\u003e,\n        title: Option\u003cString\u003e,\n        content: Option\u003cString\u003e,\n        view: Option\u003cu8\u003e,\n    }\n\n    #[tokio::test]\n    async fn test_union_data() -\u003e Result\u003c()\u003e {\n        let authors_data = json!([\n            {\"id\": 1, \"first_name\": \"john\", \"last_name\": \"doe\"},\n            {\"id\": 2, \"first_name\": \"juan\", \"last_name\": \"don\"},\n            {\"id\": 3, \"first_name\": \"jean\", \"last_name\": \"dupont\"}\n        ]);\n        let table_name2 = Uuid::new_v4().to_string();\n        let (conn, table, table_name) = set_up(true).await?;\n\n        r.table_create(table_name2.as_str()).run(\u0026conn).await?;\n        r.table(table_name2.as_str())\n            .insert(authors_data)\n            .run(\u0026conn)\n            .await?;\n\n        let data_obtained: Vec\u003cAuthorPost\u003e = table\n            .union(r.table(table_name2.as_str()))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained.len() \u003e 0);\n\n        r.table_drop(table_name2.as_str()).run(\u0026conn).await?;\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":11,"address":[2995865,2995408,2995811],"length":1,"stats":{"Line":1},"fn_name":"new\u003creql_rust::proto::Command\u003e"},{"line":12,"address":[2995425],"length":1,"stats":{"Line":1},"fn_name":null},{"line":14,"address":[2995777,2995577,2995804],"length":1,"stats":{"Line":2},"fn_name":null},{"line":15,"address":[2995729],"length":1,"stats":{"Line":1},"fn_name":null},{"line":23,"address":[4046624,4046838],"length":1,"stats":{"Line":1},"fn_name":"into_union_opts"},{"line":24,"address":[4046675],"length":1,"stats":{"Line":1},"fn_name":null},{"line":29,"address":[4440556,4440352],"length":1,"stats":{"Line":0},"fn_name":"into_union_opts"},{"line":30,"address":[4440368],"length":1,"stats":{"Line":0},"fn_name":null},{"line":35,"address":[5127917,5127696],"length":1,"stats":{"Line":0},"fn_name":"into_union_opts"},{"line":36,"address":[5127712],"length":1,"stats":{"Line":0},"fn_name":null},{"line":41,"address":[4046864],"length":1,"stats":{"Line":0},"fn_name":"into_union_opts"},{"line":42,"address":[4046885],"length":1,"stats":{"Line":0},"fn_name":null},{"line":47,"address":[4440592],"length":1,"stats":{"Line":0},"fn_name":"into_union_opts"},{"line":48,"address":[4440612],"length":1,"stats":{"Line":0},"fn_name":null},{"line":53,"address":[5127952],"length":1,"stats":{"Line":0},"fn_name":"into_union_opts"},{"line":54,"address":[5127974],"length":1,"stats":{"Line":0},"fn_name":null},{"line":85,"address":[4083606,4082965,4082873,4082864,4082896,4092033,4084065,4083160],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":86,"address":[4083030,4084622,4086592,4084101,4085422,4083839,4085607,4085820,4086322,4084352,4084046,4084437,4084167,4083732,4086027,4086137,4085152,4085337,4086407,4084835,4085042],"length":1,"stats":{"Line":12},"fn_name":null},{"line":91,"address":[4086899,4086824],"length":1,"stats":{"Line":2},"fn_name":null},{"line":92,"address":[4083190,4086931,4086999,4083563,4087576],"length":1,"stats":{"Line":4},"fn_name":null},{"line":94,"address":[4083211,4083512,4087546,4087808],"length":1,"stats":{"Line":4},"fn_name":null},{"line":95,"address":[4088727,4088658,4088762,4088968,4089169,4088554,4089377,4088885],"length":1,"stats":{"Line":7},"fn_name":null},{"line":96,"address":[4088673],"length":1,"stats":{"Line":1},"fn_name":null},{"line":97,"address":[4088785,4089096,4088742,4088924,4083232,4083461],"length":1,"stats":{"Line":6},"fn_name":null},{"line":98,"address":[4089407,4089259],"length":1,"stats":{"Line":1},"fn_name":null},{"line":100,"address":[4089842,4090345,4090425,4089595,4089447,4090126,4089925,4090402,4090668,4089670],"length":1,"stats":{"Line":7},"fn_name":null},{"line":101,"address":[4089642,4089496,4089677,4089695],"length":1,"stats":{"Line":2},"fn_name":null},{"line":102,"address":[4089650,4089745,4083410,4090053,4089881,4083253],"length":1,"stats":{"Line":6},"fn_name":null},{"line":103,"address":[4090249],"length":1,"stats":{"Line":0},"fn_name":null},{"line":107,"address":[4090554,4090785,4090830],"length":1,"stats":{"Line":2},"fn_name":null},{"line":109,"address":[4090910,4083359,4083274,4090806],"length":1,"stats":{"Line":4},"fn_name":null},{"line":110,"address":[1698972,1698927,1699312,1699032],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":21,"coverable":32},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","upcase.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Upcase)\n}\n\n// TODO write test\n","traces":[{"line":5,"address":[2720832],"length":1,"stats":{"Line":0},"fn_name":"new"},{"line":6,"address":[2720844],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":2},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","update.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::arguments::{AnyParam, Durability, ReturnChanges};\nuse crate::Command;\n\nuse super::CmdOpts;\n\npub(crate) fn new(args: impl UpdateArg) -\u003e Command {\n    let (args, opts) = args.into_update_opts();\n\n    args.add_to_cmd(Command::new(TermType::Update))\n        .with_opts(opts)\n}\n\npub trait UpdateArg {\n    fn into_update_opts(self) -\u003e (CmdOpts, UpdateOption);\n}\n\nimpl UpdateArg for AnyParam {\n    fn into_update_opts(self) -\u003e (CmdOpts, UpdateOption) {\n        (CmdOpts::Single(self.into()), Default::default())\n    }\n}\n\nimpl UpdateArg for Command {\n    fn into_update_opts(self) -\u003e (CmdOpts, UpdateOption) {\n        (CmdOpts::Single(self), Default::default())\n    }\n}\n\nimpl UpdateArg for (AnyParam, UpdateOption) {\n    fn into_update_opts(self) -\u003e (CmdOpts, UpdateOption) {\n        (CmdOpts::Single(self.0.into()), self.1)\n    }\n}\n\nimpl UpdateArg for (Command, UpdateOption) {\n    fn into_update_opts(self) -\u003e (CmdOpts, UpdateOption) {\n        (CmdOpts::Single(self.0), self.1)\n    }\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct UpdateOption {\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub durability: Option\u003cDurability\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub return_changes: Option\u003cReturnChanges\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub non_atomic: Option\u003cbool\u003e,\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub ignore_write_hook: Option\u003cbool\u003e,\n}\n\n// TODO write test\n","traces":[{"line":22,"address":[5128192,5128405],"length":1,"stats":{"Line":0},"fn_name":"into_update_opts"},{"line":23,"address":[5128209],"length":1,"stats":{"Line":0},"fn_name":null},{"line":28,"address":[4047072,4047275],"length":1,"stats":{"Line":0},"fn_name":"into_update_opts"},{"line":29,"address":[2180867],"length":1,"stats":{"Line":0},"fn_name":null},{"line":34,"address":[5128432],"length":1,"stats":{"Line":0},"fn_name":"into_update_opts"},{"line":35,"address":[5128454],"length":1,"stats":{"Line":0},"fn_name":null},{"line":40,"address":[4047312],"length":1,"stats":{"Line":0},"fn_name":"into_update_opts"},{"line":41,"address":[4047333],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":8},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","uuid.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new(args: impl UuidArg) -\u003e Command {\n    let mut command = Command::new(TermType::Uuid);\n\n    if let Some(arg) = args.into_uui_opts() {\n        command = command.with_arg(arg)\n    }\n\n    command\n}\n\npub trait UuidArg {\n    fn into_uui_opts(self) -\u003e Option\u003cCommand\u003e;\n}\n\nimpl UuidArg for () {\n    fn into_uui_opts(self) -\u003e Option\u003cCommand\u003e {\n        None\n    }\n}\n\nimpl UuidArg for \u0026str {\n    fn into_uui_opts(self) -\u003e Option\u003cCommand\u003e {\n        Some(Command::from_json(self))\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_uuid_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n        let response: String = r.uuid(()).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(!response.is_empty());\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[7029471,7028944],"length":1,"stats":{"Line":1},"fn_name":"new\u003c()\u003e"},{"line":6,"address":[7028964,7029056],"length":1,"stats":{"Line":2},"fn_name":null},{"line":8,"address":[7029395,7029064,7029122],"length":1,"stats":{"Line":2},"fn_name":null},{"line":9,"address":[7029228,7029369],"length":1,"stats":{"Line":0},"fn_name":null},{"line":12,"address":[7029420],"length":1,"stats":{"Line":1},"fn_name":null},{"line":20,"address":[4751296],"length":1,"stats":{"Line":1},"fn_name":"into_uui_opts"},{"line":21,"address":[2299012],"length":1,"stats":{"Line":1},"fn_name":null},{"line":26,"address":[4751312],"length":1,"stats":{"Line":0},"fn_name":"into_uui_opts"},{"line":27,"address":[4751344],"length":1,"stats":{"Line":0},"fn_name":null},{"line":37,"address":[4798775,4798736,4799189,4799141],"length":1,"stats":{"Line":6},"fn_name":"test_uuid_ops"},{"line":38,"address":[6920234,6919813,6919779,6920495,6919884,6920045],"length":1,"stats":{"Line":4},"fn_name":null},{"line":39,"address":[6867017,6867085],"length":1,"stats":{"Line":4},"fn_name":null},{"line":41,"address":[6921780,6921819,6921544],"length":1,"stats":{"Line":2},"fn_name":null},{"line":43,"address":[4798872,4799152,4798812,4798767],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":11,"coverable":14},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","values.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Values)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::spec::{set_up, tear_down};\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_values_fields() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained = table.get(1).values().run(\u0026conn).await?.unwrap();\n\n        assert!(data_obtained.is_array());\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":5,"address":[2720880],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2720892],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[2260448,2260487,2260853,2260901],"length":1,"stats":{"Line":6},"fn_name":"test_values_fields"},{"line":16,"address":[2694019,2694237,2694583,2695020,2694405,2694084],"length":1,"stats":{"Line":4},"fn_name":null},{"line":17,"address":[2694188,2694105,2695269,2694967],"length":1,"stats":{"Line":4},"fn_name":null},{"line":19,"address":[2696158,2696067,2696212],"length":1,"stats":{"Line":2},"fn_name":null},{"line":21,"address":[2260864,2260524,2260479,2260584],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":7,"coverable":7},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","wait.rs"],"content":"use ql2::term::TermType;\nuse reql_macros::CommandOptions;\nuse serde::Serialize;\n\nuse crate::arguments::{Args, WaitFor};\nuse crate::Command;\n\npub(crate) fn new(args: impl WaitArg) -\u003e Command {\n    let (args, opts) = args.into_wait_opts();\n    let mut command = Command::new(TermType::Wait);\n\n    if let Some(arg) = args {\n        command = command.with_arg(arg)\n    }\n\n    command.with_opts(opts)\n}\n\npub trait WaitArg {\n    fn into_wait_opts(self) -\u003e (Option\u003cCommand\u003e, WaitOption);\n}\n\nimpl WaitArg for () {\n    fn into_wait_opts(self) -\u003e (Option\u003cCommand\u003e, WaitOption) {\n        Default::default()\n    }\n}\n\nimpl WaitArg for WaitOption {\n    fn into_wait_opts(self) -\u003e (Option\u003cCommand\u003e, WaitOption) {\n        (None, self)\n    }\n}\n\nimpl WaitArg for Command {\n    fn into_wait_opts(self) -\u003e (Option\u003cCommand\u003e, WaitOption) {\n        (Some(self), Default::default())\n    }\n}\n\nimpl WaitArg for Args\u003c(Command, WaitOption)\u003e {\n    fn into_wait_opts(self) -\u003e (Option\u003cCommand\u003e, WaitOption) {\n        (Some(self.0 .0), self.0 .1)\n    }\n}\n\n#[derive(Debug, Copy, Clone, Serialize, Default, PartialEq, PartialOrd, CommandOptions)]\npub struct WaitOption {\n    /// a enum indicating a table status to wait on before returning\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub wait_for: Option\u003cWaitFor\u003e,\n    /// a number indicating maximum time, in seconds,\n    /// to wait for the table to be ready.\n    /// If this value is exceeded, a ReqlRuntimeError will be thrown.\n    /// A value of0 means no timeout. The default is 0 (no timeout).\n    #[serde(skip_serializing_if = \"Option::is_none\")]\n    pub timeout: Option\u003cf64\u003e,\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down};\n    use crate::types::WaitResponse;\n    use crate::Result;\n\n    #[tokio::test]\n    async fn test_wait_table() -\u003e Result\u003c()\u003e {\n        let (conn, table, table_name) = set_up(true).await?;\n        let response: WaitResponse = table.wait(()).run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(response.ready == 1);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":8,"address":[4510384,4510917,4510944],"length":1,"stats":{"Line":1},"fn_name":"new\u003c()\u003e"},{"line":9,"address":[4510401],"length":1,"stats":{"Line":1},"fn_name":null},{"line":10,"address":[4510489],"length":1,"stats":{"Line":1},"fn_name":null},{"line":12,"address":[4510873,4510583],"length":1,"stats":{"Line":1},"fn_name":null},{"line":13,"address":[4510698,4510847],"length":1,"stats":{"Line":0},"fn_name":null},{"line":16,"address":[4510788],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[2220688],"length":1,"stats":{"Line":1},"fn_name":"into_wait_opts"},{"line":25,"address":[2139052],"length":1,"stats":{"Line":1},"fn_name":null},{"line":30,"address":[2220720],"length":1,"stats":{"Line":0},"fn_name":"into_wait_opts"},{"line":31,"address":[2139092],"length":1,"stats":{"Line":0},"fn_name":null},{"line":36,"address":[2181412,2181200],"length":1,"stats":{"Line":0},"fn_name":"into_wait_opts"},{"line":37,"address":[4047508],"length":1,"stats":{"Line":0},"fn_name":null},{"line":42,"address":[6667136],"length":1,"stats":{"Line":0},"fn_name":"into_wait_opts"},{"line":43,"address":[6667158],"length":1,"stats":{"Line":0},"fn_name":null},{"line":68,"address":[4220343,4220757,4220304,4220709],"length":1,"stats":{"Line":6},"fn_name":"test_wait_table"},{"line":69,"address":[6409191,6408692,6409623,6408845,6409013,6408627],"length":1,"stats":{"Line":4},"fn_name":null},{"line":70,"address":[6409880,6409575,6408713,6410589,6408796,6410678],"length":1,"stats":{"Line":5},"fn_name":null},{"line":72,"address":[6410977,6410658],"length":1,"stats":{"Line":1},"fn_name":null},{"line":74,"address":[4220440,4220720,4220335,4220380],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":12,"coverable":19},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","with_fields.rs"],"content":"use ql2::term::TermType;\n\nuse crate::arguments::AnyParam;\nuse crate::Command;\n\npub(crate) fn new(fields: AnyParam) -\u003e Command {\n    let arg: Command = fields.into();\n\n    Command::new(TermType::WithFields).with_arg(arg)\n}\n\n#[cfg(test)]\nmod tests {\n    use serde::{Deserialize, Serialize};\n\n    use crate::arguments::AnyParam;\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[derive(Debug, Serialize, Deserialize, PartialEq, Eq, PartialOrd, Ord)]\n    struct InnerPost {\n        id: u8,\n        title: String,\n    }\n\n    #[tokio::test]\n    async fn test_with_fields() -\u003e Result\u003c()\u003e {\n        let data: Vec\u003cInnerPost\u003e = Post::get_many_data()\n            .into_iter()\n            .map(|post| InnerPost {\n                id: post.id,\n                title: post.title,\n            })\n            .collect();\n        let (conn, table, table_name) = set_up(true).await?;\n        let mut data_obtained: Vec\u003cInnerPost\u003e = table\n            .with_fields(AnyParam::new([\"id\", \"title\"]))\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        data_obtained.sort_by(|a, b| a.id.cmp(\u0026b.id));\n\n        assert!(data_obtained == data);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":6,"address":[2233381,2233412,2233152],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":7,"address":[2314817],"length":1,"stats":{"Line":1},"fn_name":null},{"line":9,"address":[2314870,2314941],"length":1,"stats":{"Line":2},"fn_name":null},{"line":28,"address":[2727317,2727417,2728061,2727643,2727248,2727225,2727216],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":29,"address":[2727379,2727768],"length":1,"stats":{"Line":2},"fn_name":null},{"line":31,"address":[2731024,2731083],"length":1,"stats":{"Line":2},"fn_name":"{closure#0}"},{"line":32,"address":[2731054],"length":1,"stats":{"Line":1},"fn_name":null},{"line":33,"address":[2731057],"length":1,"stats":{"Line":1},"fn_name":null},{"line":36,"address":[6765176],"length":1,"stats":{"Line":4},"fn_name":null},{"line":37,"address":[2729031,2728481,2729114,2729585,2729865,2729309,2729528,2728790,2728865,2729629],"length":1,"stats":{"Line":7},"fn_name":null},{"line":38,"address":[2728756,2728890,2728503,2728872,2728837],"length":1,"stats":{"Line":2},"fn_name":null},{"line":39,"address":[2727551,2728845,2727468,2729070,2729242,2728940],"length":1,"stats":{"Line":6},"fn_name":null},{"line":40,"address":[2729432],"length":1,"stats":{"Line":0},"fn_name":null},{"line":44,"address":[2729749,2730126,2731136,2731181],"length":1,"stats":{"Line":4},"fn_name":"{closure#1}"},{"line":46,"address":[2730218,2730141],"length":1,"stats":{"Line":1},"fn_name":null},{"line":48,"address":[2730681,2730471,2730177,2730415,2730551,2727486,2730291],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":15,"coverable":16},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","without.rs"],"content":"use ql2::term::TermType;\nuse serde::Serialize;\n\nuse crate::Command;\n\npub(crate) fn new(selector: impl Serialize) -\u003e Command {\n    let arg = Command::from_json(selector);\n\n    Command::new(TermType::Without).with_arg(arg)\n}\n\n#[cfg(test)]\nmod tests {\n    use serde::{Deserialize, Serialize};\n\n    use crate::prelude::Converter;\n    use crate::spec::{set_up, tear_down, Post};\n    use crate::Result;\n\n    #[derive(Debug, Serialize, Deserialize, PartialEq, Eq)]\n    struct InnerPost {\n        id: u8,\n        title: String,\n    }\n\n    #[tokio::test]\n    async fn test_without_data() -\u003e Result\u003c()\u003e {\n        let data = Post::get_one_data();\n        let data = InnerPost {\n            id: data.id,\n            title: data.title,\n        };\n        let (conn, table, table_name) = set_up(true).await?;\n        let data_obtained: InnerPost = table\n            .get(1)\n            .without([\"content\", \"view\"])\n            .run(\u0026conn)\n            .await?\n            .unwrap()\n            .parse()?;\n\n        assert!(data_obtained == data);\n\n        tear_down(conn, \u0026table_name).await\n    }\n}\n","traces":[{"line":6,"address":[4355835,4355862,4355584],"length":1,"stats":{"Line":1},"fn_name":"new\u003c[\u0026str; 2]\u003e"},{"line":7,"address":[4355601],"length":1,"stats":{"Line":1},"fn_name":null},{"line":9,"address":[4355682,4355749],"length":1,"stats":{"Line":2},"fn_name":null},{"line":27,"address":[4423799,4423760,4424165,4424213],"length":1,"stats":{"Line":6},"fn_name":"test_without_data"},{"line":28,"address":[4882883],"length":1,"stats":{"Line":1},"fn_name":null},{"line":30,"address":[4883252],"length":1,"stats":{"Line":1},"fn_name":null},{"line":31,"address":[4883255],"length":1,"stats":{"Line":1},"fn_name":null},{"line":33,"address":[4883385,4883560,4883318,4882935,4883968,4883092],"length":1,"stats":{"Line":4},"fn_name":null},{"line":34,"address":[4883921,4884953,4884677,4884997,4884482,4884405,4884896,4884285,4884250,4885237],"length":1,"stats":{"Line":7},"fn_name":null},{"line":36,"address":[4884172],"length":1,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[4884610,4882956,4884438,4884308,4884265,4883041],"length":1,"stats":{"Line":6},"fn_name":null},{"line":38,"address":[4884800],"length":1,"stats":{"Line":0},"fn_name":null},{"line":42,"address":[4885618,4885563,4885123],"length":1,"stats":{"Line":2},"fn_name":null},{"line":44,"address":[4424176,4423896,4423836,4423791],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":13,"coverable":14},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","year.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Year)\n}\n\n#[cfg(test)]\nmod tests {\n    use crate::prelude::Converter;\n    use crate::{r, Result};\n\n    #[tokio::test]\n    async fn test_year_ops() -\u003e Result\u003c()\u003e {\n        let conn = r.connection().connect().await?;\n\n        let year = r.now().year();\n        let year1 = year.clone().value();\n        let year2: i32 = year.cmd().run(\u0026conn).await?.unwrap().parse()?;\n\n        assert!(year1 == year2);\n\n        Ok(())\n    }\n}\n","traces":[{"line":5,"address":[2720928],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":6,"address":[2720940],"length":1,"stats":{"Line":1},"fn_name":null},{"line":15,"address":[1541792,1541958,1541824,1542394,1541801,1542095,1541881],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":16,"address":[1542666,1542405,1541982,1541936,1542216,1542055],"length":1,"stats":{"Line":4},"fn_name":null},{"line":18,"address":[1542656,1542912],"length":1,"stats":{"Line":2},"fn_name":null},{"line":19,"address":[1542940,1543003],"length":1,"stats":{"Line":2},"fn_name":null},{"line":20,"address":[1543134,1541997,1543847,1543047,1543942],"length":1,"stats":{"Line":4},"fn_name":null},{"line":22,"address":[1543921,1544135],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[1544105],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":9,"coverable":9},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd","zip.rs"],"content":"use ql2::term::TermType;\n\nuse crate::Command;\n\npub(crate) fn new() -\u003e Command {\n    Command::new(TermType::Zip)\n}\n\n// TODO write test\n","traces":[{"line":5,"address":[2720976],"length":1,"stats":{"Line":0},"fn_name":"new"},{"line":6,"address":[2720988],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":2},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","cmd.rs"],"content":"pub mod add;\npub mod and;\npub mod append;\npub mod args;\npub mod asc;\npub mod avg;\npub mod between;\npub mod binary;\npub mod bit_and;\npub mod bit_not;\npub mod bit_or;\npub mod bit_sal;\npub mod bit_sar;\npub mod bit_xor;\npub mod bracket;\npub mod branch;\npub mod ceil;\npub mod change_at;\npub mod changes;\npub mod circle;\npub mod coerce_to;\npub mod concat_map;\npub mod config;\npub mod connect;\npub mod contains;\npub mod count;\npub mod date;\npub mod day;\npub mod day_of_week;\npub mod day_of_year;\npub mod db;\npub mod db_create;\npub mod db_drop;\npub mod db_list;\npub mod default;\npub mod delete;\npub mod delete_at;\npub mod desc;\npub mod difference;\npub mod distance;\npub mod distinct;\npub mod div;\npub mod do_;\npub mod downcase;\npub mod during;\npub mod epoch_time;\npub mod eq;\npub mod eq_join;\npub mod error;\npub mod expr;\npub mod fill;\npub mod filter;\npub mod floor;\npub mod fold;\npub mod for_each;\npub(crate) mod func;\npub mod ge;\npub mod geojson;\npub mod get;\npub mod get_all;\npub mod get_field;\npub mod get_intersecting;\npub mod get_nearest;\npub mod get_write_hook;\npub mod grant;\npub mod group;\npub mod gt;\npub mod has_fields;\npub mod hash_map;\npub mod hours;\npub mod http;\npub mod in_timezone;\npub mod includes;\npub mod index_create;\npub mod index_drop;\npub mod index_list;\npub mod index_rename;\npub mod index_status;\npub mod index_wait;\npub mod info;\npub mod inner_join;\npub mod insert;\npub mod insert_at;\npub mod intersects;\npub mod is_empty;\npub mod iso8601;\npub mod js;\npub mod json;\npub mod keys;\npub mod le;\npub mod limit;\npub mod line;\npub mod literal;\npub mod lt;\npub mod map;\npub mod match_;\npub mod max;\npub mod merge;\npub mod min;\npub mod minutes;\npub mod month;\npub mod mul;\npub mod ne;\npub mod not_;\npub mod now;\npub mod nth;\npub mod object;\npub mod offsets_of;\npub mod or;\npub mod order_by;\npub mod outer_join;\npub mod pluck;\npub mod point;\npub mod polygon;\npub mod polygon_sub;\npub mod prepend;\npub mod random;\npub mod range;\npub mod rebalance;\npub mod reconfigure;\npub mod reduce;\npub mod rem;\npub mod replace;\npub mod round;\npub mod run;\npub mod sample;\npub mod seconds;\npub mod set_difference;\npub mod set_insert;\npub mod set_intersection;\npub mod set_union;\npub mod set_write_hook;\npub mod skip;\npub mod slice;\npub mod splice_at;\npub mod split;\npub mod status;\npub mod sub;\npub mod sum;\npub mod sync;\npub mod table;\npub mod table_create;\npub mod table_drop;\npub mod table_list;\npub mod time;\npub mod time_of_day;\npub mod timezone;\npub mod to_epoch_time;\npub mod to_geojson;\npub mod to_iso8601;\npub mod to_json;\npub mod type_of;\npub mod ungroup;\npub mod union;\npub mod upcase;\npub mod update;\npub mod uuid;\npub mod values;\npub mod wait;\npub mod with_fields;\npub mod without;\npub mod year;\npub mod zip;\n\nuse std::borrow::Cow;\nuse std::ops::{BitAnd, BitOr, BitXor};\nuse std::str;\n\nuse ::time::UtcOffset;\nuse async_native_tls::TlsStream;\nuse async_net::TcpStream;\nuse futures::stream::Stream;\nuse futures::TryStreamExt;\nuse regex::Regex;\nuse serde::Serialize;\nuse serde_json::Value;\n\nuse crate::arguments::{AnyParam, Permission};\nuse crate::prelude::Func;\nuse crate::Command;\nuse crate::Result;\n\npub trait StaticString {\n    fn static_string(self) -\u003e Cow\u003c'static, str\u003e;\n}\n\n#[derive(Debug)]\npub(crate) struct TcpStreamConnection {\n    pub(crate) stream: TcpStream,\n    pub(crate) tls_stream: Option\u003cTlsStream\u003cTcpStream\u003e\u003e,\n}\n\nimpl StaticString for \u0026'static str {\n    fn static_string(self) -\u003e Cow\u003c'static, str\u003e {\n        Cow::from(self)\n    }\n}\n\nimpl StaticString for String {\n    fn static_string(self) -\u003e Cow\u003c'static, str\u003e {\n        Cow::from(self)\n    }\n}\n\nimpl StaticString for \u0026Cow\u003c'static, str\u003e {\n    fn static_string(self) -\u003e Cow\u003c'static, str\u003e {\n        match self {\n            Cow::Borrowed(string) =\u003e Cow::Borrowed(*string),\n            Cow::Owned(string) =\u003e Cow::Owned(string.to_owned()),\n        }\n    }\n}\n\nimpl\u003c'a\u003e Command {\n    pub fn changes(self, args: impl changes::ChangesArg) -\u003e Self {\n        changes::new(args).with_parent(self)\n    }\n\n    pub fn table_create(self, args: impl table_create::TableCreateArg) -\u003e Self {\n        table_create::new(args).with_parent(self)\n    }\n\n    pub fn table_drop(self, table_name: \u0026str) -\u003e Self {\n        table_drop::new(table_name).with_parent(self)\n    }\n\n    pub fn table_list(self) -\u003e Self {\n        table_list::new().with_parent(self)\n    }\n\n    pub fn table(self, args: impl table::TableArg) -\u003e Self {\n        table::new(args).with_parent(self)\n    }\n\n    pub fn index_create(self, args: impl index_create::IndexCreateArg) -\u003e Self {\n        index_create::new(args).with_parent(self)\n    }\n\n    pub fn index_drop(self, index_name: \u0026str) -\u003e Self {\n        index_drop::new(index_name).with_parent(self)\n    }\n\n    pub fn index_list(self) -\u003e Self {\n        index_list::new().with_parent(self)\n    }\n\n    pub fn index_rename(self, args: impl index_rename::IndexRenameArg) -\u003e Self {\n        index_rename::new(args).with_parent(self)\n    }\n\n    pub fn index_status(self, args: impl index_status::IndexStatusArg) -\u003e Self {\n        index_status::new(args).with_parent(self)\n    }\n\n    pub fn index_wait(self, args: impl index_wait::IndexWaitArg) -\u003e Self {\n        index_wait::new(args).with_parent(self)\n    }\n\n    pub fn set_write_hook(self, args: Option\u003cimpl set_write_hook::SetWriteHookArg\u003e) -\u003e Self {\n        set_write_hook::new(args).with_parent(self)\n    }\n\n    pub fn get_write_hook(self) -\u003e Self {\n        get_write_hook::new().with_parent(self)\n    }\n\n    pub fn insert(self, args: impl insert::InsertArg) -\u003e Self {\n        insert::new(args).with_parent(self)\n    }\n\n    pub fn update(self, args: impl update::UpdateArg) -\u003e Self {\n        update::new(args).with_parent(self)\n    }\n\n    pub fn replace(self, args: impl replace::ReplaceArg) -\u003e Self {\n        replace::new(args).with_parent(self)\n    }\n\n    pub fn delete(self, args: impl delete::DeleteArg) -\u003e Self {\n        delete::new(args).with_parent(self)\n    }\n\n    pub fn sync(self) -\u003e Self {\n        sync::new().with_parent(self)\n    }\n\n    pub fn get(self, args: impl get::GetArg) -\u003e Self {\n        get::new(args).with_parent(self)\n    }\n\n    pub fn get_all(self, values: impl get_all::GetAllArg) -\u003e Self {\n        get_all::new(values).with_parent(self)\n    }\n\n    pub fn between(self, args: impl between::BetweenArg) -\u003e Self {\n        between::new(args).with_parent(self)\n    }\n\n    pub fn filter(self, args: impl filter::FilterArg) -\u003e Self {\n        filter::new(args).with_parent(self)\n    }\n\n    pub fn inner_join(self, other_sequence: Command, func: Func) -\u003e Self {\n        inner_join::new(other_sequence, func).with_parent(self)\n    }\n\n    pub fn outer_join(self, other_sequence: Command, func: Func) -\u003e Self {\n        outer_join::new(other_sequence, func).with_parent(self)\n    }\n\n    pub fn eq_join(self, args: impl eq_join::EqJoinArg) -\u003e Self {\n        eq_join::new(args).with_parent(self)\n    }\n\n    pub fn zip(self) -\u003e Self {\n        zip::new().with_parent(self)\n    }\n\n    pub fn map(self, args: impl map::MapArg) -\u003e Self {\n        map::new(args).with_parent(self)\n    }\n\n    pub fn with_fields(self, fields: AnyParam) -\u003e Self {\n        with_fields::new(fields).with_parent(self)\n    }\n\n    pub fn concat_map(self, func: Func) -\u003e Command {\n        concat_map::new(func).with_parent(self)\n    }\n\n    pub fn order_by(self, args: impl order_by::OrderByArg) -\u003e Self {\n        order_by::new(args).with_parent(self)\n    }\n\n    pub fn skip(self, n: usize) -\u003e Self {\n        skip::new(n).with_parent(self)\n    }\n\n    pub fn limit(self, n: usize) -\u003e Self {\n        limit::new(n).with_parent(self)\n    }\n\n    pub fn slice(self, args: impl slice::SliceArg) -\u003e Self {\n        slice::new(args).with_parent(self)\n    }\n\n    pub fn nth(self, index: isize) -\u003e Self {\n        nth::new(index).with_parent(self)\n    }\n\n    pub fn offsets_of(self, args: impl offsets_of::OffsetsOfArg) -\u003e Self {\n        offsets_of::new(args).with_parent(self)\n    }\n\n    pub fn is_empty(self) -\u003e Self {\n        is_empty::new().with_parent(self)\n    }\n\n    pub fn union(self, args: impl union::UnionArg) -\u003e Self {\n        union::new(args).with_parent(self)\n    }\n\n    pub fn sample(self, number: usize) -\u003e Self {\n        sample::new(number).with_parent(self)\n    }\n\n    pub fn group(self, args: impl group::GroupArg) -\u003e Self {\n        group::new(args).with_parent(self)\n    }\n\n    pub fn ungroup(self) -\u003e Self {\n        ungroup::new().with_parent(self)\n    }\n\n    pub fn reduce(self, func: Func) -\u003e Self {\n        reduce::new(func).with_parent(self)\n    }\n\n    pub fn fold(self, base: AnyParam, func: Func) -\u003e Self {\n        fold::new(base, func).with_parent(self)\n    }\n\n    pub fn count(self, args: impl count::CountArg) -\u003e Self {\n        count::new(args).with_parent(self)\n    }\n\n    pub fn sum(self, args: impl sum::SumArg) -\u003e Self {\n        sum::new(args).with_parent(self)\n    }\n\n    pub fn avg(self, args: impl avg::AvgArg) -\u003e Self {\n        avg::new(args).with_parent(self)\n    }\n\n    pub fn min(self, args: impl min::MinArg) -\u003e Self {\n        min::new(args).with_parent(self)\n    }\n\n    pub fn max(self, args: impl max::MaxArg) -\u003e Self {\n        max::new(args).with_parent(self)\n    }\n\n    pub fn distinct(self, args: impl distinct::DistinctArg) -\u003e Self {\n        distinct::new(args).with_parent(self)\n    }\n\n    pub fn contains(self, args: impl contains::ContainsArg) -\u003e Self {\n        contains::new(args).with_parent(self)\n    }\n\n    pub fn pluck(self, selector: impl Serialize) -\u003e Self {\n        pluck::new(selector).with_parent(self)\n    }\n\n    pub fn without(self, selector: impl Serialize) -\u003e Self {\n        without::new(selector).with_parent(self)\n    }\n\n    pub fn merge(self, args: impl merge::MergeArg) -\u003e Self {\n        merge::new(args).with_parent(self)\n    }\n\n    pub fn append(self, value: impl Serialize) -\u003e Self {\n        append::new(value).with_parent(self)\n    }\n\n    pub fn prepend(self, value: impl Serialize) -\u003e Self {\n        prepend::new(value).with_parent(self)\n    }\n\n    pub fn difference(self, values: Vec\u003cimpl Serialize\u003e) -\u003e Self {\n        difference::new(values).with_parent(self)\n    }\n\n    pub fn set_insert(self, value: impl Serialize) -\u003e Self {\n        set_insert::new(value).with_parent(self)\n    }\n\n    pub fn set_union(self, values: Vec\u003cimpl Serialize\u003e) -\u003e Self {\n        set_union::new(values).with_parent(self)\n    }\n\n    pub fn set_intersection(self, values: Vec\u003cimpl Serialize\u003e) -\u003e Self {\n        set_intersection::new(values).with_parent(self)\n    }\n\n    pub fn set_difference(self, values: Vec\u003cimpl Serialize\u003e) -\u003e Self {\n        set_difference::new(values).with_parent(self)\n    }\n\n    pub fn bracket(self, value: impl Serialize) -\u003e Self {\n        bracket::new(value).with_parent(self)\n    }\n\n    pub fn get_field(self, attr: impl Serialize) -\u003e Self {\n        get_field::new(attr).with_parent(self)\n    }\n\n    pub fn g(self, attr: impl Serialize) -\u003e Self {\n        get_field::new(attr).with_parent(self)\n    }\n\n    pub fn has_fields(self, selector: impl Serialize) -\u003e Self {\n        has_fields::new(selector).with_parent(self)\n    }\n\n    pub fn insert_at(self, offset: isize, value: impl Serialize) -\u003e Self {\n        insert_at::new(offset, value).with_parent(self)\n    }\n\n    pub fn splice_at(self, offset: isize, value: impl Serialize) -\u003e Self {\n        splice_at::new(offset, value).with_parent(self)\n    }\n\n    pub fn delete_at(self, args: impl delete_at::DeleteAtArg) -\u003e Self {\n        delete_at::new(args).with_parent(self)\n    }\n\n    pub fn change_at(self, offset: isize, value: impl Serialize) -\u003e Self {\n        change_at::new(offset, value).with_parent(self)\n    }\n\n    pub fn keys(self) -\u003e Self {\n        keys::new().with_parent(self)\n    }\n\n    pub fn values(self) -\u003e Self {\n        values::new().with_parent(self)\n    }\n\n    pub fn match_(self, regexp: Regex) -\u003e Self {\n        match_::new(regexp).with_parent(self)\n    }\n\n    pub fn split(self, args: impl split::SplitArg) -\u003e Self {\n        split::new(args).with_parent(self)\n    }\n\n    pub fn upcase(self) -\u003e Self {\n        upcase::new().with_parent(self)\n    }\n\n    pub fn downcase(self) -\u003e Self {\n        downcase::new().with_parent(self)\n    }\n\n    pub fn and(self, args: impl and::AndArg) -\u003e Self {\n        and::new(args).with_parent(self)\n    }\n\n    pub fn or(self, args: impl or::OrArg) -\u003e Self {\n        or::new(args).with_parent(self)\n    }\n\n    pub fn eq(self, args: impl eq::EqArg) -\u003e Self {\n        eq::new(args).with_parent(self)\n    }\n\n    pub fn ne(self, args: impl ne::NeArg) -\u003e Self {\n        ne::new(args).with_parent(self)\n    }\n\n    pub fn gt(self, args: impl gt::GtArg) -\u003e Self {\n        gt::new(args).with_parent(self)\n    }\n\n    pub fn ge(self, args: impl ge::GeArg) -\u003e Self {\n        ge::new(args).with_parent(self)\n    }\n\n    pub fn lt(self, args: impl lt::LtArg) -\u003e Self {\n        lt::new(args).with_parent(self)\n    }\n\n    pub fn le(self, args: impl le::LeArg) -\u003e Self {\n        le::new(args).with_parent(self)\n    }\n\n    pub fn not_(self) -\u003e Self {\n        not_::new(()).with_parent(self)\n    }\n\n    pub fn round(self) -\u003e Self {\n        round::new(()).with_parent(self)\n    }\n\n    pub fn ceil(self) -\u003e Self {\n        ceil::new(()).with_parent(self)\n    }\n\n    pub fn floor(self) -\u003e Self {\n        floor::new(()).with_parent(self)\n    }\n\n    /// Compute the arithmetic \"and\" of one or more values.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// cmd_number \u0026 cmd_number\n    /// number.bitand(cmd_number)  number\n    /// number.bit_and(param_number)  number\n    /// r.bit_and(cmd_number, param_number)  number\n    /// ```\n    ///\n    /// Where:\n    /// - param_number: i32 | [Command](crate::Command)\n    /// - cmd_number: [Command](crate::Command)\n    ///\n    /// # Description\n    ///\n    /// A bitwise AND is a binary operation that takes two equal-length binary\n    /// representations and performs the logical AND operation on each pair of\n    /// the corresponding bits, which is equivalent to multiplying them.\n    /// Thus, if both bits in the compared position are 1,\n    /// the bit in the resulting binary representation is 1 (1  1 = 1);\n    /// otherwise, the result is 0 (1  0 = 0 and 0  0 = 0).\n    ///\n    /// ## Examples\n    ///\n    /// Compute the arithmetic \"and\" of 5 and 3\n    ///\n    /// ```\n    /// use std::ops::BitAnd;\n    ///\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response: i32 = r.expr(5)\n    ///         .bit_and(3)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response2: i32 = r.bit_and(r.expr(5), 3)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response3: i32 = (r.expr(5) \u0026 r.expr(3))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response4: i32 = r.expr(5)\n    ///         .bitand(r.expr(3))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(\n    ///         response == 1 \u0026\u0026\n    ///         response == response2 \u0026\u0026\n    ///         response == response3 \u0026\u0026\n    ///         response == response4\n    ///     );\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [bit_or](Self::bit_or)\n    /// - [bit_not](Self::bit_not)\n    /// - [bit_xor](Self::bit_xor)\n    /// - [bit_sal](Self::bit_sal)\n    /// - [bit_sar](Self::bit_sar)\n    pub fn bit_and(self, args: impl bit_and::BitAndArg) -\u003e Self {\n        self.bitand(args)\n    }\n\n    /// Compute the arithmetic \"or\" of one or more values.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// cmd_number | cmd_number\n    /// number.bitor(cmd_number)  number\n    /// number.bit_or(param_number)  number\n    /// r.bit_or(cmd_number, param_number)  number\n    /// ```\n    ///\n    /// Where:\n    /// - param_number: i32 | [Command](crate::Command)\n    /// - cmd_number: [Command](crate::Command)\n    ///\n    /// # Description\n    ///\n    /// A bitwise OR is a binary operation that takes two bit patterns\n    /// of equal length and performs the logical inclusive OR operation\n    /// on each pair of corresponding bits. The result in each position\n    /// is 0 if both bits are 0, while otherwise the result is 1.\n    ///\n    /// ## Examples\n    ///\n    /// Compute the arithmetic \"or\" of 6 and 4\n    ///\n    /// ```\n    /// use std::ops::BitOr;\n    ///\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response: i32 = r.expr(5)\n    ///         .bit_or(3)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response2: i32 = r.bit_or(r.expr(5), 3)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response3: i32 = (r.expr(5) ^ r.expr(3))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response4: i32 = r.expr(5)\n    ///         .bitor(r.expr(3))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(\n    ///         response == 7 \u0026\u0026\n    ///         response == response2 \u0026\u0026\n    ///         response == response3 \u0026\u0026\n    ///         response == response4\n    ///     );\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [bit_and](Self::bit_and)\n    /// - [bit_not](Self::bit_not)\n    /// - [bit_xor](Self::bit_xor)\n    /// - [bit_sal](Self::bit_sal)\n    /// - [bit_sar](Self::bit_sar)\n    pub fn bit_or(self, args: impl bit_or::BitOrArg) -\u003e Self {\n        self.bitor(args)\n    }\n\n    /// Compute the arithmetic \"and\" of one or more values.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// cmd_number ^ cmd_number\n    /// number.bitxor(cmd_number)  number\n    /// number.bit_xor(param_number)  number\n    /// r.bit_xor(cmd_number, param_number)  number\n    /// ```\n    ///\n    /// Where:\n    /// - param_number: i32 | [Command](crate::Command)\n    /// - cmd_number: [Command](crate::Command)\n    ///\n    /// # Description\n    ///\n    /// A bitwise XOR is a binary operation that takes two bit patterns\n    /// of equal length and performs the logical exclusive OR operation\n    /// on each pair of corresponding bits. The result in each position\n    /// is 1 if only the first bit is 1 or only the second bit is 1,\n    /// but will be 0 if both are 0 or both are 1.\n    /// In this we perform the comparison of two bits, being 1 if the\n    /// two bits are different, and 0 if they are the same.\n    ///\n    /// ## Examples\n    ///\n    /// Compute the arithmetic \"and\" of 6 and 4\n    ///\n    /// ```\n    /// use std::ops::BitXor;\n    ///\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response: i32 = r.expr(6)\n    ///         .bit_xor(4)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response2: i32 = r.bit_xor(r.expr(6), 4)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response3: i32 = (r.expr(6) ^ r.expr(4))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response4: i32 = r.expr(6)\n    ///         .bitxor(r.expr(4))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(\n    ///         response == 2 \u0026\u0026\n    ///         response == response2 \u0026\u0026\n    ///         response == response3 \u0026\u0026\n    ///         response == response4\n    ///     );\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [bit_and](Self::bit_and)\n    /// - [bit_not](Self::bit_not)\n    /// - [bit_or](Self::bit_or)\n    /// - [bit_sal](Self::bit_sal)\n    /// - [bit_sar](Self::bit_sar)\n    pub fn bit_xor(self, args: impl bit_xor::BitXorArg) -\u003e Self {\n        self.bitxor(args)\n    }\n\n    /// Compute the arithmetic inverse (not) of an expression.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// number.bit_not()  number\n    /// r.bit_not(cmd_number)  number\n    /// ```\n    ///\n    /// Where:\n    /// - cmd_number: [Command](crate::Command)\n    ///\n    /// # Description\n    ///\n    /// A bitwise NOT, or complement, is a unary operation that performs logical\n    /// negation on each bit, forming the ones complement of the given binary value.\n    /// Bits that are 0 become 1, and those that are 1 become 0.\n    ///\n    /// ## Examples\n    ///\n    /// Negate the arithmetice expression\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response: i32 = r.expr(7)\n    ///         .bit_not()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response2: i32 = r.bit_not(r.expr(7))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == -8 \u0026\u0026 response == response2);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [bit_and](Self::bit_and)\n    /// - [bit_or](Self::bit_or)\n    /// - [bit_sal](Self::bit_sal)\n    /// - [bit_sar](Self::bit_sar)\n    /// - [bit_xor](Self::bit_xor)\n    pub fn bit_not(self) -\u003e Self {\n        bit_not::new().with_parent(self)\n    }\n\n    /// Compute the left arithmetic shift (left logical shift) of one or more values.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// number.bit_sal(param_number)  number\n    /// r.bit_sal(cmd_number, param_number)  number\n    /// ```\n    ///\n    /// Where:\n    /// - param_number: i32 | [Command](crate::Command)\n    /// - cmd_number: [Command](crate::Command)\n    ///\n    /// # Description\n    ///\n    /// In an arithmetic shift (also referred to as signed shift),\n    /// like a logical shift, the bits that slide off the end disappear\n    /// (except for the last, which goes into the carry flag).\n    /// But in an arithmetic shift, the spaces are filled in such a way\n    /// to preserve the sign of the number being slid. For this reason,\n    /// arithmetic shifts are better suited for signed numbers in twos\n    /// complement format.\n    ///\n    /// ## Note\n    ///\n    /// SHL and SAL are the same, and differentiation only happens because\n    /// SAR and SHR (right shifting) has differences in their implementation.\n    ///\n    /// ## Examples\n    ///\n    /// Compute the left arithmetic shift of 5 and 4\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response: u8 = r.expr(5)\n    ///         .bit_sar(4)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response2: u8 = r.bit_sar(r.expr(5), r.expr(4))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == 80 \u0026\u0026 response == response2);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [bit_and](Self::bit_and)\n    /// - [bit_not](Self::bit_not)\n    /// - [bit_or](Self::bit_or)\n    /// - [bit_sar](Self::bit_sar)\n    /// - [bit_xor](Self::bit_xor)\n    pub fn bit_sal(self, args: impl bit_sal::BitSalArg) -\u003e Self {\n        bit_sal::new(args).with_parent(self)\n    }\n\n    /// Compute the right arithmetic shift of one or more values.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// number.bit_sar(param_number)  number\n    /// r.bit_sar(cmd_number, param_number)  number\n    /// ```\n    ///\n    /// Where:\n    /// - param_number: i32 | [Command](crate::Command)\n    /// - cmd_number: [Command](crate::Command)\n    ///\n    /// # Description\n    ///\n    /// In an arithmetic shift (also referred to as signed shift),\n    /// like a logical shift, the bits that slide off the end disappear\n    /// (except for the last, which goes into the carry flag).\n    /// But in an arithmetic shift, the spaces are filled in such\n    /// a way to preserve the sign of the number being slid.\n    /// For this reason, arithmetic shifts are better suited for\n    /// signed numbers in twos complement format.\n    ///\n    /// ## Examples\n    ///\n    /// Compute the right arithmetic shift of 32 and 3\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response: u8 = r.expr(32)\n    ///         .bit_sar(3)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response2: u8 = r.bit_sar(r.expr(32), r.expr(3))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == 4 \u0026\u0026 response == response2);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [bit_and](Self::bit_and)\n    /// - [bit_not](Self::bit_not)\n    /// - [bit_or](Self::bit_or)\n    /// - [bit_sal](Self::bit_sal)\n    /// - [bit_xor](Self::bit_xor)\n    pub fn bit_sar(self, args: impl bit_sar::BitSarArg) -\u003e Self {\n        bit_sar::new(args).with_parent(self)\n    }\n\n    /// Return a new time object with a different timezone.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// time.in_timezone(timezone)  time\n    /// ```\n    ///\n    /// Where:\n    /// - timezone: [UtcOffset](UtcOffset)\n    /// - time: [Time](crate::types::Time)\n    ///\n    /// # Description\n    ///\n    /// While the time stays the same, the results returned by methods such\n    /// as hours() will change since they take the timezone into account.\n    /// The timezone argument has to be of the ISO 8601 format.\n    ///\n    /// ## Examples\n    ///\n    /// Hour of the day in San Francisco (UTC/GMT -8, without daylight saving time).\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::types::Time;\n    /// use reql_rust::{r, Result};\n    /// use time::macros::offset;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let date_time = r.now().in_timezone(offset!(-08:00));\n    ///     let time1: Time = date_time.clone().value();\n    ///     let time2: Time = date_time.cmd()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(time1.is_valid());\n    ///     assert!(time2.is_valid());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [timezone](Self::timezone)\n    /// - [now](crate::r::now)\n    /// - [time](crate::r::time)\n    pub fn in_timezone(self, timezone: UtcOffset) -\u003e Self {\n        in_timezone::new(timezone).with_parent(self)\n    }\n\n    /// Return the timezone of the time object.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// time.timezone()  String\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Return all the users in the -07:00 timezone.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"users\")\n    ///         .filter(func!(|user| user.g(\"subscription_date\").timezone().lt(\"-07:00\")))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](crate::r::now)\n    /// - [time](crate::r::time)\n    /// - [in_timezone](Self::in_timezone)\n    pub fn timezone(self) -\u003e Self {\n        timezone::new().with_parent(self)\n    }\n\n    /// Return whether a time is between two other times.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// time.during(args!(start_time, end_time)) -\u003e bool\n    /// time.during(args!(start_time, end_time, options)) -\u003e bool\n    /// ```\n    ///\n    /// Where:\n    /// - start_time, end_time: [DateTime](crate::types::DateTime), [Command](crate::Command)\n    /// - options: [DuringOption](crate::cmd::during::DuringOption)\n    ///\n    /// ## Examples\n    ///\n    /// Retrieve all the posts that were posted between December 1st,\n    /// 2013 (inclusive) and December 10th, 2013 (exclusive).\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{args, r, Result};\n    /// use time::macros::{date, offset};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let start_date = r.time(args!(date!(2013 - 12 - 01), offset!(UTC)));\n    ///     let end_date = r.time(args!(date!(2013 - 12 - 10), offset!(UTC)));\n    ///     let response = r.table(\"posts\")\n    ///         .filter(func!(|post| post.g(\"date\").during(args!(start_date, end_date))))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Retrieve all the posts that were posted between December 1st,\n    /// 2013 (exclusive) and December 10th, 2013 (inclusive).\n    ///\n    /// ```\n    /// use reql_rust::arguments::Status;\n    /// use reql_rust::cmd::during::DuringOption;\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{args, r, Result};\n    /// use time::macros::{date, offset};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let start_date = r.time(args!(date!(2013 - 12 - 01), offset!(UTC)));\n    ///     let end_date = r.time(args!(date!(2013 - 12 - 10), offset!(UTC)));\n    ///     let during_options = DuringOption::default()\n    ///         .left_bound(Status::Open)\n    ///         .right_bound(Status::Closed);\n    ///     let response = r.table(\"posts\")\n    ///         .filter(func!(|post| post.g(\"date\").during(args!(\n    ///             start_date,\n    ///             end_date,\n    ///             during_options\n    ///         ))))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](crate::r::now)\n    /// - [time](crate::r::time)\n    /// - [in_timezone](Self::in_timezone)\n    pub fn during(self, args: impl during::DuringArg) -\u003e Self {\n        during::new(args).with_parent(self)\n    }\n\n    /// Return a new time struct only based on the day,\n    /// month and year (ie. the same day at 00:00).\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// time.date()  time\n    /// ```\n    ///\n    /// Where:\n    /// - time: [Time](crate::types::Time)\n    ///\n    /// ## Examples\n    ///\n    /// Retrieve all the users whose birthday is today.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"users\")\n    ///         .filter(func!(|user| user.g(\"birthdate\").date().eq(r.now().cmd().date())))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// Note that the [now](crate::r::now) command always returns UTC time, so the\n    /// comparison may fail if `user.g(\"birthdate\")` isnt also in UTC.\n    /// You can use the [in_timezone](Self::in_timezone) command to adjust for this:\n    ///\n    /// ```\n    /// use time::macros::offset;\n    ///\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"users\")\n    ///         .filter(func!(|user| user.g(\"birthdate\").date().eq(\n    ///             r.now().cmd().in_timezone(offset!(-08:00)).date()\n    ///         )))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](crate::r::now)\n    /// - [time](crate::r::time)\n    /// - [in_timezone](Self::in_timezone)\n    pub fn date(self) -\u003e Self {\n        date::new().with_parent(self)\n    }\n\n    /// Return the number of seconds elapsed since the\n    /// beginning of the day stored in the time object.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// time.time_of_day()  f64\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Retrieve posts that were submitted before noon.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"posts\")\n    ///         .filter(func!(|post| post.g(\"date\").time_of_day().le(12*60*60)))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](crate::r::now)\n    /// - [time](crate::r::time)\n    /// - [in_timezone](Self::in_timezone)\n    pub fn time_of_day(self) -\u003e Self {\n        time_of_day::new().with_parent(self)\n    }\n\n    /// Return the year of a time object.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// time.year()  i32\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Retrieve all the users born in 1986.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"users\")\n    ///         .filter(func!(|user| user.g(\"birthdate\").year().eq(r.expr(1986))))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](crate::r::now)\n    /// - [time](crate::r::time)\n    pub fn year(self) -\u003e Self {\n        year::new().with_parent(self)\n    }\n\n    /// Return the month of a time object as a number between 1 and 12.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// time.month()  u8\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Retrieve all the users who were born in November.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"users\")\n    ///         .filter(func!(|user| user.g(\"birthdate\").month().eq(r.expr(11))))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](crate::r::now)\n    /// - [time](crate::r::time)\n    pub fn month(self) -\u003e Self {\n        month::new().with_parent(self)\n    }\n\n    /// Return the day of a time object as a number between 1 and 31.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// time.day()  u8\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Return the users born on the 24th of any month.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"users\")\n    ///         .filter(func!(|user| user.g(\"birthdate\").day().eq(r.expr(24))))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](crate::r::now)\n    /// - [time](crate::r::time)\n    pub fn day(self) -\u003e Self {\n        day::new().with_parent(self)\n    }\n\n    /// Return the day of week of a time object as a number\n    /// between 1 and 7 (following ISO 8601 standard).\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// time.day_of_week()  u8\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Return todays day of week.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let day_of_week = r.now().day_of_week();\n    ///     let day_of_week1 = day_of_week.clone().value();\n    ///     let day_of_week2: u8 = day_of_week.cmd()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(day_of_week1 == day_of_week2);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Retrieve all the users who were born on a Tuesday.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"users\")\n    ///         .filter(func!(|user| user.g(\"birthdate\").day_of_week().eq(r.expr(2))))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](crate::r::now)\n    /// - [time](crate::r::time)\n    pub fn day_of_week(self) -\u003e Self {\n        day_of_week::new().with_parent(self)\n    }\n\n    /// Return the day of the year of a time object as a number\n    /// between 1 and 366 (following ISO 8601 standard).\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// time.day_of_year()  u16\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Retrieve all the users who were born the first day of a year.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"users\")\n    ///         .filter(func!(|user| user.g(\"birthdate\").day_of_year().eq(r.expr(1))))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](crate::r::now)\n    /// - [time](crate::r::time)\n    pub fn day_of_year(self) -\u003e Self {\n        day_of_year::new().with_parent(self)\n    }\n\n    /// Return the hour in a time object as a number between 0 and 23.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// time.hours()  u8\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Return all the posts submitted after midnight and before 4am.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"posts\")\n    ///         .filter(func!(|post| post.g(\"date\").hours().lt(4)))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](crate::r::now)\n    /// - [time](crate::r::time)\n    /// - [in_timezone](Self::in_timezone)\n    pub fn hours(self) -\u003e Self {\n        hours::new().with_parent(self)\n    }\n\n    /// Return the minute in a time object as a number between 0 and 59.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// time.minutes()  u8\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Return all the posts submitted during the first 10 minutes of every hour.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"posts\")\n    ///         .filter(func!(|post| post.g(\"date\").minutes().lt(10)))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](crate::r::now)\n    /// - [time](crate::r::time)\n    /// - [in_timezone](Self::in_timezone)\n    pub fn minutes(self) -\u003e Self {\n        minutes::new().with_parent(self)\n    }\n\n    /// Return the seconds in a time object as a number between 0 and 59.999.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// time.seconds()  f64\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Return the post submitted during the first 30 seconds of every minute.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"posts\")\n    ///         .filter(func!(|post| post.g(\"date\").seconds().lt(30)))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](crate::r::now)\n    /// - [time](crate::r::time)\n    /// - [in_timezone](Self::in_timezone)\n    pub fn seconds(self) -\u003e Self {\n        seconds::new().with_parent(self)\n    }\n\n    /// Convert a time object to a string in ISO 8601 format.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// time.to_iso8601()  String\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Return the current ISO 8601 time.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let iso8601 = r.now().to_iso8601();\n    ///     let iso8601_1 = iso8601.clone().value();\n    ///     let iso8601_2: String = iso8601.cmd()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(!iso8601_1.is_empty());\n    ///     assert!(!iso8601_2.is_empty());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](crate::r::now)\n    /// - [time](crate::r::time)\n    pub fn to_iso8601(self) -\u003e Self {\n        to_iso8601::new().with_parent(self)\n    }\n\n    /// Convert a time object to its epoch time.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// time.to_epoch_time()  f64\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Return the current time in seconds since\n    /// the Unix Epoch with millisecond-precision.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let time = r.now().to_epoch_time();\n    ///     let time1: f64 = time.clone().value();\n    ///     let time2: f64 = time.cmd()\n    ///         .run(\u0026conn)\n    ///         .await?.unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(time1.is_normal());\n    ///     assert!(time2.is_normal());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](crate::r::now)\n    /// - [time](crate::r::time)\n    /// - [to_iso8601](Self::to_iso8601)\n    pub fn to_epoch_time(self) -\u003e Self {\n        to_epoch_time::new().with_parent(self)\n    }\n\n    // FIXME Command no work\n    pub fn do_(self, args: impl do_::DoArg) -\u003e Self {\n        do_::new(args).with_parent(self)\n    }\n\n    /// Perform a branching conditional equivalent to `if-then-else`.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.branch(test, args!(true_action, false_action))  any\n    /// r.branch(test, args!(true_action, [(test2, test2_action), N], false_action))  any\n    /// query.branch(args!(true_action, false_action)) -\u003e any\n    /// query.branch(args!(true_action, [(test2, test2_action), N], false_action))  any\n    /// ```\n    ///\n    /// Where:\n    /// - test, true_action, false_action, test2, test2_action: r.expr(...)\n    ///\n    /// # Description\n    ///\n    /// The `branch` command takes 2n+1 arguments: pairs of conditional expressions\n    /// and commands to be executed if the conditionals return any value but `false`\n    /// or `None` i.e., truthy values), with a final else command to be evaluated\n    /// if all of the conditionals are `false` or `None`.\n    ///\n    /// You may call `branch` infix style on the first test.\n    /// (See the second example for an illustration.)\n    ///\n    /// ```text\n    /// r.branch(test1, args!(val1, [(test2, val2)], elseval))\n    /// ```\n    ///\n    /// is the equivalent of the Rust statement\n    ///\n    /// ```text\n    /// if (test1) {\n    ///     val1\n    /// } else if (test2) {\n    ///     val2\n    /// } else {\n    ///     elseval\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Test the value of x.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let x = 10;\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: String = r.branch(\n    ///             r.expr(x \u003e 5),\n    ///             args!(r.expr(\"big\"), r.expr(\"small\"))\n    ///         ).run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.eq(\"big\"));\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// As above, infix-style.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let x = 10;\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: String = r.expr(x \u003e 5)\n    ///         .branch(args!(r.expr(\"big\"), r.expr(\"small\")))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.eq(\"big\"));\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Categorize heroes by victory counts.\n    ///\n    /// ```\n    /// use std::ops::Add;\n    ///\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.table(\"pricings\")\n    ///         .map(func!(|offer| r.branch(\n    ///             offer.clone().g(\"price\").gt(100),\n    ///             args!(\n    ///                 offer.clone().g(\"offer\").add(\"premium\"),\n    ///                 [(\n    ///                     offer.clone().g(\"price\").gt(10),\n    ///                     offer.clone().g(\"offer\").add(\"standard\")\n    ///                 )],\n    ///                 offer.g(\"offer\").add(\"freemium\")\n    ///         ))))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [do_](Self::do_)\n    pub fn branch(self, args: impl branch::BranchArg) -\u003e Self {\n        branch::new(args).with_parent(self)\n    }\n\n    /// Loop over a sequence, evaluating the given write query for each element.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// sequence.for_each(write_function)  response\n    /// ```\n    ///\n    /// Where:\n    /// - write_function: func!(...)\n    /// - response: [MutationResponse](crate::types::MutationResponse)\n    ///\n    /// ## Examples\n    ///\n    /// Get information about a table such as primary key, or cache size.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::types::MutationResponse;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: MutationResponse = r.table(\"models\")\n    ///         .for_each(func!(|model| r.table(\"cars\")\n    ///             .get(model.get(\"car_model\"))\n    ///             .delete(())\n    ///         ))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.deleted == 5);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [map](Self::map)\n    pub fn for_each(self, write_function: Func) -\u003e Self {\n        for_each::new(write_function).with_parent(self)\n    }\n\n    /// Provide a default value in case of non-existence errors.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// value.default(default_value)  any\n    /// sequence.default(default_value)  any\n    /// ```\n    ///\n    /// # Description\n    ///\n    /// The `default` command evaluates its first argument (the value its chained to).\n    /// If that argument returns `None` or a non-existence error is thrown in evaluation,\n    /// then `default` returns its second argument. The second argument is usually a default value,\n    /// but it can be a function that returns a value.\n    ///\n    /// ## Examples\n    ///\n    /// Suppose we want to retrieve the titles and authors of the table posts.\n    /// In the case where the author field is missing or null,\n    /// we want to retrieve the string Anonymous.\n    ///\n    /// ```\n    /// use std::collections::HashMap;\n    ///\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    /// use serde::{Deserialize, Serialize};\n    ///\n    /// #[derive(Debug, Serialize, Deserialize)]\n    /// struct Post {\n    ///     title: String,\n    ///     author: String,\n    /// }\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: Vec\u003cPost\u003e = r.table(\"posts\")\n    ///         .map(func!(|doc| {\n    ///             let mut post = HashMap::new();\n    ///             post.insert(\"title\", doc.clone().g(\"title\"));\n    ///             post.insert(\"author\", doc.clone().g(\"author\").default(\"Anonymous\"));\n    ///             r.hash_map(post)\n    ///         }))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.len() \u003e 0);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// The `default` command can also be used to filter documents.\n    /// Suppose we want to retrieve all our users who are not grown-ups or\n    /// whose age is unknown (i.e., the field `age` is missing or equals `None`).\n    /// We can do it with this query:\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.table(\"users\")\n    ///         .filter(func!(|user| user.g(\"age\").lt(18).default(true)))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// One more way to write the previous query is\n    /// to set the age to be `-1` when the field is missing.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.table(\"users\")\n    ///         .filter(func!(|user| user.g(\"age\").default(-1).lt(18)))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// Another way to do the same query is to use hasFields.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.table(\"users\")\n    ///         .filter(func!(|user| user.clone().has_fields(\"age\").not_().or(user.g(\"age\").lt(18))))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// Another way to do the same query is to use hasFields.\n    ///\n    /// ```\n    /// use reql_rust::cmd::filter::FilterOption;\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.table(\"users\")\n    ///         .filter(args!(\n    ///             func!(|user| user.g(\"age\").lt(18).default(true)),\n    ///             FilterOption::default().default_(true)\n    ///         ))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn default(self, default_value: impl Serialize) -\u003e Self {\n        default::new(default_value).with_parent(self)\n    }\n\n    /// Convert a value of one type into another.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// sequence.coerce_to('array')  array\n    /// value.coerce_to('string')  string\n    /// string.coerce_to('number')  number\n    /// array.coerce_to('object')  object\n    /// sequence.coerce_to('object')  object\n    /// object.coerce_to('array')  array\n    /// binary.coerce_to('string')  string\n    /// string.coerce_to('binary')  binary\n    /// ```\n    ///\n    /// # Description\n    ///\n    /// - a sequence, selection or object can be coerced to an array\n    /// - a sequence, selection or an array of key-value pairs can be coerced to an object\n    /// - a string can be coerced to a number\n    /// - any datum (single value) can be coerced to a string\n    /// - a binary object can be coerced to a string and vice-versa\n    ///\n    /// ## Examples\n    ///\n    /// Coerce an array of pairs into an object.\n    ///\n    /// ```\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.expr([[\"name\", \"Malika\"], [\"genre\", \"woman\"]])\n    ///         .coerce_to(\"object\")\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Coerce a number to a string.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: char = r.expr(1)\n    ///         .coerce_to(\"string\")\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == '1');\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [object](crate::r::object)\n    pub fn coerce_to(self, value: impl Serialize) -\u003e Self {\n        coerce_to::new(value).with_parent(self)\n    }\n\n    /// Gets the type of a ReQL querys return value.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// any.type_of()  response\n    /// ```\n    ///\n    /// Where:\n    /// - response: [TypeOf](crate::types::TypeOf)\n    ///\n    /// # Description\n    ///\n    /// Read the article on [ReQL data types](https://rethinkdb.com/docs/data-types/)\n    /// for a more detailed discussion.\n    /// Note that some possible return values from `type_of` are internal values,\n    /// such as `TypeOf::MAXVAL`, and unlikely to be returned from queries in standard practice.\n    ///\n    /// ## Examples\n    ///\n    /// Get the type of a TypeOf.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::TypeOf;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: TypeOf = r.expr(\"foo\")\n    ///         .type_of()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == TypeOf::String);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn type_of(self) -\u003e Self {\n        type_of::new().with_parent(self)\n    }\n\n    /// Get information about a ReQL value.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// any.info()  response\n    /// r.info(any)  response\n    /// ```\n    ///\n    /// Where:\n    /// - response: [InfoResponse](crate::types::InfoResponse)\n    ///\n    /// ## Examples\n    ///\n    /// Get information about a table such as primary key, or cache size.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::{InfoResponse, TypeOf};\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: InfoResponse = r.table(\"simbad\")\n    ///         .info()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.typ == TypeOf::Table);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn info(self) -\u003e Self {\n        info::new().with_parent(self)\n    }\n\n    /// Convert a ReQL value or object to a JSON string.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// value.to_json()  String\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Get a ReQL document as a JSON string.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: String = r.table(\"simbad\")\n    ///         .get(1)\n    ///         .to_json()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(!response.is_empty());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn to_json(self) -\u003e Self {\n        to_json::new().with_parent(self)\n    }\n\n    /// Compute the distance between a point and another geometry object.\n    /// At least one of the geometry objects specified must be a point.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// geometry.distance(geometry)  f64\n    /// geometry.distance(args!(geometry, options))  f64\n    /// r.distance(geometry.cmd(), geometry)  f64\n    /// r.distance(geometry.cmd(), args!(geometry, options))  f64\n    /// ```\n    ///\n    /// Where:\n    /// - geometry: [r.point(...)](crate::r::point) |\n    /// [r.line(...)](crate::r::line) |\n    /// [r.polygon(...)](crate::r::polygon)\n    /// - options: [DistanceOption](crate::cmd::distance::DistanceOption)\n    ///\n    /// # Description\n    ///\n    /// If one of the objects is a polygon or a line, the point will be projected\n    /// into the line or polygon assuming a perfect sphere model before the distance\n    /// is computed (using the model specified with `geo_system`).\n    /// As a consequence, if the polygon or line is extremely large compared\n    /// to Earths radius and the distance is being computed with the default\n    ///  WGS84 model, the results of `distance` should be considered approximate\n    /// due to the deviation between the ellipsoid and spherical models.\n    ///\n    /// ## Examples\n    ///\n    /// Compute the distance between two points on the Earth in kilometers.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Unit;\n    /// use reql_rust::cmd::distance::DistanceOption;\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let point1 = r.point(-122.423246, 37.779388);\n    ///     let point2 = r.point(-117.220406, 32.719464);\n    ///     let distance_option = DistanceOption::default().unit(Unit::Kilometer);\n    ///\n    ///     let response: f64 = point1.cmd()\n    ///         .distance(point2)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == 734.125249602186);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [polygon](crate::r::polygon)\n    /// - [line](crate::r::line)\n    pub fn distance(self, args: impl distance::DistanceArg) -\u003e Self {\n        distance::new(args).with_parent(self)\n    }\n\n    /// Convert a ReQL geometry object to a [GeoJSON](https://geojson.org/) object.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// geometry.to_geojson()  response\n    /// ```\n    ///\n    /// Where:\n    /// - geometry: [r.point(...)](crate::r::point) |\n    /// [r.line(...)](crate::r::line) |\n    /// [r.polygon(...)](crate::r::polygon)\n    /// command\n    /// - response: [GeoJson\u003cT\u003e](crate::types::GeoJson)\n    ///\n    /// ## Examples\n    ///\n    /// Convert a ReQL geometry object to a GeoJSON object.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::{GeoJson, GeoType};\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: GeoJson\u003c[f64; 2]\u003e = r.table(\"simbad\")\n    ///         .get(\"sfo\")\n    ///         .g(\"location\")\n    ///         .to_geojson()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.typ == GeoType::Point);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [geojson](crate::r::geojson)\n    pub fn to_geojson(self) -\u003e Self {\n        to_geojson::new().with_parent(self)\n    }\n\n    /// Get all documents where the given geometry object intersects\n    /// the geometry object of the requested geospatial index.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// table.get_intersecting(geometry, options)  selection\u003cstream\u003e\n    /// ```\n    ///\n    /// Where:\n    /// - geometry: [r.point(...)](crate::r::point) |\n    /// [r.line(...)](crate::r::line) |\n    /// [r.polygon(...)](crate::r::polygon)\n    /// command\n    /// - sequence: command\n    /// - options: [GetIntersectingOption](crate::cmd::get_intersecting::GetIntersectingOption)\n    ///\n    /// # Description\n    ///\n    /// The `index` argument is mandatory. This command returns the same\n    ///  results as `|row| row.g(index).intersects(geometry)`.\n    /// The total number of results is limited to the array size limit\n    /// which defaults to 100,000, but can be changed with the `array_limit`\n    /// option to [run](Self::run).\n    ///\n    /// ## Examples\n    ///\n    /// Which of the locations in a list of parks intersect `circle`?\n    ///\n    /// ```\n    /// use reql_rust::arguments::Unit;\n    /// use reql_rust::cmd::circle::CircleOption;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let point = r.point(-117.220406, 32.719464);\n    ///     let circle_opts = CircleOption::default()\n    ///         .unit(Unit::InternationalMile);\n    ///     let circle = r.circle(args!(point, 10., circle_opts));\n    ///\n    ///     let response = r.table(\"simbad\")\n    ///         .get_intersecting(circle, \"area\")\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [get_nearest](Self::get_nearest)\n    pub fn get_intersecting(\n        self,\n        geometry: impl get_intersecting::GetIntersectingArg,\n        index: \u0026'static str,\n    ) -\u003e Self {\n        get_intersecting::new(geometry, index).with_parent(self)\n    }\n\n    /// Return a list of documents closest to a\n    /// specified point based on a geospatial index,\n    /// sorted in order of increasing distance.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// table.get_nearest(args!(geometry, \u0026str))  array\n    /// table.get_nearest(args!(geometry, \u0026str, options))  array\n    /// ```\n    ///\n    /// Where:\n    /// - geometry: [r.point(...)](crate::r::point) |\n    /// [r.line(...)](crate::r::line) |\n    /// [r.polygon(...)](crate::r::polygon) |\n    /// command\n    /// - sequence: command\n    /// - options: [GetNearestOption](crate::cmd::get_nearest::GetNearestOption)\n    ///\n    /// # Description\n    ///\n    /// The return value will be an array of two-item objects\n    /// with the keys `dist` and `doc`, set to the distance\n    /// between the specified point and the document\n    /// (in the units specified with `unit`, defaulting to meters)\n    /// and the document itself, respectively.\n    /// The array will be sorted by the values of `dist`.\n    ///\n    /// ## Examples\n    ///\n    /// Return a list of the closest 25 enemy hideouts to the secret base.\n    ///\n    /// ```\n    /// use reql_rust::cmd::get_nearest::GetNearestOption;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let secret_base = r.point(-122.422876, 37.777128);\n    ///     let opts = GetNearestOption::default().max_results(25);\n    ///\n    ///     let response = r.table(\"simbad\")\n    ///         .get_nearest(args!(secret_base, \"location\"))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [get_intersecting](Self::get_intersecting)\n    pub fn get_nearest(self, args: impl get_nearest::GetNearestArg) -\u003e Self {\n        get_nearest::new(args).with_parent(self)\n    }\n\n    /// Tests whether a geometry object is completely contained within another.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// geometry.includes(geometry)  bool\n    /// sequence.includes(geometry)  sequence\n    /// ```\n    ///\n    /// Where:\n    /// - geometry: [r.point(...)](crate::r::point) |\n    /// [r.line(...)](crate::r::line) |\n    /// [r.polygon(...)](crate::r::polygon) |\n    /// command\n    /// - sequence: command\n    ///\n    /// # Description\n    ///\n    /// When applied to a sequence of geometry objects,\n    /// `includes` acts as a [filter](Self::filter),\n    /// returning a sequence of objects from the sequence\n    /// that include the argument.\n    ///\n    /// ## Examples\n    ///\n    /// Is `point2` included within a 2000-meter circle around `point1`?\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let point1 = r.point(-117.220406, 32.719464);\n    ///     let point2 = r.point(-117.206201, 32.725186);\n    ///\n    ///     let response: bool = r.circle(args!(point1, 2000.))\n    ///         .includes(point2)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Which of the locations in a list of parks include `circle`?\n    ///\n    /// ```\n    /// use reql_rust::arguments::Unit;\n    /// use reql_rust::cmd::circle::CircleOption;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let point = r.point(-117.220406, 32.719464);\n    ///     let circle_opts = CircleOption::default().unit(Unit::InternationalMile);\n    ///     let circle = r.circle(args!(point, 10., circle_opts));\n    ///\n    ///     let response = r.table(\"parks\")\n    ///         .g(\"area\")\n    ///         .includes(circle)\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Rewrite the previous example with `get_intersecting`.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Unit;\n    /// use reql_rust::cmd::circle::CircleOption;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let point = r.point(-117.220406, 32.719464);\n    ///     let circle_opts = CircleOption::default()\n    ///         .unit(Unit::InternationalMile);\n    ///     let circle = r.circle(args!(point, 10., circle_opts));\n    ///\n    ///     let response = r.table(\"parks\")\n    ///         .get_intersecting(circle.clone(), \"area\")\n    ///         .g(\"area\")\n    ///         .includes(circle)\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [intersects](Self::intersects)\n    pub fn includes(self, args: impl includes::IncludesArg) -\u003e Self {\n        includes::new(args).with_parent(self)\n    }\n\n    /// Tests whether two geometry objects intersect with one another.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// geometry.intersects(geometry)  bool\n    /// r.intersects(geometry_command, geometry)  bool\n    /// sequence.intersects(geometry)  sequence_response\n    /// r.intersects(sequence, geometry)  sequence_response\n    /// ```\n    ///\n    /// Where:\n    /// - geometry: [r.point(...)](crate::r::point) |\n    /// [r.line(...)](crate::r::line) |\n    /// [r.polygon(...)](crate::r::polygon) |\n    /// command\n    /// - sequence, geometry_command: [Command](crate::Command)\n    ///\n    /// # Description\n    ///\n    /// When applied to a sequence of geometry objects, `intersects` acts as a\n    /// [filter](Self::filter), returning a sequence of objects from\n    /// the sequence that intersect with the argument.\n    ///\n    /// ## Examples\n    ///\n    /// Is `point2` within a 2000-meter circle around `point1`?\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let point1 = r.point(-117.220406, 32.719464);\n    ///     let point2 = r.point(-117.206201, 32.725186);\n    ///\n    ///     let response: bool = r.circle(args!(point1, 2000.))\n    ///         .intersects(point2)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Which of the locations in a list of parks intersect `circle`?\n    ///\n    /// ```\n    /// use reql_rust::arguments::Unit;\n    /// use reql_rust::cmd::circle::CircleOption;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let point = r.point(-117.220406, 32.719464);\n    ///     let circle_opts = CircleOption::default().unit(Unit::InternationalMile);\n    ///     let circle = r.circle(args!(point, 10., circle_opts));\n    ///\n    ///     let response = r.table(\"parks\")\n    ///         .g(\"area\")\n    ///         .intersects(circle)\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [includes](Self::includes)\n    /// - [get_intersecting](Self::get_intersecting)\n    pub fn intersects(self, geometry: impl intersects::IntersectsArg) -\u003e Self {\n        intersects::new(geometry).with_parent(self)\n    }\n\n    /// Grant or deny access permissions for a user account,\n    /// globally or on a per-database or per-table basis.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.grant(username, permission)  response\n    /// table.grant(username, permission)  response\n    /// db.grant(username, permission)  response\n    /// ```\n    ///\n    /// Where:\n    /// - table: [r.table(...)](crate::r::table) |\n    /// [query.table(...)](Self::table)\n    /// - db: [r.db(...)](crate::r::db)\n    /// - response: [GrantResponse](crate::types::GrantResponse)\n    ///\n    /// # Description\n    ///\n    /// Permissions that are not defined on a local scope will\n    /// be inherited from the next largest scope.\n    /// For example, a write operation on a table will first\n    /// check if `write` permissions are explicitly set to `true` or `false`\n    /// for that table and account combination; if they are not,\n    /// the `write` permissions for the database will be used\n    /// if those are explicitly set; and if neither table nor database\n    /// permissions are set for that account, the global `write`\n    /// permissions for that account will be used.\n    ///\n    /// ## Note\n    ///\n    /// For all accounts other than the special, system-defined `admin` account,\n    /// permissions that are not explicitly set in any scope will effectively be `false`.\n    /// When you create a new user account by inserting a record into the\n    /// [system table](https://rethinkdb.com/docs/system-tables/#users),\n    /// that account will have **no** permissions until they are explicitly granted.\n    ///\n    /// For a full description of permissions, read\n    /// [Permissions and user accounts](https://rethinkdb.com/docs/permissions-and-accounts/).\n    ///\n    /// ## Examples\n    ///\n    /// Grant the `alima` user account read and write permissions on the `users` database.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Permission;\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::GrantResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let permission = Permission::default().read(true).write(true);\n    ///\n    ///     let response: GrantResponse = r.db(\"users\")\n    ///         .grant(\"alima\", permission)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.granted == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Deny write permissions from the `alima` account for the `simbad` table.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Permission;\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::GrantResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let permission = Permission::default().write(false);\n    ///\n    ///     let response: GrantResponse = r.db(\"users\")\n    ///         .table(\"simbad\")\n    ///         .grant(\"alima\", permission)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.granted == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Grant `alima` the ability to use HTTP connections.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Permission;\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::GrantResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let permission = Permission::default().connect(true);\n    ///\n    ///     let response: GrantResponse = r.grant(\"alima\", permission)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.granted == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Grant a `monitor` account read-only access to all databases.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Permission;\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::GrantResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let permission = Permission::default().read(true);\n    ///\n    ///     let response: GrantResponse = r.grant(\"monitor\", permission)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.granted == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn grant(self, username: \u0026str, permission: Permission) -\u003e Self {\n        grant::new(username, permission).with_parent(self)\n    }\n\n    /// Query (read and/or update) the configurations for individual tables or databases.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// table.config()  response\n    /// db.config()  response\n    /// ```\n    ///\n    /// Where:\n    /// - table: [r.table(...)](crate::r::table) |\n    /// [query.table(...)](Self::table)\n    /// - db: [r.db(...)](crate::r::db)\n    /// - response: [ConfigResponse](crate::types::ConfigResponse)\n    ///\n    /// # Description\n    ///\n    /// The config command is a shorthand way to access the `table_config` or `db_config`\n    /// [System tables](https://rethinkdb.com/docs/system-tables/#configuration-tables).\n    /// It will return the single row from the system that corresponds to the database\n    /// or table configuration, as if [get](Self::get) had been called on the system\n    /// table with the UUID of the database or table in question.\n    ///\n    /// ## Examples\n    ///\n    /// Rebalance a table.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::ConfigResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: ConfigResponse = r.table(\"simbad\")\n    ///         .config()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.name == \"simbad\");\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn config(self) -\u003e Self {\n        config::new().with_parent(self)\n    }\n\n    /// Rebalances the shards of a table. When called on a database,\n    /// all the tables in that database will be rebalanced.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// table.rebalance()  response\n    /// db.rebalance()  response\n    /// ```\n    ///\n    /// Where:\n    /// - table: [r.table(...)](crate::r::table) |\n    /// [query.table(...)](Self::table)\n    /// - db: [r.db(...)](crate::r::db)\n    /// - response: [RebalanceResponse](crate::types::RebalanceResponse)\n    ///\n    /// # Description\n    ///\n    /// The `rebalance` command operates by measuring the distribution of\n    /// primary keys within a table and picking split points that will\n    /// give each shard approximately the same number of documents.\n    /// It wont change the number of shards within a table,\n    /// or change any other configuration aspect for the table or the database.\n    ///\n    /// A table will lose availability temporarily after `rebalance` is called;\n    /// use the [wait](Self::wait) command to wait for the table to become available again,\n    /// or [status](Self::status) to check if the table is available for writing.\n    ///\n    /// RethinkDB automatically rebalances tables when the number of shards are increased,\n    /// and as long as your documents have evenly distributed primary keyssuch as\n    /// the default UUIDsit is rarely necessary to call `rebalance` manually.\n    /// Cases where `rebalance` may need to be called include:\n    /// - Tables with unevenly distributed primary keys, such as incrementing integers\n    /// - Changing a tables primary key type\n    /// - Increasing the number of shards on an empty table,\n    /// then using non-UUID primary keys in that table\n    ///\n    /// The [web UI](https://rethinkdb.com/docs/administration-tools/)\n    /// (and the [info](Self::info) command)\n    /// can be used to tell you when a tables shards need to be rebalanced.\n    ///\n    /// See the [status](Self::status) command for an explanation of\n    /// the objects returned in the `old_val` and `new_val` fields.\n    ///\n    /// ## Examples\n    ///\n    /// Rebalance a table.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::RebalanceResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: RebalanceResponse = r.table(\"simbad\")\n    ///         .rebalance()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.rebalanced == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn rebalance(self) -\u003e Self {\n        rebalance::new().with_parent(self)\n    }\n\n    /// Reconfigure a tables sharding and replication.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// table.reconfigure(options)  response\n    /// db.reconfigure(options)  response\n    /// ```\n    ///\n    /// Where:\n    /// - table: [r.table(...)](crate::r::table) |\n    /// [query.table(...)](Self::table)\n    /// - db: [r.db(...)](crate::r::db)\n    /// - options: [ReconfigureOption](crate::cmd::reconfigure::ReconfigureOption)\n    /// - response: [ReconfigureResponse](crate::types::ReconfigureResponse)\n    ///\n    /// # Description\n    ///\n    /// A table will lose availability temporarily after `reconfigure` is called;\n    /// use the [wait](Self::wait) command to wait for the table to become available again,\n    /// or [status](Self::wait) to check if the table is available for writing.\n    ///\n    /// ## Note\n    ///\n    /// Whenever you call `reconfigure`, the write durability will be set to\n    /// `Durability::Hard` and the write\n    /// acknowledgments will be set to `ReadMode::Majority`;\n    /// these can be changed by using the `config` command on the table.\n    ///\n    ///\n    /// If `reconfigure` is called on a database,\n    /// all the tables in the database will have their configurations affected.\n    /// The return value will be an array of the objects described above, one per table.\n    ///\n    /// Read [Sharding and replication](https://rethinkdb.com/docs/sharding-and-replication/)\n    /// for a complete discussion of the subject, including advanced topics.\n    ///\n    /// ## Examples\n    ///\n    /// Reconfigure a table.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Replicas;\n    /// use reql_rust::cmd::reconfigure::ReconfigureOption;\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::ReconfigureResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let opts = ReconfigureOption::default()\n    ///         .shards(1)\n    ///         .replicas(Replicas::Int(1));\n    ///\n    ///     let response: ReconfigureResponse = r.table(\"simbad\")\n    ///         .reconfigure(opts)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.reconfigured == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Reconfigure a table, specifying replicas by server tags.\n    ///\n    /// ```\n    /// use std::collections::HashMap;\n    ///\n    /// use reql_rust::arguments::Replicas;\n    /// use reql_rust::cmd::reconfigure::ReconfigureOption;\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::types::ReconfigureResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let mut replicas = HashMap::new();\n    ///\n    ///     replicas.insert(\"malika\".static_string(), 1);\n    ///     replicas.insert(\"malika\".static_string(), 1);\n    ///\n    ///     let opts = ReconfigureOption::default()\n    ///         .shards(2)\n    ///         .replicas(Replicas::Map {\n    ///             replicas,\n    ///             primary_replica_tag: \"malika\".static_string()\n    ///         });\n    ///\n    ///     let response: ReconfigureResponse = r.table(\"simbad\")\n    ///         .reconfigure(opts)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.reconfigured == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Perform an emergency repair on a table.\n    ///\n    /// ```\n    /// use reql_rust::arguments::EmergencyRepair;\n    /// use reql_rust::cmd::reconfigure::ReconfigureOption;\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::ReconfigureResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let opts = ReconfigureOption::default()\n    ///         .emergency_repair(EmergencyRepair::UnsafeRollback);\n    ///\n    ///     let response: ReconfigureResponse = r.table(\"simbad\")\n    ///         .reconfigure(opts)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.reconfigured == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn reconfigure(self, opts: reconfigure::ReconfigureOption) -\u003e Self {\n        reconfigure::new(opts).with_parent(self)\n    }\n\n    /// Return the status of a table.\n    ///\n    /// The return value is an object providing information about\n    /// the tables shards, replicas and replica readiness states.\n    /// For a more complete discussion of the object fields,\n    /// read about the table_status table in\n    /// [System tables](https://rethinkdb.com/docs/system-tables/#status-tables).\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// table.status()  response\n    /// ```\n    ///\n    /// Where:\n    /// - table: [r.table(...)](crate::r::table) |\n    /// [query.table(...)](Self::table)\n    /// - response: [StatusResponse](crate::types::StatusResponse)\n    ///\n    /// ## Examples\n    ///\n    /// Get a tables status.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::StatusResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: StatusResponse = r.table(\"simbad\")\n    ///         .status()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.name.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn status(self) -\u003e Self {\n        status::new().with_parent(self)\n    }\n\n    /// Wait for a table or all the tables in a database to be ready.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// table.wait(())  response\n    /// db.wait(())  response\n    /// r.wait(table)  response\n    /// r.wait(database)  response\n    /// table.wait(options)  response\n    /// db.wait(options)  response\n    /// r.wait(args!(table, options))  response\n    /// r.wait(args!(database, options))  response\n    /// ```\n    ///\n    /// Where:\n    /// - table: [r.table(...)](crate::r::table) |\n    /// [query.table(...)](Self::table)\n    /// - db: [r.db(...)](crate::r::db)\n    /// - options: [WaitOption](crate::cmd::wait::WaitOption)\n    /// - response: [WaitResponse](crate::types::WaitResponse)\n    ///\n    /// # Description\n    ///\n    /// A table may be temporarily unavailable after creation,\n    /// rebalancing or reconfiguring.\n    /// The `wait` command blocks until the given\n    /// table (or database) is fully up to date.\n    ///\n    /// ## Examples\n    ///\n    /// Wait on a table to be ready.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::WaitResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: WaitResponse = r.table(\"simbad\")\n    ///         .wait(())\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.ready == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Wait on a table with timeout to be ready for reads.\n    ///\n    /// ```\n    /// use reql_rust::arguments::WaitFor;\n    /// use reql_rust::cmd::wait::WaitOption;\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::WaitResponse;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let table_command = r.db(\"anim\").table(\"simbad\");\n    ///     let opts = WaitOption::default()\n    ///         .wait_for(WaitFor::ReadyForReads)\n    ///         .timeout(8000f64);\n    ///\n    ///     let response: WaitResponse =  r.wait(args!(table_command, opts))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.ready == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn wait(self, args: impl wait::WaitArg) -\u003e Self {\n        wait::new(args).with_parent(self)\n    }\n\n    /// Run a query on a connection,\n    /// returning either a single JSON result or a cursor,\n    /// depending on the query.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// query.run(\u0026session)  value\n    /// query.run(connection)  value\n    /// query.run(args!(\u0026session, options))  value\n    /// query.run(args!(connection, options))  value\n    /// query.run(\u0026mut session)  value\n    /// query.run(args!(\u0026mut session, options))  value\n    /// ```\n    ///\n    /// Where:\n    /// - session: [Session](crate::connection::Session)\n    /// - connection: [Connection](crate::connection::Connection)\n    /// - options: [RunOption](crate::cmd::run::RunOption)\n    /// - stream: [impl Stream\u003cItem = Result\u003cValue\u003e\u003e](futures::stream::Stream)\n    ///\n    /// ## Examples\n    ///\n    /// If you are OK with potentially out of date data\n    /// from all the tables involved in this query and\n    /// want potentially faster reads,\n    /// pass a flag allowing out of date data in an options object.\n    /// Settings for individual tables will supercede this global\n    /// setting for all tables in the query.\n    ///\n    /// ```\n    /// use reql_rust::arguments::ReadMode;\n    /// use reql_rust::cmd::run::RunOption;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let opts = RunOption::default().read_mode(ReadMode::Outdated);\n    ///\n    ///     r.table(\"simbad\").run(args!(\u0026conn, opts)).await?;\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// If you want to specify whether to wait for a write to be written\n    /// to disk (overriding the tables default settings),\n    /// you can set `durability` to `Durability::Hard`\n    /// or `Durability::Soft` in the options.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Durability;\n    /// use reql_rust::cmd::run::RunOption;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let opts = RunOption::default().durability(Durability::Hard);\n    ///     let data = json!({\n    ///         \"name\": \"Pumba\",\n    ///         \"live\": 5\n    ///     });\n    ///\n    ///     r.table(\"simbad\").insert(data).run(args!(\u0026conn, opts)).await?;\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// If you do not want a time object to be converted to a native date object,\n    /// you can pass a time_format flag to prevent it\n    /// (valid flags are `Format::Raw` and `Format::Native`).\n    /// This query returns an object with two fields (epoch_time and $reql_type$)\n    /// instead of a native date object.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Format;\n    /// use reql_rust::cmd::run::RunOption;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let opts = RunOption::default().time_format(Format::Raw);\n    ///\n    ///     r.now().cmd().run(args!(\u0026conn, opts)).await?;\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Specify the database to use for the query.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Format;\n    /// use reql_rust::cmd::run::RunOption;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let opts = RunOption::default().db(\"jikoni\");\n    ///\n    ///     r.table(\"simbad\").run(args!(\u0026conn, opts)).await?;\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Change the batching parameters for this query.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Format;\n    /// use reql_rust::cmd::run::RunOption;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let opts = RunOption::default()\n    ///         .max_batch_rows(16)\n    ///         .max_batch_bytes(2048);\n    ///\n    ///     r.table(\"simbad\").run(args!(\u0026conn, opts)).await?;\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [connection](crate::r::connection)\n    pub async fn run(self, arg: impl run::RunArg) -\u003e Result\u003cOption\u003cValue\u003e\u003e {\n        self.make_query(arg).try_next().await\n    }\n\n    /// Prepare query for execution\n    ///\n    /// See [run](self::run) for more information.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// query.make_query(\u0026session)  stream\n    /// query.make_query(connection)  stream\n    /// query.make_query(args!(\u0026session, options))  stream\n    /// query.make_query(args!(connection, options))  stream\n    /// query.make_query(\u0026mut session)  stream\n    /// query.make_query(args!(\u0026mut session, options))  stream\n    /// ```\n    ///\n    /// Where:\n    /// - session: [Session](crate::connection::Session)\n    /// - connection: [Connection](crate::connection::Connection)\n    /// - options: [RunOption](crate::cmd::run::RunOption)\n    ///\n    /// # Description\n    ///\n    /// This method has the same parameters as `run`.\n    /// The main difference between `make_query` and `run` is that\n    /// `make_query` can be used to execute multiple requests\n    ///\n    /// ## Examples\n    ///\n    /// You can use `query.make_query` to get the same result than `query.run`\n    ///\n    /// ```\n    /// use futures::TryStreamExt;\n    /// use reql_rust::r;\n    ///\n    /// async fn example() -\u003e reql_rust::Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     r.table(\"simbad\").make_query(\u0026conn).try_next().await?;\n    ///     // is same than\n    ///     r.table(\"simbad\").run(\u0026conn).await?;\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Run many queries\n    ///\n    /// ```\n    /// use futures::stream::{select_all, TryStreamExt};\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::r;\n    ///\n    /// async fn example() -\u003e reql_rust::Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let mut streams = Vec::new();\n    ///     let expected_messages: Vec\u003cString\u003e = (0..10_000)\n    ///         .into_iter()\n    ///         .map(|i| format!(\"message {}\", i))\n    ///         .collect();\n    ///\n    ///     for msg in expected_messages.iter() {\n    ///         streams.push(r.expr(msg).make_query(\u0026conn));\n    ///     }\n    ///\n    ///     let mut list = select_all(streams);\n    ///     let mut response = Vec::new();\n    ///\n    ///     while let Some(msg) = list.try_next().await? {\n    ///         let msg: String = msg.parse()?;\n    ///         response.push(msg);\n    ///     }\n    ///\n    ///     assert!(response == expected_messages);\n    ///\n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [run](self::run)\n    pub fn make_query(self, arg: impl run::RunArg) -\u003e impl Stream\u003cItem = Result\u003cValue\u003e\u003e {\n        Box::pin(run::new(self, arg))\n    }\n}\n\npub enum CmdOpts {\n    Single(Command),\n    Many(Vec\u003cCommand\u003e),\n}\n\nimpl CmdOpts {\n    pub(crate) fn add_to_cmd(self, command: Command) -\u003e Command {\n        match self {\n            Self::Single(arg) =\u003e command.with_arg(arg),\n            Self::Many(args) =\u003e args.into_iter().fold(command, |cmd, arg| cmd.with_arg(arg)),\n        }\n    }\n}\n\nimpl From\u003cCmdOpts\u003e for Option\u003cCommand\u003e {\n    fn from(command: CmdOpts) -\u003e Self {\n        if let CmdOpts::Single(arg) = command {\n            Some(arg)\n        } else {\n            None\n        }\n    }\n}\n\n// for debug purposes only\nfn bytes_to_string(bytes: \u0026[u8]) -\u003e String {\n    if let Ok(string) = str::from_utf8(bytes) {\n        return string.to_owned();\n    }\n    format!(\"{:?}\", bytes)\n}\n","traces":[{"line":194,"address":[4471248],"length":1,"stats":{"Line":4},"fn_name":"static_string"},{"line":195,"address":[4471269],"length":1,"stats":{"Line":4},"fn_name":null},{"line":200,"address":[4013680],"length":1,"stats":{"Line":1},"fn_name":"static_string"},{"line":201,"address":[4013692],"length":1,"stats":{"Line":1},"fn_name":null},{"line":206,"address":[1837680],"length":1,"stats":{"Line":0},"fn_name":"static_string"},{"line":207,"address":[1837703],"length":1,"stats":{"Line":0},"fn_name":null},{"line":208,"address":[1837726],"length":1,"stats":{"Line":0},"fn_name":null},{"line":209,"address":[1837767],"length":1,"stats":{"Line":0},"fn_name":null},{"line":215,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":216,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":219,"address":[2192426,2192453,2192224],"length":1,"stats":{"Line":1},"fn_name":"table_create\u003c(\u0026str, reql_rust::cmd::table_create::TableCreateOption)\u003e"},{"line":220,"address":[2192259,2192358],"length":1,"stats":{"Line":2},"fn_name":null},{"line":223,"address":[4047922,4047895,4047696],"length":1,"stats":{"Line":0},"fn_name":"table_drop"},{"line":224,"address":[4047827,4047760],"length":1,"stats":{"Line":0},"fn_name":null},{"line":227,"address":[4048120,4047936,4048093],"length":1,"stats":{"Line":0},"fn_name":"table_list"},{"line":228,"address":[4047958,4048025],"length":1,"stats":{"Line":0},"fn_name":null},{"line":231,"address":[2192654,2192903,2192704,2192930,2192464,2192681],"length":1,"stats":{"Line":4},"fn_name":"table\u003c(\u0026str, reql_rust::cmd::table::TableOption)\u003e"},{"line":232,"address":[2192768,2192486,2192584,2192835],"length":1,"stats":{"Line":8},"fn_name":null},{"line":235,"address":[2193184,2192944,2193143,2193401,2193374,2193170],"length":1,"stats":{"Line":2},"fn_name":"index_create\u003c\u0026str\u003e"},{"line":236,"address":[2193008,2193206,2193075,2193304],"length":1,"stats":{"Line":4},"fn_name":null},{"line":239,"address":[4048370,4048343,4048144],"length":1,"stats":{"Line":1},"fn_name":"index_drop"},{"line":240,"address":[4048275,4048208],"length":1,"stats":{"Line":2},"fn_name":null},{"line":243,"address":[4048568,4048541,4048384],"length":1,"stats":{"Line":1},"fn_name":"index_list"},{"line":244,"address":[4048406,4048473],"length":1,"stats":{"Line":2},"fn_name":null},{"line":247,"address":[2193866,2193614,2193424,2193641,2193664,2193893],"length":1,"stats":{"Line":2},"fn_name":"index_rename\u003c(\u0026str, \u0026str)\u003e"},{"line":248,"address":[2193686,2193446,2193544,2193796],"length":1,"stats":{"Line":4},"fn_name":null},{"line":251,"address":[2194090,2193904,2194311,2194352,2194063,2194542,2194112,2194569,2194338],"length":1,"stats":{"Line":3},"fn_name":"index_status\u003c()\u003e"},{"line":252,"address":[2193926,2194472,2194176,2194374,2193993,2194243],"length":1,"stats":{"Line":6},"fn_name":null},{"line":255,"address":[2194592,2195239,2194832,2194782,2194991,2195018,2194809,2195040,2195266],"length":1,"stats":{"Line":3},"fn_name":"index_wait\u003calloc::vec::Vec\u003c\u0026str, alloc::alloc::Global\u003e\u003e"},{"line":256,"address":[2194614,2195104,2194854,2195171,2194712,2194921],"length":1,"stats":{"Line":6},"fn_name":null},{"line":259,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":260,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":263,"address":[4048749,4048776,4048592],"length":1,"stats":{"Line":0},"fn_name":"get_write_hook"},{"line":264,"address":[4048614,4048681],"length":1,"stats":{"Line":0},"fn_name":null},{"line":267,"address":[2196590,2195728,2195485,2196617,2197757,2196176,2197312,2195504,2198455,2197552,2196381,2197069,2196818,2195952,2197954,2197042,2196845,2196864,2197529,2195682,2195933,2195458,2197776,2197088,2197266,2198000,2198428,2198205,2195709,2196354,2198224,2196130,2197502,2195280,2197293,2196400,2197981,2196640,2197730,2198178,2195906,2196157],"length":1,"stats":{"Line":14},"fn_name":"insert\u003creql_rust::arguments::Args\u003c(\u0026reql_rust::spec::Post, reql_rust::cmd::insert::InsertOption)\u003e\u003e"},{"line":268,"address":[2195388,2195838,2196520,2196422,2196683,2196974,2196286,2195771,2197662,2196907,2198358,2198043,2197432,2197886,2197131,2197819,2196750,2196062,2198259,2195614,2196219,2195995,2195302,2197198,2197595,2197334,2195547,2198110],"length":1,"stats":{"Line":28},"fn_name":null},{"line":271,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":272,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":275,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":276,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":279,"address":[2198480,2198639,2198666],"length":1,"stats":{"Line":1},"fn_name":"delete\u003c()\u003e"},{"line":280,"address":[2198569,2198502],"length":1,"stats":{"Line":2},"fn_name":null},{"line":283,"address":[4048800,4048957,4048984],"length":1,"stats":{"Line":1},"fn_name":"sync"},{"line":284,"address":[4048822,4048889],"length":1,"stats":{"Line":2},"fn_name":null},{"line":287,"address":[2199408,2199383,2199577,2199356,2199152,2198865,2199138,2198688,2198892,2199111,2198912,2199604],"length":1,"stats":{"Line":4},"fn_name":"get\u003ci32\u003e"},{"line":288,"address":[2199286,2198795,2198728,2199187,2199509,2199439,2198976,2199043],"length":1,"stats":{"Line":8},"fn_name":null},{"line":291,"address":[2199830,2199616,2199857],"length":1,"stats":{"Line":1},"fn_name":"get_all\u003c(alloc::vec::Vec\u003c\u0026str, alloc::alloc::Global\u003e, reql_rust::cmd::get_all::GetAllOption)\u003e"},{"line":292,"address":[2199638,2199760],"length":1,"stats":{"Line":2},"fn_name":null},{"line":295,"address":[2199872,2200357,2200103,2200330,2200128,2200076],"length":1,"stats":{"Line":2},"fn_name":"between\u003creql_rust::arguments::Args\u003c(reql_rust::proto::Command, reql_rust::proto::Command, reql_rust::cmd::between::BetweenOption)\u003e\u003e"},{"line":296,"address":[2200006,2200163,2199907,2200262],"length":1,"stats":{"Line":4},"fn_name":null},{"line":299,"address":[2200828,2200368,2200624,2200572,2200855,2200599],"length":1,"stats":{"Line":2},"fn_name":"filter\u003creql_rust::proto::Command\u003e"},{"line":300,"address":[2200758,2200502,2200659,2200403],"length":1,"stats":{"Line":4},"fn_name":null},{"line":303,"address":[4049260,4049008,4049287],"length":1,"stats":{"Line":0},"fn_name":"inner_join"},{"line":304,"address":[4049048,4049192],"length":1,"stats":{"Line":0},"fn_name":null},{"line":307,"address":[4049312,4049591,4049564],"length":1,"stats":{"Line":0},"fn_name":"outer_join"},{"line":308,"address":[4049352,4049496],"length":1,"stats":{"Line":0},"fn_name":null},{"line":311,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":312,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":315,"address":[4049773,4049800,4049616],"length":1,"stats":{"Line":0},"fn_name":"zip"},{"line":316,"address":[4049705,4049638],"length":1,"stats":{"Line":0},"fn_name":null},{"line":319,"address":[2201111,2201084,2200880],"length":1,"stats":{"Line":1},"fn_name":"map\u003creql_rust::cmd::func::Func\u003e"},{"line":320,"address":[2200915,2201014],"length":1,"stats":{"Line":2},"fn_name":null},{"line":323,"address":[4050028,4050055,4049824],"length":1,"stats":{"Line":1},"fn_name":"with_fields"},{"line":324,"address":[4049958,4049859],"length":1,"stats":{"Line":2},"fn_name":null},{"line":327,"address":[4050080,4050311,4050284],"length":1,"stats":{"Line":0},"fn_name":"concat_map"},{"line":328,"address":[4050115,4050214],"length":1,"stats":{"Line":0},"fn_name":null},{"line":331,"address":[2202117,2201136,2201836,2201888,2201376,2201326,2201632,2201353,2201863,2201607,2202090,2201580],"length":1,"stats":{"Line":4},"fn_name":"order_by\u003creql_rust::cmd::order_by::OrderByOption\u003e"},{"line":332,"address":[2201766,2201510,2201256,2201667,2201923,2202022,2201411,2201158],"length":1,"stats":{"Line":8},"fn_name":null},{"line":335,"address":[4050336,4050541,4050514],"length":1,"stats":{"Line":1},"fn_name":"skip"},{"line":336,"address":[4050446,4050379],"length":1,"stats":{"Line":2},"fn_name":null},{"line":339,"address":[4050560,4050765,4050738],"length":1,"stats":{"Line":1},"fn_name":"limit"},{"line":340,"address":[4050603,4050670],"length":1,"stats":{"Line":2},"fn_name":null},{"line":343,"address":[2202128,2202327,2202354],"length":1,"stats":{"Line":1},"fn_name":"slice\u003c(isize, isize)\u003e"},{"line":344,"address":[2202259,2202192],"length":1,"stats":{"Line":2},"fn_name":null},{"line":347,"address":[4050784,4050989,4050962],"length":1,"stats":{"Line":1},"fn_name":"nth"},{"line":348,"address":[4050827,4050894],"length":1,"stats":{"Line":2},"fn_name":null},{"line":351,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":352,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":355,"address":[4051008,4051192,4051165],"length":1,"stats":{"Line":1},"fn_name":"is_empty"},{"line":356,"address":[4051097,4051030],"length":1,"stats":{"Line":2},"fn_name":null},{"line":359,"address":[2202599,2202368,2202572],"length":1,"stats":{"Line":1},"fn_name":"union\u003creql_rust::proto::Command\u003e"},{"line":360,"address":[2202502,2202403],"length":1,"stats":{"Line":2},"fn_name":null},{"line":363,"address":[4051394,4051216,4051421],"length":1,"stats":{"Line":1},"fn_name":"sample"},{"line":364,"address":[4051326,4051259],"length":1,"stats":{"Line":2},"fn_name":null},{"line":367,"address":[2202823,2202850,2202624],"length":1,"stats":{"Line":1},"fn_name":"group\u003c\u0026str\u003e"},{"line":368,"address":[2202688,2202755],"length":1,"stats":{"Line":2},"fn_name":null},{"line":371,"address":[4051624,4051440,4051597],"length":1,"stats":{"Line":1},"fn_name":"ungroup"},{"line":372,"address":[4051462,4051529],"length":1,"stats":{"Line":2},"fn_name":null},{"line":375,"address":[4051648,4051879,4051852],"length":1,"stats":{"Line":0},"fn_name":"reduce"},{"line":376,"address":[4051782,4051683],"length":1,"stats":{"Line":0},"fn_name":null},{"line":379,"address":[4051904,4052156,4052183],"length":1,"stats":{"Line":0},"fn_name":"fold"},{"line":380,"address":[4052088,4051944],"length":1,"stats":{"Line":0},"fn_name":null},{"line":383,"address":[2203023,2202864,2203050],"length":1,"stats":{"Line":1},"fn_name":"count\u003c()\u003e"},{"line":384,"address":[2202953,2202886],"length":1,"stats":{"Line":2},"fn_name":null},{"line":387,"address":[2203072,2203298,2203271],"length":1,"stats":{"Line":1},"fn_name":"sum\u003c\u0026str\u003e"},{"line":388,"address":[2203203,2203136],"length":1,"stats":{"Line":2},"fn_name":null},{"line":391,"address":[2203312,2203538,2203511],"length":1,"stats":{"Line":1},"fn_name":"avg\u003c\u0026str\u003e"},{"line":392,"address":[2203443,2203376],"length":1,"stats":{"Line":2},"fn_name":null},{"line":395,"address":[2203552,2203778,2203751],"length":1,"stats":{"Line":1},"fn_name":"min\u003c\u0026str\u003e"},{"line":396,"address":[2203683,2203616],"length":1,"stats":{"Line":2},"fn_name":null},{"line":399,"address":[2204018,2203991,2203792],"length":1,"stats":{"Line":1},"fn_name":"max\u003c\u0026str\u003e"},{"line":400,"address":[2203856,2203923],"length":1,"stats":{"Line":2},"fn_name":null},{"line":403,"address":[2204222,2204249,2204032],"length":1,"stats":{"Line":1},"fn_name":"distinct\u003creql_rust::cmd::distinct::DistinctOption\u003e"},{"line":404,"address":[2204152,2204054],"length":1,"stats":{"Line":2},"fn_name":null},{"line":407,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":408,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":411,"address":[2204462,2204272,2204489],"length":1,"stats":{"Line":1},"fn_name":"pluck\u003c[\u0026str; 2]\u003e"},{"line":412,"address":[2204392,2204294],"length":1,"stats":{"Line":2},"fn_name":null},{"line":415,"address":[2204729,2204512,2204702],"length":1,"stats":{"Line":1},"fn_name":"without\u003c[\u0026str; 2]\u003e"},{"line":416,"address":[2204534,2204632],"length":1,"stats":{"Line":2},"fn_name":null},{"line":419,"address":[2204752,2204956,2204983],"length":1,"stats":{"Line":1},"fn_name":"merge\u003creql_rust::proto::Command\u003e"},{"line":420,"address":[2204787,2204886],"length":1,"stats":{"Line":2},"fn_name":null},{"line":423,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":424,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":427,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":428,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":431,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":432,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":435,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":436,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":439,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":440,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":443,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":444,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":447,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":448,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":451,"address":[2205207,2205234,2205008],"length":1,"stats":{"Line":1},"fn_name":"bracket\u003c\u0026str\u003e"},{"line":452,"address":[2205072,2205139],"length":1,"stats":{"Line":2},"fn_name":null},{"line":455,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":456,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":459,"address":[2205474,2205447,2205248],"length":1,"stats":{"Line":1},"fn_name":"g\u003c\u0026str\u003e"},{"line":460,"address":[2205379,2205312],"length":1,"stats":{"Line":2},"fn_name":null},{"line":463,"address":[2205714,2205488,2205687],"length":1,"stats":{"Line":1},"fn_name":"has_fields\u003c\u0026str\u003e"},{"line":464,"address":[2205619,2205552],"length":1,"stats":{"Line":2},"fn_name":null},{"line":467,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":468,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":471,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":472,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":475,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":476,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":479,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":480,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":483,"address":[4052392,4052365,4052208],"length":1,"stats":{"Line":1},"fn_name":"keys"},{"line":484,"address":[4052297,4052230],"length":1,"stats":{"Line":2},"fn_name":null},{"line":487,"address":[4052600,4052573,4052416],"length":1,"stats":{"Line":1},"fn_name":"values"},{"line":488,"address":[4052438,4052505],"length":1,"stats":{"Line":2},"fn_name":null},{"line":491,"address":[4052823,4052624,4052850],"length":1,"stats":{"Line":0},"fn_name":"match_"},{"line":492,"address":[4052755,4052688],"length":1,"stats":{"Line":0},"fn_name":null},{"line":495,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":496,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":499,"address":[4053021,4053048,4052864],"length":1,"stats":{"Line":0},"fn_name":"upcase"},{"line":500,"address":[4052953,4052886],"length":1,"stats":{"Line":0},"fn_name":null},{"line":503,"address":[4053229,4053072,4053256],"length":1,"stats":{"Line":0},"fn_name":"downcase"},{"line":504,"address":[4053161,4053094],"length":1,"stats":{"Line":0},"fn_name":null},{"line":507,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":508,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":511,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":512,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":515,"address":[2205959,2205932,2205728],"length":1,"stats":{"Line":1},"fn_name":"eq\u003creql_rust::proto::Command\u003e"},{"line":516,"address":[2205862,2205763],"length":1,"stats":{"Line":2},"fn_name":null},{"line":519,"address":[2206215,2206188,2205984],"length":1,"stats":{"Line":1},"fn_name":"ne\u003creql_rust::arguments::any_param::AnyParam\u003e"},{"line":520,"address":[2206118,2206019],"length":1,"stats":{"Line":2},"fn_name":null},{"line":523,"address":[2206444,2206417,2206240],"length":1,"stats":{"Line":1},"fn_name":"gt\u003ci32\u003e"},{"line":524,"address":[2206347,2206280],"length":1,"stats":{"Line":2},"fn_name":null},{"line":527,"address":[2206668,2206464,2206641],"length":1,"stats":{"Line":1},"fn_name":"ge\u003ci32\u003e"},{"line":528,"address":[2206571,2206504],"length":1,"stats":{"Line":2},"fn_name":null},{"line":531,"address":[2206892,2206688,2206865],"length":1,"stats":{"Line":1},"fn_name":"lt\u003ci32\u003e"},{"line":532,"address":[2206795,2206728],"length":1,"stats":{"Line":2},"fn_name":null},{"line":535,"address":[2207089,2207116,2206912],"length":1,"stats":{"Line":1},"fn_name":"le\u003ci32\u003e"},{"line":536,"address":[2207019,2206952],"length":1,"stats":{"Line":2},"fn_name":null},{"line":539,"address":[4053437,4053280,4053464],"length":1,"stats":{"Line":1},"fn_name":"not_"},{"line":540,"address":[4053302,4053369],"length":1,"stats":{"Line":2},"fn_name":null},{"line":543,"address":[4053645,4053672,4053488],"length":1,"stats":{"Line":0},"fn_name":"round"},{"line":544,"address":[4053510,4053577],"length":1,"stats":{"Line":0},"fn_name":null},{"line":547,"address":[4053696,4053880,4053853],"length":1,"stats":{"Line":0},"fn_name":"ceil"},{"line":548,"address":[4053718,4053785],"length":1,"stats":{"Line":0},"fn_name":null},{"line":551,"address":[4054088,4053904,4054061],"length":1,"stats":{"Line":0},"fn_name":"floor"},{"line":552,"address":[4053993,4053926],"length":1,"stats":{"Line":0},"fn_name":null},{"line":634,"address":[2207136,2207232],"length":1,"stats":{"Line":2},"fn_name":"bit_and\u003creql_rust::proto::Command\u003e"},{"line":635,"address":[2207157,2207259],"length":1,"stats":{"Line":2},"fn_name":null},{"line":715,"address":[2207408,2207312],"length":1,"stats":{"Line":2},"fn_name":"bit_or\u003creql_rust::proto::Command\u003e"},{"line":716,"address":[2207333,2207435],"length":1,"stats":{"Line":2},"fn_name":null},{"line":799,"address":[2207584,2207488],"length":1,"stats":{"Line":2},"fn_name":"bit_xor\u003creql_rust::proto::Command\u003e"},{"line":800,"address":[2207509,2207611],"length":1,"stats":{"Line":2},"fn_name":null},{"line":856,"address":[4054112,4054269,4054296],"length":1,"stats":{"Line":1},"fn_name":"bit_not"},{"line":857,"address":[4054201,4054134],"length":1,"stats":{"Line":2},"fn_name":null},{"line":923,"address":[2207664,2207868,2208092,2207888,2208119,2207841],"length":1,"stats":{"Line":2},"fn_name":"bit_sal\u003ci32\u003e"},{"line":924,"address":[2207923,2208022,2207771,2207704],"length":1,"stats":{"Line":4},"fn_name":null},{"line":985,"address":[2208348,2208572,2208144,2208321,2208599,2208368],"length":1,"stats":{"Line":2},"fn_name":"bit_sar\u003ci32\u003e"},{"line":986,"address":[2208502,2208184,2208403,2208251],"length":1,"stats":{"Line":4},"fn_name":null},{"line":1038,"address":[4054584,4054320,4054557],"length":1,"stats":{"Line":0},"fn_name":"in_timezone"},{"line":1039,"address":[4054377,4054489],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1075,"address":[4054792,4054608,4054765],"length":1,"stats":{"Line":0},"fn_name":"timezone"},{"line":1076,"address":[4054630,4054697],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1155,"address":[2208826,2208853,2208624],"length":1,"stats":{"Line":1},"fn_name":"during\u003creql_rust::arguments::Args\u003c(reql_rust::types::datetime::DateTime, reql_rust::types::datetime::DateTime)\u003e\u003e"},{"line":1156,"address":[2208659,2208758],"length":1,"stats":{"Line":2},"fn_name":null},{"line":1221,"address":[4054816,4054973,4055000],"length":1,"stats":{"Line":0},"fn_name":"date"},{"line":1222,"address":[4054838,4054905],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1259,"address":[4055208,4055181,4055024],"length":1,"stats":{"Line":0},"fn_name":"time_of_day"},{"line":1260,"address":[4055113,4055046],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1295,"address":[4055389,4055416,4055232],"length":1,"stats":{"Line":0},"fn_name":"year"},{"line":1296,"address":[4055254,4055321],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1331,"address":[4055624,4055440,4055597],"length":1,"stats":{"Line":0},"fn_name":"month"},{"line":1332,"address":[4055462,4055529],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1367,"address":[4055832,4055648,4055805],"length":1,"stats":{"Line":0},"fn_name":"day"},{"line":1368,"address":[4055670,4055737],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1428,"address":[4056040,4055856,4056013],"length":1,"stats":{"Line":0},"fn_name":"day_of_week"},{"line":1429,"address":[4055945,4055878],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1465,"address":[4056221,4056248,4056064],"length":1,"stats":{"Line":0},"fn_name":"day_of_year"},{"line":1466,"address":[4056086,4056153],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1502,"address":[4056272,4056456,4056429],"length":1,"stats":{"Line":0},"fn_name":"hours"},{"line":1503,"address":[4056361,4056294],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1539,"address":[4056480,4056637,4056664],"length":1,"stats":{"Line":0},"fn_name":"minutes"},{"line":1540,"address":[4056569,4056502],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1576,"address":[4056872,4056845,4056688],"length":1,"stats":{"Line":0},"fn_name":"seconds"},{"line":1577,"address":[4056710,4056777],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1616,"address":[4057080,4057053,4056896],"length":1,"stats":{"Line":0},"fn_name":"to_iso8601"},{"line":1617,"address":[4056918,4056985],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1657,"address":[4057288,4057261,4057104],"length":1,"stats":{"Line":0},"fn_name":"to_epoch_time"},{"line":1658,"address":[4057193,4057126],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1662,"address":[2209068,2209095,2208864],"length":1,"stats":{"Line":0},"fn_name":"do_\u003creql_rust::cmd::func::Func\u003e"},{"line":1663,"address":[2208899,2208998],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1792,"address":[2209322,2209120,2209349],"length":1,"stats":{"Line":1},"fn_name":"branch\u003creql_rust::arguments::Args\u003c(reql_rust::proto::Command, reql_rust::proto::Command)\u003e\u003e"},{"line":1793,"address":[2209155,2209254],"length":1,"stats":{"Line":2},"fn_name":null},{"line":1838,"address":[4057312,4057516,4057543],"length":1,"stats":{"Line":1},"fn_name":"for_each"},{"line":1839,"address":[4057347,4057446],"length":1,"stats":{"Line":2},"fn_name":null},{"line":1987,"address":[2209360,2209586,2209559],"length":1,"stats":{"Line":1},"fn_name":"default\u003c\u0026str\u003e"},{"line":1988,"address":[2209491,2209424],"length":1,"stats":{"Line":2},"fn_name":null},{"line":2061,"address":[2209600,2209826,2209799],"length":1,"stats":{"Line":1},"fn_name":"coerce_to\u003c\u0026str\u003e"},{"line":2062,"address":[2209731,2209664],"length":1,"stats":{"Line":2},"fn_name":null},{"line":2107,"address":[4057568,4057752,4057725],"length":1,"stats":{"Line":1},"fn_name":"type_of"},{"line":2108,"address":[4057657,4057590],"length":1,"stats":{"Line":2},"fn_name":null},{"line":2147,"address":[4057933,4057960,4057776],"length":1,"stats":{"Line":1},"fn_name":"info"},{"line":2148,"address":[4057865,4057798],"length":1,"stats":{"Line":2},"fn_name":null},{"line":2183,"address":[4058141,4058168,4057984],"length":1,"stats":{"Line":1},"fn_name":"to_json"},{"line":2184,"address":[4058006,4058073],"length":1,"stats":{"Line":2},"fn_name":null},{"line":2247,"address":[2209840,2210030,2210057],"length":1,"stats":{"Line":1},"fn_name":"distance\u003creql_rust::arguments::Args\u003c(reql_rust::cmd::point::Point, reql_rust::cmd::distance::DistanceOption)\u003e\u003e"},{"line":2248,"address":[2209862,2209960],"length":1,"stats":{"Line":2},"fn_name":null},{"line":2295,"address":[4058376,4058192,4058349],"length":1,"stats":{"Line":1},"fn_name":"to_geojson"},{"line":2296,"address":[4058214,4058281],"length":1,"stats":{"Line":2},"fn_name":null},{"line":2353,"address":[2210339,2210080,2210312],"length":1,"stats":{"Line":1},"fn_name":"get_intersecting\u003creql_rust::cmd::polygon::Polygon\u003e"},{"line":2358,"address":[2210242,2210144],"length":1,"stats":{"Line":2},"fn_name":null},{"line":2415,"address":[2210554,2210581,2210352],"length":1,"stats":{"Line":1},"fn_name":"get_nearest\u003creql_rust::arguments::Args\u003c(reql_rust::cmd::point::Point, \u0026str)\u003e\u003e"},{"line":2416,"address":[2210374,2210484],"length":1,"stats":{"Line":2},"fn_name":null},{"line":2526,"address":[2210809,2210592,2210782],"length":1,"stats":{"Line":1},"fn_name":"includes\u003creql_rust::cmd::point::Point\u003e"},{"line":2527,"address":[2210614,2210712],"length":1,"stats":{"Line":2},"fn_name":null},{"line":2610,"address":[2210832,2211022,2211049],"length":1,"stats":{"Line":1},"fn_name":"intersects\u003creql_rust::cmd::point::Point\u003e"},{"line":2611,"address":[2210854,2210952],"length":1,"stats":{"Line":2},"fn_name":null},{"line":2760,"address":[4058657,4058630,4058400],"length":1,"stats":{"Line":1},"fn_name":"grant"},{"line":2761,"address":[4058477,4058562],"length":1,"stats":{"Line":2},"fn_name":null},{"line":2811,"address":[4058856,4058829,4058672],"length":1,"stats":{"Line":1},"fn_name":"config"},{"line":2812,"address":[4058761,4058694],"length":1,"stats":{"Line":2},"fn_name":null},{"line":2883,"address":[4058880,4059064,4059037],"length":1,"stats":{"Line":1},"fn_name":"rebalance"},{"line":2884,"address":[4058902,4058969],"length":1,"stats":{"Line":2},"fn_name":null},{"line":3022,"address":[4059326,4059353,4059088],"length":1,"stats":{"Line":1},"fn_name":"reconfigure"},{"line":3023,"address":[4059110,4059256],"length":1,"stats":{"Line":2},"fn_name":null},{"line":3069,"address":[4059533,4059560,4059376],"length":1,"stats":{"Line":1},"fn_name":"status"},{"line":3070,"address":[4059465,4059398],"length":1,"stats":{"Line":2},"fn_name":null},{"line":3156,"address":[2211258,2211072,2211231],"length":1,"stats":{"Line":1},"fn_name":"wait\u003c()\u003e"},{"line":3157,"address":[2211094,2211161],"length":1,"stats":{"Line":2},"fn_name":null},{"line":3300,"address":[2211280,2211309],"length":1,"stats":{"Line":8},"fn_name":"run\u003c\u0026reql_rust::connection::Session\u003e"},{"line":3301,"address":[2373701,2373818,2373392,2373456,2373982,2373633],"length":1,"stats":{"Line":15},"fn_name":null},{"line":3386,"address":[2211376],"length":1,"stats":{"Line":5},"fn_name":"make_query\u003c\u0026reql_rust::connection::Session\u003e"},{"line":3387,"address":[2211402,2211600],"length":1,"stats":{"Line":10},"fn_name":null},{"line":3397,"address":[4471692,4471719,4471296],"length":1,"stats":{"Line":3},"fn_name":"add_to_cmd"},{"line":3398,"address":[4471323],"length":1,"stats":{"Line":9},"fn_name":null},{"line":3399,"address":[4471690,4471361],"length":1,"stats":{"Line":16},"fn_name":null},{"line":3400,"address":[2374105,2374064],"length":1,"stats":{"Line":4},"fn_name":"{closure#0}"},{"line":3406,"address":[2703680],"length":1,"stats":{"Line":1},"fn_name":"from"},{"line":3407,"address":[2703802,2703702],"length":1,"stats":{"Line":2},"fn_name":null},{"line":3408,"address":[2703756],"length":1,"stats":{"Line":1},"fn_name":null},{"line":3410,"address":[2703809],"length":1,"stats":{"Line":0},"fn_name":null},{"line":3416,"address":[4471744],"length":1,"stats":{"Line":0},"fn_name":"bytes_to_string"},{"line":3417,"address":[4471771],"length":1,"stats":{"Line":0},"fn_name":null},{"line":3418,"address":[4471831],"length":1,"stats":{"Line":0},"fn_name":null},{"line":3420,"address":[4471841],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":163,"coverable":276},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","connection.rs"],"content":"use dashmap::DashMap;\nuse futures::channel::mpsc::{self, UnboundedReceiver, UnboundedSender};\nuse futures::lock::Mutex;\nuse futures::TryFutureExt;\nuse ql2::query::QueryType;\nuse ql2::response::ResponseType;\nuse serde_json::json;\nuse std::borrow::Cow;\nuse std::ops::Drop;\nuse std::sync::atomic::{AtomicBool, AtomicU64, Ordering};\nuse std::sync::Arc;\nuse tokio::time;\nuse tracing::trace;\n\nuse super::cmd::run::Response;\nuse super::cmd::StaticString;\nuse crate::cmd::TcpStreamConnection;\nuse crate::proto::{Payload, Query};\nuse crate::types::ServerInfo;\nuse crate::{err, r, ReqlDriverError, Result};\n\ntype Sender = UnboundedSender\u003cResult\u003c(ResponseType, Response)\u003e\u003e;\ntype Receiver = UnboundedReceiver\u003cResult\u003c(ResponseType, Response)\u003e\u003e;\n\n#[derive(Debug)]\npub(crate) struct InnerSession {\n    pub(crate) db: Mutex\u003cCow\u003c'static, str\u003e\u003e,\n    pub(crate) stream: Mutex\u003cTcpStreamConnection\u003e,\n    pub(crate) channels: DashMap\u003cu64, Sender\u003e,\n    pub(crate) token: AtomicU64,\n    pub(crate) broken: AtomicBool,\n    pub(crate) change_feed: AtomicBool,\n}\n\nimpl InnerSession {\n    pub(crate) fn token(\u0026self) -\u003e u64 {\n        let token = self\n            .token\n            .fetch_update(Ordering::SeqCst, Ordering::SeqCst, |x| Some(x + 1))\n            .unwrap();\n        if token == u64::MAX {\n            self.mark_broken();\n        }\n        token\n    }\n\n    pub(crate) fn mark_broken(\u0026self) {\n        self.broken.store(true, Ordering::SeqCst);\n    }\n\n    pub(crate) fn broken(\u0026self) -\u003e Result\u003c()\u003e {\n        if self.broken.load(Ordering::SeqCst) {\n            return Err(err::ReqlDriverError::ConnectionBroken.into());\n        }\n        Ok(())\n    }\n\n    pub(crate) fn mark_change_feed(\u0026self) {\n        self.change_feed.store(true, Ordering::SeqCst);\n    }\n\n    pub(crate) fn unmark_change_feed(\u0026self) {\n        self.change_feed.store(false, Ordering::SeqCst);\n    }\n\n    pub(crate) fn is_change_feed(\u0026self) -\u003e bool {\n        self.change_feed.load(Ordering::SeqCst)\n    }\n\n    pub(crate) fn change_feed(\u0026self) -\u003e Result\u003c()\u003e {\n        if self.change_feed.load(Ordering::SeqCst) {\n            return Err(err::ReqlDriverError::ConnectionLocked.into());\n        }\n        Ok(())\n    }\n}\n\n/// The connection object returned by `r.connection()`\n#[derive(Debug, Clone)]\npub struct Session {\n    pub(crate) inner: Arc\u003cInnerSession\u003e,\n}\n\nimpl Session {\n    #[doc(hidden)]\n    pub fn connection(\u0026self) -\u003e Result\u003cConnection\u003e {\n        self.inner.broken()?;\n        self.inner.change_feed()?;\n        let token = self.inner.token();\n        let (tx, rx) = mpsc::unbounded();\n        self.inner.channels.insert(token, tx);\n        Ok(Connection::new(self.clone(), rx, token))\n    }\n\n    pub async fn reconnect(\n        \u0026self,\n        noreply_wait: bool,\n        timeout: Option\u003cstd::time::Duration\u003e,\n    ) -\u003e Result\u003c()\u003e {\n        let future = self\n            .close(noreply_wait)\n            .and_then(|_| async { self.connection() });\n\n        if let Some(timeout) = timeout {\n            time::timeout(timeout, future).await.unwrap()?;\n        } else {\n            future.await?;\n        }\n\n        Ok(())\n    }\n\n    pub async fn use_(\u0026mut self, db_name: \u0026'static str) {\n        *self.inner.db.lock().await = db_name.static_string();\n    }\n\n    pub async fn noreply_wait(\u0026self) -\u003e Result\u003c()\u003e {\n        let mut conn = self.connection()?;\n        let payload = Payload(QueryType::NoreplyWait, None, Default::default());\n        trace!(\n            \"waiting for noreply operations to finish; token: {}\",\n            conn.token\n        );\n        let (typ, _) = conn.request(\u0026payload, false).await?;\n        trace!(\n            \"session.noreply_wait() run; token: {}, response type: {:?}\",\n            conn.token,\n            typ,\n        );\n        Ok(())\n    }\n\n    pub async fn server(\u0026self) -\u003e Result\u003cServerInfo\u003e {\n        let mut conn = self.connection()?;\n        let payload = Payload(QueryType::ServerInfo, None, Default::default());\n        trace!(\"retrieving server information; token: {}\", conn.token);\n        let (typ, resp) = conn.request(\u0026payload, false).await?;\n        trace!(\n            \"session.server() run; token: {}, response type: {:?}\",\n            conn.token,\n            typ,\n        );\n        let mut vec = serde_json::from_value::\u003cVec\u003cServerInfo\u003e\u003e(resp.r)?;\n        let info = vec\n            .pop()\n            .ok_or_else(|| ReqlDriverError::Other(\"server info is empty\".into()))?;\n        Ok(info)\n    }\n\n    pub async fn close(\u0026self, noreply_wait: bool) -\u003e Result\u003c()\u003e {\n        self.connection()?.close(noreply_wait).await\n    }\n\n    #[doc(hidden)]\n    pub fn is_broken(\u0026self) -\u003e bool {\n        self.inner.broken.load(Ordering::SeqCst)\n    }\n}\n\n#[derive(Debug, Clone)]\npub struct Connection {\n    pub(crate) session: Session,\n    pub(crate) rx: Arc\u003cMutex\u003cReceiver\u003e\u003e,\n    pub(crate) token: u64,\n    pub(crate) closed: Arc\u003cAtomicBool\u003e,\n}\n\nimpl Connection {\n    fn new(session: Session, rx: Receiver, token: u64) -\u003e Connection {\n        Connection {\n            session,\n            token,\n            rx: Arc::new(Mutex::new(rx)),\n            closed: Arc::new(AtomicBool::new(false)),\n        }\n    }\n\n    pub async fn close(\u0026mut self, noreply_wait: bool) -\u003e Result\u003c()\u003e {\n        if !self.session.inner.is_change_feed() {\n            trace!(\n                \"ignoring conn.close() called on a normal connection; token: {}\",\n                self.token\n            );\n            return Ok(());\n        }\n\n        self.set_closed(true);\n\n        let arg = if noreply_wait {\n            Some(r.expr(json!({ \"noreply\": false })))\n        } else {\n            None\n        };\n\n        let payload = Payload(QueryType::Stop, arg.as_ref().map(Query), Default::default());\n        trace!(\"closing a changefeed; token: {}\", self.token);\n        let (typ, _) = self.request(\u0026payload, false).await?;\n        self.session.inner.unmark_change_feed();\n        trace!(\n            \"conn.close() run; token: {}, response type: {:?}\",\n            self.token,\n            typ,\n        );\n        Ok(())\n    }\n\n    pub(crate) fn closed(\u0026self) -\u003e bool {\n        self.closed.load(Ordering::SeqCst)\n    }\n\n    pub(crate) fn set_closed(\u0026self, closed: bool) {\n        self.closed.store(closed, Ordering::SeqCst);\n    }\n}\n\nimpl Drop for Connection {\n    fn drop(\u0026mut self) {\n        self.session.inner.channels.remove(\u0026self.token);\n        if self.session.inner.is_change_feed() {\n            self.session.inner.unmark_change_feed();\n        }\n    }\n}\n","traces":[{"line":36,"address":[4673568],"length":1,"stats":{"Line":4},"fn_name":"token"},{"line":37,"address":[4673599,4673582],"length":1,"stats":{"Line":8},"fn_name":null},{"line":39,"address":[4482638,4482624],"length":1,"stats":{"Line":24},"fn_name":"{closure#0}"},{"line":41,"address":[4673661],"length":1,"stats":{"Line":10},"fn_name":null},{"line":42,"address":[4673681],"length":1,"stats":{"Line":0},"fn_name":null},{"line":47,"address":[4673696],"length":1,"stats":{"Line":0},"fn_name":"mark_broken"},{"line":48,"address":[4673705],"length":1,"stats":{"Line":0},"fn_name":null},{"line":51,"address":[4673744],"length":1,"stats":{"Line":4},"fn_name":"broken"},{"line":52,"address":[4673774],"length":1,"stats":{"Line":4},"fn_name":null},{"line":53,"address":[4673824],"length":1,"stats":{"Line":0},"fn_name":null},{"line":55,"address":[4673815],"length":1,"stats":{"Line":4},"fn_name":null},{"line":58,"address":[4673888],"length":1,"stats":{"Line":0},"fn_name":"mark_change_feed"},{"line":59,"address":[4673897],"length":1,"stats":{"Line":0},"fn_name":null},{"line":62,"address":[4673936],"length":1,"stats":{"Line":0},"fn_name":"unmark_change_feed"},{"line":63,"address":[4673945],"length":1,"stats":{"Line":0},"fn_name":null},{"line":66,"address":[4673984],"length":1,"stats":{"Line":4},"fn_name":"is_change_feed"},{"line":67,"address":[4673993],"length":1,"stats":{"Line":4},"fn_name":null},{"line":70,"address":[4674048],"length":1,"stats":{"Line":4},"fn_name":"change_feed"},{"line":71,"address":[4674078],"length":1,"stats":{"Line":4},"fn_name":null},{"line":72,"address":[4674128],"length":1,"stats":{"Line":0},"fn_name":null},{"line":74,"address":[4674119],"length":1,"stats":{"Line":4},"fn_name":null},{"line":86,"address":[4674980,4674192],"length":1,"stats":{"Line":4},"fn_name":"connection"},{"line":87,"address":[4674230,4674332],"length":1,"stats":{"Line":4},"fn_name":null},{"line":88,"address":[4674503,4674320,4674426],"length":1,"stats":{"Line":8},"fn_name":null},{"line":89,"address":[4674590,4674491],"length":1,"stats":{"Line":8},"fn_name":null},{"line":90,"address":[4674608],"length":1,"stats":{"Line":10},"fn_name":null},{"line":91,"address":[4674733,4674670],"length":1,"stats":{"Line":20},"fn_name":null},{"line":92,"address":[4674819],"length":1,"stats":{"Line":10},"fn_name":null},{"line":95,"address":[4675024],"length":1,"stats":{"Line":0},"fn_name":"reconnect"},{"line":113,"address":[4675179,4675152],"length":1,"stats":{"Line":0},"fn_name":"use_"},{"line":117,"address":[4675232,4675254],"length":1,"stats":{"Line":0},"fn_name":"noreply_wait"},{"line":133,"address":[4675318,4675296],"length":1,"stats":{"Line":0},"fn_name":"server"},{"line":150,"address":[4675396,4675360],"length":1,"stats":{"Line":0},"fn_name":"close"},{"line":155,"address":[4675440],"length":1,"stats":{"Line":0},"fn_name":"is_broken"},{"line":156,"address":[4675449],"length":1,"stats":{"Line":0},"fn_name":null},{"line":169,"address":[4675789,4675504],"length":1,"stats":{"Line":10},"fn_name":"new"},{"line":173,"address":[4675573,4675622],"length":1,"stats":{"Line":20},"fn_name":null},{"line":174,"address":[4675646,4675695],"length":1,"stats":{"Line":20},"fn_name":null},{"line":178,"address":[4675824,4675861],"length":1,"stats":{"Line":0},"fn_name":"close"},{"line":207,"address":[4675920],"length":1,"stats":{"Line":1},"fn_name":"closed"},{"line":208,"address":[4675929],"length":1,"stats":{"Line":1},"fn_name":null},{"line":211,"address":[4675984],"length":1,"stats":{"Line":0},"fn_name":"set_closed"},{"line":212,"address":[4676006],"length":1,"stats":{"Line":0},"fn_name":null},{"line":217,"address":[6912832],"length":1,"stats":{"Line":4},"fn_name":"drop"},{"line":218,"address":[6912846],"length":1,"stats":{"Line":4},"fn_name":null},{"line":219,"address":[6912902],"length":1,"stats":{"Line":4},"fn_name":null},{"line":220,"address":[6912946],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":27,"coverable":47},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","constants.rs"],"content":"pub(crate) const BUFFER_SIZE: usize = 1024;\npub(crate) const NULL_BYTE: u8 = b'\\0';\npub(crate) const PROTOCOL_VERSION: usize = 0;\npub(crate) const DEFAULT_AUTHENTICATION_METHOD: \u0026str = \"SCRAM-SHA-256\";\npub(crate) const DATA_SIZE: usize = 4;\npub(crate) const TOKEN_SIZE: usize = 8;\npub(crate) const HEADER_SIZE: usize = DATA_SIZE + TOKEN_SIZE;\npub(crate) const NANOS_PER_SEC: i128 = 1_000_000_000;\npub(crate) const NANOS_PER_MSEC: i128 = 1_000_000;\npub(crate) const TIMEZONE_FORMAT: \u0026str = \"[offset_hour sign:mandatory]:[offset_minute]\";\npub(crate) const MINUTE: f64 = 60.;\npub(crate) const HOUR: f64 = 60. * MINUTE;\n\npub const DEFAULT_RETHINKDB_HOSTNAME: \u0026str = \"localhost\";\npub const DEFAULT_RETHINKDB_DBNAME: \u0026str = \"test\";\npub const DEFAULT_RETHINKDB_PORT: u16 = 28015;\npub const DEFAULT_RETHINKDB_USER: \u0026str = \"admin\";\npub const DEFAULT_RETHINKDB_PASSWORD: \u0026str = \"\";\npub const MAX_LONGITUDE_VALUE: f64 = 180.;\npub const MAX_LATITUDE_VALUE: f64 = 90.;\n","traces":[],"covered":0,"coverable":0},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","err.rs"],"content":"use std::sync::Arc;\nuse std::{error, fmt, io};\n\n/// The most generic error message in ReQL\n#[derive(Debug, Clone)]\npub enum ReqlError {\n    Compile(String),\n    Runtime(ReqlRuntimeError),\n    Driver(ReqlDriverError),\n}\n\nimpl error::Error for ReqlError {}\n\nimpl fmt::Display for ReqlError {\n    fn fmt(\u0026self, f: \u0026mut fmt::Formatter) -\u003e fmt::Result {\n        match self {\n            Self::Compile(msg) =\u003e write!(f, \"compile error; {}\", msg),\n            Self::Runtime(msg) =\u003e write!(f, \"runtime error; {}\", msg),\n            Self::Driver(msg) =\u003e write!(f, \"client error; {}\", msg),\n        }\n    }\n}\n\n/// The parent class of all runtime errors\n///\n/// All errors on the server unrelated to compilation. Programs may use this to catch any runtime\n/// error, but the server will always return a more specific error class.\n#[derive(Debug, Clone)]\npub enum ReqlRuntimeError {\n    /// The query contains a logical impossibility, such as adding a number to a string.\n    QueryLogic(String),\n    NonExistence(String),\n    ResourceLimit(String),\n    User(String),\n    Internal(String),\n    Availability(ReqlAvailabilityError),\n    Permission(String),\n}\n\nimpl From\u003cReqlRuntimeError\u003e for ReqlError {\n    fn from(err: ReqlRuntimeError) -\u003e ReqlError {\n        ReqlError::Runtime(err)\n    }\n}\n\nimpl fmt::Display for ReqlRuntimeError {\n    fn fmt(\u0026self, f: \u0026mut fmt::Formatter) -\u003e fmt::Result {\n        match self {\n            Self::QueryLogic(msg) =\u003e write!(f, \"query logic; {}\", msg),\n            Self::NonExistence(msg) =\u003e write!(f, \"non-existence error; {}\", msg),\n            Self::ResourceLimit(msg) =\u003e write!(f, \"resource limit error; {}\", msg),\n            Self::User(msg) =\u003e write!(f, \"user error; {}\", msg),\n            Self::Internal(msg) =\u003e write!(f, \"internal error; {}\", msg),\n            Self::Availability(msg) =\u003e write!(f, \"availability error; {}\", msg),\n            Self::Permission(msg) =\u003e write!(f, \"permission error; {}\", msg),\n        }\n    }\n}\n\n/// A server in the cluster is unavailable\n///\n/// The parent class of `OpFailedError` and `OpIndeterminateError`. Programs may use this\n/// to catch any availability error, but the server will always return one of this classs\n/// children.\n#[derive(Debug, Clone)]\npub enum ReqlAvailabilityError {\n    OpFailed(String),\n    OpIndeterminate(String),\n}\n\nimpl From\u003cReqlAvailabilityError\u003e for ReqlError {\n    fn from(err: ReqlAvailabilityError) -\u003e ReqlError {\n        ReqlRuntimeError::Availability(err).into()\n    }\n}\n\nimpl fmt::Display for ReqlAvailabilityError {\n    fn fmt(\u0026self, f: \u0026mut fmt::Formatter) -\u003e fmt::Result {\n        match self {\n            Self::OpFailed(msg) =\u003e write!(f, \"operation failed; {}\", msg),\n            Self::OpIndeterminate(msg) =\u003e write!(f, \"operation indeterminate; {}\", msg),\n        }\n    }\n}\n\n/// An error has occurred within the driver\n///\n/// This may be a driver bug, or it may be an unfulfillable command, such as an unserializable\n/// query.\n#[derive(Debug, Clone)]\n#[non_exhaustive]\npub enum ReqlDriverError {\n    Auth(String),\n    ConnectionBroken,\n    ConnectionLocked,\n    Io(io::ErrorKind, String),\n    Json(Arc\u003cserde_json::Error\u003e),\n    Other(String),\n    Time(String),\n    Tls(String),\n}\n\nimpl From\u003cReqlDriverError\u003e for ReqlError {\n    fn from(err: ReqlDriverError) -\u003e ReqlError {\n        ReqlError::Driver(err)\n    }\n}\n\nimpl fmt::Display for ReqlDriverError {\n    fn fmt(\u0026self, f: \u0026mut fmt::Formatter) -\u003e fmt::Result {\n        match self {\n            Self::Auth(msg) =\u003e write!(f, \"auth error; {}\", msg),\n            Self::ConnectionBroken =\u003e write!(f, \"connection broken\"),\n            Self::ConnectionLocked =\u003e write!(\n                f,\n                \"another query is running a changefeed on this connection\"\n            ),\n            Self::Io(_, error) =\u003e write!(f, \"{}\", error),\n            Self::Json(error) =\u003e write!(f, \"{}\", error),\n            Self::Other(msg) =\u003e write!(f, \"{}\", msg),\n            Self::Time(error) =\u003e write!(f, \"{}\", error),\n            Self::Tls(error) =\u003e write!(f, \"{}\", error),\n        }\n    }\n}\n\nimpl From\u003cio::Error\u003e for ReqlError {\n    fn from(err: io::Error) -\u003e ReqlError {\n        ReqlDriverError::Io(err.kind(), err.to_string()).into()\n    }\n}\n\nimpl From\u003cserde_json::Error\u003e for ReqlError {\n    fn from(err: serde_json::Error) -\u003e ReqlError {\n        ReqlDriverError::Json(Arc::new(err)).into()\n    }\n}\n\nimpl From\u003casync_native_tls::Error\u003e for ReqlError {\n    fn from(err: async_native_tls::Error) -\u003e Self {\n        ReqlDriverError::Tls(err.to_string()).into()\n    }\n}\n\nimpl From\u003ctime::error::ComponentRange\u003e for ReqlError {\n    fn from(err: time::error::ComponentRange) -\u003e Self {\n        ReqlDriverError::Time(err.to_string()).into()\n    }\n}\n\nimpl From\u003ctime::error::Parse\u003e for ReqlError {\n    fn from(err: time::error::Parse) -\u003e Self {\n        ReqlDriverError::Time(err.to_string()).into()\n    }\n}\n\nimpl From\u003ctime::error::InvalidFormatDescription\u003e for ReqlError {\n    fn from(err: time::error::InvalidFormatDescription) -\u003e Self {\n        ReqlDriverError::Time(err.to_string()).into()\n    }\n}\n\nimpl From\u003ctime::error::Format\u003e for ReqlError {\n    fn from(err: time::error::Format) -\u003e Self {\n        ReqlDriverError::Time(err.to_string()).into()\n    }\n}\n","traces":[{"line":15,"address":[1684560],"length":1,"stats":{"Line":0},"fn_name":"fmt"},{"line":16,"address":[1684593],"length":1,"stats":{"Line":0},"fn_name":null},{"line":17,"address":[1684953,1684630],"length":1,"stats":{"Line":0},"fn_name":null},{"line":18,"address":[1684863,1684670],"length":1,"stats":{"Line":0},"fn_name":null},{"line":19,"address":[1684715],"length":1,"stats":{"Line":0},"fn_name":null},{"line":41,"address":[1685040],"length":1,"stats":{"Line":1},"fn_name":"from"},{"line":42,"address":[1685053],"length":1,"stats":{"Line":1},"fn_name":null},{"line":47,"address":[1685120],"length":1,"stats":{"Line":0},"fn_name":"fmt"},{"line":48,"address":[1685153],"length":1,"stats":{"Line":0},"fn_name":null},{"line":49,"address":[1685195,1686102],"length":1,"stats":{"Line":0},"fn_name":null},{"line":50,"address":[1686006,1685241],"length":1,"stats":{"Line":0},"fn_name":null},{"line":51,"address":[1685910,1685287],"length":1,"stats":{"Line":0},"fn_name":null},{"line":52,"address":[1685814,1685333],"length":1,"stats":{"Line":0},"fn_name":null},{"line":53,"address":[1685718,1685379],"length":1,"stats":{"Line":0},"fn_name":null},{"line":54,"address":[1685425,1685625],"length":1,"stats":{"Line":0},"fn_name":null},{"line":55,"address":[1685470],"length":1,"stats":{"Line":0},"fn_name":null},{"line":72,"address":[1686192],"length":1,"stats":{"Line":0},"fn_name":"from"},{"line":73,"address":[1686204],"length":1,"stats":{"Line":0},"fn_name":null},{"line":78,"address":[1686320],"length":1,"stats":{"Line":0},"fn_name":"fmt"},{"line":79,"address":[1686353],"length":1,"stats":{"Line":0},"fn_name":null},{"line":80,"address":[1686372,1686561],"length":1,"stats":{"Line":0},"fn_name":null},{"line":81,"address":[1686412],"length":1,"stats":{"Line":0},"fn_name":null},{"line":104,"address":[1686640],"length":1,"stats":{"Line":0},"fn_name":"from"},{"line":105,"address":[1686647],"length":1,"stats":{"Line":0},"fn_name":null},{"line":110,"address":[1686736],"length":1,"stats":{"Line":0},"fn_name":"fmt"},{"line":111,"address":[1686769],"length":1,"stats":{"Line":0},"fn_name":null},{"line":112,"address":[1687722,1686805],"length":1,"stats":{"Line":0},"fn_name":null},{"line":113,"address":[1687684,1686846],"length":1,"stats":{"Line":0},"fn_name":null},{"line":114,"address":[1686888,1687651],"length":1,"stats":{"Line":0},"fn_name":null},{"line":118,"address":[1687560,1686935],"length":1,"stats":{"Line":0},"fn_name":null},{"line":119,"address":[1686981,1687464],"length":1,"stats":{"Line":0},"fn_name":null},{"line":120,"address":[1687026,1687368],"length":1,"stats":{"Line":0},"fn_name":null},{"line":121,"address":[1687275,1687072],"length":1,"stats":{"Line":0},"fn_name":null},{"line":122,"address":[1687118],"length":1,"stats":{"Line":0},"fn_name":null},{"line":128,"address":[1687808,1687953],"length":1,"stats":{"Line":0},"fn_name":"from"},{"line":129,"address":[1687884,1687831],"length":1,"stats":{"Line":0},"fn_name":null},{"line":134,"address":[1688000],"length":1,"stats":{"Line":0},"fn_name":"from"},{"line":135,"address":[1688030],"length":1,"stats":{"Line":0},"fn_name":null},{"line":140,"address":[1688080,1688198],"length":1,"stats":{"Line":0},"fn_name":"from"},{"line":141,"address":[1688104,1688148],"length":1,"stats":{"Line":0},"fn_name":null},{"line":146,"address":[1688240],"length":1,"stats":{"Line":0},"fn_name":"from"},{"line":147,"address":[1688253],"length":1,"stats":{"Line":0},"fn_name":null},{"line":152,"address":[1688336],"length":1,"stats":{"Line":0},"fn_name":"from"},{"line":153,"address":[1688349],"length":1,"stats":{"Line":0},"fn_name":null},{"line":158,"address":[1688432,1688550],"length":1,"stats":{"Line":0},"fn_name":"from"},{"line":159,"address":[1688456,1688500],"length":1,"stats":{"Line":0},"fn_name":null},{"line":164,"address":[1688592,1688710],"length":1,"stats":{"Line":0},"fn_name":"from"},{"line":165,"address":[1688616,1688660],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":2,"coverable":48},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","lib.rs"],"content":"use std::collections::HashMap;\n\nuse serde::Serialize;\n\nuse arguments::Permission;\npub use connection::*;\npub use err::*;\npub use proto::Command;\nuse types::{Binary, DateTime, GeoJson};\n\npub type Result\u003cT\u003e = std::result::Result\u003cT, ReqlError\u003e;\n\nmod constants;\nmod err;\nmod proto;\n#[cfg(test)]\nmod spec;\n\npub mod arguments;\npub mod cmd;\npub mod connection;\npub mod prelude;\npub mod types;\n\n#[macro_export]\nmacro_rules! args {\n    ( $($a:expr),* ) =\u003e {{ $crate::arguments::Args(($($a),*)) }};\n}\n\n// TODO Put Clone Copy in all derive macro as possible\n\n#[allow(non_camel_case_types)]\npub struct r;\n\nimpl r {\n    pub fn connection(self) -\u003e cmd::connect::ConnectionCommand {\n        cmd::connect::ConnectionCommand::default()\n    }\n\n    pub fn db_create(self, db_name: \u0026str) -\u003e Command {\n        cmd::db_create::new(db_name)\n    }\n\n    pub fn db_drop(self, db_name: \u0026str) -\u003e Command {\n        cmd::db_drop::new(db_name)\n    }\n\n    pub fn db_list(self) -\u003e Command {\n        cmd::db_list::new()\n    }\n\n    pub fn db(self, db_name: \u0026str) -\u003e Command {\n        cmd::db::new(db_name)\n    }\n\n    pub fn table_create(self, args: impl cmd::table_create::TableCreateArg) -\u003e Command {\n        cmd::table_create::new(args)\n    }\n\n    pub fn table_drop(self, table_name: \u0026str) -\u003e Command {\n        cmd::table_drop::new(table_name)\n    }\n\n    pub fn table_list(self) -\u003e Command {\n        cmd::table_list::new()\n    }\n\n    pub fn table(self, args: impl cmd::table::TableArg) -\u003e Command {\n        cmd::table::new(args)\n    }\n\n    pub fn map(self, args: impl cmd::map::MapArg) -\u003e Command {\n        cmd::map::new(args)\n    }\n\n    pub fn order_by(self, args: impl cmd::order_by::OrderByArg) -\u003e Command {\n        cmd::order_by::new(args)\n    }\n\n    pub fn union(self, args: impl cmd::union::UnionArg) -\u003e Command {\n        cmd::union::new(args)\n    }\n\n    pub fn reduce(self, args: impl cmd::reduce::ReduceArg) -\u003e Command {\n        cmd::reduce::new(args)\n    }\n\n    pub fn count(self, args: impl cmd::count::CountArg) -\u003e Command {\n        cmd::count::new(args)\n    }\n\n    pub fn sum(self, args: impl cmd::sum::SumArg) -\u003e Command {\n        cmd::sum::new(args)\n    }\n\n    pub fn avg(self, args: impl cmd::avg::AvgArg) -\u003e Command {\n        cmd::avg::new(args)\n    }\n\n    pub fn min(self, args: impl cmd::min::MinArg) -\u003e Command {\n        cmd::min::new(args)\n    }\n\n    pub fn max(self, args: impl cmd::max::MaxArg) -\u003e Command {\n        cmd::max::new(args)\n    }\n\n    pub fn distinct(self, args: impl cmd::distinct::DistinctArg) -\u003e Command {\n        cmd::distinct::new(args)\n    }\n\n    pub fn contains(self, args: impl cmd::contains::ContainsArg) -\u003e Command {\n        cmd::contains::new(args)\n    }\n\n    pub fn literal(self, value: impl Serialize) -\u003e Command {\n        cmd::literal::new(value)\n    }\n\n    pub fn object(self, values: Vec\u003cimpl Serialize\u003e) -\u003e Command {\n        cmd::object::new(values)\n    }\n\n    pub fn and(self, args: impl cmd::and::AndArg) -\u003e Command {\n        cmd::and::new(args)\n    }\n\n    pub fn or(self, args: impl cmd::or::OrArg) -\u003e Command {\n        cmd::or::new(args)\n    }\n\n    pub fn eq(self, args: impl cmd::eq::EqArg) -\u003e Command {\n        cmd::eq::new(args)\n    }\n\n    pub fn ne(self, args: impl cmd::ne::NeArg) -\u003e Command {\n        cmd::ne::new(args)\n    }\n\n    pub fn gt(self, args: impl cmd::gt::GtArg) -\u003e Command {\n        cmd::gt::new(args)\n    }\n\n    pub fn ge(self, args: impl cmd::ge::GeArg) -\u003e Command {\n        cmd::ge::new(args)\n    }\n\n    pub fn lt(self, args: impl cmd::lt::LtArg) -\u003e Command {\n        cmd::lt::new(args)\n    }\n\n    pub fn le(self, args: impl cmd::le::LeArg) -\u003e Command {\n        cmd::le::new(args)\n    }\n\n    pub fn not(self, value: bool) -\u003e Command {\n        cmd::not_::new(value)\n    }\n\n    pub fn random(self, args: impl cmd::random::RandomArg) -\u003e Command {\n        cmd::random::new(args)\n    }\n\n    pub fn round(self, value: f64) -\u003e Command {\n        cmd::round::new(value)\n    }\n\n    pub fn ceil(self, value: f64) -\u003e Command {\n        cmd::ceil::new(value)\n    }\n\n    pub fn floor(self, value: f64) -\u003e Command {\n        cmd::floor::new(value)\n    }\n\n    /// Compute the arithmetic \"and\" of one or more values.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// cmd_number \u0026 cmd_number\n    /// number.bitand(cmd_number)  number\n    /// number.bit_and(param_number)  number\n    /// r.bit_and(cmd_number, param_number)  number\n    /// ```\n    ///\n    /// Where:\n    /// - param_number: i32 | [Command](crate::Command)\n    /// - cmd_number: [Command](crate::Command)\n    ///\n    /// # Description\n    ///\n    /// A bitwise AND is a binary operation that takes two equal-length binary\n    /// representations and performs the logical AND operation on each pair of\n    /// the corresponding bits, which is equivalent to multiplying them.\n    /// Thus, if both bits in the compared position are 1,\n    /// the bit in the resulting binary representation is 1 (1  1 = 1);\n    /// otherwise, the result is 0 (1  0 = 0 and 0  0 = 0).\n    ///\n    /// ## Examples\n    ///\n    /// Compute the arithmetic \"and\" of 5 and 3\n    ///\n    /// ```\n    /// use std::ops::BitAnd;\n    ///\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response: i32 = r.expr(5)\n    ///         .bit_and(3)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response2: i32 = r.bit_and(r.expr(5), 3)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response3: i32 = (r.expr(5) \u0026 r.expr(3))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response4: i32 = r.expr(5)\n    ///         .bitand(r.expr(3))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(\n    ///         response == 1 \u0026\u0026\n    ///         response == response2 \u0026\u0026\n    ///         response == response3 \u0026\u0026\n    ///         response == response4\n    ///     );\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [bit_or](Self::bit_or)\n    /// - [bit_not](Self::bit_not)\n    /// - [bit_xor](Self::bit_xor)\n    /// - [bit_sal](Self::bit_sal)\n    /// - [bit_sar](Self::bit_sar)\n    pub fn bit_and(self, cmd_number: Command, args: impl cmd::bit_and::BitAndArg) -\u003e Command {\n        cmd_number.bit_and(args)\n    }\n\n    /// Compute the arithmetic \"or\" of one or more values.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// cmd_number | cmd_number\n    /// number.bitor(cmd_number)  number\n    /// number.bit_or(param_number)  number\n    /// r.bit_or(cmd_number, param_number)  number\n    /// ```\n    ///\n    /// Where:\n    /// - param_number: i32 | [Command](crate::Command)\n    /// - cmd_number: [Command](crate::Command)\n    ///\n    /// # Description\n    ///\n    /// A bitwise OR is a binary operation that takes two bit patterns\n    /// of equal length and performs the logical inclusive OR operation\n    /// on each pair of corresponding bits. The result in each position\n    /// is 0 if both bits are 0, while otherwise the result is 1.\n    ///\n    /// ## Examples\n    ///\n    /// Compute the arithmetic \"or\" of 6 and 4\n    ///\n    /// ```\n    /// use std::ops::BitOr;\n    ///\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response: i32 = r.expr(5)\n    ///         .bit_or(3)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response2: i32 = r.bit_xor(r.expr(5), 3)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response3: i32 = (r.expr(5) ^ r.expr(3))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response4: i32 = r.expr(5)\n    ///         .bitor(r.expr(3))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(\n    ///         response == 7 \u0026\u0026\n    ///         response == response2 \u0026\u0026\n    ///         response == response3 \u0026\u0026\n    ///         response == response4\n    ///     );\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [bit_and](Self::bit_and)\n    /// - [bit_not](Self::bit_not)\n    /// - [bit_xor](Self::bit_xor)\n    /// - [bit_sal](Self::bit_sal)\n    /// - [bit_sar](Self::bit_sar)\n    pub fn bit_or(self, cmd_number: Command, args: impl cmd::bit_or::BitOrArg) -\u003e Command {\n        cmd_number.bit_or(args)\n    }\n\n    /// Compute the arithmetic \"and\" of one or more values.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// cmd_number ^ cmd_number\n    /// number.bitxor(cmd_number)  number\n    /// number.bit_xor(param_number)  number\n    /// r.bit_xor(cmd_number, param_number)  number\n    /// ```\n    ///\n    /// Where:\n    /// - param_number: i32 | [Command](crate::Command)\n    /// - cmd_number: [Command](crate::Command)\n    ///\n    /// # Description\n    ///\n    /// A bitwise XOR is a binary operation that takes two bit patterns\n    /// of equal length and performs the logical exclusive OR operation\n    /// on each pair of corresponding bits. The result in each position\n    /// is 1 if only the first bit is 1 or only the second bit is 1,\n    /// but will be 0 if both are 0 or both are 1.\n    /// In this we perform the comparison of two bits, being 1 if the\n    /// two bits are different, and 0 if they are the same.\n    ///\n    /// ## Examples\n    ///\n    /// Compute the arithmetic \"and\" of 6 and 4\n    ///\n    /// ```\n    /// use std::ops::BitXor;\n    ///\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response: i32 = r.expr(6)\n    ///         .bit_xor(4)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response2: i32 = r.bit_xor(r.expr(6), 4)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response3: i32 = (r.expr(6) ^ r.expr(4))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response4: i32 = r.expr(6)\n    ///         .bitxor(r.expr(4))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(\n    ///         response == 2 \u0026\u0026\n    ///         response == response2 \u0026\u0026\n    ///         response == response3 \u0026\u0026\n    ///         response == response4\n    ///     );\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [bit_and](Self::bit_and)\n    /// - [bit_not](Self::bit_not)\n    /// - [bit_or](Self::bit_or)\n    /// - [bit_sal](Self::bit_sal)\n    /// - [bit_sar](Self::bit_sar)\n    pub fn bit_xor(self, cmd_number: Command, args: impl cmd::bit_xor::BitXorArg) -\u003e Command {\n        cmd_number.bit_xor(args)\n    }\n\n    /// Compute the arithmetic inverse (not) of an expression.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// number.bit_not()  number\n    /// r.bit_not(cmd_number)  number\n    /// ```\n    ///\n    /// Where:\n    /// - cmd_number: [Command](crate::Command)\n    ///\n    /// # Description\n    ///\n    /// A bitwise NOT, or complement, is a unary operation that performs logical\n    /// negation on each bit, forming the ones complement of the given binary value.\n    /// Bits that are 0 become 1, and those that are 1 become 0.\n    ///\n    /// ## Examples\n    ///\n    /// Negate the arithmetice expression\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response: i32 = r.expr(7)\n    ///         .bit_not()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response2: i32 = r.bit_not(r.expr(7))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == -8 \u0026\u0026 response == response2);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [bit_and](Self::bit_and)\n    /// - [bit_or](Self::bit_or)\n    /// - [bit_sal](Self::bit_sal)\n    /// - [bit_sar](Self::bit_sar)\n    /// - [bit_xor](Self::bit_xor)\n    pub fn bit_not(self, cmd_number: Command) -\u003e Command {\n        cmd_number.bit_not()\n    }\n\n    /// Compute the left arithmetic shift (left logical shift) of one or more values.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// number.bit_sal(param_number)  number\n    /// r.bit_sal(cmd_number, param_number)  number\n    /// ```\n    ///\n    /// Where:\n    /// - param_number: i32 | [Command](crate::Command)\n    /// - cmd_number: [Command](crate::Command)\n    ///\n    /// # Description\n    ///\n    /// In an arithmetic shift (also referred to as signed shift),\n    /// like a logical shift, the bits that slide off the end disappear\n    /// (except for the last, which goes into the carry flag).\n    /// But in an arithmetic shift, the spaces are filled in such a way\n    /// to preserve the sign of the number being slid. For this reason,\n    /// arithmetic shifts are better suited for signed numbers in twos\n    /// complement format.\n    ///\n    /// ## Note\n    ///\n    /// SHL and SAL are the same, and differentiation only happens because\n    /// SAR and SHR (right shifting) has differences in their implementation.\n    ///\n    /// ## Examples\n    ///\n    /// Compute the left arithmetic shift of 5 and 4\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response: u8 = r.expr(5)\n    ///         .bit_sar(4)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response2: u8 = r.bit_sar(r.expr(5), r.expr(4))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == 80 \u0026\u0026 response == response2);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [bit_and](Self::bit_and)\n    /// - [bit_not](Self::bit_not)\n    /// - [bit_or](Self::bit_or)\n    /// - [bit_sar](Self::bit_sar)\n    /// - [bit_xor](Self::bit_xor)\n    pub fn bit_sal(self, cmd_number: Command, args: impl cmd::bit_sal::BitSalArg) -\u003e Command {\n        cmd_number.bit_sal(args)\n    }\n\n    /// Compute the right arithmetic shift of one or more values.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// number.bit_sar(param_number)  number\n    /// r.bit_sar(cmd_number, param_number)  number\n    /// ```\n    ///\n    /// Where:\n    /// - param_number: i32 | [Command](crate::Command)\n    /// - cmd_number: [Command](crate::Command)\n    ///\n    /// # Description\n    ///\n    /// In an arithmetic shift (also referred to as signed shift),\n    /// like a logical shift, the bits that slide off the end disappear\n    /// (except for the last, which goes into the carry flag).\n    /// But in an arithmetic shift, the spaces are filled in such\n    /// a way to preserve the sign of the number being slid.\n    /// For this reason, arithmetic shifts are better suited for\n    /// signed numbers in twos complement format.\n    ///\n    /// ## Examples\n    ///\n    /// Compute the right arithmetic shift of 32 and 3\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response: u8 = r.expr(32)\n    ///         .bit_sar(3)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response2: u8 = r.bit_sar(r.expr(32), r.expr(3))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == 4 \u0026\u0026 response == response2);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [bit_and](Self::bit_and)\n    /// - [bit_not](Self::bit_not)\n    /// - [bit_or](Self::bit_or)\n    /// - [bit_sal](Self::bit_sal)\n    /// - [bit_xor](Self::bit_xor)\n    pub fn bit_sar(self, cmd_number: Command, args: impl cmd::bit_sar::BitSarArg) -\u003e Command {\n        cmd_number.bit_sar(args)\n    }\n\n    /// Return a time object representing the current time in UTC.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.now()  time\n    /// ```\n    ///\n    /// Where:\n    /// - time: [Time](crate::types::Time)\n    ///\n    /// # Description\n    ///\n    /// The command now() is computed once when the server receives the query,\n    /// so multiple instances of r.now() will always return the same time inside a query.\n    ///\n    /// ## Examples\n    ///\n    /// Create a time\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::types::Time;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let time1: Time = r.now().value();\n    ///     let time2: Time = r.now()\n    ///         .cmd()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(time1.is_valid());\n    ///     assert!(time2.is_valid());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [time](Self::time)\n    /// - [epoch_time](Self::epoch_time)\n    /// - [iso8601](Self::iso8601)\n    pub fn now(self) -\u003e DateTime {\n        DateTime::now()\n    }\n\n    /// Create a time object for a specific time.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.time(args!(date, timezone))  time\n    /// r.time(args!(date, time_, timezone))  time\n    /// ```\n    ///\n    /// Where:\n    /// - date: [time::Date](time::Date)\n    /// - time_: [time::Time](time::Time)\n    /// - timezone: [time::UtcOffset](time::UtcOffset)\n    /// - time: [Time](crate::types::Time)\n    ///\n    /// ## Examples\n    ///\n    /// Create a time\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::types::Time;\n    /// use reql_rust::{args, r, Result};\n    /// use time::macros::{date, offset, time};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let date = date!(1986 - 11 - 3);\n    ///     let time = time!(09:30:40);\n    ///     let timezone = offset!(+01:00);\n    ///\n    ///     let date_time = r.time(args!(date, time, timezone));\n    ///     let time1 = date_time.clone().value();\n    ///     let time2: Time = date_time.cmd()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(time2 == time1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](Self::now)\n    /// - [time](Self::time)\n    /// - [iso8601](Self::iso8601)\n    pub fn time(self, args: impl cmd::time::TimeArg) -\u003e DateTime {\n        DateTime::time(args)\n    }\n\n    /// Create a time object based on seconds since epoch.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.epoch_time(i64)  time\n    /// ```\n    ///\n    /// Where:\n    /// - time: [Time](crate::types::Time)\n    ///\n    /// ## Examples\n    ///\n    /// Create a time\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::types::Time;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let date_time = r.epoch_time(531360000)?;\n    ///     let time1 = date_time.clone().value();\n    ///     let time2: Time = date_time.cmd()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(time2 == time1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](Self::now)\n    /// - [time](Self::time)\n    /// - [iso8601](Self::iso8601)\n    pub fn epoch_time(self, timestamp: i64) -\u003e Result\u003cDateTime\u003e {\n        DateTime::epoch_time(timestamp)\n    }\n\n    /// Create a time object based on an ISO 8601\n    /// date-time string (e.g. 2013-01-01T01:01:01+00:00).\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.iso8601(string)  time\n    /// r.iso8601(args!(string, default_timezone))  time\n    /// ```\n    ///\n    /// Where:\n    /// - time: [Time](crate::types::Time)\n    /// - default_timezone: UtcOffset\n    ///\n    /// # Description\n    ///\n    /// RethinkDB supports all valid ISO 8601 formats except for week dates.\n    /// Read more about the ISO 8601 format at\n    /// [Wikipedia](http://en.wikipedia.org/wiki/ISO_8601).\n    ///\n    /// If you pass an ISO 8601 string without a time zone,\n    /// you must specify the time zone with the default_timezone argument.\n    ///\n    /// ## Examples\n    ///\n    /// Create a time\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::types::Time;\n    /// use reql_rust::{args, r, Result};\n    /// use time::macros::offset;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let date_time = r.iso8601(args!(\"1986-11-03T08:30:00\", offset!(+01:00)))?;\n    ///     let time1 = date_time.clone().value();\n    ///     let time2: Time = date_time.cmd()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(time2 == time1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [now](Self::now)\n    /// - [time](Self::time)\n    /// - [epoch_time](Self::epoch_time)\n    pub fn iso8601(self, args: impl cmd::iso8601::Iso8601) -\u003e Result\u003cDateTime\u003e {\n        DateTime::iso8601(args)\n    }\n\n    /// Convert `HashMap` to `Command`\n    pub fn hash_map\u003cT\u003e(self, value: HashMap\u003cT, Command\u003e) -\u003e Command\n    where\n        T: Into\u003cString\u003e,\n    {\n        cmd::hash_map::new(value)\n    }\n\n    /// `r.args` is a special term thats used to splice\n    /// an array of arguments into another term.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.args(array)  special\n    /// ```\n    /// Where:\n    /// - array: [Type; usize], Vec\u003cType\u003e, \u0026\\[Type]\n    ///\n    /// # Description\n    ///\n    /// This is useful when you want to call a variadic term such as\n    /// [get_all](crate::Command::get_all)\n    /// with a set of arguments produced at runtime.\n    ///\n    /// Note that `args` evaluates all its arguments before passing them\n    /// into the parent term, even if the parent term otherwise allows lazy evaluation.\n    ///\n    /// ## Examples\n    ///\n    /// Unpack array\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let data = vec![1, 2, 3];\n    ///\n    ///     let response: Vec\u003cu8\u003e = r.args(\u0026data)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == data);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn args\u003cT, S\u003e(self, values: T) -\u003e Command\n    where\n        S: Serialize,\n        T: AsRef\u003c[S]\u003e + Serialize,\n    {\n        cmd::args::new(values)\n    }\n\n    /// Encapsulate binary data within a query.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.binary(data)  binary\n    /// ```\n    ///\n    /// Where:\n    /// - data: \u0026[u8]\n    /// - binary: [Binary](crate::types::Binary)\n    ///\n    /// # Description\n    ///\n    /// Binary struct returned to the client in Rust.\n    /// This can be changed with the `binary_format` option\n    /// provided to [run](crate::Command::run) to return raw objects.\n    ///\n    /// Only a limited subset of ReQL commands may be chained after `binary`:\n    /// - [coerce_to](crate::Command::coerce_to) can coerce binary objects to string types\n    /// - [count](Self::count) will return the number of bytes in the object\n    /// - [slice](crate::Command::slice) will treat bytes like array indexes\n    /// (i.e., slice(args!(10,20)) will return bytes 1019)\n    /// - [type_of](crate::Command::type_of) returns `TypeOf::PtypeBinary`\n    /// - [info](Self::info) will return information on a binary struct.\n    ///\n    /// ## Examples\n    ///\n    /// Save an avatar image to a existing user record.\n    ///\n    /// ```\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let avatar_img = std::fs::read(\"default_avatar.png\")?;\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.table(\"images\")\n    ///         .insert(r.binary(\u0026avatar_img))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Get the size of an existing avatar image.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: usize = r.table(\"images\")\n    ///         .get(100)\n    ///         .g(\"avatar\")\n    ///         .count(())\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == 14156);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// Read more details about RethinkDBs binary object support:\n    /// [Storing binary objects](\"https://rethinkdb.com/docs/storing-binary/python/\").\n    pub fn binary(self, data: \u0026[u8]) -\u003e Binary {\n        cmd::binary::new(data)\n    }\n\n    // FIXME Command no work\n    pub fn do_(self, args: impl cmd::do_::DoArg) -\u003e Command {\n        cmd::do_::new(args)\n    }\n\n    /// Perform a branching conditional equivalent to `if-then-else`.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.branch(test, args!(true_action, false_action))  any\n    /// r.branch(test, args!(true_action, [(test2, test2_action), N], false_action))  any\n    /// query.branch(args!(true_action, false_action)) -\u003e any\n    /// query.branch(args!(true_action, [(test2, test2_action), N], false_action))  any\n    /// ```\n    ///\n    /// Where:\n    /// - test, true_action, false_action, test2, test2_action: r.expr(...)\n    ///\n    /// # Description\n    ///\n    /// The `branch` command takes 2n+1 arguments: pairs of conditional expressions\n    /// and commands to be executed if the conditionals return any value but `false`\n    /// or `None` i.e., truthy values), with a final else command to be evaluated\n    /// if all of the conditionals are `false` or `None`.\n    ///\n    /// You may call `branch` infix style on the first test.\n    /// (See the second example for an illustration.)\n    ///\n    /// ```text\n    /// r.branch(test1, args!(val1, [(test2, val2)], elseval))\n    /// ```\n    ///\n    /// is the equivalent of the Rust statement\n    ///\n    /// ```text\n    /// if (test1) {\n    ///     val1\n    /// } else if (test2) {\n    ///     val2\n    /// } else {\n    ///     elseval\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Test the value of x.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let x = 10;\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: String = r.branch(\n    ///             r.expr(x \u003e 5),\n    ///             args!(r.expr(\"big\"), r.expr(\"small\"))\n    ///         ).run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.eq(\"big\"));\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// As above, infix-style.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let x = 10;\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: String = r.expr(x \u003e 5)\n    ///         .branch(args!(r.expr(\"big\"), r.expr(\"small\")))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.eq(\"big\"));\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Categorize heroes by victory counts.\n    ///\n    /// ```\n    /// use std::ops::Add;\n    ///\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.table(\"pricings\")\n    ///         .map(func!(|offer| r.branch(\n    ///             offer.clone().g(\"price\").gt(100),\n    ///             args!(\n    ///                 offer.clone().g(\"offer\").add(\"premium\"),\n    ///                 [(\n    ///                     offer.clone().g(\"price\").gt(10),\n    ///                     offer.clone().g(\"offer\").add(\"standard\")\n    ///                 )],\n    ///                 offer.g(\"offer\").add(\"freemium\")\n    ///         ))))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [do_](Self::do_)\n    pub fn branch(self, test: Command, args: impl cmd::branch::BranchArg) -\u003e Command {\n        test.branch(args)\n    }\n\n    /// Generate a stream of sequential integers in a specified range.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.range(())  stream\n    /// r.range(end_value)  stream\n    /// r.range(args!(start_value, end_value))  stream\n    /// ```\n    ///\n    /// Where\n    /// - start_value, end_value: isize\n    ///\n    /// # Description\n    ///\n    /// `range` takes 0, 1 or 2 arguments:\n    /// - With no arguments, `range` returns an infinite stream\n    /// from 0 up to and including the maximum integer value;\n    /// - With one argument, `range` returns a stream from\n    /// 0 up to but not including the end value;\n    /// - With two arguments, `range` returns a stream from\n    /// the start value up to but not including the end value.\n    ///\n    /// Note that the left bound (including the implied left\n    /// bound of 0 in the 0- and 1-argument form)\n    /// is always closed and the right bound is always open:\n    /// the start value will always be included in the returned range\n    /// and the end value will **not** be included in the returned range.\n    ///\n    /// Any specified arguments must be integers, or a `ReqlRuntimeError` will be thrown.\n    /// If the start value is equal or to higher than the end value,\n    /// no error will be thrown but a zero-element stream will be returned.\n    ///\n    /// ## Examples\n    ///\n    /// Return a four-element range of `[0, 1, 2, 3]`.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: [u8; 4] = r.range(4)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == [0, 1, 2, 3]);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// You can also use the [limit](crate::Command::limit)\n    /// command with the no-argument\n    /// variant to achieve the same result in this case:\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: [u8; 4] = r.range(())\n    ///         .limit(4)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == [0, 1, 2, 3]);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Return a range from -5 through 5.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: [i8; 11] = r.range(args!(-5, 6))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == [-5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5]);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn range(self, args: impl cmd::range::RangeArg) -\u003e Command {\n        cmd::range::new(args)\n    }\n\n    /// Throw a runtime error.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.expr(value)  value\n    /// ```\n    ///\n    /// # Description\n    ///\n    /// If called with no arguments inside the second\n    /// argument to default, re-throw the current error.\n    ///\n    /// ## Examples\n    ///\n    /// Get Error\n    ///\n    /// ```\n    /// use reql_rust::{r, ReqlError, ReqlRuntimeError, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let msg = \"Error\";\n    ///\n    ///     let err = r.error(msg).run(\u0026conn).await.err().unwrap();\n    ///\n    ///     if let ReqlError::Runtime(err) = err {\n    ///         if let ReqlRuntimeError::User(err) = err {\n    ///             assert!(err == msg);\n    ///     \n    ///             return Ok(());\n    ///         }\n    ///     }\n    ///\n    ///     assert!(false);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn error(self, message: impl Into\u003cString\u003e) -\u003e Command {\n        cmd::error::new(message)\n    }\n\n    /// Construct a ReQL JSON object from a native object.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.expr(value)  value\n    /// ```\n    ///\n    /// # Description\n    ///\n    /// If the native object is of the `Binary` type,\n    /// then expr will return a binary object.\n    /// See [binary](Self::binary) for more information.\n    ///\n    /// ## Examples\n    ///\n    /// Objects wrapped with `expr` can then be manipulated by ReQL API functions.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let data = [1, 2, 3];\n    ///\n    ///     let response: [u8; 3] = r.expr(data)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == data);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn expr(self, value: impl Serialize) -\u003e Command {\n        cmd::expr::new(value)\n    }\n\n    /// Create a javascript expression.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.uuid(())  String\n    /// r.uuid(\u0026str)  String\n    /// ```\n    ///\n    /// # Description\n    ///\n    /// ```text\n    /// Whenever possible, you should use native ReQL\n    /// commands rather than r.js for better performance.\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Concatenate two strings using JavaScript.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: String = r.js(\"'str1' + 'str2'\")\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.eq(\"str1str2\"));\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// You may also specify a timeout in seconds (defaults to 5).\n    ///\n    /// ```\n    /// use reql_rust::cmd::js::JsOption;\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.js(args!(\n    ///             \"while(true) {}\",\n    ///             JsOption::default().timeout(1.3)\n    ///             ))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn js(self, args: impl cmd::js::JsArg) -\u003e Command {\n        cmd::js::new(args)\n    }\n\n    /// Get information about a ReQL value.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// any.info()  response\n    /// r.info(any)  response\n    /// ```\n    ///\n    /// Where:\n    /// - response: [InfoResponse](crate::types::InfoResponse)\n    ///\n    /// ## Examples\n    ///\n    /// Get information about a table such as primary key, or cache size.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::{InfoResponse, TypeOf};\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: InfoResponse = r.table(\"simbad\")\n    ///         .info()\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.typ == TypeOf::Table);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn info(self, any: Command) -\u003e Command {\n        any.info()\n    }\n\n    /// Parse a JSON string on the server.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.json(json_string)  value\n    /// ```\n    ///\n    /// Where:\n    /// - json_string: impl Into\u003cString\u003e\n    ///\n    /// ## Examples\n    ///\n    /// Send an array to the server.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: [u8; 3] = r.json(\"[1,2,3]\")\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == [1, 2, 3]);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn json(self, value: impl Into\u003cString\u003e) -\u003e Command {\n        cmd::json::new(value)\n    }\n\n    /// Retrieve data from the specified URL over HTTP.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.http(string)  value\n    /// r.http(args!(string, options))  value\n    /// ```\n    ///\n    /// Where:\n    /// - string: impl Into\u003cString\u003e\n    /// - options: impl Serialize\n    ///\n    /// # Description\n    ///\n    /// The return type depends on the `result_format` option,\n    /// which checks the `Content-Type` of the response by default.\n    ///\n    /// See [External API access](https://rethinkdb.com/docs/external-api-access/)\n    /// for more informations\n    ///\n    /// ## Examples\n    ///\n    /// Perform an HTTP GET and store the result in a table.\n    ///\n    /// ```\n    /// use reql_rust::types::MutationResponse;\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: MutationResponse = r.table(\"simbad\")\n    ///         .insert(r.http(\"http://httpbin.org/get\"))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.inserted == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Perform request with parameters.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.http(args!(\"http://httpbin.org/get\", json!({\n    ///             \"params\": {\n    ///                 \"user\": 1\n    ///             }\n    ///         })))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Perform a `POST` request with accompanying data.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.http(args!(\"http://httpbin.org/get\", json!({\n    ///             \"method\": \"method\",\n    ///             \"data\": {\n    ///                 \"player\": \"Moussa\",\n    ///                 \"game\": \"AURION\"\n    ///             }\n    ///         })))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Perform a GitHub search and collect up to 3 pages of results.\n    ///\n    /// ```\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.http(args!(\"https://api.github.com/search/code?q=addClass+user:mozilla\", json!({\n    ///             \"page\": \"link-next\",\n    ///             \"page_limit\": 3\n    ///         })))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn http\u003cT\u003e(self, args: impl cmd::http::HttpArg\u003cT\u003e) -\u003e Command\n    where\n        T: Serialize,\n    {\n        cmd::http::new(args)\n    }\n\n    /// Return a UUID (universally unique identifier),\n    /// a string that can be used as a unique ID.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.uuid(())  String\n    /// r.uuid(\u0026str)  String\n    /// ```\n    ///\n    /// # Description\n    ///\n    /// If a string is passed to uuid as an argument,\n    /// the UUID will be deterministic,\n    /// derived from the strings SHA-1 hash.\n    ///\n    /// RethinkDBs UUIDs are standards-compliant.\n    /// Without the optional argument,\n    /// a version 4 random UUID will be generated;\n    /// with that argument, a version 5 UUID will be generated,\n    /// using a fixed namespace UUID of `91461c99-f89d-49d2-af96-d8e2e14e9b58`.\n    /// For more information, read\n    /// [Wikipedias UUID article](https://en.wikipedia.org/wiki/Universally_unique_identifier).\n    ///\n    /// ## Examples\n    ///\n    /// Generate a UUID.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: String = r.uuid(())\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.eq(\"27961a0e-f4e8-4eb3-bf95-c5203e1d87b9\"));\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Generate a UUID based on a String.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: String = r.uuid(\"malik@example.com\")\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.eq(\"3461d115-2c05-5af4-9906-9f6882c58a15\"));\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn uuid(self, args: impl cmd::uuid::UuidArg) -\u003e Command {\n        cmd::uuid::new(args)\n    }\n\n    /// Construct a circular line or polygon.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.circle(args!(point, radius))  polygon\n    /// r.circle(args!(point, radius, options))  polygon\n    /// ```\n    ///\n    /// Where:\n    /// - radius: f64,\n    /// - point: [Point](crate::cmd::point::Point)\n    /// - polygon: [Polygon](crate::cmd::polygon::Polygon)\n    ///\n    /// # Description\n    ///\n    /// A circle in RethinkDB is a polygon or line **approximating**\n    /// a circle of a given radius around a given center,\n    /// consisting of a specified number of vertices (default 32).\n    ///\n    /// The center may be specified either by two floating point numbers, the longitude\n    /// (180 to 180) and latitude (90 to 90) of the point on a perfect sphere\n    /// (See [Geospatial support](https://rethinkdb.com/docs/geo-support/python/)\n    /// for more information on ReQLs coordinate system), or by a point object.\n    /// The radius is a floating point number whose units are meters by default,\n    /// although that may be changed with the `unit` argument.\n    ///\n    /// ## Examples\n    ///\n    /// Define a point.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::Polygon;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let circle: Polygon = r.circle(args!(r.point(-122.423246, 37.779388), 50.5))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     let response = r.table(\"geo\")\n    ///         .insert(json!({\n    ///             \"id\": 300,\n    ///             \"name\": \"Douala\",\n    ///             \"location\": circle\n    ///         }))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [line](Self::line)\n    /// - [polygon](Self::polygon)\n    /// - [point](Self::point)\n    /// - [distance](crate::Command::distance)\n    pub fn circle(self, args: impl cmd::circle::CircleArg) -\u003e Command {\n        cmd::circle::new(args)\n    }\n\n    /// Compute the distance between a point and another geometry object.\n    /// At least one of the geometry objects specified must be a point.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// geometry.distance(geometry)  f64\n    /// geometry.distance(args!(geometry, options))  f64\n    /// r.distance(geometry.cmd(), geometry)  f64\n    /// r.distance(geometry.cmd(), args!(geometry, options))  f64\n    /// ```\n    ///\n    /// Where:\n    /// - geometry: [r.point(...)](crate::r::point) |\n    /// [r.line(...)](crate::r::line) |\n    /// [r.polygon(...)](crate::r::polygon)\n    /// command\n    /// - options: [DistanceOption](crate::cmd::distance::DistanceOption)\n    ///\n    /// # Description\n    ///\n    /// If one of the objects is a polygon or a line, the point will be projected\n    /// into the line or polygon assuming a perfect sphere model before the distance\n    /// is computed (using the model specified with `geo_system`).\n    /// As a consequence, if the polygon or line is extremely large compared\n    /// to Earths radius and the distance is being computed with the default\n    ///  WGS84 model, the results of `distance` should be considered approximate\n    /// due to the deviation between the ellipsoid and spherical models.\n    ///\n    /// ## Examples\n    ///\n    /// Compute the distance between two points on the Earth in kilometers.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Unit;\n    /// use reql_rust::cmd::distance::DistanceOption;\n    /// use reql_rust::prelude::*;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let point1 = r.point(-122.423246, 37.779388);\n    ///     let point2 = r.point(-117.220406, 32.719464);\n    ///     let distance_option = DistanceOption::default().unit(Unit::Kilometer);\n    ///\n    ///     let response: f64 = r.distance(point1.cmd(), point2)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response == 734.125249602186);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [polygon](crate::r::polygon)\n    /// - [line](crate::r::line)\n    pub fn distance(self, geometry: Command, args: impl cmd::distance::DistanceArg) -\u003e Command {\n        geometry.distance(args)\n    }\n\n    /// Convert a [GeoJSON](https://geojson.org/) object to a ReQL geometry object.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.geojson(geojson)  geometry\n    /// ```\n    ///\n    /// Where:\n    /// - geojson: [GeoJson](crate::types::GeoJson),\n    /// - geometry: [ReqlGeoJson](crate::types::ReqlGeoJson)\n    ///\n    /// # Description\n    ///\n    /// RethinkDB only allows conversion of GeoJSON objects\n    /// which have ReQL equivalents: Point, LineString, and Polygon.\n    ///  MultiPoint, MultiLineString, and MultiPolygon are not supported.\n    /// (You could, however, store multiple points, lines and polygons\n    /// in an array and use a geospatial multi index with them.)\n    ///\n    /// Only longitude/latitude coordinates are supported.\n    /// GeoJSON objects that use Cartesian coordinates,\n    /// specify an altitude, or specify their own coordinate\n    /// reference system will be rejected.\n    ///\n    /// ## Examples\n    ///\n    /// Convert a GeoJSON object to a ReQL geometry object.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::{GeoJson, GeoType};\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let geo_json = GeoJson {\n    ///         typ: GeoType::Point,\n    ///         coordinates: [-122.423246, 37.779388],\n    ///     };\n    ///\n    ///     let response = r.table(\"geo\")\n    ///         .insert(json!({\n    ///             \"id\": 1,\n    ///             \"name\": \"Yaound\",\n    ///             \"location\": r.geojson(geo_json)\n    ///         }))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [to_geojson](crate::Command::to_geojson)\n    pub fn geojson\u003cT: Serialize\u003e(self, geojson: GeoJson\u003cT\u003e) -\u003e cmd::geojson::ReqlGeoJson\u003cT\u003e {\n        cmd::geojson::ReqlGeoJson::new(geojson)\n    }\n\n    /// Construct a geometry object of type Polygon.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.line(points)  line\n    /// ```\n    ///\n    /// Where:\n    /// - points: \u0026[[Point](crate::types::Point)]\n    /// - line: [Polygon](crate::types::Line)\n    ///\n    /// # Description\n    ///\n    /// The line can be specified in one of two ways:\n    /// - Two or more two-item arrays, specifying latitude\n    /// and longitude numbers of the lines vertices;\n    /// - Two or more [Point](crate::types::Point)\n    /// objects specifying the lines vertices.\n    ///\n    /// Longitude (180 to 180) and latitude (90 to 90)\n    /// of vertices are plotted on a perfect sphere.\n    /// See [Geospatial support](https://rethinkdb.com/docs/geo-support/python/)\n    /// for more information on ReQLs coordinate system.\n    ///\n    /// ## Examples\n    ///\n    /// Define a line.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.table(\"geo\")\n    ///         .insert(json!({\n    ///             \"id\": 101,\n    ///             \"route\": r.line(\u0026[\n    ///                 r.point(-122.423246, 37.779388),\n    ///                 r.point(-121.886420, 37.329898),\n    ///             ])\n    ///         }))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [point](Self::point)\n    /// - [polygon](Self::polygon)\n    /// - [circle](Self::circle)\n    pub fn line(self, points: \u0026[cmd::point::Point]) -\u003e cmd::line::Line {\n        cmd::line::Line::new(points)\n    }\n\n    /// Construct a geometry object of type Point.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.point(longitude, latitude)  point\n    /// ```\n    ///\n    /// Where:\n    /// - latitude: f64,\n    /// - longitude: f64,\n    /// - points: \u0026[[Point](crate::cmd::point::Point)]\n    ///\n    /// # Description\n    ///\n    /// The point is specified by two floating point numbers, the longitude\n    /// (180 to 180) and latitude (90 to 90) of the point on a perfect sphere.\n    /// See [Geospatial support](https://rethinkdb.com/docs/geo-support/python/)\n    /// for more information on ReQLs coordinate system.\n    ///\n    /// ## Examples\n    ///\n    /// Define a point.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.table(\"geo\")\n    ///         .insert(json!({\n    ///             \"id\": 1,\n    ///             \"name\": \"Yaound\",\n    ///             \"location\": r.point(-122.423246, 37.779388)\n    ///         }))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [line](Self::line)\n    /// - [polygon](Self::polygon)\n    /// - [circle](Self::circle)\n    pub fn point(self, longitude: f64, latitude: f64) -\u003e cmd::point::Point {\n        cmd::point::Point::new(longitude, latitude)\n    }\n\n    /// Construct a geometry object of type Polygon.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.polygon(points)  polygon\n    /// ```\n    ///\n    /// Where:\n    /// - points: \u0026[[Point](crate::cmd::point::Point)]\n    /// - polygon: [Polygon](crate::cmd::polygon::Polygon)\n    ///\n    /// # Description\n    ///\n    /// The Polygon can be specified in one of two ways:\n    /// - Three or more two-item arrays, specifying latitude\n    /// and longitude numbers of the polygons vertices;\n    /// - Three or more [Point](crate::cmd::point::Point)\n    /// objects specifying the polygons vertices.\n    ///\n    /// Longitude (180 to 180) and latitude (90 to 90)\n    /// of vertices are plotted on a perfect sphere.\n    /// See [Geospatial support](https://rethinkdb.com/docs/geo-support/python/)\n    /// for more information on ReQLs coordinate system.\n    ///\n    /// If the last point does not specify the same coordinates as\n    /// the first point, `polygon` will close the polygon by connecting them.\n    /// You cannot directly construct a polygon with holes in it using `polygon`,\n    /// but you can use [polygon_sub](crate::types::Polygon::polygon_sub)\n    /// to use a second polygon within the interior of the first to define a hole.\n    ///\n    /// ## Examples\n    ///\n    /// Define a polygon.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    /// use serde_json::json;\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response = r.table(\"geo\")\n    ///         .insert(json!({\n    ///             \"id\": 101,\n    ///             \"rectangle\": r.polygon(\u0026[\n    ///                 r.point(-122.423246, 37.779388),\n    ///                 r.point(-122.423246, 37.329898),\n    ///                 r.point(-121.886420, 37.329898),\n    ///                 r.point(-121.886420, 37.779388),\n    ///             ])\n    ///         }))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [point](Self::point)\n    /// - [line](Self::line)\n    /// - [circle](Self::circle)\n    pub fn polygon(self, points: \u0026[cmd::point::Point]) -\u003e cmd::polygon::Polygon {\n        cmd::polygon::Polygon::new(points)\n    }\n\n    /// Tests whether two geometry objects intersect with one another.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// geometry.intersects(geometry)  bool\n    /// r.intersects(geometry_command, geometry)  bool\n    /// sequence.intersects(geometry)  sequence_response\n    /// r.intersects(sequence, geometry)  sequence_response\n    /// ```\n    ///\n    /// Where:\n    /// - geometry: [r.point(...)](crate::r::point) |\n    /// [r.line(...)](crate::r::line) |\n    /// [r.polygon(...)](crate::r::polygon) |\n    /// command\n    /// - sequence, geometry_command: [Command](crate::Command)\n    ///\n    /// # Description\n    ///\n    /// When applied to a sequence of geometry objects, `intersects` acts as a\n    /// [filter](crate::Command::filter), returning a sequence of objects from\n    /// the sequence that intersect with the argument.\n    ///\n    /// ## Examples\n    ///\n    /// Is `point2` within a 2000-meter circle around `point1`?\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let point1 = r.point(-117.220406, 32.719464);\n    ///     let point2 = r.point(-117.206201, 32.725186);\n    ///     let circle_cmd = r.circle(args!(point1, 2000.));\n    ///\n    ///     let response: bool = r.intersects(circle_cmd, point2)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Which of the locations in a list of parks intersect `circle`?\n    ///\n    /// ```\n    /// use reql_rust::arguments::Unit;\n    /// use reql_rust::cmd::circle::CircleOption;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let point = r.point(-117.220406, 32.719464);\n    ///     let circle_opts = CircleOption::default().unit(Unit::InternationalMile);\n    ///     let circle = r.circle(args!(point, 10., circle_opts));\n    ///\n    ///     let response = r.intersects(r.table(\"parks\").g(\"area\"), circle)\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// # Related commands\n    /// - [includes](crate::Command::includes)\n    /// - [get_intersecting](crate::Command::get_intersecting)\n    pub fn intersects(\n        self,\n        geometry: Command,\n        args: impl cmd::intersects::IntersectsArg,\n    ) -\u003e Command {\n        geometry.intersects(args)\n    }\n\n    /// Grant or deny access permissions for a user account,\n    /// globally or on a per-database or per-table basis.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// r.grant(username, permission)  response\n    /// table.grant(username, permission)  response\n    /// db.grant(username, permission)  response\n    /// ```\n    ///\n    /// Where:\n    /// - table: [r.table(...)](crate::r::table) |\n    /// [query.table(...)](Self::table)\n    /// - db: [r.db(...)](crate::r::db)\n    /// - response: [GrantResponse](crate::types::GrantResponse)\n    ///\n    /// # Description\n    ///\n    /// Permissions that are not defined on a local scope will\n    /// be inherited from the next largest scope.\n    /// For example, a write operation on a table will first\n    /// check if `write` permissions are explicitly set to `true` or `false`\n    /// for that table and account combination; if they are not,\n    /// the `write` permissions for the database will be used\n    /// if those are explicitly set; and if neither table nor database\n    /// permissions are set for that account, the global `write`\n    /// permissions for that account will be used.\n    ///\n    /// ## Note\n    ///\n    /// For all accounts other than the special, system-defined `admin` account,\n    /// permissions that are not explicitly set in any scope will effectively be `false`.\n    /// When you create a new user account by inserting a record into the\n    /// [system table](https://rethinkdb.com/docs/system-tables/#users),\n    /// that account will have **no** permissions until they are explicitly granted.\n    ///\n    /// For a full description of permissions, read\n    /// [Permissions and user accounts](https://rethinkdb.com/docs/permissions-and-accounts/).\n    ///\n    /// ## Examples\n    ///\n    /// Grant the `alima` user account read and write permissions on the `users` database.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Permission;\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::GrantResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let permission = Permission::default().read(true).write(true);\n    ///\n    ///     let response: GrantResponse = r.db(\"users\")\n    ///         .grant(\"alima\", permission)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.granted == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Deny write permissions from the `alima` account for the `simbad` table.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Permission;\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::GrantResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let permission = Permission::default().write(false);\n    ///\n    ///     let response: GrantResponse = r.db(\"users\")\n    ///         .table(\"simbad\")\n    ///         .grant(\"alima\", permission)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.granted == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Grant `alima` the ability to use HTTP connections.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Permission;\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::GrantResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let permission = Permission::default().connect(true);\n    ///\n    ///     let response: GrantResponse = r.grant(\"alima\", permission)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.granted == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Grant a `monitor` account read-only access to all databases.\n    ///\n    /// ```\n    /// use reql_rust::arguments::Permission;\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::GrantResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let permission = Permission::default().read(true);\n    ///\n    ///     let response: GrantResponse = r.grant(\"monitor\", permission)\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.granted == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn grant(self, username: \u0026str, permission: Permission) -\u003e Command {\n        cmd::grant::new(username, permission)\n    }\n\n    /// Wait for a table or all the tables in a database to be ready.\n    ///\n    /// # Command syntax\n    ///\n    /// ```text\n    /// table.wait(())  response\n    /// db.wait(())  response\n    /// r.wait(table)  response\n    /// r.wait(database)  response\n    /// table.wait(options)  response\n    /// db.wait(options)  response\n    /// r.wait(args!(table, options))  response\n    /// r.wait(args!(database, options))  response\n    /// ```\n    ///\n    /// Where:\n    /// - table: [r.table(...)](crate::r::table) |\n    /// [query.table(...)](Self::table)\n    /// - db: [r.db(...)](crate::r::db)\n    /// - options: [WaitOption](crate::cmd::wait::WaitOption)\n    /// - response: [WaitResponse](crate::types::WaitResponse)\n    ///\n    /// # Description\n    ///\n    /// A table may be temporarily unavailable after creation,\n    /// rebalancing or reconfiguring.\n    /// The `wait` command blocks until the given\n    /// table (or database) is fully up to date.\n    ///\n    /// ## Examples\n    ///\n    /// Wait on a table to be ready.\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::WaitResponse;\n    /// use reql_rust::{r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///\n    ///     let response: WaitResponse = r.table(\"simbad\")\n    ///         .wait(())\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.ready == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    ///\n    /// ## Examples\n    ///\n    /// Wait on a table with timeout to be ready for reads.\n    ///\n    /// ```\n    /// use reql_rust::arguments::WaitFor;\n    /// use reql_rust::cmd::wait::WaitOption;\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::types::WaitResponse;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let table_command = r.db(\"anim\").table(\"simbad\");\n    ///     let opts = WaitOption::default()\n    ///         .wait_for(WaitFor::ReadyForReads)\n    ///         .timeout(8000f64);\n    ///\n    ///     let response: WaitResponse =  r.wait(args!(table_command, opts))\n    ///         .run(\u0026conn)\n    ///         .await?\n    ///         .unwrap()\n    ///         .parse()?;\n    ///\n    ///     assert!(response.ready == 1);\n    ///     \n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn wait(self, args: impl cmd::wait::WaitArg) -\u003e Command {\n        cmd::wait::new(args)\n    }\n\n    /// To specify the descending ordering.\n    ///\n    /// # Command syntax\n    /// ```text\n    /// r.asc(field)\n    /// r.asc(func)\n    /// ```\n    ///\n    /// Where:\n    /// - field: String, \u0026str\n    /// - func: func!(...)\n    ///\n    /// ## Example\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"simbad\")\n    ///         .order_by(args!(r.expr(\"id\"), r.asc(\"character\")))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///\n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn asc(self, args: impl cmd::asc::AscArg) -\u003e Command {\n        cmd::asc::new(args)\n    }\n\n    /// To specify the descending ordering.\n    ///\n    /// # Command syntax\n    /// ```text\n    /// r.desc(field)\n    /// r.desc(func)\n    /// ```\n    ///\n    /// Where:\n    /// - field: String, \u0026str\n    /// - func: func!(...)\n    ///\n    /// ## Example\n    ///\n    /// ```\n    /// use reql_rust::prelude::Converter;\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"simbad\")\n    ///         .order_by(args!(r.expr(\"id\"), r.desc(\"character\")))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///\n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn desc(self, args: impl cmd::desc::DescArg) -\u003e Command {\n        cmd::desc::new(args)\n    }\n\n    /// max_val are used with some commands such as `between`\n    /// to specify absolute upper bounds.\n    ///\n    /// # Command syntax\n    /// ```text\n    /// r::min_val()\n    /// ```\n    ///\n    /// ## Example\n    ///\n    /// ```\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"simbad\")\n    ///         .between(args!(r::min_val(), r.expr(20)))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///\n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn min_val() -\u003e Command {\n        Command::new(ql2::term::TermType::Minval)\n    }\n\n    /// max_val are used with some commands such as `between`\n    /// to specify absolute upper bounds.\n    ///\n    /// # Command syntax\n    /// ```text\n    /// r::max_val()\n    /// ```\n    ///\n    /// ## Example\n    ///\n    /// ```\n    /// use reql_rust::{args, r, Result};\n    ///\n    /// async fn example() -\u003e Result\u003c()\u003e {\n    ///     let conn = r.connection().connect().await?;\n    ///     let response = r.table(\"simbad\")\n    ///         .between(args!(r.expr(10), r::max_val()))\n    ///         .run(\u0026conn)\n    ///         .await?;\n    ///\n    ///     assert!(response.is_some());\n    ///\n    ///     Ok(())\n    /// }\n    /// ```\n    pub fn max_val() -\u003e Command {\n        Command::new(ql2::term::TermType::Maxval)\n    }\n}\n\n// Helper for making writing examples less verbose\n#[doc(hidden)]\npub fn example\u003c'a, Q, F, S\u003e(_query: Q)\nwhere\n    Q: FnOnce(r, \u0026'a mut Session) -\u003e async_stream::AsyncStream\u003c(), F\u003e,\n    F: futures::Future\u003cOutput = S\u003e,\n    S: futures::Stream\u003cItem = Result\u003cserde_json::Value\u003e\u003e,\n{\n}\n","traces":[{"line":36,"address":[4751456],"length":1,"stats":{"Line":4},"fn_name":"connection"},{"line":37,"address":[4751468],"length":1,"stats":{"Line":4},"fn_name":null},{"line":40,"address":[4751488],"length":1,"stats":{"Line":1},"fn_name":"db_create"},{"line":41,"address":[4751510],"length":1,"stats":{"Line":1},"fn_name":null},{"line":44,"address":[4751536],"length":1,"stats":{"Line":1},"fn_name":"db_drop"},{"line":45,"address":[4751558],"length":1,"stats":{"Line":1},"fn_name":null},{"line":48,"address":[4751584],"length":1,"stats":{"Line":1},"fn_name":"db_list"},{"line":49,"address":[4751596],"length":1,"stats":{"Line":1},"fn_name":null},{"line":52,"address":[4751616],"length":1,"stats":{"Line":3},"fn_name":"db"},{"line":53,"address":[4751638],"length":1,"stats":{"Line":3},"fn_name":null},{"line":56,"address":[4106832],"length":1,"stats":{"Line":6},"fn_name":"table_create\u003c\u0026str\u003e"},{"line":57,"address":[4106854],"length":1,"stats":{"Line":6},"fn_name":null},{"line":60,"address":[4751664],"length":1,"stats":{"Line":1},"fn_name":"table_drop"},{"line":61,"address":[4751686],"length":1,"stats":{"Line":1},"fn_name":null},{"line":64,"address":[4751712],"length":1,"stats":{"Line":1},"fn_name":"table_list"},{"line":65,"address":[4751724],"length":1,"stats":{"Line":1},"fn_name":null},{"line":68,"address":[4106880],"length":1,"stats":{"Line":6},"fn_name":"table\u003c\u0026str\u003e"},{"line":69,"address":[4106902],"length":1,"stats":{"Line":6},"fn_name":null},{"line":120,"address":[4106928],"length":1,"stats":{"Line":1},"fn_name":"object\u003c\u0026str\u003e"},{"line":121,"address":[4106939],"length":1,"stats":{"Line":1},"fn_name":null},{"line":124,"address":[4106992],"length":1,"stats":{"Line":1},"fn_name":"and\u003calloc::vec::Vec\u003cbool, alloc::alloc::Global\u003e\u003e"},{"line":125,"address":[4107003],"length":1,"stats":{"Line":1},"fn_name":null},{"line":128,"address":[4107056],"length":1,"stats":{"Line":1},"fn_name":"or\u003calloc::vec::Vec\u003cbool, alloc::alloc::Global\u003e\u003e"},{"line":129,"address":[4107067],"length":1,"stats":{"Line":1},"fn_name":null},{"line":132,"address":[4107120],"length":1,"stats":{"Line":1},"fn_name":"eq\u003calloc::vec::Vec\u003ci32, alloc::alloc::Global\u003e\u003e"},{"line":133,"address":[4107131],"length":1,"stats":{"Line":1},"fn_name":null},{"line":136,"address":[4107184],"length":1,"stats":{"Line":1},"fn_name":"ne\u003calloc::vec::Vec\u003ci32, alloc::alloc::Global\u003e\u003e"},{"line":137,"address":[4107195],"length":1,"stats":{"Line":1},"fn_name":null},{"line":140,"address":[4107248],"length":1,"stats":{"Line":1},"fn_name":"gt\u003creql_rust::arguments::Args\u003calloc::vec::Vec\u003ci32, alloc::alloc::Global\u003e\u003e\u003e"},{"line":141,"address":[4107259],"length":1,"stats":{"Line":1},"fn_name":null},{"line":144,"address":[4107312],"length":1,"stats":{"Line":1},"fn_name":"ge\u003creql_rust::arguments::Args\u003calloc::vec::Vec\u003ci32, alloc::alloc::Global\u003e\u003e\u003e"},{"line":145,"address":[4107323],"length":1,"stats":{"Line":1},"fn_name":null},{"line":148,"address":[4107376],"length":1,"stats":{"Line":1},"fn_name":"lt\u003creql_rust::arguments::Args\u003calloc::vec::Vec\u003ci32, alloc::alloc::Global\u003e\u003e\u003e"},{"line":149,"address":[4107387],"length":1,"stats":{"Line":1},"fn_name":null},{"line":152,"address":[4107440],"length":1,"stats":{"Line":1},"fn_name":"le\u003creql_rust::arguments::Args\u003calloc::vec::Vec\u003ci32, alloc::alloc::Global\u003e\u003e\u003e"},{"line":153,"address":[4107451],"length":1,"stats":{"Line":1},"fn_name":null},{"line":156,"address":[4751744],"length":1,"stats":{"Line":1},"fn_name":"not"},{"line":157,"address":[4751768],"length":1,"stats":{"Line":1},"fn_name":null},{"line":160,"address":[4107536,4107504,4107568],"length":1,"stats":{"Line":3},"fn_name":"random\u003c()\u003e"},{"line":161,"address":[4107515,4107579,4107552],"length":1,"stats":{"Line":3},"fn_name":null},{"line":164,"address":[4751792],"length":1,"stats":{"Line":1},"fn_name":"round"},{"line":165,"address":[4751809],"length":1,"stats":{"Line":1},"fn_name":null},{"line":168,"address":[4751824],"length":1,"stats":{"Line":1},"fn_name":"ceil"},{"line":169,"address":[4751841],"length":1,"stats":{"Line":1},"fn_name":null},{"line":172,"address":[4751856],"length":1,"stats":{"Line":1},"fn_name":"floor"},{"line":173,"address":[4751873],"length":1,"stats":{"Line":1},"fn_name":null},{"line":255,"address":[4107632],"length":1,"stats":{"Line":1},"fn_name":"bit_and\u003creql_rust::proto::Command\u003e"},{"line":256,"address":[4107654],"length":1,"stats":{"Line":1},"fn_name":null},{"line":336,"address":[4107728],"length":1,"stats":{"Line":1},"fn_name":"bit_or\u003creql_rust::proto::Command\u003e"},{"line":337,"address":[4107750],"length":1,"stats":{"Line":1},"fn_name":null},{"line":420,"address":[4107824],"length":1,"stats":{"Line":1},"fn_name":"bit_xor\u003creql_rust::proto::Command\u003e"},{"line":421,"address":[4107846],"length":1,"stats":{"Line":1},"fn_name":null},{"line":477,"address":[4751888],"length":1,"stats":{"Line":1},"fn_name":"bit_not"},{"line":478,"address":[4751905],"length":1,"stats":{"Line":1},"fn_name":null},{"line":544,"address":[4107920],"length":1,"stats":{"Line":1},"fn_name":"bit_sal\u003creql_rust::proto::Command\u003e"},{"line":545,"address":[4107942],"length":1,"stats":{"Line":1},"fn_name":null},{"line":606,"address":[4108016],"length":1,"stats":{"Line":1},"fn_name":"bit_sar\u003creql_rust::proto::Command\u003e"},{"line":607,"address":[4108038],"length":1,"stats":{"Line":1},"fn_name":null},{"line":657,"address":[4751952],"length":1,"stats":{"Line":1},"fn_name":"now"},{"line":658,"address":[4751964],"length":1,"stats":{"Line":1},"fn_name":null},{"line":710,"address":[4108176,4108112],"length":1,"stats":{"Line":2},"fn_name":"time\u003creql_rust::arguments::Args\u003c(time::date::Date, time::time::Time, time::utc_offset::UtcOffset)\u003e\u003e"},{"line":711,"address":[4108124,4108202],"length":1,"stats":{"Line":2},"fn_name":null},{"line":754,"address":[4751984],"length":1,"stats":{"Line":1},"fn_name":"epoch_time"},{"line":755,"address":[4752000],"length":1,"stats":{"Line":1},"fn_name":null},{"line":811,"address":[4108240,4108304],"length":1,"stats":{"Line":2},"fn_name":"iso8601\u003creql_rust::arguments::Args\u003c(\u0026str, time::utc_offset::UtcOffset)\u003e\u003e"},{"line":812,"address":[4108251,4108326],"length":1,"stats":{"Line":2},"fn_name":null},{"line":816,"address":[4108352],"length":1,"stats":{"Line":1},"fn_name":"hash_map\u003c\u0026str\u003e"},{"line":820,"address":[4108365],"length":1,"stats":{"Line":1},"fn_name":null},{"line":866,"address":[4108416],"length":1,"stats":{"Line":1},"fn_name":"args\u003c\u0026alloc::vec::Vec\u003cu8, alloc::alloc::Global\u003e, u8\u003e"},{"line":871,"address":[4108432],"length":1,"stats":{"Line":1},"fn_name":null},{"line":950,"address":[4752016],"length":1,"stats":{"Line":1},"fn_name":"binary"},{"line":951,"address":[4752038],"length":1,"stats":{"Line":1},"fn_name":null},{"line":1085,"address":[4108448],"length":1,"stats":{"Line":1},"fn_name":"branch\u003creql_rust::arguments::Args\u003c(reql_rust::proto::Command, reql_rust::proto::Command)\u003e\u003e"},{"line":1086,"address":[4108469],"length":1,"stats":{"Line":1},"fn_name":null},{"line":1191,"address":[4108624,4108544,4108592],"length":1,"stats":{"Line":3},"fn_name":"range\u003creql_rust::arguments::Args\u003c(isize, isize)\u003e\u003e"},{"line":1192,"address":[4108608,4108566,4108635],"length":1,"stats":{"Line":3},"fn_name":null},{"line":1234,"address":[4108656],"length":1,"stats":{"Line":1},"fn_name":"error\u003c\u0026str\u003e"},{"line":1235,"address":[4108678],"length":1,"stats":{"Line":1},"fn_name":null},{"line":1275,"address":[4108800,4108704,4108832,4108752,4108912],"length":1,"stats":{"Line":6},"fn_name":"expr\u003c\u0026str\u003e"},{"line":1276,"address":[4108726,4108844,4108924,4108776,4108816],"length":1,"stats":{"Line":6},"fn_name":null},{"line":1343,"address":[4108960],"length":1,"stats":{"Line":1},"fn_name":"js\u003c\u0026str\u003e"},{"line":1344,"address":[4108982],"length":1,"stats":{"Line":1},"fn_name":null},{"line":1383,"address":[4752064],"length":1,"stats":{"Line":0},"fn_name":"info"},{"line":1384,"address":[4752081],"length":1,"stats":{"Line":0},"fn_name":null},{"line":1420,"address":[4109008],"length":1,"stats":{"Line":1},"fn_name":"json\u003c\u0026str\u003e"},{"line":1421,"address":[4109030],"length":1,"stats":{"Line":1},"fn_name":null},{"line":1548,"address":[4109056,4109120],"length":1,"stats":{"Line":2},"fn_name":"http\u003cserde_json::value::Value, reql_rust::arguments::Args\u003c(\u0026str, serde_json::value::Value)\u003e\u003e"},{"line":1552,"address":[4109069,4109142],"length":1,"stats":{"Line":2},"fn_name":null},{"line":1626,"address":[4109168],"length":1,"stats":{"Line":1},"fn_name":"uuid\u003c()\u003e"},{"line":1627,"address":[4109179],"length":1,"stats":{"Line":1},"fn_name":null},{"line":1695,"address":[4109200],"length":1,"stats":{"Line":1},"fn_name":"circle\u003creql_rust::arguments::Args\u003c(reql_rust::cmd::point::Point, f64)\u003e\u003e"},{"line":1696,"address":[4109212],"length":1,"stats":{"Line":1},"fn_name":null},{"line":1759,"address":[4109280],"length":1,"stats":{"Line":1},"fn_name":"distance\u003creql_rust::arguments::Args\u003c(reql_rust::cmd::point::Point, reql_rust::cmd::distance::DistanceOption)\u003e\u003e"},{"line":1760,"address":[4109301],"length":1,"stats":{"Line":1},"fn_name":null},{"line":1822,"address":[4109408],"length":1,"stats":{"Line":1},"fn_name":"geojson\u003c[f64; 2]\u003e"},{"line":1823,"address":[4109419],"length":1,"stats":{"Line":1},"fn_name":null},{"line":1884,"address":[4752128],"length":1,"stats":{"Line":1},"fn_name":"line"},{"line":1885,"address":[4752150],"length":1,"stats":{"Line":1},"fn_name":null},{"line":1939,"address":[4752176],"length":1,"stats":{"Line":1},"fn_name":"point"},{"line":1940,"address":[4752200],"length":1,"stats":{"Line":1},"fn_name":null},{"line":2009,"address":[4752224],"length":1,"stats":{"Line":1},"fn_name":"polygon"},{"line":2010,"address":[4752246],"length":1,"stats":{"Line":1},"fn_name":null},{"line":2245,"address":[4752272],"length":1,"stats":{"Line":0},"fn_name":"grant"},{"line":2246,"address":[4752306],"length":1,"stats":{"Line":0},"fn_name":null},{"line":2366,"address":[4109472],"length":1,"stats":{"Line":1},"fn_name":"asc\u003c\u0026str\u003e"},{"line":2367,"address":[4109494],"length":1,"stats":{"Line":1},"fn_name":null},{"line":2400,"address":[4109520],"length":1,"stats":{"Line":1},"fn_name":"desc\u003c\u0026str\u003e"},{"line":2401,"address":[4109542],"length":1,"stats":{"Line":1},"fn_name":null},{"line":2429,"address":[4752336],"length":1,"stats":{"Line":1},"fn_name":"min_val"},{"line":2430,"address":[4752348],"length":1,"stats":{"Line":1},"fn_name":null},{"line":2458,"address":[4752384],"length":1,"stats":{"Line":1},"fn_name":"max_val"},{"line":2459,"address":[4752396],"length":1,"stats":{"Line":1},"fn_name":null}],"covered":108,"coverable":112},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","prelude.rs"],"content":"use std::sync::atomic::{AtomicU64, Ordering};\n\npub use futures::stream::select_all;\npub use futures::TryStreamExt;\n#[doc(hidden)]\npub use reql_macros::func;\npub use reql_macros::Geometry;\nuse serde::de::DeserializeOwned;\nuse serde::Serialize;\n\npub use crate::cmd::func::Func;\npub use crate::cmd::StaticString;\npub use crate::proto::Command;\npub use crate::Result;\n\n#[doc(hidden)]\npub static VAR_COUNTER: AtomicU64 = AtomicU64::new(1);\n\n#[doc(hidden)]\npub fn var_counter() -\u003e u64 {\n    VAR_COUNTER.fetch_add(1, Ordering::SeqCst)\n}\n\npub trait Converter {\n    fn parse\u003cT: Unpin + Serialize + DeserializeOwned\u003e(self) -\u003e Result\u003cT\u003e;\n}\n\nimpl Converter for serde_json::Value {\n    fn parse\u003cT: Unpin + Serialize + DeserializeOwned\u003e(self) -\u003e Result\u003cT\u003e {\n        Ok(serde_json::from_value(self)?)\n    }\n}\n\npub trait Geometry: Into\u003cCommand\u003e {\n    fn cmd(self) -\u003e Command {\n        self.into()\n    }\n}\n","traces":[{"line":20,"address":[2043216],"length":1,"stats":{"Line":1},"fn_name":"var_counter"},{"line":21,"address":[4534004],"length":1,"stats":{"Line":1},"fn_name":null},{"line":29,"address":[1439312],"length":1,"stats":{"Line":53},"fn_name":"parse\u003calloc::string::String\u003e"},{"line":30,"address":[2156592,2151744,2162368,2152894,2155533,2153488,2154320,2158928,2162046,2162574,2158426,2157072,2151241,2158992,2152688,2156272,2151518,2155728,2159600,2155678,2152432,2158184,2159246,2150496,2150974,2159361,2151998,2160798,2157707,2159539,2157016,2152960,2161776,2154000,2154808,2157598,2162640,2154968,2153744,2161840,2160528,2150768,2159178,2155216,2159872,2162112,2154702,2151930,2156000,2158493,2151312,2157344,2153216,2158240,2160864,2154384,2161406,2151040,2152368,2162846,2155024,2154862,2158672,2156848,2161520,2150432,2158078,2151694,2153422,2150697,2151582,2160345,2155280,2154064,2160078,2154640,2158618,2157918,2157273,2153674,2152112,2156910,2161584,2159806,2150240,2162304,2155472,2160414,2161342,2152624,2156206,2160144,2156528,2157758,2161070,2155934,2153152,2157867,2157530,2152176,2160592,2158024,2161136,2159422],"length":1,"stats":{"Line":53},"fn_name":null},{"line":35,"address":[2685104],"length":1,"stats":{"Line":2},"fn_name":"cmd\u003creql_rust::cmd::polygon::Polygon\u003e"},{"line":36,"address":[1647292],"length":1,"stats":{"Line":2},"fn_name":null}],"covered":6,"coverable":6},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","proto.rs"],"content":"use std::collections::{HashMap, VecDeque};\nuse std::{fmt, str};\n\nuse ql2::query::QueryType;\nuse ql2::term::TermType;\nuse serde::ser::{self, Serialize, Serializer};\nuse serde_json::value::{Number, Value};\n\nuse crate::cmd::run::{Db, RunOption};\n// use crate::prelude::ReqlOps;\nuse crate::{err, r};\n\n#[derive(Debug, Clone, Eq, PartialEq)]\npub(crate) enum Datum {\n    Null,\n    Bool(bool),\n    Number(Number),\n    String(String),\n    Array(Vec\u003cDatum\u003e),\n    Object(HashMap\u003cString, Datum\u003e),\n}\n\nimpl Default for Datum {\n    fn default() -\u003e Self {\n        Self::Null\n    }\n}\n\nimpl Serialize for Datum {\n    fn serialize\u003cS\u003e(\u0026self, serializer: S) -\u003e Result\u003cS::Ok, S::Error\u003e\n    where\n        S: Serializer,\n    {\n        match self {\n            Self::Null =\u003e serializer.serialize_none(),\n            Self::Bool(boolean) =\u003e boolean.serialize(serializer),\n            Self::Number(num) =\u003e num.serialize(serializer),\n            Self::String(string) =\u003e string.serialize(serializer),\n            Self::Array(arr) =\u003e (TermType::MakeArray as i32, arr).serialize(serializer),\n            Self::Object(map) =\u003e map.serialize(serializer),\n        }\n    }\n}\n\nimpl From\u003cValue\u003e for Datum {\n    fn from(value: Value) -\u003e Self {\n        match value {\n            Value::Null =\u003e Self::Null,\n            Value::Bool(boolean) =\u003e Self::Bool(boolean),\n            Value::Number(num) =\u003e Self::Number(num),\n            Value::String(string) =\u003e Self::String(string),\n            Value::Array(arr) =\u003e Self::Array(arr.into_iter().map(Into::into).collect()),\n            Value::Object(map) =\u003e Self::Object(\n                map.into_iter()\n                    .map(|(key, value)| (key, value.into()))\n                    .collect(),\n            ),\n        }\n    }\n}\n\n/// The query that will be sent to RethinkDB\n#[derive(Debug, Clone)]\npub struct Command {\n    typ: TermType,\n    datum: Option\u003csuper::Result\u003cDatum\u003e\u003e,\n    #[doc(hidden)]\n    pub args: VecDeque\u003csuper::Result\u003cCommand\u003e\u003e,\n    opts: Option\u003csuper::Result\u003cDatum\u003e\u003e,\n    change_feed: bool,\n}\n\nimpl Command {\n    #[doc(hidden)]\n    pub fn new(typ: TermType) -\u003e Self {\n        Self {\n            typ,\n            datum: None,\n            args: VecDeque::new(),\n            opts: None,\n            change_feed: false,\n        }\n    }\n\n    #[doc(hidden)]\n    pub fn var(id: u64) -\u003e Self {\n        let index = Self::from_json(id);\n        Self::new(TermType::Var).with_arg(index)\n    }\n\n    pub(crate) fn with_parent(mut self, parent: Command) -\u003e Self {\n        self.change_feed = self.change_feed || parent.change_feed;\n        self.args.push_front(Ok(parent));\n        self\n    }\n\n    #[doc(hidden)]\n    pub fn with_arg(mut self, arg: impl Into\u003cCommand\u003e) -\u003e Self {\n        let arg = arg.into();\n        self.args.push_back(Ok(arg));\n        self\n    }\n\n    pub(crate) fn with_opts\u003cT\u003e(mut self, opts: T) -\u003e Self\n    where\n        T: Serialize,\n    {\n        let opts = serde_json::to_value(\u0026opts)\n            .map(Into::into)\n            .map_err(Into::into);\n        self.opts = Some(opts);\n        self\n    }\n\n    #[doc(hidden)]\n    pub fn from_json\u003cT\u003e(arg: T) -\u003e Self\n    where\n        T: Serialize,\n    {\n        serde_json::to_value(arg)\n            .map_err(super::ReqlError::from)\n            .into()\n    }\n\n    pub(crate) fn mark_change_feed(mut self) -\u003e Self {\n        self.change_feed = true;\n        self\n    }\n\n    pub(crate) fn change_feed(\u0026self) -\u003e bool {\n        self.change_feed\n    }\n}\n\nimpl From\u003cDatum\u003e for Command {\n    fn from(datum: Datum) -\u003e Self {\n        Ok(datum).into()\n    }\n}\n\nimpl From\u003csuper::Result\u003cDatum\u003e\u003e for Command {\n    fn from(result: super::Result\u003cDatum\u003e) -\u003e Self {\n        let mut query = Self::new(TermType::Datum);\n        query.datum = Some(result);\n        query\n    }\n}\n\n#[doc(hidden)]\nimpl From\u003cValue\u003e for Command {\n    fn from(value: Value) -\u003e Self {\n        Datum::from(value).into()\n    }\n}\n\n#[doc(hidden)]\nimpl From\u003csuper::Result\u003cValue\u003e\u003e for Command {\n    fn from(result: super::Result\u003cValue\u003e) -\u003e Self {\n        match result {\n            Ok(value) =\u003e Datum::from(value).into(),\n            Err(error) =\u003e (Err(error) as super::Result\u003cDatum\u003e).into(),\n        }\n    }\n}\n\n#[derive(Debug, Clone)]\npub(crate) struct Query\u003c'a\u003e(pub(crate) \u0026'a Command);\n\nimpl Serialize for Query\u003c'_\u003e {\n    fn serialize\u003cS\u003e(\u0026self, serializer: S) -\u003e Result\u003cS::Ok, S::Error\u003e\n    where\n        S: Serializer,\n    {\n        let Query(cmd) = self;\n        match cmd.typ {\n            TermType::Datum =\u003e match \u0026cmd.datum {\n                Some(Ok(datum)) =\u003e datum.serialize(serializer),\n                Some(Err(error)) =\u003e Err(ser::Error::custom(error)),\n                _ =\u003e (None as Option\u003cDatum\u003e).serialize(serializer),\n            },\n            _ =\u003e {\n                let typ = cmd.typ as i32;\n                match \u0026cmd.opts {\n                    Some(Ok(map)) =\u003e (\n                        typ,\n                        to_query_result(\u0026cmd.args).map_err(ser::Error::custom)?,\n                        map,\n                    )\n                        .serialize(serializer),\n                    None =\u003e (typ, to_query_result(\u0026cmd.args).map_err(ser::Error::custom)?)\n                        .serialize(serializer),\n                    Some(Err(error)) =\u003e Err(ser::Error::custom(error)),\n                }\n            }\n        }\n    }\n}\n\nfn to_query_result(args: \u0026VecDeque\u003csuper::Result\u003cCommand\u003e\u003e) -\u003e super::Result\u003cVec\u003cQuery\u003c'_\u003e\u003e\u003e {\n    let mut vec = Vec::with_capacity(args.len());\n    for result in args {\n        let arg = result.as_ref().map_err(|error| error.clone())?;\n        vec.push(Query(arg));\n    }\n    Ok(vec)\n}\n\n#[derive(Debug, Clone)]\npub(crate) struct Payload\u003c'a\u003e(\n    pub(crate) QueryType,\n    pub(crate) Option\u003cQuery\u003c'a\u003e\u003e,\n    pub(crate) RunOption,\n);\n\nimpl Serialize for Payload\u003c'_\u003e {\n    fn serialize\u003cS\u003e(\u0026self, serializer: S) -\u003e Result\u003cS::Ok, S::Error\u003e\n    where\n        S: Serializer,\n    {\n        let Payload(typ, qry, opts) = self;\n        let typ = *typ as i32;\n        match qry {\n            Some(query) =\u003e (typ, query, opts).serialize(serializer),\n            None =\u003e (typ,).serialize(serializer),\n        }\n    }\n}\n\nimpl Payload\u003c'_\u003e {\n    pub(crate) fn to_bytes(\u0026self) -\u003e Result\u003cVec\u003cu8\u003e, err::ReqlError\u003e {\n        Ok(serde_json::to_vec(self)?)\n    }\n}\n\n// for debugging purposes only\nimpl fmt::Display for Payload\u003c'_\u003e {\n    fn fmt(\u0026self, f: \u0026mut fmt::Formatter\u003c'_\u003e) -\u003e fmt::Result {\n        // print the serialised string if we can\n        if let Ok(payload) = self.to_bytes() {\n            if let Ok(payload) = str::from_utf8(\u0026payload) {\n                return write!(f, \"{}\", payload);\n            }\n        }\n        // otherwise just print the debug form\n        write!(f, \"{:?}\", self)\n    }\n}\n\nimpl Serialize for Db {\n    fn serialize\u003cS\u003e(\u0026self, serializer: S) -\u003e Result\u003cS::Ok, S::Error\u003e\n    where\n        S: Serializer,\n    {\n        let Self(name) = self;\n        let cmd = r.db(name.as_ref());\n        Query(\u0026cmd).serialize(serializer)\n    }\n}\n","traces":[{"line":24,"address":[4033920],"length":1,"stats":{"Line":0},"fn_name":"default"},{"line":25,"address":[4033923],"length":1,"stats":{"Line":0},"fn_name":null},{"line":30,"address":[2167984,2168413],"length":1,"stats":{"Line":10},"fn_name":"serialize\u003c\u0026mut serde_json::ser::Serializer\u003c\u0026mut alloc::vec::Vec\u003cu8, alloc::alloc::Global\u003e, serde_json::ser::CompactFormatter\u003e\u003e"},{"line":34,"address":[2168011],"length":1,"stats":{"Line":10},"fn_name":null},{"line":35,"address":[2168057,2168406],"length":1,"stats":{"Line":2},"fn_name":null},{"line":36,"address":[2168394,2168087],"length":1,"stats":{"Line":2},"fn_name":null},{"line":37,"address":[2168129,2168382],"length":1,"stats":{"Line":2},"fn_name":null},{"line":38,"address":[2168171,2168370],"length":1,"stats":{"Line":16},"fn_name":null},{"line":39,"address":[2168213,2168358],"length":1,"stats":{"Line":2},"fn_name":null},{"line":40,"address":[2168335,2168270],"length":1,"stats":{"Line":16},"fn_name":null},{"line":46,"address":[4033936],"length":1,"stats":{"Line":10},"fn_name":"from"},{"line":47,"address":[4033958],"length":1,"stats":{"Line":10},"fn_name":null},{"line":48,"address":[4033994],"length":1,"stats":{"Line":1},"fn_name":null},{"line":49,"address":[4034012],"length":1,"stats":{"Line":1},"fn_name":null},{"line":50,"address":[4034053],"length":1,"stats":{"Line":1},"fn_name":null},{"line":51,"address":[4034116],"length":1,"stats":{"Line":8},"fn_name":null},{"line":52,"address":[4034193,4034481],"length":1,"stats":{"Line":2},"fn_name":null},{"line":54,"address":[4034339],"length":1,"stats":{"Line":8},"fn_name":null},{"line":55,"address":[2168456,2168432],"length":1,"stats":{"Line":2},"fn_name":"{closure#0}"},{"line":75,"address":[4034544,4034760],"length":1,"stats":{"Line":11},"fn_name":"new"},{"line":79,"address":[4034586],"length":1,"stats":{"Line":11},"fn_name":null},{"line":86,"address":[4035029,4035002,4034800],"length":1,"stats":{"Line":1},"fn_name":"var"},{"line":87,"address":[4034825],"length":1,"stats":{"Line":1},"fn_name":null},{"line":88,"address":[4034851,4034918],"length":1,"stats":{"Line":2},"fn_name":null},{"line":91,"address":[4035281,4035040],"length":1,"stats":{"Line":3},"fn_name":"with_parent"},{"line":92,"address":[4035067],"length":1,"stats":{"Line":3},"fn_name":null},{"line":93,"address":[4035120],"length":1,"stats":{"Line":3},"fn_name":null},{"line":94,"address":[4035258],"length":1,"stats":{"Line":3},"fn_name":null},{"line":98,"address":[2168688,2168950],"length":1,"stats":{"Line":3},"fn_name":"with_arg\u003creql_rust::proto::Command\u003e"},{"line":99,"address":[2168748],"length":1,"stats":{"Line":3},"fn_name":null},{"line":100,"address":[2168809],"length":1,"stats":{"Line":9},"fn_name":null},{"line":101,"address":[2168927],"length":1,"stats":{"Line":9},"fn_name":null},{"line":104,"address":[2172453,2169475,2177488,2168976,2181410,2175250,2181449,2174640,2177993,2181993,2175328,2175790,2183648,2169520,2171918,2171200,2171344,2175289,2176332,2183150,2174784,2180944,2174750,2173070,2174176,2183792,2182576,2173570,2184264,2170094,2169436,2184374,2180862,2172960,2176371,2174106,2174144,2179184,2179648,2182537,2170128,2169984,2178032,2180901,2183184,2175829,2173609,2182032,2177419,2183040,2180256,2173104,2172496,2179792,2172414,2173648,2176416,2178537,2182498,2178576,2181488,2176915,2170702,2177954,2180366,2177457,2178498,2179150,2176960,2170736,2171808,2175872,2180400,2181954,2171952,2171310,2179758,2176876,2183758,2179040,2170592],"length":1,"stats":{"Line":38},"fn_name":"with_opts\u003creql_rust::cmd::random::RandomOption\u003e"},{"line":108,"address":[2178066,2177084,2172074,2175992,2170163,2182708,2170868,2181522,2183316,2183827,2180435,2173679,2178611,2177614,2183219,2180522,2183928,2182066,2180978,2175900,2176444,2174211,2178708,2173230,2176536,2179316,2179924,2177522,2169096,2172628,2178158,2175363,2173771,2174818,2173138,2176992,2182611,2181614,2179827,2171379,2171476,2175450,2181070,2171987,2182158,2170771,2172531,2169555,2174308,2179219,2174910,2169004,2169652,2170260],"length":1,"stats":{"Line":76},"fn_name":null},{"line":109,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":110,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":111,"address":[2178187,2181099,2177643,2174939,2176565,2172657,2170289,2182737,2173799,2182187,2169681,2172103,2183345,2175479,2170897,2173259,2179345,2178737,2176021,2177112,2181643,2169125,2179953,2174337,2183957,2171505,2180551],"length":1,"stats":{"Line":38},"fn_name":null},{"line":112,"address":[2182421,2177877,2178421,2176255,2184218,2178998,2180785,2175173,2172337,2173493,2179606,2172918,2170550,2176799,2175713,2169359,2181333,2180214,2182998,2174598,2183606,2181877,2177343,2171766,2169942,2174030,2171158],"length":1,"stats":{"Line":38},"fn_name":null},{"line":116,"address":[2184720,2185888,2186336,2184496,2186896,2185152,2185728,2184608,2187056,2185536,2186080,2184816,2187424,2187264,2187536,2185328,2187184,2185056,2186816,2186976,2186496,2186160,2185808,2185232,2186416,2186608,2184416,2185456,2186736,2186240,2185968,2185616,2184976,2187344,2184896],"length":1,"stats":{"Line":39},"fn_name":"from_json\u003cu8\u003e"},{"line":120,"address":[2184637,2184914,2186625,2184834,2187073,2184750,2185746,2185906,2187201,2185170,2185632,2185984,2184436,2185554,2187362,2186257,2184994,2185345,2186841,2186994,2185262,2186434,2185073,2186098,2186512,2184512,2187440,2186354,2185474,2187283,2186178,2186754,2187554,2185826,2186914],"length":1,"stats":{"Line":39},"fn_name":null},{"line":121,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":125,"address":[4035312],"length":1,"stats":{"Line":0},"fn_name":"mark_change_feed"},{"line":126,"address":[4035320],"length":1,"stats":{"Line":0},"fn_name":null},{"line":127,"address":[4035327],"length":1,"stats":{"Line":0},"fn_name":null},{"line":130,"address":[4035344],"length":1,"stats":{"Line":10},"fn_name":"change_feed"},{"line":131,"address":[4035349],"length":1,"stats":{"Line":10},"fn_name":null},{"line":136,"address":[4035376],"length":1,"stats":{"Line":10},"fn_name":"from"},{"line":137,"address":[4035392],"length":1,"stats":{"Line":11},"fn_name":null},{"line":142,"address":[4035788,4035472],"length":1,"stats":{"Line":11},"fn_name":"from"},{"line":143,"address":[4035496],"length":1,"stats":{"Line":11},"fn_name":null},{"line":144,"address":[4035760,4035581],"length":1,"stats":{"Line":22},"fn_name":null},{"line":151,"address":[4035840],"length":1,"stats":{"Line":0},"fn_name":"from"},{"line":152,"address":[4035853],"length":1,"stats":{"Line":0},"fn_name":null},{"line":158,"address":[4035936],"length":1,"stats":{"Line":3},"fn_name":"from"},{"line":159,"address":[4035958],"length":1,"stats":{"Line":9},"fn_name":null},{"line":160,"address":[4035977,4036210],"length":1,"stats":{"Line":19},"fn_name":null},{"line":161,"address":[4036084],"length":1,"stats":{"Line":0},"fn_name":null},{"line":170,"address":[2187616,2188917,2188362],"length":1,"stats":{"Line":10},"fn_name":"serialize\u003c\u0026mut serde_json::ser::Serializer\u003c\u0026mut alloc::vec::Vec\u003cu8, alloc::alloc::Global\u003e, serde_json::ser::CompactFormatter\u003e\u003e"},{"line":174,"address":[2187644],"length":1,"stats":{"Line":10},"fn_name":null},{"line":175,"address":[2187676],"length":1,"stats":{"Line":10},"fn_name":null},{"line":176,"address":[2188755,2187693],"length":1,"stats":{"Line":14},"fn_name":null},{"line":177,"address":[2188907,2188826],"length":1,"stats":{"Line":19},"fn_name":null},{"line":178,"address":[2188863],"length":1,"stats":{"Line":0},"fn_name":null},{"line":179,"address":[2188772],"length":1,"stats":{"Line":0},"fn_name":null},{"line":181,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":182,"address":[2187746],"length":1,"stats":{"Line":10},"fn_name":null},{"line":183,"address":[2187838,2187766],"length":1,"stats":{"Line":18},"fn_name":null},{"line":184,"address":[2188144,2188207,2188342,2187860],"length":1,"stats":{"Line":32},"fn_name":null},{"line":185,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":186,"address":[2187877,2188219,2188014,2188290],"length":1,"stats":{"Line":16},"fn_name":null},{"line":187,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":189,"address":[2188191,2188258,2188373,2188308,2188355],"length":1,"stats":{"Line":24},"fn_name":null},{"line":190,"address":[2188394,2187808,2188574,2188660,2188725],"length":1,"stats":{"Line":15},"fn_name":null},{"line":191,"address":[2188628,2188691,2188738,2188558],"length":1,"stats":{"Line":8},"fn_name":null},{"line":192,"address":[2187974,2187904],"length":1,"stats":{"Line":0},"fn_name":null},{"line":199,"address":[4036870,4036224],"length":1,"stats":{"Line":4},"fn_name":"to_query_result"},{"line":200,"address":[4036262],"length":1,"stats":{"Line":4},"fn_name":null},{"line":201,"address":[4036341,4036537,4036297],"length":1,"stats":{"Line":30},"fn_name":null},{"line":202,"address":[2188960,2188944],"length":1,"stats":{"Line":10},"fn_name":"{closure#0}"},{"line":203,"address":[4036865,4036661],"length":1,"stats":{"Line":20},"fn_name":null},{"line":205,"address":[4036450],"length":1,"stats":{"Line":10},"fn_name":null},{"line":216,"address":[2188976],"length":1,"stats":{"Line":10},"fn_name":"serialize\u003c\u0026mut serde_json::ser::Serializer\u003c\u0026mut alloc::vec::Vec\u003cu8, alloc::alloc::Global\u003e, serde_json::ser::CompactFormatter\u003e\u003e"},{"line":220,"address":[2188998],"length":1,"stats":{"Line":10},"fn_name":null},{"line":221,"address":[2189042],"length":1,"stats":{"Line":10},"fn_name":null},{"line":222,"address":[2189056],"length":1,"stats":{"Line":10},"fn_name":null},{"line":223,"address":[2189125],"length":1,"stats":{"Line":10},"fn_name":null},{"line":224,"address":[2189085],"length":1,"stats":{"Line":0},"fn_name":null},{"line":230,"address":[4036896],"length":1,"stats":{"Line":10},"fn_name":"to_bytes"},{"line":231,"address":[4036921,4037074],"length":1,"stats":{"Line":10},"fn_name":null},{"line":237,"address":[4037120,4037790,4037769],"length":1,"stats":{"Line":0},"fn_name":"fmt"},{"line":239,"address":[4037145],"length":1,"stats":{"Line":0},"fn_name":null},{"line":240,"address":[4037318,4037218],"length":1,"stats":{"Line":0},"fn_name":null},{"line":241,"address":[4037380,4037657],"length":1,"stats":{"Line":0},"fn_name":null},{"line":245,"address":[4037503,4037552],"length":1,"stats":{"Line":0},"fn_name":null},{"line":250,"address":[2999028,2999052,2998800],"length":1,"stats":{"Line":0},"fn_name":"serialize\u003c\u0026mut serde_json::ser::Serializer\u003c\u0026mut alloc::vec::Vec\u003cu8, alloc::alloc::Global\u003e, serde_json::ser::CompactFormatter\u003e\u003e"},{"line":254,"address":[2998828],"length":1,"stats":{"Line":0},"fn_name":null},{"line":255,"address":[2998929,2998852],"length":1,"stats":{"Line":0},"fn_name":null},{"line":256,"address":[2998946],"length":1,"stats":{"Line":0},"fn_name":null}],"covered":71,"coverable":98},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","spec.rs"],"content":"use serde::{Deserialize, Serialize};\nuse serde_json::json;\nuse uuid::Uuid;\n\nuse crate::arguments::Durability;\nuse crate::cmd::insert::InsertOption;\nuse crate::{args, r, Command, Result, Session};\n\npub async fn set_up(with_data: bool) -\u003e Result\u003c(Session, Command, String)\u003e {\n    let table_name = Uuid::new_v4().to_string();\n    let user_rethinkdb = json!({\n        \"id\": \"malik\",\n        \"password\": \"malik\"\n    });\n    let conn = r.connection().connect().await?;\n    let table = r.table(table_name.as_str());\n\n    r.table_create(table_name.as_str()).run(\u0026conn).await?;\n    r.db(\"rethinkdb\")\n        .table(\"users\")\n        .insert(user_rethinkdb)\n        .run(\u0026conn)\n        .await?;\n\n    if with_data {\n        let data = Post::get_many_data();\n        let insert_option = InsertOption::default().durability(Durability::Soft);\n\n        table.clone().index_create(\"title\").run(\u0026conn).await?;\n        table.clone().index_wait(()).run(\u0026conn).await?;\n        table\n            .clone()\n            .insert(args!((data, insert_option)))\n            .run(\u0026conn)\n            .await?;\n    }\n\n    Ok((conn, table, table_name))\n}\n\npub async fn tear_down(conn: Session, table_name: \u0026str) -\u003e Result\u003c()\u003e {\n    r.table_drop(table_name).run(\u0026conn).await?;\n    r.db(\"rethinkdb\")\n        .table(\"users\")\n        .get(\"malik\")\n        .delete(())\n        .run(\u0026conn)\n        .await?;\n    Ok(())\n}\n\n#[derive(Debug, Clone, Serialize, Deserialize, PartialEq, Eq)]\npub struct Post {\n    pub id: u8,\n    pub title: String,\n    pub content: Option\u003cString\u003e,\n    pub view: u8,\n}\n\nimpl Post {\n    pub fn new(id: u8, title: \u0026str, content: Option\u003c\u0026str\u003e, view: u8) -\u003e Self {\n        Self {\n            id,\n            view,\n            title: title.to_string(),\n            content: content.map(|text| text.to_string()),\n        }\n    }\n\n    pub fn get_many_data() -\u003e Vec\u003cPost\u003e {\n        vec![\n            Self::new(1, \"title1\", Some(\"content1\"), 10),\n            Self::new(2, \"title2\", Some(\"content2\"), 2),\n            Self::new(3, \"title3\", None, 0),\n            Self::new(4, \"title4\", Some(\"content4\"), 2),\n            Self::new(5, \"title4\", None, 0),\n        ]\n    }\n\n    pub fn get_one_data() -\u003e Post {\n        Self::new(1, \"title1\", Some(\"content1\"), 0)\n    }\n}\n","traces":[{"line":9,"address":[4513952,4514587,4515074,4514150,4521156,4514021],"length":1,"stats":{"Line":5},"fn_name":"{async_fn#0}"},{"line":10,"address":[4514715,4514128],"length":1,"stats":{"Line":2},"fn_name":null},{"line":11,"address":[4515055,4515176,4514785,4515110,4515361,4514848,4514730],"length":1,"stats":{"Line":21},"fn_name":null},{"line":15,"address":[6843568],"length":1,"stats":{"Line":17},"fn_name":null},{"line":16,"address":[4516249,4515986],"length":1,"stats":{"Line":12},"fn_name":null},{"line":18,"address":[6843377,6843434],"length":1,"stats":{"Line":19},"fn_name":null},{"line":19,"address":[4517052,4517125,4517223,4517258,4517381,4517455,4517656,4517864],"length":1,"stats":{"Line":7},"fn_name":null},{"line":21,"address":[4517168],"length":1,"stats":{"Line":1},"fn_name":null},{"line":22,"address":[6843300],"length":1,"stats":{"Line":6},"fn_name":null},{"line":23,"address":[6843314,6843354],"length":1,"stats":{"Line":1},"fn_name":null},{"line":25,"address":[4517934,4520875],"length":1,"stats":{"Line":2},"fn_name":null},{"line":26,"address":[4517956],"length":1,"stats":{"Line":1},"fn_name":null},{"line":27,"address":[4518020,4518095],"length":1,"stats":{"Line":2},"fn_name":null},{"line":29,"address":[4518194,4514243,4518240,4514400],"length":1,"stats":{"Line":4},"fn_name":null},{"line":30,"address":[4514349,4519067,4514264,4519005],"length":1,"stats":{"Line":4},"fn_name":null},{"line":31,"address":[4520222,4520145,4519987,4520631,4519781,4520022,4520423],"length":1,"stats":{"Line":6},"fn_name":null},{"line":33,"address":[4519835],"length":1,"stats":{"Line":1},"fn_name":null},{"line":34,"address":[4520350,4520178,4520002,4520045,4514282],"length":1,"stats":{"Line":5},"fn_name":null},{"line":35,"address":[4520513,4520661],"length":1,"stats":{"Line":1},"fn_name":null},{"line":38,"address":[4520936],"length":1,"stats":{"Line":1},"fn_name":null},{"line":41,"address":[4523145,4521310,4523042,4521168,4522194,4522240,4521730,4521443,4521211],"length":1,"stats":{"Line":5},"fn_name":"{async_fn#0}"},{"line":42,"address":[4521300,4521741,4521535,4521334,4521405],"length":1,"stats":{"Line":4},"fn_name":null},{"line":43,"address":[4522507,4522975,4522208,4522578,4522767,4522278,4522396],"length":1,"stats":{"Line":6},"fn_name":null},{"line":47,"address":[4522537,4522706,4522376,4521349,4522419],"length":1,"stats":{"Line":5},"fn_name":null},{"line":48,"address":[4523005,4522857],"length":1,"stats":{"Line":1},"fn_name":null},{"line":49,"address":[4523133],"length":1,"stats":{"Line":1},"fn_name":null},{"line":61,"address":[7016479,7016224],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":65,"address":[7016323],"length":1,"stats":{"Line":4},"fn_name":null},{"line":66,"address":[4523168,4523190],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":70,"address":[7017269,7016512],"length":1,"stats":{"Line":4},"fn_name":"get_many_data"},{"line":71,"address":[7016751,7016857,7016978,7016529,7017087,7016633],"length":1,"stats":{"Line":1},"fn_name":null},{"line":72,"address":[7016559],"length":1,"stats":{"Line":4},"fn_name":null},{"line":73,"address":[7016665],"length":1,"stats":{"Line":4},"fn_name":null},{"line":74,"address":[7016783],"length":1,"stats":{"Line":1},"fn_name":null},{"line":75,"address":[7016886],"length":1,"stats":{"Line":4},"fn_name":null},{"line":76,"address":[7017010],"length":1,"stats":{"Line":1},"fn_name":null},{"line":80,"address":[7017312],"length":1,"stats":{"Line":1},"fn_name":"get_one_data"},{"line":81,"address":[7017324],"length":1,"stats":{"Line":1},"fn_name":null}],"covered":38,"coverable":38},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","types","binary.rs"],"content":"use serde::{Deserialize, Serialize};\n\nuse super::ReqlType;\n\n#[derive(Debug, Serialize, Deserialize, Clone)]\npub struct Binary {\n    #[serde(rename = \"$reql_type$\")]\n    reql_type: ReqlType,\n    pub data: String,\n}\n\nimpl Binary {\n    pub fn new(bytes: \u0026[u8]) -\u003e Self {\n        Self {\n            reql_type: ReqlType::Binary,\n            data: base64::encode(bytes),\n        }\n    }\n}\n","traces":[{"line":13,"address":[2212336],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":16,"address":[2212365],"length":1,"stats":{"Line":1},"fn_name":null}],"covered":2,"coverable":2},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","types","datetime.rs"],"content":"use std::fmt::Debug;\nuse std::hash::Hash;\nuse std::ops::Deref;\n\nuse serde::{de, Deserialize, Deserializer, Serialize, Serializer};\nuse time::format_description::well_known::Iso8601;\nuse time::macros::time;\nuse time::{format_description, OffsetDateTime, UtcOffset};\n\nuse crate::arguments::Args;\nuse crate::constants::{HOUR, MINUTE, NANOS_PER_MSEC, NANOS_PER_SEC, TIMEZONE_FORMAT};\nuse crate::{cmd, Command};\n\nuse super::response_with_cmd::ResponseWithCmd;\nuse super::Time;\n\n#[derive(Clone)]\npub struct DateTime(pub OffsetDateTime, pub Option\u003cCommand\u003e);\n\nimpl DateTime {\n    pub(crate) fn now() -\u003e Self {\n        let offset_datetime = OffsetDateTime::now_utc();\n\n        Self::default().create_datetime_command(Some(offset_datetime), Some(cmd::now::new()))\n    }\n\n    pub(crate) fn time(args: impl cmd::time::TimeArg) -\u003e Self {\n        let (offset_datetime, timezone_formated, with_time) = args.into_time_opts();\n\n        Self::default().create_datetime_command(\n            Some(offset_datetime),\n            Some(cmd::time::new(\n                offset_datetime,\n                timezone_formated,\n                with_time,\n            )),\n        )\n    }\n\n    pub(crate) fn epoch_time(timestamp: i64) -\u003e crate::Result\u003cSelf\u003e {\n        let offset_datetime = OffsetDateTime::from_unix_timestamp(timestamp)?;\n\n        Ok(Self::default().create_datetime_command(\n            Some(offset_datetime),\n            Some(cmd::epoch_time::epoch_time(timestamp)),\n        ))\n    }\n\n    pub(crate) fn iso8601(args: impl cmd::iso8601::Iso8601) -\u003e crate::Result\u003cSelf\u003e {\n        let datetime = args.into_iso8601_opts()?;\n        let command = cmd::iso8601::new(\u0026datetime);\n        let datetime = OffsetDateTime::parse(\u0026datetime, \u0026Iso8601::DEFAULT)?;\n\n        Ok(Self::default().create_datetime_command(Some(datetime), Some(command)))\n    }\n\n    pub fn in_timezone(self, timezone: UtcOffset) -\u003e Self {\n        let datetime = self.0.replace_offset(timezone);\n\n        self.clone().create_datetime_command(\n            Some(datetime),\n            Some(cmd::in_timezone::new(timezone).with_parent(self.cmd())),\n        )\n    }\n\n    pub fn timezone(self) -\u003e ResponseWithCmd\u003cUtcOffset\u003e {\n        ResponseWithCmd(\n            self.0.offset(),\n            cmd::timezone::new().with_parent(self.cmd()),\n        )\n    }\n\n    pub fn during(\n        self,\n        start_time: DateTime,\n        end_time: DateTime,\n        during_option: Option\u003ccmd::during::DuringOption\u003e,\n    ) -\u003e ResponseWithCmd\u003cbool\u003e {\n        let is_verified = self.le(\u0026end_time) \u0026\u0026 self.gt(\u0026start_time);\n\n        ResponseWithCmd(\n            is_verified,\n            cmd::during::new(Args((start_time, end_time, during_option))).with_parent(self.cmd()),\n        )\n    }\n\n    pub fn date(self) -\u003e Self {\n        let datetime = self.0.replace_time(time!(00:00));\n\n        self.clone().create_datetime_command(\n            Some(datetime),\n            Some(cmd::date::new().with_parent(self.cmd())),\n        )\n    }\n\n    pub fn time_of_day(self) -\u003e ResponseWithCmd\u003cf64\u003e {\n        let time_ = self.0.time();\n        let milliseconds = get_milliseconds(\u0026time_);\n        let hours: f64 = time_.hour().into();\n        let minutes: f64 = time_.minute().into();\n        let seconds: f64 = time_.second().into();\n        let seconds: f64 = hours * HOUR + minutes * MINUTE + seconds;\n\n        ResponseWithCmd(\n            seconds + milliseconds,\n            cmd::time_of_day::new().with_parent(self.cmd()),\n        )\n    }\n\n    pub fn year(self) -\u003e ResponseWithCmd\u003ci32\u003e {\n        ResponseWithCmd(\n            self.0.date().year(),\n            cmd::year::new().with_parent(self.cmd()),\n        )\n    }\n\n    pub fn month(self) -\u003e ResponseWithCmd\u003cu8\u003e {\n        ResponseWithCmd(\n            self.0.date().month().into(),\n            cmd::month::new().with_parent(self.cmd()),\n        )\n    }\n\n    pub fn day(self) -\u003e ResponseWithCmd\u003cu8\u003e {\n        ResponseWithCmd(self.0.date().day(), cmd::day::new().with_parent(self.cmd()))\n    }\n\n    pub fn day_of_week(self) -\u003e ResponseWithCmd\u003cu8\u003e {\n        ResponseWithCmd(\n            self.0.date().weekday().number_from_monday(),\n            cmd::day_of_week::new().with_parent(self.cmd()),\n        )\n    }\n\n    pub fn day_of_year(self) -\u003e ResponseWithCmd\u003cu16\u003e {\n        ResponseWithCmd(\n            self.0.date().ordinal(),\n            cmd::day_of_year::new().with_parent(self.cmd()),\n        )\n    }\n\n    pub fn hours(self) -\u003e ResponseWithCmd\u003cu8\u003e {\n        ResponseWithCmd(\n            self.0.time().hour(),\n            cmd::hours::new().with_parent(self.cmd()),\n        )\n    }\n\n    pub fn minutes(self) -\u003e ResponseWithCmd\u003cu8\u003e {\n        ResponseWithCmd(\n            self.0.time().minute(),\n            cmd::minutes::new().with_parent(self.cmd()),\n        )\n    }\n\n    pub fn seconds(self) -\u003e ResponseWithCmd\u003cf64\u003e {\n        let time = self.0.time();\n        let second: f64 = time.second().into();\n\n        ResponseWithCmd(\n            second + get_milliseconds(\u0026time),\n            cmd::seconds::new().with_parent(self.cmd()),\n        )\n    }\n\n    pub fn to_iso8601(self) -\u003e ResponseWithCmd\u003cString\u003e {\n        let iso8601 = self.0.format(\u0026Iso8601::DEFAULT).unwrap();\n\n        ResponseWithCmd(iso8601, cmd::to_iso8601::new().with_parent(self.cmd()))\n    }\n\n    pub fn to_epoch_time(self) -\u003e ResponseWithCmd\u003cf64\u003e {\n        let milliseconds = get_milliseconds(\u0026self.0.time());\n        let current_time = self.0.unix_timestamp().to_string();\n        let current_time: f64 = current_time.parse().unwrap_or_default();\n\n        ResponseWithCmd(\n            current_time + milliseconds,\n            cmd::to_epoch_time::new().with_parent(self.cmd()),\n        )\n    }\n\n    fn create_datetime_command(\n        mut self,\n        offset_datetime: Option\u003cOffsetDateTime\u003e,\n        command: Option\u003cCommand\u003e,\n    ) -\u003e Self {\n        if let Some(command) = command {\n            self.1 = Some(command);\n        }\n\n        if let Some(offset_datetime) = offset_datetime {\n            self.0 = offset_datetime\n        }\n\n        self\n    }\n\n    pub fn cmd(self) -\u003e Command {\n        Command::from(self)\n    }\n\n    pub fn value(self) -\u003e Time {\n        Time::from(self)\n    }\n}\n\nimpl\u003c'de\u003e Deserialize\u003c'de\u003e for DateTime {\n    fn deserialize\u003cD\u003e(deserializer: D) -\u003e Result\u003cSelf, D::Error\u003e\n    where\n        D: Deserializer\u003c'de\u003e,\n    {\n        let time = Time::deserialize(deserializer)?;\n        let epoch_time = time.epoch_time.to_string();\n        let format = match format_description::parse(\"[offset_hour]:[offset_minute]\") {\n            Ok(fmt) =\u003e fmt,\n            Err(error) =\u003e {\n                return Err(de::Error::custom(error));\n            }\n        };\n        let offset = match UtcOffset::parse(\u0026time.timezone, \u0026format) {\n            Ok(offset) =\u003e offset,\n            Err(error) =\u003e {\n                return Err(de::Error::custom(error));\n            }\n        };\n        let (secs, msecs) = match epoch_time.split_once('.') {\n            Some(parts) =\u003e parts,\n            None =\u003e (epoch_time.as_str(), \"0\"),\n        };\n        let secs = match secs.parse::\u003ci128\u003e() {\n            Ok(secs) =\u003e match secs.checked_mul(NANOS_PER_SEC) {\n                Some(secs) =\u003e secs,\n                None =\u003e {\n                    return Err(de::Error::custom(\"seconds to nanosecond overflow\"));\n                }\n            },\n            Err(..) =\u003e {\n                return Err(de::Error::custom(\"invalid epoch time seconds\"));\n            }\n        };\n        // RethinkDB timestamps have millisecond precision so we need\n        // to convert the milliseconds to nanoseconds first\n        let msecs = match msecs.parse::\u003ci128\u003e() {\n            Ok(int) =\u003e {\n                let msecs = match msecs.len() {\n                    3 =\u003e int,\n                    2 =\u003e int * 10,\n                    1 =\u003e int * 100,\n                    _ =\u003e {\n                        return Err(de::Error::custom(\"invalid epoch milliseconds\"));\n                    }\n                };\n                match msecs.checked_mul(NANOS_PER_MSEC) {\n                    Some(msecs) =\u003e msecs,\n                    None =\u003e {\n                        return Err(de::Error::custom(\"millisecond to nanosecond overflow\"));\n                    }\n                }\n            }\n            Err(..) =\u003e {\n                return Err(de::Error::custom(\"invalid epoch time milliseconds\"));\n            }\n        };\n        let timestamp = match secs.checked_add(msecs) {\n            Some(timestamp) =\u003e timestamp,\n            None =\u003e {\n                return Err(de::Error::custom(\"timestamp addition overflow\"));\n            }\n        };\n        let dt = match OffsetDateTime::from_unix_timestamp_nanos(timestamp) {\n            Ok(date_time) =\u003e date_time.to_offset(offset),\n            Err(error) =\u003e {\n                return Err(de::Error::custom(error));\n            }\n        };\n        Ok(DateTime(dt, None))\n    }\n}\n\nimpl Serialize for DateTime {\n    fn serialize\u003cS\u003e(\u0026self, serializer: S) -\u003e Result\u003cS::Ok, S::Error\u003e\n    where\n        S: Serializer,\n    {\n        Time::from(self.to_owned()).serialize(serializer)\n    }\n}\n\nimpl Default for DateTime {\n    fn default() -\u003e Self {\n        let offset_datetime = OffsetDateTime::now_utc();\n\n        Self(offset_datetime, None)\n    }\n}\n\nimpl Debug for DateTime {\n    fn fmt(\u0026self, f: \u0026mut std::fmt::Formatter\u003c'_\u003e) -\u003e std::fmt::Result {\n        f.debug_tuple(\"DateTime\").field(\u0026self.0).finish()\n    }\n}\n\nimpl Deref for DateTime {\n    type Target = OffsetDateTime;\n\n    fn deref(\u0026self) -\u003e \u0026Self::Target {\n        \u0026self.0\n    }\n}\n\nimpl PartialEq for DateTime {\n    fn eq(\u0026self, other: \u0026Self) -\u003e bool {\n        self.0.eq(\u0026other.0)\n    }\n}\n\nimpl PartialOrd for DateTime {\n    fn partial_cmp(\u0026self, other: \u0026Self) -\u003e Option\u003cstd::cmp::Ordering\u003e {\n        self.0.partial_cmp(\u0026other.0)\n    }\n}\n\nimpl Eq for DateTime {}\n\nimpl Ord for DateTime {\n    fn cmp(\u0026self, other: \u0026Self) -\u003e std::cmp::Ordering {\n        self.0.cmp(\u0026other.0)\n    }\n}\n\nimpl Hash for DateTime {\n    fn hash\u003cH: std::hash::Hasher\u003e(\u0026self, state: \u0026mut H) {\n        self.0.hash(state);\n    }\n}\n\nimpl From\u003cOffsetDateTime\u003e for DateTime {\n    fn from(dt: OffsetDateTime) -\u003e Self {\n        Self(dt, None)\n    }\n}\n\nimpl From\u003cDateTime\u003e for OffsetDateTime {\n    fn from(DateTime(dt, _): DateTime) -\u003e Self {\n        dt\n    }\n}\n\nimpl From\u003cDateTime\u003e for Command {\n    fn from(date_time: DateTime) -\u003e Self {\n        date_time.1.unwrap()\n    }\n}\n\nimpl From\u003cDateTime\u003e for Time {\n    fn from(date_time: DateTime) -\u003e Self {\n        Self::from(date_time.0)\n    }\n}\n\npub fn timezone_to_string(timezone: UtcOffset) -\u003e String {\n    if timezone.is_utc() {\n        String::from(\"Z\")\n    } else {\n        let format = format_description::parse(TIMEZONE_FORMAT).unwrap();\n        timezone.format(\u0026format).unwrap()\n    }\n}\n\nfn get_milliseconds(time: \u0026time::Time) -\u003e f64 {\n    let milliseconds: f64 = time.millisecond().into();\n\n    milliseconds / 1000.\n}\n","traces":[{"line":21,"address":[4020500,4020527,4020272],"length":1,"stats":{"Line":1},"fn_name":"now"},{"line":22,"address":[4020289],"length":1,"stats":{"Line":1},"fn_name":null},{"line":24,"address":[4020308,4020520],"length":1,"stats":{"Line":1},"fn_name":null},{"line":27,"address":[4404256,4404782,4403792,4404304],"length":1,"stats":{"Line":2},"fn_name":"time\u003creql_rust::arguments::Args\u003c(time::date::Date, time::time::Time, time::utc_offset::UtcOffset)\u003e\u003e"},{"line":28,"address":[4404336,4403809],"length":1,"stats":{"Line":2},"fn_name":null},{"line":30,"address":[4403921,4404178,4404704,4404447],"length":1,"stats":{"Line":4},"fn_name":null},{"line":31,"address":[4404499,4403973],"length":1,"stats":{"Line":2},"fn_name":null},{"line":32,"address":[4404693,4404583,4404057,4404167],"length":1,"stats":{"Line":4},"fn_name":null},{"line":33,"address":[4404536,4404010],"length":1,"stats":{"Line":2},"fn_name":null},{"line":34,"address":[4404549,4404023],"length":1,"stats":{"Line":2},"fn_name":null},{"line":40,"address":[4021008,4021038,4020544],"length":1,"stats":{"Line":1},"fn_name":"epoch_time"},{"line":41,"address":[4020574,4020698],"length":1,"stats":{"Line":1},"fn_name":null},{"line":43,"address":[4020675,4020969,4020917],"length":1,"stats":{"Line":3},"fn_name":null},{"line":44,"address":[4020794],"length":1,"stats":{"Line":1},"fn_name":null},{"line":45,"address":[4020831,4020911],"length":1,"stats":{"Line":2},"fn_name":null},{"line":49,"address":[4405801,4405840,4406782,4404832],"length":1,"stats":{"Line":2},"fn_name":"iso8601\u003creql_rust::arguments::Args\u003c(\u0026str, time::utc_offset::UtcOffset)\u003e\u003e"},{"line":50,"address":[4405873,4405027,4404849,4406008],"length":1,"stats":{"Line":2},"fn_name":null},{"line":51,"address":[4406160,4405988,4405007,4405179],"length":1,"stats":{"Line":4},"fn_name":null},{"line":52,"address":[4405264,4406245,4406180,4406363,4405199,4405382],"length":1,"stats":{"Line":4},"fn_name":null},{"line":54,"address":[4405571,4405367,4406348,4406552],"length":1,"stats":{"Line":4},"fn_name":null},{"line":57,"address":[4021056,4021696,4021649],"length":1,"stats":{"Line":1},"fn_name":"in_timezone"},{"line":58,"address":[4021113],"length":1,"stats":{"Line":1},"fn_name":null},{"line":60,"address":[4021603,4021262],"length":1,"stats":{"Line":2},"fn_name":null},{"line":61,"address":[4021277],"length":1,"stats":{"Line":1},"fn_name":null},{"line":62,"address":[4021412,4021639,4021306],"length":1,"stats":{"Line":2},"fn_name":null},{"line":66,"address":[4022131,4021728],"length":1,"stats":{"Line":1},"fn_name":"timezone"},{"line":68,"address":[4021851,4021750],"length":1,"stats":{"Line":2},"fn_name":null},{"line":69,"address":[4021904,4022121],"length":1,"stats":{"Line":1},"fn_name":null},{"line":73,"address":[4022923,4022176,4022864],"length":1,"stats":{"Line":1},"fn_name":"during"},{"line":79,"address":[4022252,4022370],"length":1,"stats":{"Line":2},"fn_name":null},{"line":82,"address":[4022425],"length":1,"stats":{"Line":1},"fn_name":null},{"line":83,"address":[4022436,4022854],"length":1,"stats":{"Line":1},"fn_name":null},{"line":87,"address":[4022960,4023453,4023500],"length":1,"stats":{"Line":1},"fn_name":"date"},{"line":88,"address":[4022982],"length":1,"stats":{"Line":1},"fn_name":null},{"line":90,"address":[4023407,4023112],"length":1,"stats":{"Line":2},"fn_name":null},{"line":91,"address":[4023127],"length":1,"stats":{"Line":1},"fn_name":null},{"line":92,"address":[4023443,4023214,4023164],"length":1,"stats":{"Line":2},"fn_name":null},{"line":96,"address":[4023536,4024230],"length":1,"stats":{"Line":1},"fn_name":"time_of_day"},{"line":97,"address":[4023558,4023661],"length":1,"stats":{"Line":2},"fn_name":null},{"line":98,"address":[4023687],"length":1,"stats":{"Line":1},"fn_name":null},{"line":99,"address":[4023715],"length":1,"stats":{"Line":1},"fn_name":null},{"line":100,"address":[4023786],"length":1,"stats":{"Line":1},"fn_name":null},{"line":101,"address":[4023857],"length":1,"stats":{"Line":1},"fn_name":null},{"line":102,"address":[4023954],"length":1,"stats":{"Line":1},"fn_name":null},{"line":105,"address":[4023987],"length":1,"stats":{"Line":1},"fn_name":null},{"line":106,"address":[4024005,4024220],"length":1,"stats":{"Line":1},"fn_name":null},{"line":110,"address":[4024272,4024633],"length":1,"stats":{"Line":1},"fn_name":"year"},{"line":112,"address":[4024294,4024395],"length":1,"stats":{"Line":2},"fn_name":null},{"line":113,"address":[4024623,4024418],"length":1,"stats":{"Line":1},"fn_name":null},{"line":117,"address":[4025051,4024672],"length":1,"stats":{"Line":1},"fn_name":"month"},{"line":119,"address":[4024795,4024694],"length":1,"stats":{"Line":2},"fn_name":null},{"line":120,"address":[4025041,4024836],"length":1,"stats":{"Line":1},"fn_name":null},{"line":124,"address":[4025465,4025104],"length":1,"stats":{"Line":1},"fn_name":"day"},{"line":125,"address":[4025227,4025455,4025126],"length":1,"stats":{"Line":2},"fn_name":null},{"line":128,"address":[4025887,4025504],"length":1,"stats":{"Line":1},"fn_name":"day_of_week"},{"line":130,"address":[4025627,4025526],"length":1,"stats":{"Line":2},"fn_name":null},{"line":131,"address":[4025672,4025877],"length":1,"stats":{"Line":1},"fn_name":null},{"line":135,"address":[4026300,4025936],"length":1,"stats":{"Line":1},"fn_name":"day_of_year"},{"line":137,"address":[4026059,4025958],"length":1,"stats":{"Line":2},"fn_name":null},{"line":138,"address":[4026083,4026290],"length":1,"stats":{"Line":1},"fn_name":null},{"line":142,"address":[4026743,4026352],"length":1,"stats":{"Line":1},"fn_name":"hours"},{"line":144,"address":[4026374,4026477],"length":1,"stats":{"Line":2},"fn_name":null},{"line":145,"address":[4026733,4026526],"length":1,"stats":{"Line":1},"fn_name":null},{"line":149,"address":[4027175,4026784],"length":1,"stats":{"Line":1},"fn_name":"minutes"},{"line":151,"address":[4026909,4026806],"length":1,"stats":{"Line":2},"fn_name":null},{"line":152,"address":[4026958,4027165],"length":1,"stats":{"Line":1},"fn_name":null},{"line":156,"address":[4027216,4027694],"length":1,"stats":{"Line":1},"fn_name":"seconds"},{"line":157,"address":[4027238,4027341],"length":1,"stats":{"Line":2},"fn_name":null},{"line":158,"address":[4027362],"length":1,"stats":{"Line":1},"fn_name":null},{"line":161,"address":[4027432],"length":1,"stats":{"Line":1},"fn_name":null},{"line":162,"address":[4027684,4027475],"length":1,"stats":{"Line":1},"fn_name":null},{"line":166,"address":[4028207,4027744],"length":1,"stats":{"Line":1},"fn_name":"to_iso8601"},{"line":167,"address":[4027867,4027766],"length":1,"stats":{"Line":2},"fn_name":null},{"line":169,"address":[4028197,4027891],"length":1,"stats":{"Line":1},"fn_name":null},{"line":172,"address":[4028900,4028924,4028256],"length":1,"stats":{"Line":1},"fn_name":"to_epoch_time"},{"line":173,"address":[4028278,4028381],"length":1,"stats":{"Line":2},"fn_name":null},{"line":174,"address":[4028440],"length":1,"stats":{"Line":1},"fn_name":null},{"line":175,"address":[4028597,4028521],"length":1,"stats":{"Line":2},"fn_name":null},{"line":178,"address":[4028646],"length":1,"stats":{"Line":1},"fn_name":null},{"line":179,"address":[4028664,4028890],"length":1,"stats":{"Line":1},"fn_name":null},{"line":183,"address":[4029514,4028960,4029541],"length":1,"stats":{"Line":1},"fn_name":"create_datetime_command"},{"line":188,"address":[4028992,4029277],"length":1,"stats":{"Line":2},"fn_name":null},{"line":189,"address":[4029196,4029125,4029251],"length":1,"stats":{"Line":2},"fn_name":null},{"line":192,"address":[4029169,4029308],"length":1,"stats":{"Line":2},"fn_name":null},{"line":193,"address":[4029331],"length":1,"stats":{"Line":1},"fn_name":null},{"line":196,"address":[4029403],"length":1,"stats":{"Line":1},"fn_name":null},{"line":199,"address":[4029552],"length":1,"stats":{"Line":1},"fn_name":"cmd"},{"line":200,"address":[4029568],"length":1,"stats":{"Line":1},"fn_name":null},{"line":203,"address":[4029616],"length":1,"stats":{"Line":1},"fn_name":"value"},{"line":204,"address":[4029632],"length":1,"stats":{"Line":1},"fn_name":null},{"line":213,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":214,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":215,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":216,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":217,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":218,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":221,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":222,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":223,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":224,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":227,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":228,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":229,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":231,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":232,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":233,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":234,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":235,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":238,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":239,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":244,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":245,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":246,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":247,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":248,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":249,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":250,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":251,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":254,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":255,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":256,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":257,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":261,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":262,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":265,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":266,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":267,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":268,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":271,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":272,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":273,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":274,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":277,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":286,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":291,"address":[4029680],"length":1,"stats":{"Line":1},"fn_name":"default"},{"line":292,"address":[4029696],"length":1,"stats":{"Line":1},"fn_name":null},{"line":294,"address":[4029711],"length":1,"stats":{"Line":1},"fn_name":null},{"line":299,"address":[4029792],"length":1,"stats":{"Line":0},"fn_name":"fmt"},{"line":300,"address":[4029811],"length":1,"stats":{"Line":0},"fn_name":null},{"line":307,"address":[4029904],"length":1,"stats":{"Line":0},"fn_name":"deref"},{"line":308,"address":[4029912],"length":1,"stats":{"Line":0},"fn_name":null},{"line":313,"address":[4029920],"length":1,"stats":{"Line":0},"fn_name":"eq"},{"line":314,"address":[4029934],"length":1,"stats":{"Line":0},"fn_name":null},{"line":319,"address":[4029984],"length":1,"stats":{"Line":1},"fn_name":"partial_cmp"},{"line":320,"address":[4029998],"length":1,"stats":{"Line":1},"fn_name":null},{"line":327,"address":[4030032],"length":1,"stats":{"Line":0},"fn_name":"cmp"},{"line":328,"address":[4030046],"length":1,"stats":{"Line":0},"fn_name":null},{"line":333,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":334,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":339,"address":[4030080],"length":1,"stats":{"Line":0},"fn_name":"from"},{"line":340,"address":[4030095],"length":1,"stats":{"Line":0},"fn_name":null},{"line":345,"address":[4751392,4751417],"length":1,"stats":{"Line":0},"fn_name":"from"},{"line":351,"address":[4059584],"length":1,"stats":{"Line":1},"fn_name":"from"},{"line":352,"address":[4059600],"length":1,"stats":{"Line":1},"fn_name":null},{"line":357,"address":[1766208,1766286],"length":1,"stats":{"Line":1},"fn_name":"from"},{"line":358,"address":[1766224],"length":1,"stats":{"Line":1},"fn_name":null},{"line":362,"address":[4030504,4030176],"length":1,"stats":{"Line":1},"fn_name":"timezone_to_string"},{"line":363,"address":[4030228],"length":1,"stats":{"Line":1},"fn_name":null},{"line":364,"address":[4030313],"length":1,"stats":{"Line":1},"fn_name":null},{"line":366,"address":[4030343,4030284],"length":1,"stats":{"Line":2},"fn_name":null},{"line":367,"address":[4030365,4030469],"length":1,"stats":{"Line":2},"fn_name":null},{"line":371,"address":[4030544],"length":1,"stats":{"Line":1},"fn_name":"get_milliseconds"},{"line":372,"address":[4030553],"length":1,"stats":{"Line":1},"fn_name":null},{"line":374,"address":[4030606],"length":1,"stats":{"Line":1},"fn_name":null}],"covered":107,"coverable":164},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","types","group_stream.rs"],"content":"use std::fmt::Debug;\n\nuse serde::{de::DeserializeOwned, Deserialize, Serialize};\nuse serde_json::Value;\n\n#[derive(Debug, Default, Clone, Serialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\npub struct GroupStream\u003cG: DeserializeOwned + Serialize, V: DeserializeOwned + Serialize\u003e(\n    Vec\u003cGroupItem\u003cG, V\u003e\u003e,\n);\n\n#[derive(Debug, Default, Clone, Serialize, Deserialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\npub struct GroupItem\u003cG, V\u003e {\n    pub group: G,\n    pub values: Vec\u003cV\u003e,\n}\n\n#[derive(Debug, Default, Clone, Serialize, Deserialize, Eq, PartialEq)]\nstruct InnerGroup {\n    #[serde(rename = \"$reql_type$\")]\n    reql_type: String,\n    data: Vec\u003c[Value; 2]\u003e,\n}\n\nimpl\u003c'de, G, V\u003e Deserialize\u003c'de\u003e for GroupStream\u003cG, V\u003e\nwhere\n    G: DeserializeOwned + Serialize,\n    V: DeserializeOwned + Serialize,\n{\n    fn deserialize\u003cD: serde::Deserializer\u003c'de\u003e\u003e(deserializer: D) -\u003e Result\u003cSelf, D::Error\u003e {\n        Deserialize::deserialize(deserializer).map(|item| {\n            let inner: InnerGroup = item;\n\n            let data: Vec\u003cGroupItem\u003cG, V\u003e\u003e = inner\n                .data\n                .into_iter()\n                .map(|item| {\n                    let group: G = serde_json::from_value(item[0].clone()).unwrap();\n                    let values: Vec\u003cV\u003e = serde_json::from_value(item[1].clone()).unwrap();\n\n                    GroupItem { group, values }\n                })\n                .collect();\n\n            GroupStream(data)\n        })\n    }\n}\n\nimpl\u003cG, V\u003e GroupStream\u003cG, V\u003e\nwhere\n    G: DeserializeOwned + Serialize,\n    V: DeserializeOwned + Serialize,\n{\n    pub fn collect(self) -\u003e Vec\u003cGroupItem\u003cG, V\u003e\u003e {\n        self.0\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use serde::{Deserialize, Serialize};\n\n    use super::GroupStream;\n\n    #[derive(Serialize, Deserialize, Debug)]\n    struct Posts {\n        id: u8,\n        title: String,\n        content: String,\n        user_id: u8,\n    }\n\n    #[test]\n    fn test_group_stream() {\n        let data = r#\"\n        {\n            \"$reql_type$\": \"GROUPED_DATA\",\n            \"data\": [\n                [\n                    1,\n                    [\n                        {\n                            \"content\": \"content 5\",\n                            \"id\": 5,\n                            \"title\":\"title 5\",\n                            \"user_id\": 1\n                        },\n                        {\n                            \"content\": \"content 3\",\n                            \"id\": 3,\n                            \"title\": \"title 3\",\n                            \"user_id\": 1\n                        },\n                        {\n                            \"content\": \"content 1\",\n                            \"id\": 1,\n                            \"title\": \"title 1\",\n                            \"user_id\": 1\n                        }\n                    ]\n                ],\n                [\n                    2,\n                    [\n                        {\n                            \"content\": \"content 4\",\n                            \"id\": 4,\n                            \"title\": \"title 4\",\n                            \"user_id\": 2\n                        },\n                        {\n                            \"content\": \"content 2\",\n                            \"id\": 2,\n                            \"title\": \"title 2\",\n                            \"user_id\": 2\n                        }\n                    ]\n                ]\n            ]\n        }\n        \"#;\n\n        let elememt: GroupStream\u003cu8, Posts\u003e = serde_json::from_str(data).unwrap();\n        dbg!(elememt);\n    }\n}\n","traces":[{"line":29,"address":[2656192,2656128],"length":1,"stats":{"Line":2},"fn_name":"deserialize\u003cu8, reql_rust::types::group_stream::tests::Posts, \u0026mut serde_json::de::Deserializer\u003cserde_json::read::StrRead\u003e\u003e"},{"line":30,"address":[],"length":0,"stats":{"Line":4},"fn_name":null},{"line":31,"address":[],"length":0,"stats":{"Line":2},"fn_name":null},{"line":33,"address":[],"length":0,"stats":{"Line":4},"fn_name":null},{"line":34,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":35,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":36,"address":[],"length":0,"stats":{"Line":2},"fn_name":null},{"line":37,"address":[2656993,2657307,2656939,2657361],"length":1,"stats":{"Line":4},"fn_name":null},{"line":38,"address":[2657397,2657039,2657470,2657095],"length":1,"stats":{"Line":4},"fn_name":null},{"line":40,"address":[2657140,2657514],"length":1,"stats":{"Line":2},"fn_name":null},{"line":42,"address":[],"length":0,"stats":{"Line":0},"fn_name":null},{"line":44,"address":[2656765,2656461],"length":1,"stats":{"Line":2},"fn_name":null},{"line":54,"address":[2657728],"length":1,"stats":{"Line":1},"fn_name":"collect\u003calloc::string::String, reql_rust::spec::Post\u003e"},{"line":55,"address":[2657731],"length":1,"stats":{"Line":1},"fn_name":null},{"line":74,"address":[5138534,5137840],"length":1,"stats":{"Line":3},"fn_name":"test_group_stream"},{"line":75,"address":[5137847],"length":1,"stats":{"Line":1},"fn_name":null},{"line":123,"address":[5137874],"length":1,"stats":{"Line":1},"fn_name":null},{"line":124,"address":[5137927],"length":1,"stats":{"Line":1},"fn_name":null}],"covered":15,"coverable":18},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","types","mod.rs"],"content":"use std::borrow::Cow;\n\nuse serde::{Deserialize, Serialize};\nuse serde_json::Value;\nuse uuid::Uuid;\n\nuse crate::arguments::{Durability, ReadMode};\npub use crate::cmd::geojson::ReqlGeoJson;\npub use crate::cmd::line::Line;\npub use crate::cmd::point::Point;\npub use crate::cmd::polygon::Polygon;\npub use binary::Binary;\npub use datetime::DateTime;\npub use group_stream::{GroupItem, GroupStream};\npub use time_::Time;\n\npub(crate) use datetime::timezone_to_string;\n\npub use crate::Command;\n\nmod binary;\nmod datetime;\nmod group_stream;\nmod response_with_cmd;\nmod time_;\n\n#[derive(Debug, Clone, Copy, Serialize, Deserialize, PartialEq, PartialOrd, Eq, Ord)]\n#[non_exhaustive]\n#[serde(rename_all = \"UPPERCASE\")]\npub enum ReqlType {\n    Geometry,\n    GroupStream,\n    Binary,\n    Time,\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Deserialize, PartialEq, PartialOrd)]\npub enum GeoType {\n    LineString,\n    Point,\n    Polygon,\n}\n\n#[derive(Debug, Default, Clone, Deserialize, Serialize, PartialEq, PartialOrd)]\n#[non_exhaustive]\npub struct ServerInfo {\n    pub id: Uuid,\n    pub proxy: bool,\n    pub name: Option\u003cString\u003e,\n}\n\n/// Structure of return data in `db` table\n#[derive(Debug, Default, Clone, Deserialize, Serialize, PartialEq, PartialOrd)]\n#[non_exhaustive]\npub struct DbResponse {\n    pub config_changes: Vec\u003cConfigChange\u003cConfigResponse\u003e\u003e,\n    pub dbs_created: Option\u003cusize\u003e,\n    pub dbs_dropped: Option\u003cusize\u003e,\n    pub tables_created: Option\u003cusize\u003e,\n    pub tables_dropped: Option\u003cusize\u003e,\n}\n\n/// Structure of return data in `db` table\n#[derive(Debug, Default, Clone, Deserialize, Serialize, PartialEq)]\n#[non_exhaustive]\npub struct MutationResponse {\n    pub inserted: usize,\n    pub replaced: usize,\n    pub unchanged: usize,\n    pub skipped: usize,\n    pub deleted: usize,\n    pub errors: usize,\n    pub first_error: Option\u003cString\u003e,\n    pub generated_keys: Option\u003cVec\u003cUuid\u003e\u003e,\n    pub warnings: Option\u003cVec\u003cString\u003e\u003e,\n    pub changes: Option\u003cVec\u003cConfigChange\u003cValue\u003e\u003e\u003e,\n}\n\n/// Structure of return data in `index` table\n#[derive(Debug, Clone, Deserialize, Serialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\n#[non_exhaustive]\npub struct IndexResponse {\n    pub created: Option\u003cusize\u003e,\n    pub dropped: Option\u003cusize\u003e,\n    pub renamed: Option\u003cusize\u003e,\n}\n\n/// Structure of return data in `index_status` table\n#[derive(Debug, Clone, Deserialize, Serialize)]\n#[non_exhaustive]\npub struct IndexStatusResponse {\n    pub geo: bool,\n    pub ready: bool,\n    pub multi: bool,\n    pub outdated: bool,\n    pub progress: Option\u003cf64\u003e,\n    pub index: Cow\u003c'static, str\u003e,\n    pub query: Cow\u003c'static, str\u003e,\n    pub function: Binary,\n}\n\n/// Structure of return data in `index_status` table\n#[derive(Debug, Clone, Deserialize, Serialize)]\n#[non_exhaustive]\npub struct WriteHookResponse {\n    pub function: Binary,\n    pub query: Cow\u003c'static, str\u003e,\n}\n\n#[derive(Debug, Clone, Deserialize, Serialize)]\n#[non_exhaustive]\npub struct UngroupItem\u003cG, V\u003e {\n    pub group: G,\n    pub reduction: Vec\u003cV\u003e,\n}\n\n#[derive(Debug, Clone, Deserialize, Serialize)]\npub struct SyncResponse {\n    pub synced: u8,\n}\n\n#[derive(Debug, Clone, Copy, Deserialize, Serialize)]\npub struct WaitResponse {\n    /// The value is an integer indicating the number of tables waited for.\n    /// It will always be `1` when `wait` is called on a table,\n    /// and the total number of tables when called on a database.\n    pub ready: u8,\n}\n\n#[derive(Debug, Clone, Serialize, Deserialize)]\npub struct JoinResponse\u003cL, R\u003e {\n    pub left: Option\u003cL\u003e,\n    pub right: Option\u003cR\u003e,\n}\n\n#[derive(Debug, Default, Clone, Serialize, Deserialize, PartialEq, PartialOrd)]\npub struct GrantResponse {\n    /// The granted field will always be 1,\n    pub granted: u8,\n    /// list will have one object, describing the new permissions values and\n    /// the old values they were changed from (which may be None).\n    pub permissions_changes: Vec\u003cConfigChange\u003cGrantChangeValue\u003e\u003e,\n}\n\n#[derive(Debug, Default, Clone, Serialize, Deserialize, PartialEq, PartialOrd)]\npub struct RebalanceResponse {\n    /// the number of tables rebalanced.\n    pub rebalanced: u8,\n    /// a list of new and old table status values.\n    /// Each element of the list will be an object with two fields:\n    /// - `old_val`: The tables [status](crate::Command::status)\n    /// value before `rebalance` was executed.\n    /// - `new_val`: The tables `status` value after `rebalance` was executed.\n    /// (This value will almost always indicate the table is unavailable.)\n    pub status_changes: Vec\u003cConfigChange\u003cStatusResponse\u003e\u003e,\n}\n\n#[derive(Debug, Default, Clone, Serialize, Deserialize, PartialEq, PartialOrd)]\npub struct ReconfigureResponse {\n    /// the number of tables reconfigured.\n    /// This will be `0` if `dry_run` is `true`.\n    pub reconfigured: u8,\n    /// a list of new and old table configuration values.\n    /// Each element of the list will be an object with two fields\n    /// - `old_val`: The tables [config](crate::Command::config)\n    /// value before reconfigure was executed.\n    /// - `new_val`: The tables `config` value after `reconfigure` was executed.\n    pub config_changes: Vec\u003cConfigChange\u003cConfigResponse\u003e\u003e,\n    /// a list of new and old table status values.\n    /// Each element of the list will be an object with two fields\n    /// - `old_val`: The tables [status](crate::Command::status)\n    /// value before reconfigure was executed.\n    /// - `new_val`: The tables `config` value after `reconfigure` was executed.\n    pub status_changes: Vec\u003cConfigChange\u003cStatusResponse\u003e\u003e,\n}\n\n#[derive(Debug, Default, Clone, Deserialize, Serialize, PartialEq, PartialOrd)]\npub struct ConfigChange\u003cT\u003e {\n    pub new_val: Option\u003cT\u003e,\n    pub old_val: Option\u003cT\u003e,\n}\n\n#[derive(Debug, Clone, Deserialize, Serialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\npub struct ConfigResponse {\n    pub id: Cow\u003c'static, str\u003e,\n    pub name: Cow\u003c'static, str\u003e,\n\n    pub db: Option\u003cCow\u003c'static, str\u003e\u003e,\n    pub durability: Option\u003cDurability\u003e,\n    pub indexes: Option\u003cVec\u003cCow\u003c'static, str\u003e\u003e\u003e,\n    pub primary_key: Option\u003cCow\u003c'static, str\u003e\u003e,\n    pub shards: Option\u003cVec\u003cShardType\u003cCow\u003c'static, str\u003e\u003e\u003e\u003e,\n    pub write_acks: Option\u003cReadMode\u003e,\n    pub write_hook: Option\u003cCow\u003c'static, str\u003e\u003e,\n}\n\n#[derive(Debug, Clone, Deserialize, Serialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\npub struct GrantChangeValue {\n    pub write: Option\u003cbool\u003e,\n    pub read: Option\u003cbool\u003e,\n    pub connect: Option\u003cbool\u003e,\n    pub config: Option\u003cbool\u003e,\n}\n\n#[derive(Debug, Clone, Deserialize, Serialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\npub struct StatusResponse {\n    /// the UUID of the table.\n    pub id: Option\u003cCow\u003c'static, str\u003e\u003e,\n    /// the tables name.\n    pub name: Option\u003cCow\u003c'static, str\u003e\u003e,\n    /// the database the table is in.\n    pub db: Option\u003cCow\u003c'static, str\u003e\u003e,\n    /// the subfields in this field indicate whether all shards of\n    /// the table are ready to accept the given type of query\n    pub status: Option\u003cStatusResponseStatus\u003e,\n    /// one entry for each shard in `table_config`\n    pub shards: Option\u003cVec\u003cShardType\u003cShardReplicasType\u003e\u003e\u003e,\n    pub raft_leader: Option\u003cCow\u003c'static, str\u003e\u003e,\n}\n\n#[derive(Debug, Clone, Deserialize, Serialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\npub struct InfoResponse {\n    pub db: DbInfo,\n    pub doc_count_estimates: Vec\u003cusize\u003e,\n    pub id: Cow\u003c'static, str\u003e,\n    pub indexes: Vec\u003cCow\u003c'static, str\u003e\u003e,\n    pub name: Cow\u003c'static, str\u003e,\n    pub primary_key: Cow\u003c'static, str\u003e,\n    #[serde(rename = \"type\")]\n    pub typ: TypeOf,\n}\n\n#[derive(Debug, Clone, Deserialize, Serialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\npub struct DbInfo {\n    id: Cow\u003c'static, str\u003e,\n    name: Cow\u003c'static, str\u003e,\n    #[serde(rename = \"type\")]\n    pub typ: TypeOf,\n}\n\n#[derive(Debug, Clone, Deserialize, Serialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\npub struct StatusResponseStatus {\n    pub all_replicas_ready: Option\u003cbool\u003e,\n    pub ready_for_outdated_reads: Option\u003cbool\u003e,\n    pub ready_for_reads: Option\u003cbool\u003e,\n    pub ready_for_writes: Option\u003cbool\u003e,\n}\n\n#[derive(Debug, Clone, Deserialize, Serialize, PartialEq, PartialOrd)]\npub struct ClosestDocumentResponse\u003cT\u003e {\n    pub dist: f64,\n    pub doc: Option\u003cT\u003e,\n}\n\n#[derive(Debug, Clone, Deserialize, Serialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\npub struct ShardType\u003cR\u003e {\n    pub primary_replica: Option\u003cCow\u003c'static, str\u003e\u003e,\n    pub replicas: Vec\u003cR\u003e,\n    pub nonvoting_replicas: Option\u003cVec\u003cCow\u003c'static, str\u003e\u003e\u003e,\n}\n\n#[derive(Debug, Clone, Deserialize, Serialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\npub struct ShardReplicasType {\n    pub server: Cow\u003c'static, str\u003e,\n    pub state: Cow\u003c'static, str\u003e,\n}\n\n#[derive(Debug, Clone, Deserialize, Serialize, PartialEq, PartialOrd)]\npub struct GeoJson\u003cT: Serialize\u003e {\n    #[serde(rename = \"type\")]\n    pub typ: GeoType,\n    pub coordinates: T,\n}\n\nimpl\u003cT: Serialize + Clone\u003e GeoJson\u003cT\u003e {\n    pub fn new(typ: GeoType, coordinates: T) -\u003e Self {\n        Self { typ, coordinates }\n    }\n}\n\n/// Controls how change notifications are batched\n#[derive(Debug, Clone, Copy, Serialize, Deserialize, PartialEq, PartialOrd)]\n#[non_exhaustive]\n#[serde(untagged)]\npub enum Squash {\n    Bool(bool),\n    Float(f32),\n}\n\n#[derive(Debug, Clone, Serialize, Deserialize, PartialEq, PartialOrd)]\n#[non_exhaustive]\n#[serde(untagged)]\npub enum Interleave {\n    Bool(bool),\n    FieldName(\u0026'static str),\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Deserialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\npub enum GeoSystem {\n    #[serde(rename = \"unit_sphere\")]\n    UnitSphere,\n    WGS84,\n}\n\n#[derive(Debug, Clone, Copy, Serialize, Deserialize, Eq, PartialEq, Ord, PartialOrd, Hash)]\n#[serde(rename_all = \"UPPERCASE\")]\npub enum TypeOf {\n    Array,\n    Bool,\n    Db,\n    Function,\n    GroupedData,\n    GroupedStream,\n    Maxval,\n    Minval,\n    Null,\n    Number,\n    Object,\n\n    #[serde(rename = \"PTYPE\u003cBINARY\u003e\")]\n    PtypeBinary,\n    #[serde(rename = \"PTYPE\u003cGEOMETRY\u003e\")]\n    PtypeGeometry,\n    #[serde(rename = \"PTYPE\u003cTIME\u003e\")]\n    PtypeTime,\n    #[serde(rename = \"SELECTION\u003cARRAY\u003e\")]\n    SelectionArray,\n    #[serde(rename = \"SELECTION\u003cOBJECT\u003e\")]\n    SelectionObject,\n    #[serde(rename = \"SELECTION\u003cSTREAM\u003e\")]\n    SelectionStream,\n\n    Stream,\n    String,\n    TableSlice,\n    Table,\n}\n","traces":[{"line":276,"address":[],"length":0,"stats":{"Line":0},"fn_name":null}],"covered":0,"coverable":1},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","types","response_with_cmd.rs"],"content":"use crate::Command;\n\n#[derive(Debug, Clone)]\npub struct ResponseWithCmd\u003cT\u003e(pub T, pub Command);\n\nimpl\u003cT\u003e ResponseWithCmd\u003cT\u003e {\n    pub fn value(self) -\u003e T {\n        self.0\n    }\n\n    pub fn cmd(self) -\u003e Command {\n        self.1\n    }\n}\n","traces":[{"line":7,"address":[4773808,4773952,4773872,4773984,4773840,4773776,4773920],"length":1,"stats":{"Line":7},"fn_name":"value\u003cbool\u003e"},{"line":8,"address":[4774009,4773921,4773873,4773953,4773841,4773777,4773809],"length":1,"stats":{"Line":7},"fn_name":null},{"line":11,"address":[4774128,4774064,4774096,4774192,4774288,4774224,4774256],"length":1,"stats":{"Line":7},"fn_name":"cmd\u003cu8\u003e"},{"line":12,"address":[4774200,4774104,4774232,4774264,4774072,4774145,4774296],"length":1,"stats":{"Line":7},"fn_name":null}],"covered":4,"coverable":4},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","src","types","time_.rs"],"content":"use serde::{Deserialize, Serialize};\nuse time::{format_description, OffsetDateTime, UtcOffset};\n\nuse crate::{\n    constants::{NANOS_PER_MSEC, NANOS_PER_SEC},\n    ReqlDriverError, ReqlError, Result,\n};\n\nuse super::ReqlType;\n\n#[derive(Debug, Clone, Serialize, Deserialize)]\n#[non_exhaustive]\npub struct Time {\n    #[serde(rename = \"$reql_type$\")]\n    pub reql_type: ReqlType,\n    pub epoch_time: f64,\n    pub timezone: String,\n}\n\nimpl Time {\n    pub fn new(epoch_time: f64, timezone: String) -\u003e Self {\n        Self {\n            epoch_time,\n            timezone,\n            reql_type: ReqlType::Time,\n        }\n    }\n\n    pub fn is_valid(\u0026self) -\u003e bool {\n        self.to_offset_date_time().is_ok()\n    }\n\n    pub fn to_offset_date_time(\u0026self) -\u003e Result\u003cOffsetDateTime\u003e {\n        let epoch_time = self.epoch_time.to_string();\n        let format = match format_description::parse(\"[offset_hour]:[offset_minute]\") {\n            Ok(fmt) =\u003e fmt,\n            Err(error) =\u003e {\n                return Err(ReqlError::from(error));\n            }\n        };\n        let offset = match UtcOffset::parse(\u0026self.timezone, \u0026format) {\n            Ok(offset) =\u003e offset,\n            Err(error) =\u003e {\n                return Err(ReqlError::from(error));\n            }\n        };\n        let (secs, msecs) = match epoch_time.split_once('.') {\n            Some(parts) =\u003e parts,\n            None =\u003e (epoch_time.as_str(), \"0\"),\n        };\n        let secs = match secs.parse::\u003ci128\u003e() {\n            Ok(secs) =\u003e match secs.checked_mul(NANOS_PER_SEC) {\n                Some(secs) =\u003e secs,\n                None =\u003e {\n                    return Err(ReqlError::Driver(ReqlDriverError::Time(\n                        \"seconds to nanosecond overflow\".to_owned(),\n                    )));\n                }\n            },\n            Err(..) =\u003e {\n                return Err(ReqlError::Driver(ReqlDriverError::Time(\n                    \"invalid epoch time seconds\".to_owned(),\n                )));\n            }\n        };\n        // RethinkDB timestamps have millisecond precision so we need\n        // to convert the milliseconds to nanoseconds first\n        let msecs = match msecs.parse::\u003ci128\u003e() {\n            Ok(int) =\u003e {\n                let msecs = match msecs.len() {\n                    3 =\u003e int,\n                    2 =\u003e int * 10,\n                    1 =\u003e int * 100,\n                    _ =\u003e {\n                        return Err(ReqlError::Driver(ReqlDriverError::Time(\n                            \"invalid epoch milliseconds\".to_owned(),\n                        )));\n                    }\n                };\n                match msecs.checked_mul(NANOS_PER_MSEC) {\n                    Some(msecs) =\u003e msecs,\n                    None =\u003e {\n                        return Err(ReqlError::Driver(ReqlDriverError::Time(\n                            \"millisecond to nanosecond overflow\".to_owned(),\n                        )));\n                    }\n                }\n            }\n            Err(..) =\u003e {\n                return Err(ReqlError::Driver(ReqlDriverError::Time(\n                    \"invalid epoch time milliseconds\".to_owned(),\n                )));\n            }\n        };\n        let timestamp = match secs.checked_add(msecs) {\n            Some(timestamp) =\u003e timestamp,\n            None =\u003e {\n                return Err(ReqlError::Driver(ReqlDriverError::Time(\n                    \"timestamp addition overflow\".to_owned(),\n                )));\n            }\n        };\n\n        let dt = match OffsetDateTime::from_unix_timestamp_nanos(timestamp) {\n            Ok(date_time) =\u003e date_time.to_offset(offset),\n            Err(error) =\u003e {\n                return Err(ReqlError::from(error));\n            }\n        };\n\n        Ok(dt)\n    }\n}\n\nimpl Eq for Time {}\n\nimpl PartialEq for Time {\n    fn eq(\u0026self, other: \u0026Self) -\u003e bool {\n        let dt = self.to_offset_date_time().unwrap();\n        let dt2 = other.to_offset_date_time().unwrap();\n\n        dt.eq(\u0026dt2)\n    }\n}\n\nimpl PartialOrd for Time {\n    fn partial_cmp(\u0026self, other: \u0026Self) -\u003e Option\u003cstd::cmp::Ordering\u003e {\n        let dt = self.to_offset_date_time().unwrap();\n        let dt2 = other.to_offset_date_time().unwrap();\n\n        dt.partial_cmp(\u0026dt2)\n    }\n}\n\nimpl Ord for Time {\n    fn cmp(\u0026self, other: \u0026Self) -\u003e std::cmp::Ordering {\n        let dt = self.to_offset_date_time().unwrap();\n        let dt2 = other.to_offset_date_time().unwrap();\n\n        dt.cmp(\u0026dt2)\n    }\n}\n\nimpl From\u003cOffsetDateTime\u003e for Time {\n    fn from(dt: OffsetDateTime) -\u003e Self {\n        let offset = dt.offset();\n        let timezone = {\n            let (hours, minutes, _) = offset.as_hms();\n            format!(\n                \"{}{:02}:{:02}\",\n                if offset.is_negative() { '-' } else { '+' },\n                hours.abs(),\n                minutes.abs(),\n            )\n        };\n\n        let epoch_time = format!(\"{}.{:03}\", dt.unix_timestamp(), dt.millisecond())\n            .parse()\n            .unwrap();\n\n        Self::new(epoch_time, timezone)\n    }\n}\n","traces":[{"line":21,"address":[1766320],"length":1,"stats":{"Line":1},"fn_name":"new"},{"line":29,"address":[1766400,1766478],"length":1,"stats":{"Line":1},"fn_name":"is_valid"},{"line":30,"address":[1766412],"length":1,"stats":{"Line":1},"fn_name":null},{"line":33,"address":[1770539,1766528],"length":1,"stats":{"Line":1},"fn_name":"to_offset_date_time"},{"line":34,"address":[1766567],"length":1,"stats":{"Line":1},"fn_name":null},{"line":35,"address":[1766580,1766655],"length":1,"stats":{"Line":2},"fn_name":null},{"line":36,"address":[1766682],"length":1,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[1766776],"length":1,"stats":{"Line":0},"fn_name":null},{"line":38,"address":[1766824,1766930],"length":1,"stats":{"Line":0},"fn_name":null},{"line":41,"address":[1766746,1767061],"length":1,"stats":{"Line":2},"fn_name":null},{"line":42,"address":[1767086],"length":1,"stats":{"Line":1},"fn_name":null},{"line":43,"address":[1767180],"length":1,"stats":{"Line":0},"fn_name":null},{"line":44,"address":[1767244],"length":1,"stats":{"Line":0},"fn_name":null},{"line":47,"address":[1767620,1767154,1767426],"length":1,"stats":{"Line":3},"fn_name":null},{"line":48,"address":[1767492],"length":1,"stats":{"Line":1},"fn_name":null},{"line":49,"address":[1767731,1767466],"length":1,"stats":{"Line":2},"fn_name":null},{"line":51,"address":[1767708,1767779],"length":1,"stats":{"Line":2},"fn_name":null},{"line":52,"address":[1768104,1767797],"length":1,"stats":{"Line":2},"fn_name":null},{"line":53,"address":[1768193],"length":1,"stats":{"Line":1},"fn_name":null},{"line":55,"address":[1770366],"length":1,"stats":{"Line":0},"fn_name":null},{"line":56,"address":[1768147],"length":1,"stats":{"Line":0},"fn_name":null},{"line":61,"address":[1767907],"length":1,"stats":{"Line":0},"fn_name":null},{"line":62,"address":[1767872],"length":1,"stats":{"Line":0},"fn_name":null},{"line":68,"address":[1768265],"length":1,"stats":{"Line":1},"fn_name":null},{"line":69,"address":[1768306],"length":1,"stats":{"Line":1},"fn_name":null},{"line":70,"address":[1768582,1768348],"length":1,"stats":{"Line":2},"fn_name":null},{"line":71,"address":[1768666],"length":1,"stats":{"Line":1},"fn_name":null},{"line":72,"address":[1769231,1768692],"length":1,"stats":{"Line":2},"fn_name":null},{"line":73,"address":[1768815,1769124],"length":1,"stats":{"Line":2},"fn_name":null},{"line":75,"address":[1768941],"length":1,"stats":{"Line":0},"fn_name":null},{"line":76,"address":[1768626],"length":1,"stats":{"Line":0},"fn_name":null},{"line":80,"address":[1769294,1769174],"length":1,"stats":{"Line":2},"fn_name":null},{"line":81,"address":[1769383],"length":1,"stats":{"Line":1},"fn_name":null},{"line":83,"address":[1770185],"length":1,"stats":{"Line":0},"fn_name":null},{"line":84,"address":[1769337],"length":1,"stats":{"Line":0},"fn_name":null},{"line":90,"address":[1768401],"length":1,"stats":{"Line":0},"fn_name":null},{"line":91,"address":[1768366],"length":1,"stats":{"Line":0},"fn_name":null},{"line":95,"address":[1769431],"length":1,"stats":{"Line":1},"fn_name":null},{"line":96,"address":[1769539],"length":1,"stats":{"Line":1},"fn_name":null},{"line":98,"address":[1770004],"length":1,"stats":{"Line":0},"fn_name":null},{"line":99,"address":[1769509],"length":1,"stats":{"Line":0},"fn_name":null},{"line":104,"address":[1769587],"length":1,"stats":{"Line":1},"fn_name":null},{"line":105,"address":[1769624],"length":1,"stats":{"Line":1},"fn_name":null},{"line":106,"address":[1769737],"length":1,"stats":{"Line":0},"fn_name":null},{"line":107,"address":[1769785],"length":1,"stats":{"Line":0},"fn_name":null},{"line":111,"address":[1769913],"length":1,"stats":{"Line":1},"fn_name":null},{"line":118,"address":[1770576],"length":1,"stats":{"Line":1},"fn_name":"eq"},{"line":119,"address":[1770610],"length":1,"stats":{"Line":1},"fn_name":null},{"line":120,"address":[1770647],"length":1,"stats":{"Line":1},"fn_name":null},{"line":122,"address":[1770679],"length":1,"stats":{"Line":1},"fn_name":null},{"line":127,"address":[1770720],"length":1,"stats":{"Line":0},"fn_name":"partial_cmp"},{"line":128,"address":[1770754],"length":1,"stats":{"Line":0},"fn_name":null},{"line":129,"address":[1770791],"length":1,"stats":{"Line":0},"fn_name":null},{"line":131,"address":[1770823],"length":1,"stats":{"Line":0},"fn_name":null},{"line":136,"address":[1770864],"length":1,"stats":{"Line":0},"fn_name":"cmp"},{"line":137,"address":[1770898],"length":1,"stats":{"Line":0},"fn_name":null},{"line":138,"address":[1770935],"length":1,"stats":{"Line":0},"fn_name":null},{"line":140,"address":[1770967],"length":1,"stats":{"Line":0},"fn_name":null},{"line":145,"address":[1772399,1771008,1772295],"length":1,"stats":{"Line":1},"fn_name":"from"},{"line":146,"address":[1771039],"length":1,"stats":{"Line":1},"fn_name":null},{"line":148,"address":[1771126],"length":1,"stats":{"Line":1},"fn_name":null},{"line":149,"address":[1771435,1771487,1771383],"length":1,"stats":{"Line":3},"fn_name":null},{"line":151,"address":[1771279],"length":1,"stats":{"Line":1},"fn_name":null},{"line":152,"address":[1771420],"length":1,"stats":{"Line":1},"fn_name":null},{"line":153,"address":[1771472],"length":1,"stats":{"Line":1},"fn_name":null},{"line":157,"address":[1772226,1771739,1771820],"length":1,"stats":{"Line":3},"fn_name":null},{"line":161,"address":[1772320],"length":1,"stats":{"Line":1},"fn_name":null}],"covered":41,"coverable":67},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","tests","make_query.rs"],"content":"use futures::stream::{select_all, TryStreamExt};\nuse reql_rust::arguments::ReadMode;\nuse reql_rust::cmd::run::RunOption;\nuse reql_rust::prelude::Converter;\nuse reql_rust::{args, r, Result};\n\n#[tokio::test]\nasync fn simple() -\u003e Result\u003c()\u003e {\n    let conn = r.connection().connect().await?;\n    let run_option = RunOption::default().read_mode(ReadMode::Outdated);\n    let response = r\n        .db(\"rethinkdb\")\n        .table(\"users\")\n        .make_query(args!(\u0026conn, run_option))\n        .try_next()\n        .await?;\n\n    assert!(response.is_some());\n\n    Ok(())\n}\n\n#[tokio::test]\nasync fn concurrency() -\u003e Result\u003c()\u003e {\n    let conn = r.connection().connect().await?;\n    let expected_messages: Vec\u003cString\u003e = (0..10_000)\n        .into_iter()\n        .map(|i| format!(\"message {}\", i))\n        .collect();\n\n    let mut streams = Vec::new();\n\n    for msg in expected_messages.iter() {\n        streams.push(r.expr(msg).make_query(\u0026conn));\n    }\n\n    let mut list = select_all(streams);\n    let mut response = Vec::new();\n\n    while let Some(msg) = list.try_next().await? {\n        let msg: String = msg.parse()?;\n        response.push(msg);\n    }\n\n    assert!(response == expected_messages);\n\n    Ok(())\n}\n","traces":[{"line":8,"address":[1795952,1795991,1796357,1796405],"length":1,"stats":{"Line":6},"fn_name":"simple"},{"line":9,"address":[1519956,1519442,1519498,1519732,1519581,1520232],"length":1,"stats":{"Line":4},"fn_name":null},{"line":10,"address":[1520222,1520493],"length":1,"stats":{"Line":2},"fn_name":null},{"line":11,"address":[1520548,1520624,1521285,1521026,1520845,1521486,1521095],"length":1,"stats":{"Line":6},"fn_name":null},{"line":14,"address":[1520667],"length":1,"stats":{"Line":1},"fn_name":null},{"line":16,"address":[1548774],"length":1,"stats":{"Line":1},"fn_name":null},{"line":18,"address":[1521700,1521648],"length":1,"stats":{"Line":1},"fn_name":null},{"line":20,"address":[1796028,1795983,1796368,1796088],"length":1,"stats":{"Line":5},"fn_name":null},{"line":24,"address":[1796901,1796448,1796487,1796853],"length":1,"stats":{"Line":6},"fn_name":"concurrency"},{"line":25,"address":[1522476,1522018,1522101,1521954,1522252,1522798],"length":1,"stats":{"Line":4},"fn_name":null},{"line":26,"address":[1522734,1523069],"length":1,"stats":{"Line":2},"fn_name":null},{"line":28,"address":[1525351,1525328],"length":1,"stats":{"Line":2},"fn_name":"{closure#0}"},{"line":31,"address":[1523131],"length":1,"stats":{"Line":1},"fn_name":null},{"line":33,"address":[1523528,1523202,1523617,1523295],"length":1,"stats":{"Line":4},"fn_name":null},{"line":34,"address":[1523544],"length":1,"stats":{"Line":1},"fn_name":null},{"line":37,"address":[1523473],"length":1,"stats":{"Line":1},"fn_name":null},{"line":38,"address":[1523630,1523689],"length":1,"stats":{"Line":2},"fn_name":null},{"line":40,"address":[1524770,1525153,1524422,1525275,1523699,1524512,1523747,1522036],"length":1,"stats":{"Line":6},"fn_name":null},{"line":41,"address":[1524988,1524454,1524813],"length":1,"stats":{"Line":2},"fn_name":null},{"line":42,"address":[1524922],"length":1,"stats":{"Line":1},"fn_name":null},{"line":45,"address":[1524658,1524539,1524617],"length":1,"stats":{"Line":2},"fn_name":null},{"line":47,"address":[1524631],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":22,"coverable":22},{"path":["/","home","themasterking","Documents","Work","EXYTECH","rethinkdb-for-rust","tests","run.rs"],"content":"use reql_rust::arguments::ReadMode;\nuse reql_rust::cmd::run::RunOption;\nuse reql_rust::{args, r, Result};\n\n#[tokio::test]\nasync fn test_run_ops() -\u003e Result\u003c()\u003e {\n    let conn = r.connection().connect().await?;\n    let run_option = RunOption::default().read_mode(ReadMode::Outdated);\n    let response = r\n        .db(\"rethinkdb\")\n        .table(\"users\")\n        .run(args!(\u0026conn, run_option))\n        .await?;\n\n    assert!(response.is_some());\n\n    Ok(())\n}\n","traces":[{"line":6,"address":[1329680,1329242,1329072,1329104,1329081,1329161,1329377],"length":1,"stats":{"Line":6},"fn_name":"{closure#0}"},{"line":7,"address":[1329216,1329691,1329266,1329337,1329952,1329482],"length":1,"stats":{"Line":4},"fn_name":null},{"line":8,"address":[1329942,1330201],"length":1,"stats":{"Line":2},"fn_name":null},{"line":9,"address":[1330326,1330630,1330886,1330253,1331094,1330519,1330701],"length":1,"stats":{"Line":6},"fn_name":null},{"line":12,"address":[1330829,1329281,1330660,1330542,1330366],"length":1,"stats":{"Line":4},"fn_name":null},{"line":13,"address":[1331128,1330998],"length":1,"stats":{"Line":0},"fn_name":null},{"line":15,"address":[1331267,1330984,1331230],"length":1,"stats":{"Line":2},"fn_name":null},{"line":17,"address":[1331236],"length":1,"stats":{"Line":5},"fn_name":null}],"covered":7,"coverable":8}]};
    </script>
    <script crossorigin>/** @license React v16.13.1
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
'use strict';(function(d,r){"object"===typeof exports&&"undefined"!==typeof module?r(exports):"function"===typeof define&&define.amd?define(["exports"],r):(d=d||self,r(d.React={}))})(this,function(d){function r(a){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=1;c<arguments.length;c++)b+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}
function w(a,b,c){this.props=a;this.context=b;this.refs=ba;this.updater=c||ca}function da(){}function L(a,b,c){this.props=a;this.context=b;this.refs=ba;this.updater=c||ca}function ea(a,b,c){var g,e={},fa=null,d=null;if(null!=b)for(g in void 0!==b.ref&&(d=b.ref),void 0!==b.key&&(fa=""+b.key),b)ha.call(b,g)&&!ia.hasOwnProperty(g)&&(e[g]=b[g]);var h=arguments.length-2;if(1===h)e.children=c;else if(1<h){for(var k=Array(h),f=0;f<h;f++)k[f]=arguments[f+2];e.children=k}if(a&&a.defaultProps)for(g in h=a.defaultProps,
h)void 0===e[g]&&(e[g]=h[g]);return{$$typeof:x,type:a,key:fa,ref:d,props:e,_owner:M.current}}function va(a,b){return{$$typeof:x,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function N(a){return"object"===typeof a&&null!==a&&a.$$typeof===x}function wa(a){var b={"=":"=0",":":"=2"};return"$"+(""+a).replace(/[=:]/g,function(a){return b[a]})}function ja(a,b,c,g){if(C.length){var e=C.pop();e.result=a;e.keyPrefix=b;e.func=c;e.context=g;e.count=0;return e}return{result:a,keyPrefix:b,func:c,
context:g,count:0}}function ka(a){a.result=null;a.keyPrefix=null;a.func=null;a.context=null;a.count=0;10>C.length&&C.push(a)}function O(a,b,c,g){var e=typeof a;if("undefined"===e||"boolean"===e)a=null;var d=!1;if(null===a)d=!0;else switch(e){case "string":case "number":d=!0;break;case "object":switch(a.$$typeof){case x:case xa:d=!0}}if(d)return c(g,a,""===b?"."+P(a,0):b),1;d=0;b=""===b?".":b+":";if(Array.isArray(a))for(var f=0;f<a.length;f++){e=a[f];var h=b+P(e,f);d+=O(e,h,c,g)}else if(null===a||
"object"!==typeof a?h=null:(h=la&&a[la]||a["@@iterator"],h="function"===typeof h?h:null),"function"===typeof h)for(a=h.call(a),f=0;!(e=a.next()).done;)e=e.value,h=b+P(e,f++),d+=O(e,h,c,g);else if("object"===e)throw c=""+a,Error(r(31,"[object Object]"===c?"object with keys {"+Object.keys(a).join(", ")+"}":c,""));return d}function Q(a,b,c){return null==a?0:O(a,"",b,c)}function P(a,b){return"object"===typeof a&&null!==a&&null!=a.key?wa(a.key):b.toString(36)}function ya(a,b,c){a.func.call(a.context,b,
a.count++)}function za(a,b,c){var g=a.result,e=a.keyPrefix;a=a.func.call(a.context,b,a.count++);Array.isArray(a)?R(a,g,c,function(a){return a}):null!=a&&(N(a)&&(a=va(a,e+(!a.key||b&&b.key===a.key?"":(""+a.key).replace(ma,"$&/")+"/")+c)),g.push(a))}function R(a,b,c,g,e){var d="";null!=c&&(d=(""+c).replace(ma,"$&/")+"/");b=ja(b,d,g,e);Q(a,za,b);ka(b)}function t(){var a=na.current;if(null===a)throw Error(r(321));return a}function S(a,b){var c=a.length;a.push(b);a:for(;;){var g=c-1>>>1,e=a[g];if(void 0!==
e&&0<D(e,b))a[g]=b,a[c]=e,c=g;else break a}}function n(a){a=a[0];return void 0===a?null:a}function E(a){var b=a[0];if(void 0!==b){var c=a.pop();if(c!==b){a[0]=c;a:for(var g=0,e=a.length;g<e;){var d=2*(g+1)-1,f=a[d],h=d+1,k=a[h];if(void 0!==f&&0>D(f,c))void 0!==k&&0>D(k,f)?(a[g]=k,a[h]=c,g=h):(a[g]=f,a[d]=c,g=d);else if(void 0!==k&&0>D(k,c))a[g]=k,a[h]=c,g=h;else break a}}return b}return null}function D(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}function F(a){for(var b=n(u);null!==
b;){if(null===b.callback)E(u);else if(b.startTime<=a)E(u),b.sortIndex=b.expirationTime,S(p,b);else break;b=n(u)}}function T(a){y=!1;F(a);if(!v)if(null!==n(p))v=!0,z(U);else{var b=n(u);null!==b&&G(T,b.startTime-a)}}function U(a,b){v=!1;y&&(y=!1,V());H=!0;var c=m;try{F(b);for(l=n(p);null!==l&&(!(l.expirationTime>b)||a&&!W());){var g=l.callback;if(null!==g){l.callback=null;m=l.priorityLevel;var e=g(l.expirationTime<=b);b=q();"function"===typeof e?l.callback=e:l===n(p)&&E(p);F(b)}else E(p);l=n(p)}if(null!==
l)var d=!0;else{var f=n(u);null!==f&&G(T,f.startTime-b);d=!1}return d}finally{l=null,m=c,H=!1}}function oa(a){switch(a){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1E4;default:return 5E3}}var f="function"===typeof Symbol&&Symbol.for,x=f?Symbol.for("react.element"):60103,xa=f?Symbol.for("react.portal"):60106,Aa=f?Symbol.for("react.fragment"):60107,Ba=f?Symbol.for("react.strict_mode"):60108,Ca=f?Symbol.for("react.profiler"):60114,Da=f?Symbol.for("react.provider"):60109,
Ea=f?Symbol.for("react.context"):60110,Fa=f?Symbol.for("react.forward_ref"):60112,Ga=f?Symbol.for("react.suspense"):60113,Ha=f?Symbol.for("react.memo"):60115,Ia=f?Symbol.for("react.lazy"):60116,la="function"===typeof Symbol&&Symbol.iterator,pa=Object.getOwnPropertySymbols,Ja=Object.prototype.hasOwnProperty,Ka=Object.prototype.propertyIsEnumerable,I=function(){try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;var b={};for(a=0;10>a;a++)b["_"+
String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var c={};"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=a});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},c)).join("")?!1:!0}catch(g){return!1}}()?Object.assign:function(a,b){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");var c=Object(a);for(var g,e=1;e<arguments.length;e++){var d=Object(arguments[e]);
for(var f in d)Ja.call(d,f)&&(c[f]=d[f]);if(pa){g=pa(d);for(var h=0;h<g.length;h++)Ka.call(d,g[h])&&(c[g[h]]=d[g[h]])}}return c},ca={isMounted:function(a){return!1},enqueueForceUpdate:function(a,b,c){},enqueueReplaceState:function(a,b,c,d){},enqueueSetState:function(a,b,c,d){}},ba={};w.prototype.isReactComponent={};w.prototype.setState=function(a,b){if("object"!==typeof a&&"function"!==typeof a&&null!=a)throw Error(r(85));this.updater.enqueueSetState(this,a,b,"setState")};w.prototype.forceUpdate=
function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};da.prototype=w.prototype;f=L.prototype=new da;f.constructor=L;I(f,w.prototype);f.isPureReactComponent=!0;var M={current:null},ha=Object.prototype.hasOwnProperty,ia={key:!0,ref:!0,__self:!0,__source:!0},ma=/\/+/g,C=[],na={current:null},X;if("undefined"===typeof window||"function"!==typeof MessageChannel){var A=null,qa=null,ra=function(){if(null!==A)try{var a=q();A(!0,a);A=null}catch(b){throw setTimeout(ra,0),b;}},La=Date.now();var q=
function(){return Date.now()-La};var z=function(a){null!==A?setTimeout(z,0,a):(A=a,setTimeout(ra,0))};var G=function(a,b){qa=setTimeout(a,b)};var V=function(){clearTimeout(qa)};var W=function(){return!1};f=X=function(){}}else{var Y=window.performance,sa=window.Date,Ma=window.setTimeout,Na=window.clearTimeout;"undefined"!==typeof console&&(f=window.cancelAnimationFrame,"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),
"function"!==typeof f&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));if("object"===typeof Y&&"function"===typeof Y.now)q=function(){return Y.now()};else{var Oa=sa.now();q=function(){return sa.now()-Oa}}var J=!1,K=null,Z=-1,ta=5,ua=0;W=function(){return q()>=ua};f=function(){};X=function(a){0>a||125<a?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):
ta=0<a?Math.floor(1E3/a):5};var B=new MessageChannel,aa=B.port2;B.port1.onmessage=function(){if(null!==K){var a=q();ua=a+ta;try{K(!0,a)?aa.postMessage(null):(J=!1,K=null)}catch(b){throw aa.postMessage(null),b;}}else J=!1};z=function(a){K=a;J||(J=!0,aa.postMessage(null))};G=function(a,b){Z=Ma(function(){a(q())},b)};V=function(){Na(Z);Z=-1}}var p=[],u=[],Pa=1,l=null,m=3,H=!1,v=!1,y=!1,Qa=0;B={ReactCurrentDispatcher:na,ReactCurrentOwner:M,IsSomeRendererActing:{current:!1},assign:I};I(B,{Scheduler:{__proto__:null,
unstable_ImmediatePriority:1,unstable_UserBlockingPriority:2,unstable_NormalPriority:3,unstable_IdlePriority:5,unstable_LowPriority:4,unstable_runWithPriority:function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=m;m=a;try{return b()}finally{m=c}},unstable_next:function(a){switch(m){case 1:case 2:case 3:var b=3;break;default:b=m}var c=m;m=b;try{return a()}finally{m=c}},unstable_scheduleCallback:function(a,b,c){var d=q();if("object"===typeof c&&null!==c){var e=c.delay;
e="number"===typeof e&&0<e?d+e:d;c="number"===typeof c.timeout?c.timeout:oa(a)}else c=oa(a),e=d;c=e+c;a={id:Pa++,callback:b,priorityLevel:a,startTime:e,expirationTime:c,sortIndex:-1};e>d?(a.sortIndex=e,S(u,a),null===n(p)&&a===n(u)&&(y?V():y=!0,G(T,e-d))):(a.sortIndex=c,S(p,a),v||H||(v=!0,z(U)));return a},unstable_cancelCallback:function(a){a.callback=null},unstable_wrapCallback:function(a){var b=m;return function(){var c=m;m=b;try{return a.apply(this,arguments)}finally{m=c}}},unstable_getCurrentPriorityLevel:function(){return m},
unstable_shouldYield:function(){var a=q();F(a);var b=n(p);return b!==l&&null!==l&&null!==b&&null!==b.callback&&b.startTime<=a&&b.expirationTime<l.expirationTime||W()},unstable_requestPaint:f,unstable_continueExecution:function(){v||H||(v=!0,z(U))},unstable_pauseExecution:function(){},unstable_getFirstCallbackNode:function(){return n(p)},get unstable_now(){return q},get unstable_forceFrameRate(){return X},unstable_Profiling:null},SchedulerTracing:{__proto__:null,__interactionsRef:null,__subscriberRef:null,
unstable_clear:function(a){return a()},unstable_getCurrent:function(){return null},unstable_getThreadID:function(){return++Qa},unstable_trace:function(a,b,c){return c()},unstable_wrap:function(a){return a},unstable_subscribe:function(a){},unstable_unsubscribe:function(a){}}});d.Children={map:function(a,b,c){if(null==a)return a;var d=[];R(a,d,null,b,c);return d},forEach:function(a,b,c){if(null==a)return a;b=ja(null,null,b,c);Q(a,ya,b);ka(b)},count:function(a){return Q(a,function(){return null},null)},
toArray:function(a){var b=[];R(a,b,null,function(a){return a});return b},only:function(a){if(!N(a))throw Error(r(143));return a}};d.Component=w;d.Fragment=Aa;d.Profiler=Ca;d.PureComponent=L;d.StrictMode=Ba;d.Suspense=Ga;d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B;d.cloneElement=function(a,b,c){if(null===a||void 0===a)throw Error(r(267,a));var d=I({},a.props),e=a.key,f=a.ref,m=a._owner;if(null!=b){void 0!==b.ref&&(f=b.ref,m=M.current);void 0!==b.key&&(e=""+b.key);if(a.type&&a.type.defaultProps)var h=
a.type.defaultProps;for(k in b)ha.call(b,k)&&!ia.hasOwnProperty(k)&&(d[k]=void 0===b[k]&&void 0!==h?h[k]:b[k])}var k=arguments.length-2;if(1===k)d.children=c;else if(1<k){h=Array(k);for(var l=0;l<k;l++)h[l]=arguments[l+2];d.children=h}return{$$typeof:x,type:a.type,key:e,ref:f,props:d,_owner:m}};d.createContext=function(a,b){void 0===b&&(b=null);a={$$typeof:Ea,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:Da,_context:a};return a.Consumer=
a};d.createElement=ea;d.createFactory=function(a){var b=ea.bind(null,a);b.type=a;return b};d.createRef=function(){return{current:null}};d.forwardRef=function(a){return{$$typeof:Fa,render:a}};d.isValidElement=N;d.lazy=function(a){return{$$typeof:Ia,_ctor:a,_status:-1,_result:null}};d.memo=function(a,b){return{$$typeof:Ha,type:a,compare:void 0===b?null:b}};d.useCallback=function(a,b){return t().useCallback(a,b)};d.useContext=function(a,b){return t().useContext(a,b)};d.useDebugValue=function(a,b){};
d.useEffect=function(a,b){return t().useEffect(a,b)};d.useImperativeHandle=function(a,b,c){return t().useImperativeHandle(a,b,c)};d.useLayoutEffect=function(a,b){return t().useLayoutEffect(a,b)};d.useMemo=function(a,b){return t().useMemo(a,b)};d.useReducer=function(a,b,c){return t().useReducer(a,b,c)};d.useRef=function(a){return t().useRef(a)};d.useState=function(a){return t().useState(a)};d.version="16.13.1"});
</script>
    <script crossorigin>/** @license React v16.13.1
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/*
 Modernizr 3.0.0pre (Custom Build) | MIT
*/
'use strict';(function(I,ea){"object"===typeof exports&&"undefined"!==typeof module?ea(exports,require("react")):"function"===typeof define&&define.amd?define(["exports","react"],ea):(I=I||self,ea(I.ReactDOM={},I.React))})(this,function(I,ea){function k(a){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=1;c<arguments.length;c++)b+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}
function ji(a,b,c,d,e,f,g,h,m){yb=!1;gc=null;ki.apply(li,arguments)}function mi(a,b,c,d,e,f,g,h,m){ji.apply(this,arguments);if(yb){if(yb){var n=gc;yb=!1;gc=null}else throw Error(k(198));hc||(hc=!0,pd=n)}}function lf(a,b,c){var d=a.type||"unknown-event";a.currentTarget=mf(c);mi(d,b,void 0,a);a.currentTarget=null}function nf(){if(ic)for(var a in cb){var b=cb[a],c=ic.indexOf(a);if(!(-1<c))throw Error(k(96,a));if(!jc[c]){if(!b.extractEvents)throw Error(k(97,a));jc[c]=b;c=b.eventTypes;for(var d in c){var e=
void 0;var f=c[d],g=b,h=d;if(qd.hasOwnProperty(h))throw Error(k(99,h));qd[h]=f;var m=f.phasedRegistrationNames;if(m){for(e in m)m.hasOwnProperty(e)&&of(m[e],g,h);e=!0}else f.registrationName?(of(f.registrationName,g,h),e=!0):e=!1;if(!e)throw Error(k(98,d,a));}}}}function of(a,b,c){if(db[a])throw Error(k(100,a));db[a]=b;rd[a]=b.eventTypes[c].dependencies}function pf(a){var b=!1,c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];if(!cb.hasOwnProperty(c)||cb[c]!==d){if(cb[c])throw Error(k(102,c));cb[c]=
d;b=!0}}b&&nf()}function qf(a){if(a=rf(a)){if("function"!==typeof sd)throw Error(k(280));var b=a.stateNode;b&&(b=td(b),sd(a.stateNode,a.type,b))}}function sf(a){eb?fb?fb.push(a):fb=[a]:eb=a}function tf(){if(eb){var a=eb,b=fb;fb=eb=null;qf(a);if(b)for(a=0;a<b.length;a++)qf(b[a])}}function ud(){if(null!==eb||null!==fb)vd(),tf()}function uf(a,b,c){if(wd)return a(b,c);wd=!0;try{return vf(a,b,c)}finally{wd=!1,ud()}}function ni(a){if(wf.call(xf,a))return!0;if(wf.call(yf,a))return!1;if(oi.test(a))return xf[a]=
!0;yf[a]=!0;return!1}function pi(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case "function":case "symbol":return!0;case "boolean":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return"data-"!==a&&"aria-"!==a;default:return!1}}function qi(a,b,c,d){if(null===b||"undefined"===typeof b||pi(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function L(a,
b,c,d,e,f){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f}function xd(a,b,c,d){var e=E.hasOwnProperty(b)?E[b]:null;var f=null!==e?0===e.type:d?!1:!(2<b.length)||"o"!==b[0]&&"O"!==b[0]||"n"!==b[1]&&"N"!==b[1]?!1:!0;f||(qi(b,c,e,d)&&(c=null),d||null===e?ni(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,""+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:"":c:(b=e.attributeName,
d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?"":""+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}function zb(a){if(null===a||"object"!==typeof a)return null;a=zf&&a[zf]||a["@@iterator"];return"function"===typeof a?a:null}function ri(a){if(-1===a._status){a._status=0;var b=a._ctor;b=b();a._result=b;b.then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)})}}function na(a){if(null==a)return null;
if("function"===typeof a)return a.displayName||a.name||null;if("string"===typeof a)return a;switch(a){case Ma:return"Fragment";case gb:return"Portal";case kc:return"Profiler";case Af:return"StrictMode";case lc:return"Suspense";case yd:return"SuspenseList"}if("object"===typeof a)switch(a.$$typeof){case Bf:return"Context.Consumer";case Cf:return"Context.Provider";case zd:var b=a.render;b=b.displayName||b.name||"";return a.displayName||(""!==b?"ForwardRef("+b+")":"ForwardRef");case Ad:return na(a.type);
case Df:return na(a.render);case Ef:if(a=1===a._status?a._result:null)return na(a)}return null}function Bd(a){var b="";do{a:switch(a.tag){case 3:case 4:case 6:case 7:case 10:case 9:var c="";break a;default:var d=a._debugOwner,e=a._debugSource,f=na(a.type);c=null;d&&(c=na(d.type));d=f;f="";e?f=" (at "+e.fileName.replace(si,"")+":"+e.lineNumber+")":c&&(f=" (created by "+c+")");c="\n    in "+(d||"Unknown")+f}b+=c;a=a.return}while(a);return b}function va(a){switch(typeof a){case "boolean":case "number":case "object":case "string":case "undefined":return a;
default:return""}}function Ff(a){var b=a.type;return(a=a.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===b||"radio"===b)}function ti(a){var b=Ff(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=""+a[b];if(!a.hasOwnProperty(b)&&"undefined"!==typeof c&&"function"===typeof c.get&&"function"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=""+a;f.call(this,a)}});Object.defineProperty(a,
b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=""+a},stopTracking:function(){a._valueTracker=null;delete a[b]}}}}function mc(a){a._valueTracker||(a._valueTracker=ti(a))}function Gf(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d="";a&&(d=Ff(a)?a.checked?"true":"false":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Cd(a,b){var c=b.checked;return M({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=
c?c:a._wrapperState.initialChecked})}function Hf(a,b){var c=null==b.defaultValue?"":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=va(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:"checkbox"===b.type||"radio"===b.type?null!=b.checked:null!=b.value}}function If(a,b){b=b.checked;null!=b&&xd(a,"checked",b,!1)}function Dd(a,b){If(a,b);var c=va(b.value),d=b.type;if(null!=c)if("number"===d){if(0===c&&""===a.value||a.value!=c)a.value=""+c}else a.value!==
""+c&&(a.value=""+c);else if("submit"===d||"reset"===d){a.removeAttribute("value");return}b.hasOwnProperty("value")?Ed(a,b.type,c):b.hasOwnProperty("defaultValue")&&Ed(a,b.type,va(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}function Jf(a,b,c){if(b.hasOwnProperty("value")||b.hasOwnProperty("defaultValue")){var d=b.type;if(!("submit"!==d&&"reset"!==d||void 0!==b.value&&null!==b.value))return;b=""+a._wrapperState.initialValue;c||b===a.value||(a.value=
b);a.defaultValue=b}c=a.name;""!==c&&(a.name="");a.defaultChecked=!!a._wrapperState.initialChecked;""!==c&&(a.name=c)}function Ed(a,b,c){if("number"!==b||a.ownerDocument.activeElement!==a)null==c?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+c&&(a.defaultValue=""+c)}function ui(a){var b="";ea.Children.forEach(a,function(a){null!=a&&(b+=a)});return b}function Fd(a,b){a=M({children:void 0},b);if(b=ui(b.children))a.children=b;return a}function hb(a,b,c,d){a=a.options;if(b){b={};
for(var e=0;e<c.length;e++)b["$"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty("$"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=""+va(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}function Gd(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(k(91));return M({},b,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}
function Kf(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(k(92));if(Array.isArray(c)){if(!(1>=c.length))throw Error(k(93));c=c[0]}b=c}null==b&&(b="");c=b}a._wrapperState={initialValue:va(c)}}function Lf(a,b){var c=va(b.value),d=va(b.defaultValue);null!=c&&(c=""+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=""+d)}function Mf(a,b){b=a.textContent;b===a._wrapperState.initialValue&&""!==
b&&null!==b&&(a.value=b)}function Nf(a){switch(a){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hd(a,b){return null==a||"http://www.w3.org/1999/xhtml"===a?Nf(b):"http://www.w3.org/2000/svg"===a&&"foreignObject"===b?"http://www.w3.org/1999/xhtml":a}function nc(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c["Webkit"+a]="webkit"+b;c["Moz"+a]="moz"+b;return c}function oc(a){if(Id[a])return Id[a];
if(!ib[a])return a;var b=ib[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Of)return Id[a]=b[c];return a}function Jd(a){var b=Pf.get(a);void 0===b&&(b=new Map,Pf.set(a,b));return b}function Na(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.effectTag&1026)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function Qf(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function Rf(a){if(Na(a)!==
a)throw Error(k(188));}function vi(a){var b=a.alternate;if(!b){b=Na(a);if(null===b)throw Error(k(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return Rf(e),a;if(f===d)return Rf(e),b;f=f.sibling}throw Error(k(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=
f.child;h;){if(h===c){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(k(189));}}if(c.alternate!==d)throw Error(k(190));}if(3!==c.tag)throw Error(k(188));return c.stateNode.current===c?a:b}function Sf(a){a=vi(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}}return null}function jb(a,b){if(null==
b)throw Error(k(30));if(null==a)return b;if(Array.isArray(a)){if(Array.isArray(b))return a.push.apply(a,b),a;a.push(b);return a}return Array.isArray(b)?[a].concat(b):[a,b]}function Kd(a,b,c){Array.isArray(a)?a.forEach(b,c):a&&b.call(c,a)}function pc(a){null!==a&&(Ab=jb(Ab,a));a=Ab;Ab=null;if(a){Kd(a,wi);if(Ab)throw Error(k(95));if(hc)throw a=pd,hc=!1,pd=null,a;}}function Ld(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:
a}function Tf(a){if(!wa)return!1;a="on"+a;var b=a in document;b||(b=document.createElement("div"),b.setAttribute(a,"return;"),b="function"===typeof b[a]);return b}function Uf(a){a.topLevelType=null;a.nativeEvent=null;a.targetInst=null;a.ancestors.length=0;10>qc.length&&qc.push(a)}function Vf(a,b,c,d){if(qc.length){var e=qc.pop();e.topLevelType=a;e.eventSystemFlags=d;e.nativeEvent=b;e.targetInst=c;return e}return{topLevelType:a,eventSystemFlags:d,nativeEvent:b,targetInst:c,ancestors:[]}}function Wf(a){var b=
a.targetInst,c=b;do{if(!c){a.ancestors.push(c);break}var d=c;if(3===d.tag)d=d.stateNode.containerInfo;else{for(;d.return;)d=d.return;d=3!==d.tag?null:d.stateNode.containerInfo}if(!d)break;b=c.tag;5!==b&&6!==b||a.ancestors.push(c);c=Bb(d)}while(c);for(c=0;c<a.ancestors.length;c++){b=a.ancestors[c];var e=Ld(a.nativeEvent);d=a.topLevelType;var f=a.nativeEvent,g=a.eventSystemFlags;0===c&&(g|=64);for(var h=null,m=0;m<jc.length;m++){var n=jc[m];n&&(n=n.extractEvents(d,b,f,e,g))&&(h=jb(h,n))}pc(h)}}function Md(a,
b,c){if(!c.has(a)){switch(a){case "scroll":Cb(b,"scroll",!0);break;case "focus":case "blur":Cb(b,"focus",!0);Cb(b,"blur",!0);c.set("blur",null);c.set("focus",null);break;case "cancel":case "close":Tf(a)&&Cb(b,a,!0);break;case "invalid":case "submit":case "reset":break;default:-1===Db.indexOf(a)&&w(a,b)}c.set(a,null)}}function xi(a,b){var c=Jd(b);Nd.forEach(function(a){Md(a,b,c)});yi.forEach(function(a){Md(a,b,c)})}function Od(a,b,c,d,e){return{blockedOn:a,topLevelType:b,eventSystemFlags:c|32,nativeEvent:e,
container:d}}function Xf(a,b){switch(a){case "focus":case "blur":xa=null;break;case "dragenter":case "dragleave":ya=null;break;case "mouseover":case "mouseout":za=null;break;case "pointerover":case "pointerout":Eb.delete(b.pointerId);break;case "gotpointercapture":case "lostpointercapture":Fb.delete(b.pointerId)}}function Gb(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a=Od(b,c,d,e,f),null!==b&&(b=Hb(b),null!==b&&Yf(b)),a;a.eventSystemFlags|=d;return a}function zi(a,b,c,d,e){switch(b){case "focus":return xa=
Gb(xa,a,b,c,d,e),!0;case "dragenter":return ya=Gb(ya,a,b,c,d,e),!0;case "mouseover":return za=Gb(za,a,b,c,d,e),!0;case "pointerover":var f=e.pointerId;Eb.set(f,Gb(Eb.get(f)||null,a,b,c,d,e));return!0;case "gotpointercapture":return f=e.pointerId,Fb.set(f,Gb(Fb.get(f)||null,a,b,c,d,e)),!0}return!1}function Ai(a){var b=Bb(a.target);if(null!==b){var c=Na(b);if(null!==c)if(b=c.tag,13===b){if(b=Qf(c),null!==b){a.blockedOn=b;Pd(a.priority,function(){Bi(c)});return}}else if(3===b&&c.stateNode.hydrate){a.blockedOn=
3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}function rc(a){if(null!==a.blockedOn)return!1;var b=Qd(a.topLevelType,a.eventSystemFlags,a.container,a.nativeEvent);if(null!==b){var c=Hb(b);null!==c&&Yf(c);a.blockedOn=b;return!1}return!0}function Zf(a,b,c){rc(a)&&c.delete(b)}function Ci(){for(Rd=!1;0<fa.length;){var a=fa[0];if(null!==a.blockedOn){a=Hb(a.blockedOn);null!==a&&Di(a);break}var b=Qd(a.topLevelType,a.eventSystemFlags,a.container,a.nativeEvent);null!==b?a.blockedOn=b:fa.shift()}null!==
xa&&rc(xa)&&(xa=null);null!==ya&&rc(ya)&&(ya=null);null!==za&&rc(za)&&(za=null);Eb.forEach(Zf);Fb.forEach(Zf)}function Ib(a,b){a.blockedOn===b&&(a.blockedOn=null,Rd||(Rd=!0,$f(ag,Ci)))}function bg(a){if(0<fa.length){Ib(fa[0],a);for(var b=1;b<fa.length;b++){var c=fa[b];c.blockedOn===a&&(c.blockedOn=null)}}null!==xa&&Ib(xa,a);null!==ya&&Ib(ya,a);null!==za&&Ib(za,a);b=function(b){return Ib(b,a)};Eb.forEach(b);Fb.forEach(b);for(b=0;b<Jb.length;b++)c=Jb[b],c.blockedOn===a&&(c.blockedOn=null);for(;0<Jb.length&&
(b=Jb[0],null===b.blockedOn);)Ai(b),null===b.blockedOn&&Jb.shift()}function Sd(a,b){for(var c=0;c<a.length;c+=2){var d=a[c],e=a[c+1],f="on"+(e[0].toUpperCase()+e.slice(1));f={phasedRegistrationNames:{bubbled:f,captured:f+"Capture"},dependencies:[d],eventPriority:b};Td.set(d,b);cg.set(d,f);dg[e]=f}}function w(a,b){Cb(b,a,!1)}function Cb(a,b,c){var d=Td.get(b);switch(void 0===d?2:d){case 0:d=Ei.bind(null,b,1,a);break;case 1:d=Fi.bind(null,b,1,a);break;default:d=sc.bind(null,b,1,a)}c?a.addEventListener(b,
d,!0):a.addEventListener(b,d,!1)}function Ei(a,b,c,d){Oa||vd();var e=sc,f=Oa;Oa=!0;try{eg(e,a,b,c,d)}finally{(Oa=f)||ud()}}function Fi(a,b,c,d){Gi(Hi,sc.bind(null,a,b,c,d))}function sc(a,b,c,d){if(tc)if(0<fa.length&&-1<Nd.indexOf(a))a=Od(null,a,b,c,d),fa.push(a);else{var e=Qd(a,b,c,d);if(null===e)Xf(a,d);else if(-1<Nd.indexOf(a))a=Od(e,a,b,c,d),fa.push(a);else if(!zi(e,a,b,c,d)){Xf(a,d);a=Vf(a,d,null,b);try{uf(Wf,a)}finally{Uf(a)}}}}function Qd(a,b,c,d){c=Ld(d);c=Bb(c);if(null!==c){var e=Na(c);if(null===
e)c=null;else{var f=e.tag;if(13===f){c=Qf(e);if(null!==c)return c;c=null}else if(3===f){if(e.stateNode.hydrate)return 3===e.tag?e.stateNode.containerInfo:null;c=null}else e!==c&&(c=null)}}a=Vf(a,d,c,b);try{uf(Wf,a)}finally{Uf(a)}return null}function fg(a,b,c){return null==b||"boolean"===typeof b||""===b?"":c||"number"!==typeof b||0===b||Kb.hasOwnProperty(a)&&Kb[a]?(""+b).trim():b+"px"}function gg(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf("--"),e=fg(c,b[c],d);"float"===
c&&(c="cssFloat");d?a.setProperty(c,e):a[c]=e}}function Ud(a,b){if(b){if(Ii[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(k(137,a,""));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(k(60));if(!("object"===typeof b.dangerouslySetInnerHTML&&"__html"in b.dangerouslySetInnerHTML))throw Error(k(61));}if(null!=b.style&&"object"!==typeof b.style)throw Error(k(62,""));}}function Vd(a,b){if(-1===a.indexOf("-"))return"string"===typeof b.is;switch(a){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;
default:return!0}}function oa(a,b){a=9===a.nodeType||11===a.nodeType?a:a.ownerDocument;var c=Jd(a);b=rd[b];for(var d=0;d<b.length;d++)Md(b[d],a,c)}function uc(){}function Wd(a){a=a||("undefined"!==typeof document?document:void 0);if("undefined"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}function hg(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function ig(a,b){var c=hg(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,
offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=hg(c)}}function jg(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?jg(a,b.parentNode):"contains"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}function kg(){for(var a=window,b=Wd();b instanceof a.HTMLIFrameElement;){try{var c="string"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Wd(a.document)}return b}
function Xd(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&("input"===b&&("text"===a.type||"search"===a.type||"tel"===a.type||"url"===a.type||"password"===a.type)||"textarea"===b||"true"===a.contentEditable)}function lg(a,b){switch(a){case "button":case "input":case "select":case "textarea":return!!b.autoFocus}return!1}function Yd(a,b){return"textarea"===a||"option"===a||"noscript"===a||"string"===typeof b.children||"number"===typeof b.children||"object"===typeof b.dangerouslySetInnerHTML&&
null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}function kb(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break}return a}function mg(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(c===ng||c===Zd||c===$d){if(0===b)return a;b--}else c===og&&b++}a=a.previousSibling}return null}function Bb(a){var b=a[Aa];if(b)return b;for(var c=a.parentNode;c;){if(b=c[Lb]||c[Aa]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=mg(a);null!==
a;){if(c=a[Aa])return c;a=mg(a)}return b}a=c;c=a.parentNode}return null}function Hb(a){a=a[Aa]||a[Lb];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function Pa(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(k(33));}function ae(a){return a[vc]||null}function pa(a){do a=a.return;while(a&&5!==a.tag);return a?a:null}function pg(a,b){var c=a.stateNode;if(!c)return null;var d=td(c);if(!d)return null;c=d[b];a:switch(b){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(d=
!d.disabled)||(a=a.type,d=!("button"===a||"input"===a||"select"===a||"textarea"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&"function"!==typeof c)throw Error(k(231,b,typeof c));return c}function qg(a,b,c){if(b=pg(a,c.dispatchConfig.phasedRegistrationNames[b]))c._dispatchListeners=jb(c._dispatchListeners,b),c._dispatchInstances=jb(c._dispatchInstances,a)}function Ji(a){if(a&&a.dispatchConfig.phasedRegistrationNames){for(var b=a._targetInst,c=[];b;)c.push(b),b=pa(b);for(b=c.length;0<b--;)qg(c[b],
"captured",a);for(b=0;b<c.length;b++)qg(c[b],"bubbled",a)}}function be(a,b,c){a&&c&&c.dispatchConfig.registrationName&&(b=pg(a,c.dispatchConfig.registrationName))&&(c._dispatchListeners=jb(c._dispatchListeners,b),c._dispatchInstances=jb(c._dispatchInstances,a))}function Ki(a){a&&a.dispatchConfig.registrationName&&be(a._targetInst,null,a)}function lb(a){Kd(a,Ji)}function rg(){if(wc)return wc;var a,b=ce,c=b.length,d,e="value"in Ba?Ba.value:Ba.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=
c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return wc=e.slice(a,1<d?1-d:void 0)}function xc(){return!0}function yc(){return!1}function R(a,b,c,d){this.dispatchConfig=a;this._targetInst=b;this.nativeEvent=c;a=this.constructor.Interface;for(var e in a)a.hasOwnProperty(e)&&((b=a[e])?this[e]=b(c):"target"===e?this.target=d:this[e]=c[e]);this.isDefaultPrevented=(null!=c.defaultPrevented?c.defaultPrevented:!1===c.returnValue)?xc:yc;this.isPropagationStopped=yc;return this}function Li(a,b,c,d){if(this.eventPool.length){var e=
this.eventPool.pop();this.call(e,a,b,c,d);return e}return new this(a,b,c,d)}function Mi(a){if(!(a instanceof this))throw Error(k(279));a.destructor();10>this.eventPool.length&&this.eventPool.push(a)}function sg(a){a.eventPool=[];a.getPooled=Li;a.release=Mi}function tg(a,b){switch(a){case "keyup":return-1!==Ni.indexOf(b.keyCode);case "keydown":return 229!==b.keyCode;case "keypress":case "mousedown":case "blur":return!0;default:return!1}}function ug(a){a=a.detail;return"object"===typeof a&&"data"in
a?a.data:null}function Oi(a,b){switch(a){case "compositionend":return ug(b);case "keypress":if(32!==b.which)return null;vg=!0;return wg;case "textInput":return a=b.data,a===wg&&vg?null:a;default:return null}}function Pi(a,b){if(mb)return"compositionend"===a||!de&&tg(a,b)?(a=rg(),wc=ce=Ba=null,mb=!1,a):null;switch(a){case "paste":return null;case "keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;
case "compositionend":return xg&&"ko"!==b.locale?null:b.data;default:return null}}function yg(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return"input"===b?!!Qi[a.type]:"textarea"===b?!0:!1}function zg(a,b,c){a=R.getPooled(Ag.change,a,b,c);a.type="change";sf(c);lb(a);return a}function Ri(a){pc(a)}function zc(a){var b=Pa(a);if(Gf(b))return a}function Si(a,b){if("change"===a)return b}function Bg(){Mb&&(Mb.detachEvent("onpropertychange",Cg),Nb=Mb=null)}function Cg(a){if("value"===a.propertyName&&
zc(Nb))if(a=zg(Nb,a,Ld(a)),Oa)pc(a);else{Oa=!0;try{ee(Ri,a)}finally{Oa=!1,ud()}}}function Ti(a,b,c){"focus"===a?(Bg(),Mb=b,Nb=c,Mb.attachEvent("onpropertychange",Cg)):"blur"===a&&Bg()}function Ui(a,b){if("selectionchange"===a||"keyup"===a||"keydown"===a)return zc(Nb)}function Vi(a,b){if("click"===a)return zc(b)}function Wi(a,b){if("input"===a||"change"===a)return zc(b)}function Xi(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Yi[a])?!!b[a]:!1}function fe(a){return Xi}
function Zi(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}function Ob(a,b){if(Qa(a,b))return!0;if("object"!==typeof a||null===a||"object"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!$i.call(b,c[d])||!Qa(a[c[d]],b[c[d]]))return!1;return!0}function Dg(a,b){var c=b.window===b?b.document:9===b.nodeType?b:b.ownerDocument;if(ge||null==nb||nb!==Wd(c))return null;c=nb;"selectionStart"in c&&Xd(c)?c={start:c.selectionStart,
end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset});return Pb&&Ob(Pb,c)?null:(Pb=c,a=R.getPooled(Eg.select,he,a,b),a.type="select",a.target=nb,lb(a),a)}function Ac(a){var b=a.keyCode;"charCode"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function q(a,b){0>ob||(a.current=ie[ob],ie[ob]=null,ob--)}function y(a,b,c){ob++;
ie[ob]=a.current;a.current=b}function pb(a,b){var c=a.type.contextTypes;if(!c)return Ca;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}function N(a){a=a.childContextTypes;return null!==a&&void 0!==a}function Fg(a,b,c){if(B.current!==Ca)throw Error(k(168));y(B,b);y(G,c)}
function Gg(a,b,c){var d=a.stateNode;a=b.childContextTypes;if("function"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in a))throw Error(k(108,na(b)||"Unknown",e));return M({},c,{},d)}function Bc(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ca;Ra=B.current;y(B,a);y(G,G.current);return!0}function Hg(a,b,c){var d=a.stateNode;if(!d)throw Error(k(169));c?(a=Gg(a,b,Ra),d.__reactInternalMemoizedMergedChildContext=a,q(G),q(B),y(B,a)):q(G);y(G,c)}function Cc(){switch(aj()){case Dc:return 99;
case Ig:return 98;case Jg:return 97;case Kg:return 96;case Lg:return 95;default:throw Error(k(332));}}function Mg(a){switch(a){case 99:return Dc;case 98:return Ig;case 97:return Jg;case 96:return Kg;case 95:return Lg;default:throw Error(k(332));}}function Da(a,b){a=Mg(a);return bj(a,b)}function Ng(a,b,c){a=Mg(a);return je(a,b,c)}function Og(a){null===qa?(qa=[a],Ec=je(Dc,Pg)):qa.push(a);return Qg}function ha(){if(null!==Ec){var a=Ec;Ec=null;Rg(a)}Pg()}function Pg(){if(!ke&&null!==qa){ke=!0;var a=0;
try{var b=qa;Da(99,function(){for(;a<b.length;a++){var c=b[a];do c=c(!0);while(null!==c)}});qa=null}catch(c){throw null!==qa&&(qa=qa.slice(a+1)),je(Dc,ha),c;}finally{ke=!1}}}function Fc(a,b,c){c/=10;return 1073741821-(((1073741821-a+b/10)/c|0)+1)*c}function aa(a,b){if(a&&a.defaultProps){b=M({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c])}return b}function le(){Gc=qb=Hc=null}function me(a){var b=Ic.current;q(Ic);a.type._context._currentValue=b}function Sg(a,b){for(;null!==a;){var c=
a.alternate;if(a.childExpirationTime<b)a.childExpirationTime=b,null!==c&&c.childExpirationTime<b&&(c.childExpirationTime=b);else if(null!==c&&c.childExpirationTime<b)c.childExpirationTime=b;else break;a=a.return}}function rb(a,b){Hc=a;Gc=qb=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(a.expirationTime>=b&&(ia=!0),a.firstContext=null)}function W(a,b){if(Gc!==a&&!1!==b&&0!==b){if("number"!==typeof b||1073741823===b)Gc=a,b=1073741823;b={context:a,observedBits:b,next:null};if(null===qb){if(null===
Hc)throw Error(k(308));qb=b;Hc.dependencies={expirationTime:0,firstContext:b,responders:null}}else qb=qb.next=b}return a._currentValue}function ne(a){a.updateQueue={baseState:a.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function oe(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,baseQueue:a.baseQueue,shared:a.shared,effects:a.effects})}function Ea(a,b){a={expirationTime:a,suspenseConfig:b,tag:Tg,payload:null,callback:null,next:null};return a.next=
a}function Fa(a,b){a=a.updateQueue;if(null!==a){a=a.shared;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}}function Ug(a,b){var c=a.alternate;null!==c&&oe(c,a);a=a.updateQueue;c=a.baseQueue;null===c?(a.baseQueue=b.next=b,b.next=b):(b.next=c.next,c.next=b)}function Qb(a,b,c,d){var e=a.updateQueue;Ga=!1;var f=e.baseQueue,g=e.shared.pending;if(null!==g){if(null!==f){var h=f.next;f.next=g.next;g.next=h}f=g;e.shared.pending=null;h=a.alternate;null!==h&&(h=h.updateQueue,null!==h&&
(h.baseQueue=g))}if(null!==f){h=f.next;var m=e.baseState,n=0,k=null,ba=null,l=null;if(null!==h){var p=h;do{g=p.expirationTime;if(g<d){var t={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===l?(ba=l=t,k=m):l=l.next=t;g>n&&(n=g)}else{null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null});Vg(g,p.suspenseConfig);a:{var q=a,r=p;g=b;t=c;switch(r.tag){case 1:q=
r.payload;if("function"===typeof q){m=q.call(t,m,g);break a}m=q;break a;case 3:q.effectTag=q.effectTag&-4097|64;case Tg:q=r.payload;g="function"===typeof q?q.call(t,m,g):q;if(null===g||void 0===g)break a;m=M({},m,g);break a;case Jc:Ga=!0}}null!==p.callback&&(a.effectTag|=32,g=e.effects,null===g?e.effects=[p]:g.push(p))}p=p.next;if(null===p||p===h)if(g=e.shared.pending,null===g)break;else p=f.next=g.next,g.next=h,e.baseQueue=f=g,e.shared.pending=null}while(1)}null===l?k=m:l.next=ba;e.baseState=k;e.baseQueue=
l;Kc(n);a.expirationTime=n;a.memoizedState=m}}function Wg(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=e;e=c;if("function"!==typeof d)throw Error(k(191,d));d.call(e)}}}function Lc(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:M({},b,c);a.memoizedState=c;0===a.expirationTime&&(a.updateQueue.baseState=c)}function Xg(a,b,c,d,e,f,g){a=a.stateNode;return"function"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,
f,g):b.prototype&&b.prototype.isPureReactComponent?!Ob(c,d)||!Ob(e,f):!0}function Yg(a,b,c){var d=!1,e=Ca;var f=b.contextType;"object"===typeof f&&null!==f?f=W(f):(e=N(b)?Ra:B.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?pb(a,e):Ca);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Mc;a.stateNode=b;b._reactInternalFiber=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}function Zg(a,
b,c,d){a=b.state;"function"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);"function"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Mc.enqueueReplaceState(b,b.state,null)}function pe(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=$g;ne(a);var f=b.contextType;"object"===typeof f&&null!==f?e.context=W(f):(f=N(b)?Ra:B.current,e.context=pb(a,f));Qb(a,c,e,d);e.state=a.memoizedState;f=b.getDerivedStateFromProps;
"function"===typeof f&&(Lc(a,b,f,c),e.state=a.memoizedState);"function"===typeof b.getDerivedStateFromProps||"function"===typeof e.getSnapshotBeforeUpdate||"function"!==typeof e.UNSAFE_componentWillMount&&"function"!==typeof e.componentWillMount||(b=e.state,"function"===typeof e.componentWillMount&&e.componentWillMount(),"function"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Mc.enqueueReplaceState(e,e.state,null),Qb(a,c,e,d),e.state=a.memoizedState);"function"===
typeof e.componentDidMount&&(a.effectTag|=4)}function Rb(a,b,c){a=c.ref;if(null!==a&&"function"!==typeof a&&"object"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(k(309));var d=c.stateNode}if(!d)throw Error(k(147,a));var e=""+a;if(null!==b&&null!==b.ref&&"function"===typeof b.ref&&b.ref._stringRef===e)return b.ref;b=function(a){var b=d.refs;b===$g&&(b=d.refs={});null===a?delete b[e]:b[e]=a};b._stringRef=e;return b}if("string"!==typeof a)throw Error(k(284));if(!c._owner)throw Error(k(290,
a));}return a}function Nc(a,b){if("textarea"!==a.type)throw Error(k(31,"[object Object]"===Object.prototype.toString.call(b)?"object with keys {"+Object.keys(b).join(", ")+"}":b,""));}function ah(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c;c.nextEffect=null;c.effectTag=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,
b),b=b.sibling;return a}function e(a,b){a=Sa(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.effectTag=2,c):d;b.effectTag=2;return c}function g(b){a&&null===b.alternate&&(b.effectTag=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=qe(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function m(a,b,c,d){if(null!==b&&b.elementType===c.type)return d=e(b,c.props),d.ref=Rb(a,b,c),d.return=a,d;d=Oc(c.type,
c.key,c.props,null,a.mode,d);d.ref=Rb(a,b,c);d.return=a;return d}function n(a,b,c,d){if(null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=re(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function l(a,b,c,d,f){if(null===b||7!==b.tag)return b=Ha(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function ba(a,b,c){if("string"===typeof b||"number"===typeof b)return b=qe(""+b,a.mode,c),b.return=a,b;if("object"===
typeof b&&null!==b){switch(b.$$typeof){case Pc:return c=Oc(b.type,b.key,b.props,null,a.mode,c),c.ref=Rb(a,null,b),c.return=a,c;case gb:return b=re(b,a.mode,c),b.return=a,b}if(Qc(b)||zb(b))return b=Ha(b,a.mode,c,null),b.return=a,b;Nc(a,b)}return null}function p(a,b,c,d){var e=null!==b?b.key:null;if("string"===typeof c||"number"===typeof c)return null!==e?null:h(a,b,""+c,d);if("object"===typeof c&&null!==c){switch(c.$$typeof){case Pc:return c.key===e?c.type===Ma?l(a,b,c.props.children,d,e):m(a,b,c,
d):null;case gb:return c.key===e?n(a,b,c,d):null}if(Qc(c)||zb(c))return null!==e?null:l(a,b,c,d,null);Nc(a,c)}return null}function t(a,b,c,d,e){if("string"===typeof d||"number"===typeof d)return a=a.get(c)||null,h(b,a,""+d,e);if("object"===typeof d&&null!==d){switch(d.$$typeof){case Pc:return a=a.get(null===d.key?c:d.key)||null,d.type===Ma?l(b,a,d.props.children,e,d.key):m(b,a,d,e);case gb:return a=a.get(null===d.key?c:d.key)||null,n(b,a,d,e)}if(Qc(d)||zb(d))return a=a.get(c)||null,l(b,a,d,e,null);
Nc(b,d)}return null}function q(e,g,h,m){for(var n=null,k=null,l=g,r=g=0,C=null;null!==l&&r<h.length;r++){l.index>r?(C=l,l=null):C=l.sibling;var O=p(e,l,h[r],m);if(null===O){null===l&&(l=C);break}a&&l&&null===O.alternate&&b(e,l);g=f(O,g,r);null===k?n=O:k.sibling=O;k=O;l=C}if(r===h.length)return c(e,l),n;if(null===l){for(;r<h.length;r++)l=ba(e,h[r],m),null!==l&&(g=f(l,g,r),null===k?n=l:k.sibling=l,k=l);return n}for(l=d(e,l);r<h.length;r++)C=t(l,e,r,h[r],m),null!==C&&(a&&null!==C.alternate&&l.delete(null===
C.key?r:C.key),g=f(C,g,r),null===k?n=C:k.sibling=C,k=C);a&&l.forEach(function(a){return b(e,a)});return n}function w(e,g,h,n){var m=zb(h);if("function"!==typeof m)throw Error(k(150));h=m.call(h);if(null==h)throw Error(k(151));for(var l=m=null,r=g,C=g=0,O=null,v=h.next();null!==r&&!v.done;C++,v=h.next()){r.index>C?(O=r,r=null):O=r.sibling;var q=p(e,r,v.value,n);if(null===q){null===r&&(r=O);break}a&&r&&null===q.alternate&&b(e,r);g=f(q,g,C);null===l?m=q:l.sibling=q;l=q;r=O}if(v.done)return c(e,r),m;
if(null===r){for(;!v.done;C++,v=h.next())v=ba(e,v.value,n),null!==v&&(g=f(v,g,C),null===l?m=v:l.sibling=v,l=v);return m}for(r=d(e,r);!v.done;C++,v=h.next())v=t(r,e,C,v.value,n),null!==v&&(a&&null!==v.alternate&&r.delete(null===v.key?C:v.key),g=f(v,g,C),null===l?m=v:l.sibling=v,l=v);a&&r.forEach(function(a){return b(e,a)});return m}return function(a,d,f,h){var m="object"===typeof f&&null!==f&&f.type===Ma&&null===f.key;m&&(f=f.props.children);var n="object"===typeof f&&null!==f;if(n)switch(f.$$typeof){case Pc:a:{n=
f.key;for(m=d;null!==m;){if(m.key===n){switch(m.tag){case 7:if(f.type===Ma){c(a,m.sibling);d=e(m,f.props.children);d.return=a;a=d;break a}break;default:if(m.elementType===f.type){c(a,m.sibling);d=e(m,f.props);d.ref=Rb(a,m,f);d.return=a;a=d;break a}}c(a,m);break}else b(a,m);m=m.sibling}f.type===Ma?(d=Ha(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Oc(f.type,f.key,f.props,null,a.mode,h),h.ref=Rb(a,d,f),h.return=a,a=h)}return g(a);case gb:a:{for(m=f.key;null!==d;){if(d.key===m)if(4===d.tag&&d.stateNode.containerInfo===
f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=re(f,a.mode,h);d.return=a;a=d}return g(a)}if("string"===typeof f||"number"===typeof f)return f=""+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):(c(a,d),d=qe(f,a.mode,h),d.return=a,a=d),g(a);if(Qc(f))return q(a,d,f,h);if(zb(f))return w(a,d,f,h);n&&Nc(a,f);if("undefined"===typeof f&&!m)switch(a.tag){case 1:case 0:throw a=
a.type,Error(k(152,a.displayName||a.name||"Component"));}return c(a,d)}}function Ta(a){if(a===Sb)throw Error(k(174));return a}function se(a,b){y(Tb,b);y(Ub,a);y(ja,Sb);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:Hd(null,"");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=Hd(b,a)}q(ja);y(ja,b)}function tb(a){q(ja);q(Ub);q(Tb)}function bh(a){Ta(Tb.current);var b=Ta(ja.current);var c=Hd(b,a.type);b!==c&&(y(Ub,a),y(ja,c))}function te(a){Ub.current===
a&&(q(ja),q(Ub))}function Rc(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||c.data===$d||c.data===Zd))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.effectTag&64))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}function ue(a,b){return{responder:a,props:b}}
function S(){throw Error(k(321));}function ve(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!Qa(a[c],b[c]))return!1;return!0}function we(a,b,c,d,e,f){Ia=f;z=b;b.memoizedState=null;b.updateQueue=null;b.expirationTime=0;Sc.current=null===a||null===a.memoizedState?dj:ej;a=c(d,e);if(b.expirationTime===Ia){f=0;do{b.expirationTime=0;if(!(25>f))throw Error(k(301));f+=1;J=K=null;b.updateQueue=null;Sc.current=fj;a=c(d,e)}while(b.expirationTime===Ia)}Sc.current=Tc;b=null!==K&&null!==K.next;
Ia=0;J=K=z=null;Uc=!1;if(b)throw Error(k(300));return a}function ub(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===J?z.memoizedState=J=a:J=J.next=a;return J}function vb(){if(null===K){var a=z.alternate;a=null!==a?a.memoizedState:null}else a=K.next;var b=null===J?z.memoizedState:J.next;if(null!==b)J=b,K=a;else{if(null===a)throw Error(k(310));K=a;a={memoizedState:K.memoizedState,baseState:K.baseState,baseQueue:K.baseQueue,queue:K.queue,next:null};null===J?z.memoizedState=
J=a:J=J.next=a}return J}function Ua(a,b){return"function"===typeof b?b(a):b}function Vc(a,b,c){b=vb();c=b.queue;if(null===c)throw Error(k(311));c.lastRenderedReducer=a;var d=K,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){e=e.next;d=d.baseState;var h=g=f=null,m=e;do{var n=m.expirationTime;if(n<Ia){var l={expirationTime:m.expirationTime,suspenseConfig:m.suspenseConfig,action:m.action,eagerReducer:m.eagerReducer,eagerState:m.eagerState,
next:null};null===h?(g=h=l,f=d):h=h.next=l;n>z.expirationTime&&(z.expirationTime=n,Kc(n))}else null!==h&&(h=h.next={expirationTime:1073741823,suspenseConfig:m.suspenseConfig,action:m.action,eagerReducer:m.eagerReducer,eagerState:m.eagerState,next:null}),Vg(n,m.suspenseConfig),d=m.eagerReducer===a?m.eagerState:a(d,m.action);m=m.next}while(null!==m&&m!==e);null===h?f=d:h.next=g;Qa(d,b.memoizedState)||(ia=!0);b.memoizedState=d;b.baseState=f;b.baseQueue=h;c.lastRenderedState=d}return[b.memoizedState,
c.dispatch]}function Wc(a,b,c){b=vb();c=b.queue;if(null===c)throw Error(k(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);Qa(f,b.memoizedState)||(ia=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}function xe(a){var b=ub();"function"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a=b.queue={pending:null,dispatch:null,lastRenderedReducer:Ua,
lastRenderedState:a};a=a.dispatch=ch.bind(null,z,a);return[b.memoizedState,a]}function ye(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=z.updateQueue;null===b?(b={lastEffect:null},z.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function dh(a){return vb().memoizedState}function ze(a,b,c,d){var e=ub();z.effectTag|=a;e.memoizedState=ye(1|b,c,void 0,void 0===d?null:d)}function Ae(a,b,c,d){var e=vb();
d=void 0===d?null:d;var f=void 0;if(null!==K){var g=K.memoizedState;f=g.destroy;if(null!==d&&ve(d,g.deps)){ye(b,c,f,d);return}}z.effectTag|=a;e.memoizedState=ye(1|b,c,f,d)}function eh(a,b){return ze(516,4,a,b)}function Xc(a,b){return Ae(516,4,a,b)}function fh(a,b){return Ae(4,2,a,b)}function gh(a,b){if("function"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function hh(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;
return Ae(4,2,gh.bind(null,b,a),c)}function Be(a,b){}function ih(a,b){ub().memoizedState=[a,void 0===b?null:b];return a}function Yc(a,b){var c=vb();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&ve(b,d[1]))return d[0];c.memoizedState=[a,b];return a}function jh(a,b){var c=vb();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&ve(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}function Ce(a,b,c){var d=Cc();Da(98>d?98:d,function(){a(!0)});Da(97<d?97:d,function(){var d=
X.suspense;X.suspense=void 0===b?null:b;try{a(!1),c()}finally{X.suspense=d}})}function ch(a,b,c){var d=ka(),e=Vb.suspense;d=Va(d,a,e);e={expirationTime:d,suspenseConfig:e,action:c,eagerReducer:null,eagerState:null,next:null};var f=b.pending;null===f?e.next=e:(e.next=f.next,f.next=e);b.pending=e;f=a.alternate;if(a===z||null!==f&&f===z)Uc=!0,e.expirationTime=Ia,z.expirationTime=Ia;else{if(0===a.expirationTime&&(null===f||0===f.expirationTime)&&(f=b.lastRenderedReducer,null!==f))try{var g=b.lastRenderedState,
h=f(g,c);e.eagerReducer=f;e.eagerState=h;if(Qa(h,g))return}catch(m){}finally{}Ja(a,d)}}function kh(a,b){var c=la(5,null,null,0);c.elementType="DELETED";c.type="DELETED";c.stateNode=b;c.return=a;c.effectTag=8;null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}function lh(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,!0):!1;case 6:return b=""===a.pendingProps||3!==b.nodeType?
null:b,null!==b?(a.stateNode=b,!0):!1;case 13:return!1;default:return!1}}function De(a){if(Wa){var b=Ka;if(b){var c=b;if(!lh(a,b)){b=kb(c.nextSibling);if(!b||!lh(a,b)){a.effectTag=a.effectTag&-1025|2;Wa=!1;ra=a;return}kh(ra,c)}ra=a;Ka=kb(b.firstChild)}else a.effectTag=a.effectTag&-1025|2,Wa=!1,ra=a}}function mh(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;ra=a}function Zc(a){if(a!==ra)return!1;if(!Wa)return mh(a),Wa=!0,!1;var b=a.type;if(5!==a.tag||"head"!==b&&"body"!==
b&&!Yd(b,a.memoizedProps))for(b=Ka;b;)kh(a,b),b=kb(b.nextSibling);mh(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(k(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(c===og){if(0===b){Ka=kb(a.nextSibling);break a}b--}else c!==ng&&c!==Zd&&c!==$d||b++}a=a.nextSibling}Ka=null}}else Ka=ra?kb(a.stateNode.nextSibling):null;return!0}function Ee(){Ka=ra=null;Wa=!1}function T(a,b,c,d){b.child=null===a?Fe(b,null,c,d):wb(b,a.child,c,d)}function nh(a,
b,c,d,e){c=c.render;var f=b.ref;rb(b,e);d=we(a,b,c,d,f,e);if(null!==a&&!ia)return b.updateQueue=a.updateQueue,b.effectTag&=-517,a.expirationTime<=e&&(a.expirationTime=0),sa(a,b,e);b.effectTag|=1;T(a,b,d,e);return b.child}function oh(a,b,c,d,e,f){if(null===a){var g=c.type;if("function"===typeof g&&!Ge(g)&&void 0===g.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=g,ph(a,b,g,d,e,f);a=Oc(c.type,null,d,null,b.mode,f);a.ref=b.ref;a.return=b;return b.child=a}g=a.child;if(e<
f&&(e=g.memoizedProps,c=c.compare,c=null!==c?c:Ob,c(e,d)&&a.ref===b.ref))return sa(a,b,f);b.effectTag|=1;a=Sa(g,d);a.ref=b.ref;a.return=b;return b.child=a}function ph(a,b,c,d,e,f){return null!==a&&Ob(a.memoizedProps,d)&&a.ref===b.ref&&(ia=!1,e<f)?(b.expirationTime=a.expirationTime,sa(a,b,f)):He(a,b,c,d,f)}function qh(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.effectTag|=128}function He(a,b,c,d,e){var f=N(c)?Ra:B.current;f=pb(b,f);rb(b,e);c=we(a,b,c,d,f,e);if(null!==a&&!ia)return b.updateQueue=
a.updateQueue,b.effectTag&=-517,a.expirationTime<=e&&(a.expirationTime=0),sa(a,b,e);b.effectTag|=1;T(a,b,c,e);return b.child}function rh(a,b,c,d,e){if(N(c)){var f=!0;Bc(b)}else f=!1;rb(b,e);if(null===b.stateNode)null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),Yg(b,c,d),pe(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var m=g.context,n=c.contextType;"object"===typeof n&&null!==n?n=W(n):(n=N(c)?Ra:B.current,n=pb(b,n));var l=c.getDerivedStateFromProps,k="function"===
typeof l||"function"===typeof g.getSnapshotBeforeUpdate;k||"function"!==typeof g.UNSAFE_componentWillReceiveProps&&"function"!==typeof g.componentWillReceiveProps||(h!==d||m!==n)&&Zg(b,g,d,n);Ga=!1;var p=b.memoizedState;g.state=p;Qb(b,d,g,e);m=b.memoizedState;h!==d||p!==m||G.current||Ga?("function"===typeof l&&(Lc(b,c,l,d),m=b.memoizedState),(h=Ga||Xg(b,c,h,d,p,m,n))?(k||"function"!==typeof g.UNSAFE_componentWillMount&&"function"!==typeof g.componentWillMount||("function"===typeof g.componentWillMount&&
g.componentWillMount(),"function"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),"function"===typeof g.componentDidMount&&(b.effectTag|=4)):("function"===typeof g.componentDidMount&&(b.effectTag|=4),b.memoizedProps=d,b.memoizedState=m),g.props=d,g.state=m,g.context=n,d=h):("function"===typeof g.componentDidMount&&(b.effectTag|=4),d=!1)}else g=b.stateNode,oe(a,b),h=b.memoizedProps,g.props=b.type===b.elementType?h:aa(b.type,h),m=g.context,n=c.contextType,"object"===typeof n&&null!==
n?n=W(n):(n=N(c)?Ra:B.current,n=pb(b,n)),l=c.getDerivedStateFromProps,(k="function"===typeof l||"function"===typeof g.getSnapshotBeforeUpdate)||"function"!==typeof g.UNSAFE_componentWillReceiveProps&&"function"!==typeof g.componentWillReceiveProps||(h!==d||m!==n)&&Zg(b,g,d,n),Ga=!1,m=b.memoizedState,g.state=m,Qb(b,d,g,e),p=b.memoizedState,h!==d||m!==p||G.current||Ga?("function"===typeof l&&(Lc(b,c,l,d),p=b.memoizedState),(l=Ga||Xg(b,c,h,d,m,p,n))?(k||"function"!==typeof g.UNSAFE_componentWillUpdate&&
"function"!==typeof g.componentWillUpdate||("function"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,p,n),"function"===typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(d,p,n)),"function"===typeof g.componentDidUpdate&&(b.effectTag|=4),"function"===typeof g.getSnapshotBeforeUpdate&&(b.effectTag|=256)):("function"!==typeof g.componentDidUpdate||h===a.memoizedProps&&m===a.memoizedState||(b.effectTag|=4),"function"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&m===
a.memoizedState||(b.effectTag|=256),b.memoizedProps=d,b.memoizedState=p),g.props=d,g.state=p,g.context=n,d=l):("function"!==typeof g.componentDidUpdate||h===a.memoizedProps&&m===a.memoizedState||(b.effectTag|=4),"function"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&m===a.memoizedState||(b.effectTag|=256),d=!1);return Ie(a,b,c,d,f,e)}function Ie(a,b,c,d,e,f){qh(a,b);var g=0!==(b.effectTag&64);if(!d&&!g)return e&&Hg(b,c,!1),sa(a,b,f);d=b.stateNode;gj.current=b;var h=g&&"function"!==typeof c.getDerivedStateFromError?
null:d.render();b.effectTag|=1;null!==a&&g?(b.child=wb(b,a.child,null,f),b.child=wb(b,null,h,f)):T(a,b,h,f);b.memoizedState=d.state;e&&Hg(b,c,!0);return b.child}function sh(a){var b=a.stateNode;b.pendingContext?Fg(a,b.pendingContext,b.pendingContext!==b.context):b.context&&Fg(a,b.context,!1);se(a,b.containerInfo)}function th(a,b,c){var d=b.mode,e=b.pendingProps,f=D.current,g=!1,h;(h=0!==(b.effectTag&64))||(h=0!==(f&2)&&(null===a||null!==a.memoizedState));h?(g=!0,b.effectTag&=-65):null!==a&&null===
a.memoizedState||void 0===e.fallback||!0===e.unstable_avoidThisFallback||(f|=1);y(D,f&1);if(null===a){void 0!==e.fallback&&De(b);if(g){g=e.fallback;e=Ha(null,d,0,null);e.return=b;if(0===(b.mode&2))for(a=null!==b.memoizedState?b.child.child:b.child,e.child=a;null!==a;)a.return=e,a=a.sibling;c=Ha(g,d,c,null);c.return=b;e.sibling=c;b.memoizedState=Je;b.child=e;return c}d=e.children;b.memoizedState=null;return b.child=Fe(b,null,d,c)}if(null!==a.memoizedState){a=a.child;d=a.sibling;if(g){e=e.fallback;
c=Sa(a,a.pendingProps);c.return=b;if(0===(b.mode&2)&&(g=null!==b.memoizedState?b.child.child:b.child,g!==a.child))for(c.child=g;null!==g;)g.return=c,g=g.sibling;d=Sa(d,e);d.return=b;c.sibling=d;c.childExpirationTime=0;b.memoizedState=Je;b.child=c;return d}c=wb(b,a.child,e.children,c);b.memoizedState=null;return b.child=c}a=a.child;if(g){g=e.fallback;e=Ha(null,d,0,null);e.return=b;e.child=a;null!==a&&(a.return=e);if(0===(b.mode&2))for(a=null!==b.memoizedState?b.child.child:b.child,e.child=a;null!==
a;)a.return=e,a=a.sibling;c=Ha(g,d,c,null);c.return=b;e.sibling=c;c.effectTag|=2;e.childExpirationTime=0;b.memoizedState=Je;b.child=e;return c}b.memoizedState=null;return b.child=wb(b,a,e.children,c)}function uh(a,b){a.expirationTime<b&&(a.expirationTime=b);var c=a.alternate;null!==c&&c.expirationTime<b&&(c.expirationTime=b);Sg(a.return,b)}function Ke(a,b,c,d,e,f){var g=a.memoizedState;null===g?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailExpiration:0,tailMode:e,
lastEffect:f}:(g.isBackwards=b,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=c,g.tailExpiration=0,g.tailMode=e,g.lastEffect=f)}function vh(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;T(a,b,d.children,c);d=D.current;if(0!==(d&2))d=d&1|2,b.effectTag|=64;else{if(null!==a&&0!==(a.effectTag&64))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&uh(a,c);else if(19===a.tag)uh(a,c);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===
a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}y(D,d);if(0===(b.mode&2))b.memoizedState=null;else switch(e){case "forwards":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===Rc(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);Ke(b,!1,e,c,f,b.lastEffect);break;case "backwards":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===Rc(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}Ke(b,
!0,c,null,f,b.lastEffect);break;case "together":Ke(b,!1,null,null,void 0,b.lastEffect);break;default:b.memoizedState=null}return b.child}function sa(a,b,c){null!==a&&(b.dependencies=a.dependencies);var d=b.expirationTime;0!==d&&Kc(d);if(b.childExpirationTime<c)return null;if(null!==a&&b.child!==a.child)throw Error(k(153));if(null!==b.child){a=b.child;c=Sa(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Sa(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}
function $c(a,b){switch(a.tailMode){case "hidden":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case "collapsed":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}function hj(a,b,c){var d=b.pendingProps;switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return N(b.type)&&(q(G),q(B)),
null;case 3:return tb(),q(G),q(B),c=b.stateNode,c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),null!==a&&null!==a.child||!Zc(b)||(b.effectTag|=4),wh(b),null;case 5:te(b);c=Ta(Tb.current);var e=b.type;if(null!==a&&null!=b.stateNode)ij(a,b,e,d,c),a.ref!==b.ref&&(b.effectTag|=128);else{if(!d){if(null===b.stateNode)throw Error(k(166));return null}a=Ta(ja.current);if(Zc(b)){d=b.stateNode;e=b.type;var f=b.memoizedProps;d[Aa]=b;d[vc]=f;switch(e){case "iframe":case "object":case "embed":w("load",
d);break;case "video":case "audio":for(a=0;a<Db.length;a++)w(Db[a],d);break;case "source":w("error",d);break;case "img":case "image":case "link":w("error",d);w("load",d);break;case "form":w("reset",d);w("submit",d);break;case "details":w("toggle",d);break;case "input":Hf(d,f);w("invalid",d);oa(c,"onChange");break;case "select":d._wrapperState={wasMultiple:!!f.multiple};w("invalid",d);oa(c,"onChange");break;case "textarea":Kf(d,f),w("invalid",d),oa(c,"onChange")}Ud(e,f);a=null;for(var g in f)if(f.hasOwnProperty(g)){var h=
f[g];"children"===g?"string"===typeof h?d.textContent!==h&&(a=["children",h]):"number"===typeof h&&d.textContent!==""+h&&(a=["children",""+h]):db.hasOwnProperty(g)&&null!=h&&oa(c,g)}switch(e){case "input":mc(d);Jf(d,f,!0);break;case "textarea":mc(d);Mf(d);break;case "select":case "option":break;default:"function"===typeof f.onClick&&(d.onclick=uc)}c=a;b.updateQueue=c;null!==c&&(b.effectTag|=4)}else{g=9===c.nodeType?c:c.ownerDocument;"http://www.w3.org/1999/xhtml"===a&&(a=Nf(e));"http://www.w3.org/1999/xhtml"===
a?"script"===e?(a=g.createElement("div"),a.innerHTML="<script>\x3c/script>",a=a.removeChild(a.firstChild)):"string"===typeof d.is?a=g.createElement(e,{is:d.is}):(a=g.createElement(e),"select"===e&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,e);a[Aa]=b;a[vc]=d;jj(a,b,!1,!1);b.stateNode=a;g=Vd(e,d);switch(e){case "iframe":case "object":case "embed":w("load",a);h=d;break;case "video":case "audio":for(h=0;h<Db.length;h++)w(Db[h],a);h=d;break;case "source":w("error",a);
h=d;break;case "img":case "image":case "link":w("error",a);w("load",a);h=d;break;case "form":w("reset",a);w("submit",a);h=d;break;case "details":w("toggle",a);h=d;break;case "input":Hf(a,d);h=Cd(a,d);w("invalid",a);oa(c,"onChange");break;case "option":h=Fd(a,d);break;case "select":a._wrapperState={wasMultiple:!!d.multiple};h=M({},d,{value:void 0});w("invalid",a);oa(c,"onChange");break;case "textarea":Kf(a,d);h=Gd(a,d);w("invalid",a);oa(c,"onChange");break;default:h=d}Ud(e,h);var m=h;for(f in m)if(m.hasOwnProperty(f)){var n=
m[f];"style"===f?gg(a,n):"dangerouslySetInnerHTML"===f?(n=n?n.__html:void 0,null!=n&&xh(a,n)):"children"===f?"string"===typeof n?("textarea"!==e||""!==n)&&Wb(a,n):"number"===typeof n&&Wb(a,""+n):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(db.hasOwnProperty(f)?null!=n&&oa(c,f):null!=n&&xd(a,f,n,g))}switch(e){case "input":mc(a);Jf(a,d,!1);break;case "textarea":mc(a);Mf(a);break;case "option":null!=d.value&&a.setAttribute("value",""+va(d.value));break;case "select":a.multiple=
!!d.multiple;c=d.value;null!=c?hb(a,!!d.multiple,c,!1):null!=d.defaultValue&&hb(a,!!d.multiple,d.defaultValue,!0);break;default:"function"===typeof h.onClick&&(a.onclick=uc)}lg(e,d)&&(b.effectTag|=4)}null!==b.ref&&(b.effectTag|=128)}return null;case 6:if(a&&null!=b.stateNode)kj(a,b,a.memoizedProps,d);else{if("string"!==typeof d&&null===b.stateNode)throw Error(k(166));c=Ta(Tb.current);Ta(ja.current);Zc(b)?(c=b.stateNode,d=b.memoizedProps,c[Aa]=b,c.nodeValue!==d&&(b.effectTag|=4)):(c=(9===c.nodeType?
c:c.ownerDocument).createTextNode(d),c[Aa]=b,b.stateNode=c)}return null;case 13:q(D);d=b.memoizedState;if(0!==(b.effectTag&64))return b.expirationTime=c,b;c=null!==d;d=!1;null===a?void 0!==b.memoizedProps.fallback&&Zc(b):(e=a.memoizedState,d=null!==e,c||null===e||(e=a.child.sibling,null!==e&&(f=b.firstEffect,null!==f?(b.firstEffect=e,e.nextEffect=f):(b.firstEffect=b.lastEffect=e,e.nextEffect=null),e.effectTag=8)));if(c&&!d&&0!==(b.mode&2))if(null===a&&!0!==b.memoizedProps.unstable_avoidThisFallback||
0!==(D.current&1))F===Xa&&(F=ad);else{if(F===Xa||F===ad)F=bd;0!==Xb&&null!==U&&(Ya(U,P),yh(U,Xb))}if(c||d)b.effectTag|=4;return null;case 4:return tb(),wh(b),null;case 10:return me(b),null;case 17:return N(b.type)&&(q(G),q(B)),null;case 19:q(D);d=b.memoizedState;if(null===d)return null;e=0!==(b.effectTag&64);f=d.rendering;if(null===f)if(e)$c(d,!1);else{if(F!==Xa||null!==a&&0!==(a.effectTag&64))for(f=b.child;null!==f;){a=Rc(f);if(null!==a){b.effectTag|=64;$c(d,!1);e=a.updateQueue;null!==e&&(b.updateQueue=
e,b.effectTag|=4);null===d.lastEffect&&(b.firstEffect=null);b.lastEffect=d.lastEffect;for(d=b.child;null!==d;)e=d,f=c,e.effectTag&=2,e.nextEffect=null,e.firstEffect=null,e.lastEffect=null,a=e.alternate,null===a?(e.childExpirationTime=0,e.expirationTime=f,e.child=null,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null):(e.childExpirationTime=a.childExpirationTime,e.expirationTime=a.expirationTime,e.child=a.child,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,
e.updateQueue=a.updateQueue,f=a.dependencies,e.dependencies=null===f?null:{expirationTime:f.expirationTime,firstContext:f.firstContext,responders:f.responders}),d=d.sibling;y(D,D.current&1|2);return b.child}f=f.sibling}}else{if(!e)if(a=Rc(f),null!==a){if(b.effectTag|=64,e=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.effectTag|=4),$c(d,!0),null===d.tail&&"hidden"===d.tailMode&&!f.alternate)return b=b.lastEffect=d.lastEffect,null!==b&&(b.nextEffect=null),null}else 2*Y()-d.renderingStartTime>d.tailExpiration&&
1<c&&(b.effectTag|=64,e=!0,$c(d,!1),b.expirationTime=b.childExpirationTime=c-1);d.isBackwards?(f.sibling=b.child,b.child=f):(c=d.last,null!==c?c.sibling=f:b.child=f,d.last=f)}return null!==d.tail?(0===d.tailExpiration&&(d.tailExpiration=Y()+500),c=d.tail,d.rendering=c,d.tail=c.sibling,d.lastEffect=b.lastEffect,d.renderingStartTime=Y(),c.sibling=null,b=D.current,y(D,e?b&1|2:b&1),c):null}throw Error(k(156,b.tag));}function lj(a,b){switch(a.tag){case 1:return N(a.type)&&(q(G),q(B)),b=a.effectTag,b&4096?
(a.effectTag=b&-4097|64,a):null;case 3:tb();q(G);q(B);b=a.effectTag;if(0!==(b&64))throw Error(k(285));a.effectTag=b&-4097|64;return a;case 5:return te(a),null;case 13:return q(D),b=a.effectTag,b&4096?(a.effectTag=b&-4097|64,a):null;case 19:return q(D),null;case 4:return tb(),null;case 10:return me(a),null;default:return null}}function Le(a,b){return{value:a,source:b,stack:Bd(b)}}function Me(a,b){var c=b.source,d=b.stack;null===d&&null!==c&&(d=Bd(c));null!==c&&na(c.type);b=b.value;null!==a&&1===a.tag&&
na(a.type);try{console.error(b)}catch(e){setTimeout(function(){throw e;})}}function mj(a,b){try{b.props=a.memoizedProps,b.state=a.memoizedState,b.componentWillUnmount()}catch(c){Za(a,c)}}function zh(a){var b=a.ref;if(null!==b)if("function"===typeof b)try{b(null)}catch(c){Za(a,c)}else b.current=null}function nj(a,b){switch(b.tag){case 0:case 11:case 15:case 22:return;case 1:if(b.effectTag&256&&null!==a){var c=a.memoizedProps,d=a.memoizedState;a=b.stateNode;b=a.getSnapshotBeforeUpdate(b.elementType===
b.type?c:aa(b.type,c),d);a.__reactInternalSnapshotBeforeUpdate=b}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(k(163));}function Ah(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var c=b=b.next;do{if((c.tag&a)===a){var d=c.destroy;c.destroy=void 0;void 0!==d&&d()}c=c.next}while(c!==b)}}function Bh(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var c=b=b.next;do{if((c.tag&a)===a){var d=c.create;c.destroy=d()}c=c.next}while(c!==b)}}function oj(a,b,c,d){switch(c.tag){case 0:case 11:case 15:case 22:Bh(3,
c);return;case 1:a=c.stateNode;c.effectTag&4&&(null===b?a.componentDidMount():(d=c.elementType===c.type?b.memoizedProps:aa(c.type,b.memoizedProps),a.componentDidUpdate(d,b.memoizedState,a.__reactInternalSnapshotBeforeUpdate)));b=c.updateQueue;null!==b&&Wg(c,b,a);return;case 3:b=c.updateQueue;if(null!==b){a=null;if(null!==c.child)switch(c.child.tag){case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}Wg(c,b,a)}return;case 5:a=c.stateNode;null===b&&c.effectTag&4&&lg(c.type,c.memoizedProps)&&
a.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===c.memoizedState&&(c=c.alternate,null!==c&&(c=c.memoizedState,null!==c&&(c=c.dehydrated,null!==c&&bg(c))));return;case 19:case 17:case 20:case 21:return}throw Error(k(163));}function Ch(a,b,c){"function"===typeof Ne&&Ne(b);switch(b.tag){case 0:case 11:case 14:case 15:case 22:a=b.updateQueue;if(null!==a&&(a=a.lastEffect,null!==a)){var d=a.next;Da(97<c?97:c,function(){var a=d;do{var c=a.destroy;if(void 0!==c){var g=b;try{c()}catch(h){Za(g,
h)}}a=a.next}while(a!==d)})}break;case 1:zh(b);c=b.stateNode;"function"===typeof c.componentWillUnmount&&mj(b,c);break;case 5:zh(b);break;case 4:Dh(a,b,c)}}function Eh(a){var b=a.alternate;a.return=null;a.child=null;a.memoizedState=null;a.updateQueue=null;a.dependencies=null;a.alternate=null;a.firstEffect=null;a.lastEffect=null;a.pendingProps=null;a.memoizedProps=null;a.stateNode=null;null!==b&&Eh(b)}function Fh(a){return 5===a.tag||3===a.tag||4===a.tag}function Gh(a){a:{for(var b=a.return;null!==
b;){if(Fh(b)){var c=b;break a}b=b.return}throw Error(k(160));}b=c.stateNode;switch(c.tag){case 5:var d=!1;break;case 3:b=b.containerInfo;d=!0;break;case 4:b=b.containerInfo;d=!0;break;default:throw Error(k(161));}c.effectTag&16&&(Wb(b,""),c.effectTag&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c.return||Fh(c.return)){c=null;break a}c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.effectTag&2)continue b;if(null===c.child||4===c.tag)continue b;
else c.child.return=c,c=c.child}if(!(c.effectTag&2)){c=c.stateNode;break a}}d?Oe(a,c,b):Pe(a,c,b)}function Oe(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=uc));else if(4!==d&&(a=a.child,null!==a))for(Oe(a,b,c),a=a.sibling;null!==a;)Oe(a,b,c),a=a.sibling}
function Pe(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(Pe(a,b,c),a=a.sibling;null!==a;)Pe(a,b,c),a=a.sibling}function Dh(a,b,c){for(var d=b,e=!1,f,g;;){if(!e){e=d.return;a:for(;;){if(null===e)throw Error(k(160));f=e.stateNode;switch(e.tag){case 5:g=!1;break a;case 3:f=f.containerInfo;g=!0;break a;case 4:f=f.containerInfo;g=!0;break a}e=e.return}e=!0}if(5===d.tag||6===d.tag){a:for(var h=
a,m=d,n=c,l=m;;)if(Ch(h,l,n),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===m)break a;for(;null===l.sibling;){if(null===l.return||l.return===m)break a;l=l.return}l.sibling.return=l.return;l=l.sibling}g?(h=f,m=d.stateNode,8===h.nodeType?h.parentNode.removeChild(m):h.removeChild(m)):f.removeChild(d.stateNode)}else if(4===d.tag){if(null!==d.child){f=d.stateNode.containerInfo;g=!0;d.child.return=d;d=d.child;continue}}else if(Ch(a,d,c),null!==d.child){d.child.return=d;d=d.child;continue}if(d===
b)break;for(;null===d.sibling;){if(null===d.return||d.return===b)return;d=d.return;4===d.tag&&(e=!1)}d.sibling.return=d.return;d=d.sibling}}function Qe(a,b){switch(b.tag){case 0:case 11:case 14:case 15:case 22:Ah(3,b);return;case 1:return;case 5:var c=b.stateNode;if(null!=c){var d=b.memoizedProps,e=null!==a?a.memoizedProps:d;a=b.type;var f=b.updateQueue;b.updateQueue=null;if(null!==f){c[vc]=d;"input"===a&&"radio"===d.type&&null!=d.name&&If(c,d);Vd(a,e);b=Vd(a,d);for(e=0;e<f.length;e+=2){var g=f[e],
h=f[e+1];"style"===g?gg(c,h):"dangerouslySetInnerHTML"===g?xh(c,h):"children"===g?Wb(c,h):xd(c,g,h,b)}switch(a){case "input":Dd(c,d);break;case "textarea":Lf(c,d);break;case "select":b=c._wrapperState.wasMultiple,c._wrapperState.wasMultiple=!!d.multiple,a=d.value,null!=a?hb(c,!!d.multiple,a,!1):b!==!!d.multiple&&(null!=d.defaultValue?hb(c,!!d.multiple,d.defaultValue,!0):hb(c,!!d.multiple,d.multiple?[]:"",!1))}}}return;case 6:if(null===b.stateNode)throw Error(k(162));b.stateNode.nodeValue=b.memoizedProps;
return;case 3:b=b.stateNode;b.hydrate&&(b.hydrate=!1,bg(b.containerInfo));return;case 12:return;case 13:c=b;null===b.memoizedState?d=!1:(d=!0,c=b.child,Re=Y());if(null!==c)a:for(a=c;;){if(5===a.tag)f=a.stateNode,d?(f=f.style,"function"===typeof f.setProperty?f.setProperty("display","none","important"):f.display="none"):(f=a.stateNode,e=a.memoizedProps.style,e=void 0!==e&&null!==e&&e.hasOwnProperty("display")?e.display:null,f.style.display=fg("display",e));else if(6===a.tag)a.stateNode.nodeValue=d?
"":a.memoizedProps;else if(13===a.tag&&null!==a.memoizedState&&null===a.memoizedState.dehydrated){f=a.child.sibling;f.return=a;a=f;continue}else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===c)break;for(;null===a.sibling;){if(null===a.return||a.return===c)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}Hh(b);return;case 19:Hh(b);return;case 17:return}throw Error(k(163));}function Hh(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=
new pj);b.forEach(function(b){var d=qj.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}function Ih(a,b,c){c=Ea(c,null);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){cd||(cd=!0,Se=d);Me(a,b)};return c}function Jh(a,b,c){c=Ea(c,null);c.tag=3;var d=a.type.getDerivedStateFromError;if("function"===typeof d){var e=b.value;c.payload=function(){Me(a,b);return d(e)}}var f=a.stateNode;null!==f&&"function"===typeof f.componentDidCatch&&(c.callback=function(){"function"!==typeof d&&
(null===La?La=new Set([this]):La.add(this),Me(a,b));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:""})});return c}function ka(){return(p&(ca|ma))!==H?1073741821-(Y()/10|0):0!==dd?dd:dd=1073741821-(Y()/10|0)}function Va(a,b,c){b=b.mode;if(0===(b&2))return 1073741823;var d=Cc();if(0===(b&4))return 99===d?1073741823:1073741822;if((p&ca)!==H)return P;if(null!==c)a=Fc(a,c.timeoutMs|0||5E3,250);else switch(d){case 99:a=1073741823;break;case 98:a=Fc(a,150,100);break;case 97:case 96:a=
Fc(a,5E3,250);break;case 95:a=2;break;default:throw Error(k(326));}null!==U&&a===P&&--a;return a}function ed(a,b){a.expirationTime<b&&(a.expirationTime=b);var c=a.alternate;null!==c&&c.expirationTime<b&&(c.expirationTime=b);var d=a.return,e=null;if(null===d&&3===a.tag)e=a.stateNode;else for(;null!==d;){c=d.alternate;d.childExpirationTime<b&&(d.childExpirationTime=b);null!==c&&c.childExpirationTime<b&&(c.childExpirationTime=b);if(null===d.return&&3===d.tag){e=d.stateNode;break}d=d.return}null!==e&&
(U===e&&(Kc(b),F===bd&&Ya(e,P)),yh(e,b));return e}function fd(a){var b=a.lastExpiredTime;if(0!==b)return b;b=a.firstPendingTime;if(!Kh(a,b))return b;var c=a.lastPingedTime;a=a.nextKnownPendingLevel;a=c>a?c:a;return 2>=a&&b!==a?0:a}function V(a){if(0!==a.lastExpiredTime)a.callbackExpirationTime=1073741823,a.callbackPriority=99,a.callbackNode=Og(Te.bind(null,a));else{var b=fd(a),c=a.callbackNode;if(0===b)null!==c&&(a.callbackNode=null,a.callbackExpirationTime=0,a.callbackPriority=90);else{var d=ka();
1073741823===b?d=99:1===b||2===b?d=95:(d=10*(1073741821-b)-10*(1073741821-d),d=0>=d?99:250>=d?98:5250>=d?97:95);if(null!==c){var e=a.callbackPriority;if(a.callbackExpirationTime===b&&e>=d)return;c!==Qg&&Rg(c)}a.callbackExpirationTime=b;a.callbackPriority=d;b=1073741823===b?Og(Te.bind(null,a)):Ng(d,Lh.bind(null,a),{timeout:10*(1073741821-b)-Y()});a.callbackNode=b}}}function Lh(a,b){dd=0;if(b)return b=ka(),Ue(a,b),V(a),null;var c=fd(a);if(0!==c){b=a.callbackNode;if((p&(ca|ma))!==H)throw Error(k(327));
xb();a===U&&c===P||$a(a,c);if(null!==t){var d=p;p|=ca;var e=Mh();do try{rj();break}catch(h){Nh(a,h)}while(1);le();p=d;gd.current=e;if(F===hd)throw b=id,$a(a,c),Ya(a,c),V(a),b;if(null===t)switch(e=a.finishedWork=a.current.alternate,a.finishedExpirationTime=c,d=F,U=null,d){case Xa:case hd:throw Error(k(345));case Oh:Ue(a,2<c?2:c);break;case ad:Ya(a,c);d=a.lastSuspendedTime;c===d&&(a.nextKnownPendingLevel=Ve(e));if(1073741823===ta&&(e=Re+Ph-Y(),10<e)){if(jd){var f=a.lastPingedTime;if(0===f||f>=c){a.lastPingedTime=
c;$a(a,c);break}}f=fd(a);if(0!==f&&f!==c)break;if(0!==d&&d!==c){a.lastPingedTime=d;break}a.timeoutHandle=We(ab.bind(null,a),e);break}ab(a);break;case bd:Ya(a,c);d=a.lastSuspendedTime;c===d&&(a.nextKnownPendingLevel=Ve(e));if(jd&&(e=a.lastPingedTime,0===e||e>=c)){a.lastPingedTime=c;$a(a,c);break}e=fd(a);if(0!==e&&e!==c)break;if(0!==d&&d!==c){a.lastPingedTime=d;break}1073741823!==Yb?d=10*(1073741821-Yb)-Y():1073741823===ta?d=0:(d=10*(1073741821-ta)-5E3,e=Y(),c=10*(1073741821-c)-e,d=e-d,0>d&&(d=0),d=
(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3E3>d?3E3:4320>d?4320:1960*sj(d/1960))-d,c<d&&(d=c));if(10<d){a.timeoutHandle=We(ab.bind(null,a),d);break}ab(a);break;case Xe:if(1073741823!==ta&&null!==kd){f=ta;var g=kd;d=g.busyMinDurationMs|0;0>=d?d=0:(e=g.busyDelayMs|0,f=Y()-(10*(1073741821-f)-(g.timeoutMs|0||5E3)),d=f<=e?0:e+d-f);if(10<d){Ya(a,c);a.timeoutHandle=We(ab.bind(null,a),d);break}}ab(a);break;default:throw Error(k(329));}V(a);if(a.callbackNode===b)return Lh.bind(null,a)}}return null}function Te(a){var b=
a.lastExpiredTime;b=0!==b?b:1073741823;if((p&(ca|ma))!==H)throw Error(k(327));xb();a===U&&b===P||$a(a,b);if(null!==t){var c=p;p|=ca;var d=Mh();do try{tj();break}catch(e){Nh(a,e)}while(1);le();p=c;gd.current=d;if(F===hd)throw c=id,$a(a,b),Ya(a,b),V(a),c;if(null!==t)throw Error(k(261));a.finishedWork=a.current.alternate;a.finishedExpirationTime=b;U=null;ab(a);V(a)}return null}function uj(){if(null!==bb){var a=bb;bb=null;a.forEach(function(a,c){Ue(c,a);V(c)});ha()}}function Qh(a,b){var c=p;p|=1;try{return a(b)}finally{p=
c,p===H&&ha()}}function Rh(a,b){var c=p;p&=-2;p|=Ye;try{return a(b)}finally{p=c,p===H&&ha()}}function $a(a,b){a.finishedWork=null;a.finishedExpirationTime=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,vj(c));if(null!==t)for(c=t.return;null!==c;){var d=c;switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&(q(G),q(B));break;case 3:tb();q(G);q(B);break;case 5:te(d);break;case 4:tb();break;case 13:q(D);break;case 19:q(D);break;case 10:me(d)}c=c.return}U=a;t=Sa(a.current,null);
P=b;F=Xa;id=null;Yb=ta=1073741823;kd=null;Xb=0;jd=!1}function Nh(a,b){do{try{le();Sc.current=Tc;if(Uc)for(var c=z.memoizedState;null!==c;){var d=c.queue;null!==d&&(d.pending=null);c=c.next}Ia=0;J=K=z=null;Uc=!1;if(null===t||null===t.return)return F=hd,id=b,t=null;a:{var e=a,f=t.return,g=t,h=b;b=P;g.effectTag|=2048;g.firstEffect=g.lastEffect=null;if(null!==h&&"object"===typeof h&&"function"===typeof h.then){var m=h;if(0===(g.mode&2)){var n=g.alternate;n?(g.updateQueue=n.updateQueue,g.memoizedState=
n.memoizedState,g.expirationTime=n.expirationTime):(g.updateQueue=null,g.memoizedState=null)}var l=0!==(D.current&1),k=f;do{var p;if(p=13===k.tag){var q=k.memoizedState;if(null!==q)p=null!==q.dehydrated?!0:!1;else{var w=k.memoizedProps;p=void 0===w.fallback?!1:!0!==w.unstable_avoidThisFallback?!0:l?!1:!0}}if(p){var y=k.updateQueue;if(null===y){var r=new Set;r.add(m);k.updateQueue=r}else y.add(m);if(0===(k.mode&2)){k.effectTag|=64;g.effectTag&=-2981;if(1===g.tag)if(null===g.alternate)g.tag=17;else{var O=
Ea(1073741823,null);O.tag=Jc;Fa(g,O)}g.expirationTime=1073741823;break a}h=void 0;g=b;var v=e.pingCache;null===v?(v=e.pingCache=new wj,h=new Set,v.set(m,h)):(h=v.get(m),void 0===h&&(h=new Set,v.set(m,h)));if(!h.has(g)){h.add(g);var x=xj.bind(null,e,m,g);m.then(x,x)}k.effectTag|=4096;k.expirationTime=b;break a}k=k.return}while(null!==k);h=Error((na(g.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+
Bd(g))}F!==Xe&&(F=Oh);h=Le(h,g);k=f;do{switch(k.tag){case 3:m=h;k.effectTag|=4096;k.expirationTime=b;var A=Ih(k,m,b);Ug(k,A);break a;case 1:m=h;var u=k.type,B=k.stateNode;if(0===(k.effectTag&64)&&("function"===typeof u.getDerivedStateFromError||null!==B&&"function"===typeof B.componentDidCatch&&(null===La||!La.has(B)))){k.effectTag|=4096;k.expirationTime=b;var H=Jh(k,m,b);Ug(k,H);break a}}k=k.return}while(null!==k)}t=Sh(t)}catch(cj){b=cj;continue}break}while(1)}function Mh(a){a=gd.current;gd.current=
Tc;return null===a?Tc:a}function Vg(a,b){a<ta&&2<a&&(ta=a);null!==b&&a<Yb&&2<a&&(Yb=a,kd=b)}function Kc(a){a>Xb&&(Xb=a)}function tj(){for(;null!==t;)t=Th(t)}function rj(){for(;null!==t&&!yj();)t=Th(t)}function Th(a){var b=zj(a.alternate,a,P);a.memoizedProps=a.pendingProps;null===b&&(b=Sh(a));Uh.current=null;return b}function Sh(a){t=a;do{var b=t.alternate;a=t.return;if(0===(t.effectTag&2048)){b=hj(b,t,P);if(1===P||1!==t.childExpirationTime){for(var c=0,d=t.child;null!==d;){var e=d.expirationTime,
f=d.childExpirationTime;e>c&&(c=e);f>c&&(c=f);d=d.sibling}t.childExpirationTime=c}if(null!==b)return b;null!==a&&0===(a.effectTag&2048)&&(null===a.firstEffect&&(a.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==a.lastEffect&&(a.lastEffect.nextEffect=t.firstEffect),a.lastEffect=t.lastEffect),1<t.effectTag&&(null!==a.lastEffect?a.lastEffect.nextEffect=t:a.firstEffect=t,a.lastEffect=t))}else{b=lj(t);if(null!==b)return b.effectTag&=2047,b;null!==a&&(a.firstEffect=a.lastEffect=null,a.effectTag|=
2048)}b=t.sibling;if(null!==b)return b;t=a}while(null!==t);F===Xa&&(F=Xe);return null}function Ve(a){var b=a.expirationTime;a=a.childExpirationTime;return b>a?b:a}function ab(a){var b=Cc();Da(99,Aj.bind(null,a,b));return null}function Aj(a,b){do xb();while(null!==Zb);if((p&(ca|ma))!==H)throw Error(k(327));var c=a.finishedWork,d=a.finishedExpirationTime;if(null===c)return null;a.finishedWork=null;a.finishedExpirationTime=0;if(c===a.current)throw Error(k(177));a.callbackNode=null;a.callbackExpirationTime=
0;a.callbackPriority=90;a.nextKnownPendingLevel=0;var e=Ve(c);a.firstPendingTime=e;d<=a.lastSuspendedTime?a.firstSuspendedTime=a.lastSuspendedTime=a.nextKnownPendingLevel=0:d<=a.firstSuspendedTime&&(a.firstSuspendedTime=d-1);d<=a.lastPingedTime&&(a.lastPingedTime=0);d<=a.lastExpiredTime&&(a.lastExpiredTime=0);a===U&&(t=U=null,P=0);1<c.effectTag?null!==c.lastEffect?(c.lastEffect.nextEffect=c,e=c.firstEffect):e=c:e=c.firstEffect;if(null!==e){var f=p;p|=ma;Uh.current=null;Ze=tc;var g=kg();if(Xd(g)){if("selectionStart"in
g)var h={start:g.selectionStart,end:g.selectionEnd};else a:{h=(h=g.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&0!==m.rangeCount){h=m.anchorNode;var n=m.anchorOffset,q=m.focusNode;m=m.focusOffset;try{h.nodeType,q.nodeType}catch(sb){h=null;break a}var ba=0,w=-1,y=-1,B=0,D=0,r=g,z=null;b:for(;;){for(var v;;){r!==h||0!==n&&3!==r.nodeType||(w=ba+n);r!==q||0!==m&&3!==r.nodeType||(y=ba+m);3===r.nodeType&&(ba+=r.nodeValue.length);if(null===(v=r.firstChild))break;z=r;
r=v}for(;;){if(r===g)break b;z===h&&++B===n&&(w=ba);z===q&&++D===m&&(y=ba);if(null!==(v=r.nextSibling))break;r=z;z=r.parentNode}r=v}h=-1===w||-1===y?null:{start:w,end:y}}else h=null}h=h||{start:0,end:0}}else h=null;$e={activeElementDetached:null,focusedElem:g,selectionRange:h};tc=!1;l=e;do try{Bj()}catch(sb){if(null===l)throw Error(k(330));Za(l,sb);l=l.nextEffect}while(null!==l);l=e;do try{for(g=a,h=b;null!==l;){var x=l.effectTag;x&16&&Wb(l.stateNode,"");if(x&128){var A=l.alternate;if(null!==A){var u=
A.ref;null!==u&&("function"===typeof u?u(null):u.current=null)}}switch(x&1038){case 2:Gh(l);l.effectTag&=-3;break;case 6:Gh(l);l.effectTag&=-3;Qe(l.alternate,l);break;case 1024:l.effectTag&=-1025;break;case 1028:l.effectTag&=-1025;Qe(l.alternate,l);break;case 4:Qe(l.alternate,l);break;case 8:n=l,Dh(g,n,h),Eh(n)}l=l.nextEffect}}catch(sb){if(null===l)throw Error(k(330));Za(l,sb);l=l.nextEffect}while(null!==l);u=$e;A=kg();x=u.focusedElem;h=u.selectionRange;if(A!==x&&x&&x.ownerDocument&&jg(x.ownerDocument.documentElement,
x)){null!==h&&Xd(x)&&(A=h.start,u=h.end,void 0===u&&(u=A),"selectionStart"in x?(x.selectionStart=A,x.selectionEnd=Math.min(u,x.value.length)):(u=(A=x.ownerDocument||document)&&A.defaultView||window,u.getSelection&&(u=u.getSelection(),n=x.textContent.length,g=Math.min(h.start,n),h=void 0===h.end?g:Math.min(h.end,n),!u.extend&&g>h&&(n=h,h=g,g=n),n=ig(x,g),q=ig(x,h),n&&q&&(1!==u.rangeCount||u.anchorNode!==n.node||u.anchorOffset!==n.offset||u.focusNode!==q.node||u.focusOffset!==q.offset)&&(A=A.createRange(),
A.setStart(n.node,n.offset),u.removeAllRanges(),g>h?(u.addRange(A),u.extend(q.node,q.offset)):(A.setEnd(q.node,q.offset),u.addRange(A))))));A=[];for(u=x;u=u.parentNode;)1===u.nodeType&&A.push({element:u,left:u.scrollLeft,top:u.scrollTop});"function"===typeof x.focus&&x.focus();for(x=0;x<A.length;x++)u=A[x],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}tc=!!Ze;$e=Ze=null;a.current=c;l=e;do try{for(x=a;null!==l;){var F=l.effectTag;F&36&&oj(x,l.alternate,l);if(F&128){A=void 0;var E=l.ref;if(null!==
E){var G=l.stateNode;switch(l.tag){case 5:A=G;break;default:A=G}"function"===typeof E?E(A):E.current=A}}l=l.nextEffect}}catch(sb){if(null===l)throw Error(k(330));Za(l,sb);l=l.nextEffect}while(null!==l);l=null;Cj();p=f}else a.current=c;if(ld)ld=!1,Zb=a,$b=b;else for(l=e;null!==l;)b=l.nextEffect,l.nextEffect=null,l=b;b=a.firstPendingTime;0===b&&(La=null);1073741823===b?a===af?ac++:(ac=0,af=a):ac=0;"function"===typeof bf&&bf(c.stateNode,d);V(a);if(cd)throw cd=!1,a=Se,Se=null,a;if((p&Ye)!==H)return null;
ha();return null}function Bj(){for(;null!==l;){var a=l.effectTag;0!==(a&256)&&nj(l.alternate,l);0===(a&512)||ld||(ld=!0,Ng(97,function(){xb();return null}));l=l.nextEffect}}function xb(){if(90!==$b){var a=97<$b?97:$b;$b=90;return Da(a,Dj)}}function Dj(){if(null===Zb)return!1;var a=Zb;Zb=null;if((p&(ca|ma))!==H)throw Error(k(331));var b=p;p|=ma;for(a=a.current.firstEffect;null!==a;){try{var c=a;if(0!==(c.effectTag&512))switch(c.tag){case 0:case 11:case 15:case 22:Ah(5,c),Bh(5,c)}}catch(d){if(null===
a)throw Error(k(330));Za(a,d)}c=a.nextEffect;a.nextEffect=null;a=c}p=b;ha();return!0}function Vh(a,b,c){b=Le(c,b);b=Ih(a,b,1073741823);Fa(a,b);a=ed(a,1073741823);null!==a&&V(a)}function Za(a,b){if(3===a.tag)Vh(a,a,b);else for(var c=a.return;null!==c;){if(3===c.tag){Vh(c,a,b);break}else if(1===c.tag){var d=c.stateNode;if("function"===typeof c.type.getDerivedStateFromError||"function"===typeof d.componentDidCatch&&(null===La||!La.has(d))){a=Le(b,a);a=Jh(c,a,1073741823);Fa(c,a);c=ed(c,1073741823);null!==
c&&V(c);break}}c=c.return}}function xj(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);U===a&&P===c?F===bd||F===ad&&1073741823===ta&&Y()-Re<Ph?$a(a,P):jd=!0:Kh(a,c)&&(b=a.lastPingedTime,0!==b&&b<c||(a.lastPingedTime=c,V(a)))}function qj(a,b){var c=a.stateNode;null!==c&&c.delete(b);b=0;0===b&&(b=ka(),b=Va(b,a,null));a=ed(a,b);null!==a&&V(a)}function Ej(a){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(b.isDisabled||!b.supportsFiber)return!0;try{var c=
b.inject(a);bf=function(a,e){try{b.onCommitFiberRoot(c,a,void 0,64===(a.current.effectTag&64))}catch(f){}};Ne=function(a){try{b.onCommitFiberUnmount(c,a)}catch(e){}}}catch(d){}return!0}function Fj(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=
null;this.childExpirationTime=this.expirationTime=0;this.alternate=null}function Ge(a){a=a.prototype;return!(!a||!a.isReactComponent)}function Gj(a){if("function"===typeof a)return Ge(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===zd)return 11;if(a===Ad)return 14}return 2}function Sa(a,b){var c=a.alternate;null===c?(c=la(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.effectTag=0,c.nextEffect=null,c.firstEffect=
null,c.lastEffect=null);c.childExpirationTime=a.childExpirationTime;c.expirationTime=a.expirationTime;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{expirationTime:b.expirationTime,firstContext:b.firstContext,responders:b.responders};c.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}function Oc(a,b,c,d,e,f){var g=2;d=a;if("function"===typeof a)Ge(a)&&(g=1);else if("string"===typeof a)g=
5;else a:switch(a){case Ma:return Ha(c.children,e,f,b);case Hj:g=8;e|=7;break;case Af:g=8;e|=1;break;case kc:return a=la(12,c,b,e|8),a.elementType=kc,a.type=kc,a.expirationTime=f,a;case lc:return a=la(13,c,b,e),a.type=lc,a.elementType=lc,a.expirationTime=f,a;case yd:return a=la(19,c,b,e),a.elementType=yd,a.expirationTime=f,a;default:if("object"===typeof a&&null!==a)switch(a.$$typeof){case Cf:g=10;break a;case Bf:g=9;break a;case zd:g=11;break a;case Ad:g=14;break a;case Ef:g=16;d=null;break a;case Df:g=
22;break a}throw Error(k(130,null==a?a:typeof a,""));}b=la(g,c,b,e);b.elementType=a;b.type=d;b.expirationTime=f;return b}function Ha(a,b,c,d){a=la(7,a,d,b);a.expirationTime=c;return a}function qe(a,b,c){a=la(6,a,null,b);a.expirationTime=c;return a}function re(a,b,c){b=la(4,null!==a.children?a.children:[],a.key,b);b.expirationTime=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}function Ij(a,b,c){this.tag=b;this.current=null;this.containerInfo=
a;this.pingCache=this.pendingChildren=null;this.finishedExpirationTime=0;this.finishedWork=null;this.timeoutHandle=-1;this.pendingContext=this.context=null;this.hydrate=c;this.callbackNode=null;this.callbackPriority=90;this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Kh(a,b){var c=a.firstSuspendedTime;a=a.lastSuspendedTime;return 0!==c&&c>=b&&a<=b}function Ya(a,b){var c=a.firstSuspendedTime,d=a.lastSuspendedTime;
c<b&&(a.firstSuspendedTime=b);if(d>b||0===c)a.lastSuspendedTime=b;b<=a.lastPingedTime&&(a.lastPingedTime=0);b<=a.lastExpiredTime&&(a.lastExpiredTime=0)}function yh(a,b){b>a.firstPendingTime&&(a.firstPendingTime=b);var c=a.firstSuspendedTime;0!==c&&(b>=c?a.firstSuspendedTime=a.lastSuspendedTime=a.nextKnownPendingLevel=0:b>=a.lastSuspendedTime&&(a.lastSuspendedTime=b+1),b>a.nextKnownPendingLevel&&(a.nextKnownPendingLevel=b))}function Ue(a,b){var c=a.lastExpiredTime;if(0===c||c>b)a.lastExpiredTime=b}
function md(a,b,c,d){var e=b.current,f=ka(),g=Vb.suspense;f=Va(f,e,g);a:if(c){c=c._reactInternalFiber;b:{if(Na(c)!==c||1!==c.tag)throw Error(k(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break b;case 1:if(N(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break b}}h=h.return}while(null!==h);throw Error(k(171));}if(1===c.tag){var m=c.type;if(N(m)){c=Gg(c,m,h);break a}}c=h}else c=Ca;null===b.context?b.context=c:b.pendingContext=c;b=Ea(f,g);b.payload={element:a};d=void 0===
d?null:d;null!==d&&(b.callback=d);Fa(e,b);Ja(e,f);return f}function cf(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Wh(a,b){a=a.memoizedState;null!==a&&null!==a.dehydrated&&a.retryTime<b&&(a.retryTime=b)}function df(a,b){Wh(a,b);(a=a.alternate)&&Wh(a,b)}function ef(a,b,c){c=null!=c&&!0===c.hydrate;var d=new Ij(a,b,c),e=la(3,null,null,2===b?7:1===b?3:0);d.current=e;e.stateNode=d;ne(e);a[Lb]=d.current;c&&0!==b&&
xi(a,9===a.nodeType?a:a.ownerDocument);this._internalRoot=d}function bc(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||" react-mount-point-unstable "!==a.nodeValue))}function Jj(a,b){b||(b=a?9===a.nodeType?a.documentElement:a.firstChild:null,b=!(!b||1!==b.nodeType||!b.hasAttribute("data-reactroot")));if(!b)for(var c;c=a.lastChild;)a.removeChild(c);return new ef(a,0,b?{hydrate:!0}:void 0)}function nd(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f._internalRoot;
if("function"===typeof e){var h=e;e=function(){var a=cf(g);h.call(a)}}md(b,g,a,e)}else{f=c._reactRootContainer=Jj(c,d);g=f._internalRoot;if("function"===typeof e){var m=e;e=function(){var a=cf(g);m.call(a)}}Rh(function(){md(b,g,a,e)})}return cf(g)}function Kj(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:gb,key:null==d?null:""+d,children:a,containerInfo:b,implementation:c}}function Xh(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;
if(!bc(b))throw Error(k(200));return Kj(a,b,null,c)}if(!ea)throw Error(k(227));var ki=function(a,b,c,d,e,f,g,h,m){var n=Array.prototype.slice.call(arguments,3);try{b.apply(c,n)}catch(C){this.onError(C)}},yb=!1,gc=null,hc=!1,pd=null,li={onError:function(a){yb=!0;gc=a}},td=null,rf=null,mf=null,ic=null,cb={},jc=[],qd={},db={},rd={},wa=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),M=ea.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.assign,
sd=null,eb=null,fb=null,ee=function(a,b){return a(b)},eg=function(a,b,c,d,e){return a(b,c,d,e)},vd=function(){},vf=ee,Oa=!1,wd=!1,Z=ea.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Scheduler,Lj=Z.unstable_cancelCallback,ff=Z.unstable_now,$f=Z.unstable_scheduleCallback,Mj=Z.unstable_shouldYield,Yh=Z.unstable_requestPaint,Pd=Z.unstable_runWithPriority,Nj=Z.unstable_getCurrentPriorityLevel,Oj=Z.unstable_ImmediatePriority,Zh=Z.unstable_UserBlockingPriority,ag=Z.unstable_NormalPriority,Pj=Z.unstable_LowPriority,
Qj=Z.unstable_IdlePriority,oi=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wf=Object.prototype.hasOwnProperty,yf={},xf={},E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){E[a]=
new L(a,0,!1,a,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var b=a[0];E[b]=new L(b,1,!1,a[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){E[a]=new L(a,2,!1,a.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){E[a]=new L(a,2,!1,a,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){E[a]=
new L(a,3,!1,a.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(a){E[a]=new L(a,3,!0,a,null,!1)});["capture","download"].forEach(function(a){E[a]=new L(a,4,!1,a,null,!1)});["cols","rows","size","span"].forEach(function(a){E[a]=new L(a,6,!1,a,null,!1)});["rowSpan","start"].forEach(function(a){E[a]=new L(a,5,!1,a.toLowerCase(),null,!1)});var gf=/[\-:]([a-z])/g,hf=function(a){return a[1].toUpperCase()};"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var b=
a.replace(gf,hf);E[b]=new L(b,1,!1,a,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var b=a.replace(gf,hf);E[b]=new L(b,1,!1,a,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var b=a.replace(gf,hf);E[b]=new L(b,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(a){E[a]=new L(a,1,!1,a.toLowerCase(),null,!1)});E.xlinkHref=new L("xlinkHref",1,
!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(a){E[a]=new L(a,1,!1,a.toLowerCase(),null,!0)});var da=ea.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;da.hasOwnProperty("ReactCurrentDispatcher")||(da.ReactCurrentDispatcher={current:null});da.hasOwnProperty("ReactCurrentBatchConfig")||(da.ReactCurrentBatchConfig={suspense:null});var si=/^(.*)[\\\/]/,Q="function"===typeof Symbol&&Symbol.for,Pc=Q?Symbol.for("react.element"):60103,gb=Q?Symbol.for("react.portal"):
60106,Ma=Q?Symbol.for("react.fragment"):60107,Af=Q?Symbol.for("react.strict_mode"):60108,kc=Q?Symbol.for("react.profiler"):60114,Cf=Q?Symbol.for("react.provider"):60109,Bf=Q?Symbol.for("react.context"):60110,Hj=Q?Symbol.for("react.concurrent_mode"):60111,zd=Q?Symbol.for("react.forward_ref"):60112,lc=Q?Symbol.for("react.suspense"):60113,yd=Q?Symbol.for("react.suspense_list"):60120,Ad=Q?Symbol.for("react.memo"):60115,Ef=Q?Symbol.for("react.lazy"):60116,Df=Q?Symbol.for("react.block"):60121,zf="function"===
typeof Symbol&&Symbol.iterator,od,xh=function(a){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if("http://www.w3.org/2000/svg"!==a.namespaceURI||"innerHTML"in a)a.innerHTML=b;else{od=od||document.createElement("div");od.innerHTML="<svg>"+b.valueOf().toString()+"</svg>";for(b=od.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}}),Wb=function(a,
b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b},ib={animationend:nc("Animation","AnimationEnd"),animationiteration:nc("Animation","AnimationIteration"),animationstart:nc("Animation","AnimationStart"),transitionend:nc("Transition","TransitionEnd")},Id={},Of={};wa&&(Of=document.createElement("div").style,"AnimationEvent"in window||(delete ib.animationend.animation,delete ib.animationiteration.animation,delete ib.animationstart.animation),"TransitionEvent"in
window||delete ib.transitionend.transition);var $h=oc("animationend"),ai=oc("animationiteration"),bi=oc("animationstart"),ci=oc("transitionend"),Db="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pf=new ("function"===typeof WeakMap?WeakMap:Map),Ab=null,wi=function(a){if(a){var b=a._dispatchListeners,c=a._dispatchInstances;
if(Array.isArray(b))for(var d=0;d<b.length&&!a.isPropagationStopped();d++)lf(a,b[d],c[d]);else b&&lf(a,b,c);a._dispatchListeners=null;a._dispatchInstances=null;a.isPersistent()||a.constructor.release(a)}},qc=[],Rd=!1,fa=[],xa=null,ya=null,za=null,Eb=new Map,Fb=new Map,Jb=[],Nd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),
yi="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" "),dg={},cg=new Map,Td=new Map,Rj=["abort","abort",$h,"animationEnd",ai,"animationIteration",bi,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata",
"loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",ci,"transitionEnd","waiting","waiting"];Sd("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),
0);Sd("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Sd(Rj,2);(function(a,b){for(var c=0;c<a.length;c++)Td.set(a[c],b)})("change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),0);var Hi=Zh,Gi=Pd,tc=!0,Kb={animationIterationCount:!0,
borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,
strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sj=["Webkit","ms","Moz","O"];Object.keys(Kb).forEach(function(a){Sj.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);Kb[b]=Kb[a]})});var Ii=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),ng="$",og="/$",$d="$?",Zd="$!",Ze=null,$e=null,We="function"===typeof setTimeout?setTimeout:void 0,vj="function"===
typeof clearTimeout?clearTimeout:void 0,jf=Math.random().toString(36).slice(2),Aa="__reactInternalInstance$"+jf,vc="__reactEventHandlers$"+jf,Lb="__reactContainere$"+jf,Ba=null,ce=null,wc=null;M(R.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():"unknown"!==typeof a.returnValue&&(a.returnValue=!1),this.isDefaultPrevented=xc)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():"unknown"!==
typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=xc)},persist:function(){this.isPersistent=xc},isPersistent:yc,destructor:function(){var a=this.constructor.Interface,b;for(b in a)this[b]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null;this.isPropagationStopped=this.isDefaultPrevented=yc;this._dispatchInstances=this._dispatchListeners=null}});R.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||
Date.now()},defaultPrevented:null,isTrusted:null};R.extend=function(a){function b(){return c.apply(this,arguments)}var c=this,d=function(){};d.prototype=c.prototype;d=new d;M(d,b.prototype);b.prototype=d;b.prototype.constructor=b;b.Interface=M({},c.Interface,a);b.extend=c.extend;sg(b);return b};sg(R);var Tj=R.extend({data:null}),Uj=R.extend({data:null}),Ni=[9,13,27,32],de=wa&&"CompositionEvent"in window,cc=null;wa&&"documentMode"in document&&(cc=document.documentMode);var Vj=wa&&"TextEvent"in window&&
!cc,xg=wa&&(!de||cc&&8<cc&&11>=cc),wg=String.fromCharCode(32),ua={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},
dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},vg=!1,mb=!1,Wj={eventTypes:ua,extractEvents:function(a,b,c,d,e){var f;if(de)b:{switch(a){case "compositionstart":var g=ua.compositionStart;break b;case "compositionend":g=ua.compositionEnd;break b;case "compositionupdate":g=
ua.compositionUpdate;break b}g=void 0}else mb?tg(a,c)&&(g=ua.compositionEnd):"keydown"===a&&229===c.keyCode&&(g=ua.compositionStart);g?(xg&&"ko"!==c.locale&&(mb||g!==ua.compositionStart?g===ua.compositionEnd&&mb&&(f=rg()):(Ba=d,ce="value"in Ba?Ba.value:Ba.textContent,mb=!0)),e=Tj.getPooled(g,b,c,d),f?e.data=f:(f=ug(c),null!==f&&(e.data=f)),lb(e),f=e):f=null;(a=Vj?Oi(a,c):Pi(a,c))?(b=Uj.getPooled(ua.beforeInput,b,c,d),b.data=a,lb(b)):b=null;return null===f?b:null===b?f:[f,b]}},Qi={color:!0,date:!0,
datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Ag={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},Mb=null,Nb=null,kf=!1;wa&&(kf=Tf("input")&&(!document.documentMode||9<document.documentMode));var Xj={eventTypes:Ag,_isInputEventSupported:kf,extractEvents:function(a,b,c,d,e){e=b?Pa(b):window;var f=
e.nodeName&&e.nodeName.toLowerCase();if("select"===f||"input"===f&&"file"===e.type)var g=Si;else if(yg(e))if(kf)g=Wi;else{g=Ui;var h=Ti}else(f=e.nodeName)&&"input"===f.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)&&(g=Vi);if(g&&(g=g(a,b)))return zg(g,c,d);h&&h(a,e,b);"blur"===a&&(a=e._wrapperState)&&a.controlled&&"number"===e.type&&Ed(e,"number",e.value)}},dc=R.extend({view:null,detail:null}),Yi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},di=0,ei=0,fi=!1,gi=!1,ec=dc.extend({screenX:null,
screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:fe,button:null,buttons:null,relatedTarget:function(a){return a.relatedTarget||(a.fromElement===a.srcElement?a.toElement:a.fromElement)},movementX:function(a){if("movementX"in a)return a.movementX;var b=di;di=a.screenX;return fi?"mousemove"===a.type?a.screenX-b:0:(fi=!0,0)},movementY:function(a){if("movementY"in a)return a.movementY;var b=ei;ei=a.screenY;return gi?"mousemove"===
a.type?a.screenY-b:0:(gi=!0,0)}}),hi=ec.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),fc={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout",
"pointerover"]}},Yj={eventTypes:fc,extractEvents:function(a,b,c,d,e){var f="mouseover"===a||"pointerover"===a,g="mouseout"===a||"pointerout"===a;if(f&&0===(e&32)&&(c.relatedTarget||c.fromElement)||!g&&!f)return null;f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window;if(g){if(g=b,b=(b=c.relatedTarget||c.toElement)?Bb(b):null,null!==b){var h=Na(b);if(b!==h||5!==b.tag&&6!==b.tag)b=null}}else g=null;if(g===b)return null;if("mouseout"===a||"mouseover"===a){var m=ec;var n=fc.mouseLeave;
var l=fc.mouseEnter;var k="mouse"}else if("pointerout"===a||"pointerover"===a)m=hi,n=fc.pointerLeave,l=fc.pointerEnter,k="pointer";a=null==g?f:Pa(g);f=null==b?f:Pa(b);n=m.getPooled(n,g,c,d);n.type=k+"leave";n.target=a;n.relatedTarget=f;c=m.getPooled(l,b,c,d);c.type=k+"enter";c.target=f;c.relatedTarget=a;d=g;k=b;if(d&&k)a:{m=d;l=k;g=0;for(a=m;a;a=pa(a))g++;a=0;for(b=l;b;b=pa(b))a++;for(;0<g-a;)m=pa(m),g--;for(;0<a-g;)l=pa(l),a--;for(;g--;){if(m===l||m===l.alternate)break a;m=pa(m);l=pa(l)}m=null}else m=
null;l=m;for(m=[];d&&d!==l;){g=d.alternate;if(null!==g&&g===l)break;m.push(d);d=pa(d)}for(d=[];k&&k!==l;){g=k.alternate;if(null!==g&&g===l)break;d.push(k);k=pa(k)}for(k=0;k<m.length;k++)be(m[k],"bubbled",n);for(k=d.length;0<k--;)be(d[k],"captured",c);return 0===(e&64)?[n]:[n,c]}},Qa="function"===typeof Object.is?Object.is:Zi,$i=Object.prototype.hasOwnProperty,Zj=wa&&"documentMode"in document&&11>=document.documentMode,Eg={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},
dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},nb=null,he=null,Pb=null,ge=!1,ak={eventTypes:Eg,extractEvents:function(a,b,c,d,e,f){e=f||(d.window===d?d.document:9===d.nodeType?d:d.ownerDocument);if(!(f=!e)){a:{e=Jd(e);f=rd.onSelect;for(var g=0;g<f.length;g++)if(!e.has(f[g])){e=!1;break a}e=!0}f=!e}if(f)return null;e=b?Pa(b):window;switch(a){case "focus":if(yg(e)||"true"===e.contentEditable)nb=e,he=b,Pb=null;break;case "blur":Pb=he=nb=null;
break;case "mousedown":ge=!0;break;case "contextmenu":case "mouseup":case "dragend":return ge=!1,Dg(c,d);case "selectionchange":if(Zj)break;case "keydown":case "keyup":return Dg(c,d)}return null}},bk=R.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ck=R.extend({clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),dk=dc.extend({relatedTarget:null}),ek={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",
Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",
224:"Meta"},gk=dc.extend({key:function(a){if(a.key){var b=ek[a.key]||a.key;if("Unidentified"!==b)return b}return"keypress"===a.type?(a=Ac(a),13===a?"Enter":String.fromCharCode(a)):"keydown"===a.type||"keyup"===a.type?fk[a.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:fe,charCode:function(a){return"keypress"===a.type?Ac(a):0},keyCode:function(a){return"keydown"===a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===
a.type?Ac(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}}),hk=ec.extend({dataTransfer:null}),ik=dc.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:fe}),jk=R.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),kk=ec.extend({deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?
-a.wheelDelta:0},deltaZ:null,deltaMode:null}),lk={eventTypes:dg,extractEvents:function(a,b,c,d,e){e=cg.get(a);if(!e)return null;switch(a){case "keypress":if(0===Ac(c))return null;case "keydown":case "keyup":a=gk;break;case "blur":case "focus":a=dk;break;case "click":if(2===c.button)return null;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":a=ec;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":a=
hk;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":a=ik;break;case $h:case ai:case bi:a=bk;break;case ci:a=jk;break;case "scroll":a=dc;break;case "wheel":a=kk;break;case "copy":case "cut":case "paste":a=ck;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":a=hi;break;default:a=R}b=a.getPooled(e,b,c,d);lb(b);return b}};(function(a){if(ic)throw Error(k(101));
ic=Array.prototype.slice.call(a);nf()})("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));(function(a,b,c){td=a;rf=b;mf=c})(ae,Hb,Pa);pf({SimpleEventPlugin:lk,EnterLeaveEventPlugin:Yj,ChangeEventPlugin:Xj,SelectEventPlugin:ak,BeforeInputEventPlugin:Wj});var ie=[],ob=-1,Ca={},B={current:Ca},G={current:!1},Ra=Ca,bj=Pd,je=$f,Rg=Lj,aj=Nj,Dc=Oj,Ig=Zh,Jg=ag,Kg=Pj,Lg=Qj,Qg={},yj=Mj,Cj=void 0!==Yh?Yh:function(){},qa=null,
Ec=null,ke=!1,ii=ff(),Y=1E4>ii?ff:function(){return ff()-ii},Ic={current:null},Hc=null,qb=null,Gc=null,Tg=0,Jc=2,Ga=!1,Vb=da.ReactCurrentBatchConfig,$g=(new ea.Component).refs,Mc={isMounted:function(a){return(a=a._reactInternalFiber)?Na(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternalFiber;var d=ka(),e=Vb.suspense;d=Va(d,a,e);e=Ea(d,e);e.payload=b;void 0!==c&&null!==c&&(e.callback=c);Fa(a,e);Ja(a,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternalFiber;var d=ka(),e=Vb.suspense;
d=Va(d,a,e);e=Ea(d,e);e.tag=1;e.payload=b;void 0!==c&&null!==c&&(e.callback=c);Fa(a,e);Ja(a,d)},enqueueForceUpdate:function(a,b){a=a._reactInternalFiber;var c=ka(),d=Vb.suspense;c=Va(c,a,d);d=Ea(c,d);d.tag=Jc;void 0!==b&&null!==b&&(d.callback=b);Fa(a,d);Ja(a,c)}},Qc=Array.isArray,wb=ah(!0),Fe=ah(!1),Sb={},ja={current:Sb},Ub={current:Sb},Tb={current:Sb},D={current:0},Sc=da.ReactCurrentDispatcher,X=da.ReactCurrentBatchConfig,Ia=0,z=null,K=null,J=null,Uc=!1,Tc={readContext:W,useCallback:S,useContext:S,
useEffect:S,useImperativeHandle:S,useLayoutEffect:S,useMemo:S,useReducer:S,useRef:S,useState:S,useDebugValue:S,useResponder:S,useDeferredValue:S,useTransition:S},dj={readContext:W,useCallback:ih,useContext:W,useEffect:eh,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return ze(4,2,gh.bind(null,b,a),c)},useLayoutEffect:function(a,b){return ze(4,2,a,b)},useMemo:function(a,b){var c=ub();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=
ub();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a=d.queue={pending:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};a=a.dispatch=ch.bind(null,z,a);return[d.memoizedState,a]},useRef:function(a){var b=ub();a={current:a};return b.memoizedState=a},useState:xe,useDebugValue:Be,useResponder:ue,useDeferredValue:function(a,b){var c=xe(a),d=c[0],e=c[1];eh(function(){var c=X.suspense;X.suspense=void 0===b?null:b;try{e(a)}finally{X.suspense=c}},[a,b]);return d},useTransition:function(a){var b=
xe(!1),c=b[0];b=b[1];return[ih(Ce.bind(null,b,a),[b,a]),c]}},ej={readContext:W,useCallback:Yc,useContext:W,useEffect:Xc,useImperativeHandle:hh,useLayoutEffect:fh,useMemo:jh,useReducer:Vc,useRef:dh,useState:function(a){return Vc(Ua)},useDebugValue:Be,useResponder:ue,useDeferredValue:function(a,b){var c=Vc(Ua),d=c[0],e=c[1];Xc(function(){var c=X.suspense;X.suspense=void 0===b?null:b;try{e(a)}finally{X.suspense=c}},[a,b]);return d},useTransition:function(a){var b=Vc(Ua),c=b[0];b=b[1];return[Yc(Ce.bind(null,
b,a),[b,a]),c]}},fj={readContext:W,useCallback:Yc,useContext:W,useEffect:Xc,useImperativeHandle:hh,useLayoutEffect:fh,useMemo:jh,useReducer:Wc,useRef:dh,useState:function(a){return Wc(Ua)},useDebugValue:Be,useResponder:ue,useDeferredValue:function(a,b){var c=Wc(Ua),d=c[0],e=c[1];Xc(function(){var c=X.suspense;X.suspense=void 0===b?null:b;try{e(a)}finally{X.suspense=c}},[a,b]);return d},useTransition:function(a){var b=Wc(Ua),c=b[0];b=b[1];return[Yc(Ce.bind(null,b,a),[b,a]),c]}},ra=null,Ka=null,Wa=
!1,gj=da.ReactCurrentOwner,ia=!1,Je={dehydrated:null,retryTime:0};var jj=function(a,b,c,d){for(c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};var wh=function(a){};var ij=function(a,b,c,d,e){var f=a.memoizedProps;if(f!==d){var g=b.stateNode;Ta(ja.current);a=null;switch(c){case "input":f=
Cd(g,f);d=Cd(g,d);a=[];break;case "option":f=Fd(g,f);d=Fd(g,d);a=[];break;case "select":f=M({},f,{value:void 0});d=M({},d,{value:void 0});a=[];break;case "textarea":f=Gd(g,f);d=Gd(g,d);a=[];break;default:"function"!==typeof f.onClick&&"function"===typeof d.onClick&&(g.onclick=uc)}Ud(c,d);var h,m;c=null;for(h in f)if(!d.hasOwnProperty(h)&&f.hasOwnProperty(h)&&null!=f[h])if("style"===h)for(m in g=f[h],g)g.hasOwnProperty(m)&&(c||(c={}),c[m]="");else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==
h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(db.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in d){var k=d[h];g=null!=f?f[h]:void 0;if(d.hasOwnProperty(h)&&k!==g&&(null!=k||null!=g))if("style"===h)if(g){for(m in g)!g.hasOwnProperty(m)||k&&k.hasOwnProperty(m)||(c||(c={}),c[m]="");for(m in k)k.hasOwnProperty(m)&&g[m]!==k[m]&&(c||(c={}),c[m]=k[m])}else c||(a||(a=[]),a.push(h,c)),c=k;else"dangerouslySetInnerHTML"===h?(k=k?k.__html:void 0,g=g?g.__html:void 0,null!=k&&g!==k&&(a=a||
[]).push(h,k)):"children"===h?g===k||"string"!==typeof k&&"number"!==typeof k||(a=a||[]).push(h,""+k):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(db.hasOwnProperty(h)?(null!=k&&oa(e,h),a||g===k||(a=[])):(a=a||[]).push(h,k))}c&&(a=a||[]).push("style",c);e=a;if(b.updateQueue=e)b.effectTag|=4}};var kj=function(a,b,c,d){c!==d&&(b.effectTag|=4)};var pj="function"===typeof WeakSet?WeakSet:Set,wj="function"===typeof WeakMap?WeakMap:Map,sj=Math.ceil,gd=da.ReactCurrentDispatcher,
Uh=da.ReactCurrentOwner,H=0,Ye=8,ca=16,ma=32,Xa=0,hd=1,Oh=2,ad=3,bd=4,Xe=5,p=H,U=null,t=null,P=0,F=Xa,id=null,ta=1073741823,Yb=1073741823,kd=null,Xb=0,jd=!1,Re=0,Ph=500,l=null,cd=!1,Se=null,La=null,ld=!1,Zb=null,$b=90,bb=null,ac=0,af=null,dd=0,Ja=function(a,b){if(50<ac)throw ac=0,af=null,Error(k(185));a=ed(a,b);if(null!==a){var c=Cc();1073741823===b?(p&Ye)!==H&&(p&(ca|ma))===H?Te(a):(V(a),p===H&&ha()):V(a);(p&4)===H||98!==c&&99!==c||(null===bb?bb=new Map([[a,b]]):(c=bb.get(a),(void 0===c||c>b)&&bb.set(a,
b)))}};var zj=function(a,b,c){var d=b.expirationTime;if(null!==a){var e=b.pendingProps;if(a.memoizedProps!==e||G.current)ia=!0;else{if(d<c){ia=!1;switch(b.tag){case 3:sh(b);Ee();break;case 5:bh(b);if(b.mode&4&&1!==c&&e.hidden)return b.expirationTime=b.childExpirationTime=1,null;break;case 1:N(b.type)&&Bc(b);break;case 4:se(b,b.stateNode.containerInfo);break;case 10:d=b.memoizedProps.value;e=b.type._context;y(Ic,e._currentValue);e._currentValue=d;break;case 13:if(null!==b.memoizedState){d=b.child.childExpirationTime;
if(0!==d&&d>=c)return th(a,b,c);y(D,D.current&1);b=sa(a,b,c);return null!==b?b.sibling:null}y(D,D.current&1);break;case 19:d=b.childExpirationTime>=c;if(0!==(a.effectTag&64)){if(d)return vh(a,b,c);b.effectTag|=64}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null);y(D,D.current);if(!d)return null}return sa(a,b,c)}ia=!1}}else ia=!1;b.expirationTime=0;switch(b.tag){case 2:d=b.type;null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2);a=b.pendingProps;e=pb(b,B.current);rb(b,c);e=we(null,
b,d,a,e,c);b.effectTag|=1;if("object"===typeof e&&null!==e&&"function"===typeof e.render&&void 0===e.$$typeof){b.tag=1;b.memoizedState=null;b.updateQueue=null;if(N(d)){var f=!0;Bc(b)}else f=!1;b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;ne(b);var g=d.getDerivedStateFromProps;"function"===typeof g&&Lc(b,d,g,a);e.updater=Mc;b.stateNode=e;e._reactInternalFiber=b;pe(b,d,a,c);b=Ie(null,b,d,!0,f,c)}else b.tag=0,T(null,b,e,c),b=b.child;return b;case 16:a:{e=b.elementType;null!==a&&(a.alternate=
null,b.alternate=null,b.effectTag|=2);a=b.pendingProps;ri(e);if(1!==e._status)throw e._result;e=e._result;b.type=e;f=b.tag=Gj(e);a=aa(e,a);switch(f){case 0:b=He(null,b,e,a,c);break a;case 1:b=rh(null,b,e,a,c);break a;case 11:b=nh(null,b,e,a,c);break a;case 14:b=oh(null,b,e,aa(e.type,a),d,c);break a}throw Error(k(306,e,""));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:aa(d,e),He(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:aa(d,e),rh(a,b,d,e,c);
case 3:sh(b);d=b.updateQueue;if(null===a||null===d)throw Error(k(282));d=b.pendingProps;e=b.memoizedState;e=null!==e?e.element:null;oe(a,b);Qb(b,d,null,c);d=b.memoizedState.element;if(d===e)Ee(),b=sa(a,b,c);else{if(e=b.stateNode.hydrate)Ka=kb(b.stateNode.containerInfo.firstChild),ra=b,e=Wa=!0;if(e)for(c=Fe(b,null,d,c),b.child=c;c;)c.effectTag=c.effectTag&-3|1024,c=c.sibling;else T(a,b,d,c),Ee();b=b.child}return b;case 5:return bh(b),null===a&&De(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:
null,g=e.children,Yd(d,e)?g=null:null!==f&&Yd(d,f)&&(b.effectTag|=16),qh(a,b),b.mode&4&&1!==c&&e.hidden?(b.expirationTime=b.childExpirationTime=1,b=null):(T(a,b,g,c),b=b.child),b;case 6:return null===a&&De(b),null;case 13:return th(a,b,c);case 4:return se(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=wb(b,null,d,c):T(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:aa(d,e),nh(a,b,d,e,c);case 7:return T(a,b,b.pendingProps,c),b.child;case 8:return T(a,
b,b.pendingProps.children,c),b.child;case 12:return T(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;g=b.memoizedProps;f=e.value;var h=b.type._context;y(Ic,h._currentValue);h._currentValue=f;if(null!==g)if(h=g.value,f=Qa(h,f)?0:("function"===typeof d._calculateChangedBits?d._calculateChangedBits(h,f):1073741823)|0,0===f){if(g.children===e.children&&!G.current){b=sa(a,b,c);break a}}else for(h=b.child,null!==h&&(h.return=b);null!==h;){var m=h.dependencies;if(null!==
m){g=h.child;for(var l=m.firstContext;null!==l;){if(l.context===d&&0!==(l.observedBits&f)){1===h.tag&&(l=Ea(c,null),l.tag=Jc,Fa(h,l));h.expirationTime<c&&(h.expirationTime=c);l=h.alternate;null!==l&&l.expirationTime<c&&(l.expirationTime=c);Sg(h.return,c);m.expirationTime<c&&(m.expirationTime=c);break}l=l.next}}else g=10===h.tag?h.type===b.type?null:h.child:h.child;if(null!==g)g.return=h;else for(g=h;null!==g;){if(g===b){g=null;break}h=g.sibling;if(null!==h){h.return=g.return;g=h;break}g=g.return}h=
g}T(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,f=b.pendingProps,d=f.children,rb(b,c),e=W(e,f.unstable_observedBits),d=d(e),b.effectTag|=1,T(a,b,d,c),b.child;case 14:return e=b.type,f=aa(e,b.pendingProps),f=aa(e.type,f),oh(a,b,e,f,d,c);case 15:return ph(a,b,b.type,b.pendingProps,d,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:aa(d,e),null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),b.tag=1,N(d)?(a=!0,Bc(b)):a=!1,rb(b,c),Yg(b,d,e),pe(b,d,e,c),Ie(null,
b,d,!0,a,c);case 19:return vh(a,b,c)}throw Error(k(156,b.tag));};var bf=null,Ne=null,la=function(a,b,c,d){return new Fj(a,b,c,d)};ef.prototype.render=function(a){md(a,this._internalRoot,null,null)};ef.prototype.unmount=function(){var a=this._internalRoot,b=a.containerInfo;md(null,a,null,function(){b[Lb]=null})};var Di=function(a){if(13===a.tag){var b=Fc(ka(),150,100);Ja(a,b);df(a,b)}};var Yf=function(a){13===a.tag&&(Ja(a,3),df(a,3))};var Bi=function(a){if(13===a.tag){var b=ka();b=Va(b,a,null);Ja(a,
b);df(a,b)}};sd=function(a,b,c){switch(b){case "input":Dd(a,c);b=c.name;if("radio"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll("input[name="+JSON.stringify(""+b)+'][type="radio"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=ae(d);if(!e)throw Error(k(90));Gf(d);Dd(d,e)}}}break;case "textarea":Lf(a,c);break;case "select":b=c.value,null!=b&&hb(a,!!c.multiple,b,!1)}};(function(a,b,c,d){ee=a;eg=b;vd=c;vf=d})(Qh,function(a,b,c,d,e){var f=p;p|=4;
try{return Da(98,a.bind(null,b,c,d,e))}finally{p=f,p===H&&ha()}},function(){(p&(1|ca|ma))===H&&(uj(),xb())},function(a,b){var c=p;p|=2;try{return a(b)}finally{p=c,p===H&&ha()}});var mk={Events:[Hb,Pa,ae,pf,qd,lb,function(a){Kd(a,Ki)},sf,tf,sc,pc,xb,{current:!1}]};(function(a){var b=a.findFiberByHostInstance;return Ej(M({},a,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:da.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=Sf(a);
return null===a?null:a.stateNode},findFiberByHostInstance:function(a){return b?b(a):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:Bb,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"});I.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mk;I.createPortal=Xh;I.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternalFiber;if(void 0===
b){if("function"===typeof a.render)throw Error(k(188));throw Error(k(268,Object.keys(a)));}a=Sf(b);a=null===a?null:a.stateNode;return a};I.flushSync=function(a,b){if((p&(ca|ma))!==H)throw Error(k(187));var c=p;p|=1;try{return Da(99,a.bind(null,b))}finally{p=c,ha()}};I.hydrate=function(a,b,c){if(!bc(b))throw Error(k(200));return nd(null,a,b,!0,c)};I.render=function(a,b,c){if(!bc(b))throw Error(k(200));return nd(null,a,b,!1,c)};I.unmountComponentAtNode=function(a){if(!bc(a))throw Error(k(40));return a._reactRootContainer?
(Rh(function(){nd(null,null,a,!1,function(){a._reactRootContainer=null;a[Lb]=null})}),!0):!1};I.unstable_batchedUpdates=Qh;I.unstable_createPortal=function(a,b){return Xh(a,b,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};I.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!bc(c))throw Error(k(200));if(null==a||void 0===a._reactInternalFiber)throw Error(k(38));return nd(a,b,c,!1,d)};I.version="16.13.1"});
</script>
    <script>const e = React.createElement;

function pathToString(path) {
  if (path[0] === '/') {
    return '/' + path.slice(1).join('/');
  } else {
    return path.join('/');
  }
}

function findCommonPath(files) {
  if (!files || !files.length) {
    return [];
  }

  function isPrefix(arr, prefix) {
    if (arr.length < prefix.length) {
      return false;
    }
    for (let i = prefix.length - 1; i >= 0; --i) {
      if (arr[i] !== prefix[i]) {
        return false;
      }
    }
    return true;
  }

  let commonPath = files[0].path.slice(0, -1);
  while (commonPath.length) {
    if (files.every(file => isPrefix(file.path, commonPath))) {
      break;
    }
    commonPath.pop();
  }
  return commonPath;
}

function findFolders(files) {
  if (!files || !files.length) {
    return [];
  }

  let folders = files.filter(file => file.path.length > 1).map(file => file.path[0]);
  folders = [...new Set(folders)]; // unique
  folders.sort();

  folders = folders.map(folder => {
    let filesInFolder = files
      .filter(file => file.path[0] === folder)
      .map(file => ({
        ...file,
        path: file.path.slice(1),
        parent: [...file.parent, file.path[0]],
      }));

    const children = findFolders(filesInFolder); // recursion

    return {
      is_folder: true,
      path: [folder],
      parent: files[0].parent,
      children,
      covered: children.reduce((sum, file) => sum + file.covered, 0),
      coverable: children.reduce((sum, file) => sum + file.coverable, 0),
      prevRun: {
        covered: children.reduce((sum, file) => sum + file.prevRun.covered, 0),
        coverable: children.reduce((sum, file) => sum + file.prevRun.coverable, 0),
      }
    };
  });

  return [
    ...folders,
    ...files.filter(file => file.path.length === 1),
  ];
}

class App extends React.Component {
  constructor(...args) {
    super(...args);

    this.state = {
      current: [],
    };
  }

  componentDidMount() {
    this.updateStateFromLocation();
    window.addEventListener("hashchange", () => this.updateStateFromLocation(), false);
  }

  updateStateFromLocation() {
    if (window.location.hash.length > 1) {
      const current = window.location.hash.substr(1).split('/');
      this.setState({current});
    } else {
      this.setState({current: []});
    }
  }

  getCurrentPath() {
    let file = this.props.root;
    let path = [file];
    for (let p of this.state.current) {
      file = file.children.find(file => file.path[0] === p);
      if (!file) {
        return path;
      }
      path.push(file);
    }
    return path;
  }

  render() {
    const path = this.getCurrentPath();
    const file = path[path.length - 1];

    let w = null;
    if (file.is_folder) {
      w = e(FilesList, {
        folder: file,
        onSelectFile: this.selectFile.bind(this),
        onBack: path.length > 1 ? this.back.bind(this) : null,
      });
    } else {
      w = e(DisplayFile, {
        file,
        onBack: this.back.bind(this),
      });
    }

    return e('div', {className: 'app'}, w);
  }

  selectFile(file) {
    this.setState(({current}) => {
      return {current: [...current, file.path[0]]};
    }, () => this.updateHash());
  }

  back(file) {
    this.setState(({current}) => {
      return {current: current.slice(0, current.length - 1)};
    }, () => this.updateHash());
  }

  updateHash() {
    if (!this.state.current || !this.state.current.length) {
      window.location = '#';
    } else {
      window.location = '#' + this.state.current.join('/');
    }
  }
}

function FilesList({folder, onSelectFile, onBack}) {
  let files = folder.children;
  return e('div', {className: 'display-folder'},
    e(FileHeader, {file: folder, onBack}),
    e('table', {className: 'files-list'},
      e('thead', {className: 'files-list__head'},
        e('tr', null,
          e('th', null, "Path"),
          e('th', null, "Coverage")
        )
      ),
      e('tbody', {className: 'files-list__body'},
        files.map(file => e(File, {file, onClick: onSelectFile}))
      )
    )
  );
}

function File({file, onClick}) {
  const coverage = file.coverable ? file.covered / file.coverable * 100 : -1;
  const coverageDelta = file.prevRun &&
    (file.covered / file.coverable * 100 - file.prevRun.covered / file.prevRun.coverable * 100);

  return e('tr', {
      className: 'files-list__file'
        + (coverage >= 0 && coverage < 50 ? ' files-list__file_low': '')
        + (coverage >= 50 && coverage < 80 ? ' files-list__file_medium': '')
        + (coverage >= 80 ? ' files-list__file_high': '')
        + (file.is_folder ? ' files-list__file_folder': ''),
      onClick: () => onClick(file),
    },
    e('td', null, pathToString(file.path)),
    e('td', null,
      file.covered + ' / ' + file.coverable +
      (coverage >= 0 ? ' (' + coverage.toFixed(2) + '%)' : ''),
      e('span', {title: 'Change from the previous run'},
        (coverageDelta ? ` (${coverageDelta > 0 ? '+' : ''}${coverageDelta.toFixed(2)}%)` : ''))
    )
  );
}

function DisplayFile({file, onBack}) {
  return e('div', {className: 'display-file'},
    e(FileHeader, {file, onBack}),
    e(FileContent, {file})
  );
}

function FileHeader({file, onBack}) {
  const coverage = file.covered / file.coverable * 100;
  const coverageDelta = file.prevRun && (coverage - file.prevRun.covered / file.prevRun.coverable * 100);

  return e('div', {className: 'file-header'},
    onBack ? e('a', {className: 'file-header__back', onClick: onBack}, 'Back') : null,
    e('div', {className: 'file-header__name'}, pathToString([...file.parent, ...file.path])),
    e('div', {className: 'file-header__stat'},
      'Covered: ' + file.covered + ' of ' + file.coverable +
      (file.coverable ? ' (' + coverage.toFixed(2) + '%)' : ''),
      e('span', {title: 'Change from the previous run'},
        (coverageDelta ? ` (${coverageDelta > 0 ? '+' : ''}${coverageDelta.toFixed(2)}%)` : ''))
    )
  );
}

function FileContent({file}) {
  return e('div', {className: 'file-content'},
    file.content.split(/\r?\n/).map((line, index) => {
      const trace = file.traces.find(trace => trace.line === index + 1);
      const covered = trace && trace.stats.Line;
      const uncovered = trace && !trace.stats.Line;
      return e('pre', {
          className: 'code-line'
            + (covered ? ' code-line_covered' : '')
            + (uncovered ? ' code-line_uncovered' : ''),
          title: trace ? JSON.stringify(trace.stats, null, 2) : null,
        }, line);
    })
  );
}

(function(){
  const commonPath = findCommonPath(data.files);
  const prevFilesMap = new Map();

  previousData && previousData.files.forEach((file) => {
    const path = file.path.slice(commonPath.length).join('/');
    prevFilesMap.set(path, file);
  });

  const files = data.files.map((file) => {
    const path = file.path.slice(commonPath.length);
    const { covered = 0, coverable = 0 } = prevFilesMap.get(path.join('/')) || {};
    return {
      ...file,
      path,
      parent: commonPath,
      prevRun: { covered, coverable },
    };
  });

  const children = findFolders(files);

  const root = {
    is_folder: true,
    children,
    path: commonPath,
    parent: [],
    covered: children.reduce((sum, file) => sum + file.covered, 0),
    coverable: children.reduce((sum, file) => sum + file.coverable, 0),
    prevRun: {
      covered: children.reduce((sum, file) => sum + file.prevRun.covered, 0),
      coverable: children.reduce((sum, file) => sum + file.prevRun.coverable, 0),
    }
  };

  ReactDOM.render(e(App, {root, prevFilesMap}), document.getElementById('root'));
}());
</script>
</body>
</html>